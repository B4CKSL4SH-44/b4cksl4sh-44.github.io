/*! For license information please see main.251e7099.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var i=n(43),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,o={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},191:(e,t)=>{var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case r:case a:case o:case u:case d:case g:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case i:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===r||e===a||e===o||e===u||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===s||e.$$typeof===c||e.$$typeof===f||void 0!==e.getModuleId)}},202:(e,t)=>{var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||g}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=v.prototype=new b;x.constructor=v,f(x,y.prototype),x.isPureReactComponent=!0;var S=Array.isArray,M=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)M.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var D=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+A(l,0):o,S(a)?(r="",null!=e&&(r=e.replace(D,"$&/")+"/"),T(a,t,r,"",function(e){return e})):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(D,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",S(e))for(var c=0;c<e.length;c++){var u=o+A(s=e[c],c);l+=T(s,t,r,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,r,u=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,n){if(null==e)return e;var i=[],r=0;return T(e,i,"","",function(e){return t.call(n,e,r++)}),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var E={current:null},O={transition:null},R={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:O,ReactCurrentOwner:w};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:L,forEach:function(e,t,n){L(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return L(e,function(){t++}),t},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=a,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=P,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)M.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return E.current.useCallback(e,t)},t.useContext=function(e){return E.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return E.current.useDeferredValue(e)},t.useEffect=function(e,t){return E.current.useEffect(e,t)},t.useId=function(){return E.current.useId()},t.useImperativeHandle=function(e,t,n){return E.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.current.useMemo(e,t)},t.useReducer=function(e,t,n){return E.current.useReducer(e,t,n)},t.useRef=function(e){return E.current.useRef(e)},t.useState=function(e){return E.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.current.useTransition()},t.version="18.3.1"},219:(e,t,n)=>{var i=n(763),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(g){var r=p(n);r&&r!==g&&e(t,r,i)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),f=l(n),m=0;m<a.length;++m){var y=a[m];if(!o[y]&&(!i||!i[y])&&(!f||!f[y])&&(!s||!s[y])){var b=h(n,y);try{c(t,y,b)}catch(v){}}}}return t}},230:function(e,t,n){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(43)),l=n(43);t.default=function(e){var t=i({cardStyles:{back:{},front:{}},cardZIndex:"auto",containerStyle:{},flipDirection:"horizontal",flipSpeedBackToFront:.6,flipSpeedFrontToBack:.6,infinite:!1,isFlipped:!1},e),n=t.cardStyles,r=n.back,o=n.front,a=t.cardZIndex,c=t.containerStyle,u=t.containerClassName,d=t.flipDirection,h=t.flipSpeedFrontToBack,p=t.flipSpeedBackToFront,g=t.infinite,f=t.isFlipped,m=(0,l.useState)(f),y=m[0],b=m[1],v=(0,l.useState)(0),x=v[0],S=v[1];(0,l.useEffect)(function(){f!==y&&(b(f),S(function(e){return e+180}))},[f]);var M=(0,l.useMemo)(function(){var e="react-card-flip";return u&&(e+=" ".concat(u)),e},[u]),w=function(t){if(2!==e.children.length)throw new Error("Component ReactCardFlip requires 2 children to function");return e.children[t]},k="rotateY(".concat(g?x:f?180:0,"deg)"),I="rotateY(".concat(g?x+180:f?0:-180,"deg)"),C="rotateX(".concat(g?x:f?180:0,"deg)"),D="rotateX(".concat(g?x+180:f?0:-180,"deg)"),A={back:i({WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",height:"100%",left:"0",position:f?"relative":"absolute",top:"0",transform:"horizontal"===d?I:D,transformStyle:"preserve-3d",transition:"".concat(h,"s"),width:"100%",zIndex:f?"2":"1"},r),container:{zIndex:"".concat(a)},flipper:{height:"100%",perspective:"1000px",position:"relative",width:"100%"},front:i({WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden",height:"100%",left:"0",position:f?"absolute":"relative",top:"0",transform:"horizontal"===d?k:C,transformStyle:"preserve-3d",transition:"".concat(p,"s"),width:"100%",zIndex:"2"},o)};return s.createElement("div",{className:M,style:i(i({},A.container),c)},s.createElement("div",{className:"react-card-flipper",style:A.flipper},s.createElement("div",{className:"react-card-front",style:A.front},w(0)),s.createElement("div",{className:"react-card-back",style:A.back},w(1))))}},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[s]=n,i=s);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,g=!1,f=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function S(e){if(m=!1,x(e),!f)if(null!==i(c))f=!0,O(M);else{var t=i(u);null!==t&&R(S,t.startTime-e)}}function M(e,n){f=!1,m&&(m=!1,b(C),C=-1),g=!0;var o=p;try{for(x(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===i(c)&&r(c),x(n)}else r(c);h=i(c)}if(null!==h)var l=!0;else{var d=i(u);null!==d&&R(S,d.startTime-n),l=!1}return l}finally{h=null,p=o,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,I=null,C=-1,D=5,A=-1;function T(){return!(t.unstable_now()-A<D)}function L(){if(null!==I){var e=t.unstable_now();A=e;var n=!0;try{n=I(!0,e)}finally{n?w():(k=!1,I=null)}}else k=!1}if("function"===typeof v)w=function(){v(L)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,E=N.port2;N.port1.onmessage=L,w=function(){E.postMessage(null)}}else w=function(){y(L,0)};function O(e){I=e,k||(k=!0,w())}function R(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||g||(f=!0,O(M))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(m?(b(C),C=-1):m=!0,R(S,o-a))):(e.sortIndex=s,n(c,e),f||g||(f=!0,O(M))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},330:(e,t,n)=>{var i=n(43);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useState,a=i.useEffect,s=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(Ym){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),r=i[0].inst,u=i[1];return s(function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})},[e,n,t]),a(function(){return c(r)&&u({inst:r}),e(function(){c(r)&&u({inst:r})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:u},364:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case f:case l:return e;default:return t}}case r:return t}}}function M(e){return S(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=m,t.Memo=f,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return M(e)||S(e)===u},t.isConcurrentMode=M,t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===h},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===m},t.isMemo=function(e){return S(e)===f},t.isPortal=function(e){return S(e)===r},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===v||e.$$typeof===x||e.$$typeof===y)},t.typeOf=S},391:(e,t,n)=>{var i=n(950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},461:(e,t,n)=>{e.exports=n(330)},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var i=n(43),r=n(853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function f(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,i){var r=m.hasOwnProperty(t)?m[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!d.call(g,e)||!d.call(p,e)&&(h.test(e)?g[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,b);m[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,b);m[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,b);m[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),M=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),D=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var j,z=Object.assign;function _(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var B=!1;function F(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_(e):""}function $(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case M:return"Portal";case I:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case D:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function U(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=H(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Q(e,t){q(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=fe(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,we=null,ke=null;function Ie(e){if(e=xr(e)){if("function"!==typeof Me)throw Error(o(280));var t=e.stateNode;t&&(t=Mr(t),Me(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function De(){if(we){var e=we,t=ke;if(ke=we=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ae(e,t){return e(t)}function Te(){}var Le=!1;function Ne(e,t,n){if(Le)return e(t,n);Le=!0;try{return Ae(e,t,n)}finally{Le=!1,(null!==we||null!==ke)&&(Te(),De())}}function Ee(e,t){var n=e.stateNode;if(null===n)return null;var i=Mr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Oe=!1}function Pe(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,ze=null,_e=!1,Be=null,Fe={onError:function(e){je=!0,ze=e}};function $e(e,t,n,i,r,o,a,s,l){je=!1,ze=null,Pe.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return We(r),e;if(a===i)return We(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ue(e):null}function Ue(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ue(e);if(null!==t)return t;e=e.sibling}return null}var Ye=r.unstable_scheduleCallback,Ke=r.unstable_cancelCallback,Ze=r.unstable_shouldYield,Xe=r.unstable_requestPaint,qe=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,Je=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=dt(s):0!==(o&=a)&&(i=dt(o))}else 0!==(a=n&~r)?i=dt(a):0!==o&&(i=dt(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var vt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,Mt,wt,kt,It,Ct=!1,Dt=[],At=null,Tt=null,Lt=null,Nt=new Map,Et=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function jt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=xr(t))&&Mt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function zt(e){var t=vr(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void It(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xr(n))&&Mt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);xe=i,n.target.dispatchEvent(i),xe=null,t.shift()}return!0}function Bt(e,t,n){_t(e)&&n.delete(t)}function Ft(){Ct=!1,null!==At&&_t(At)&&(At=null),null!==Tt&&_t(Tt)&&(Tt=null),null!==Lt&&_t(Lt)&&(Lt=null),Nt.forEach(Bt),Et.forEach(Bt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return $t(t,e)}if(0<Dt.length){$t(Dt[0],e);for(var n=1;n<Dt.length;n++){var i=Dt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==At&&$t(At,e),null!==Tt&&$t(Tt,e),null!==Lt&&$t(Lt,e),Nt.forEach(t),Et.forEach(t),n=0;n<Ot.length;n++)(i=Ot[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)zt(n),null===n.blockedOn&&Ot.shift()}var Gt=x.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,i){var r=vt,o=Gt.transition;Gt.transition=null;try{vt=1,Yt(e,t,n,i)}finally{vt=r,Gt.transition=o}}function Ut(e,t,n,i){var r=vt,o=Gt.transition;Gt.transition=null;try{vt=4,Yt(e,t,n,i)}finally{vt=r,Gt.transition=o}}function Yt(e,t,n,i){if(Wt){var r=Zt(e,t,n,i);if(null===r)Hi(e,t,i,Kt,n),Pt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return At=jt(At,e,t,n,i,r),!0;case"dragenter":return Tt=jt(Tt,e,t,n,i,r),!0;case"mouseover":return Lt=jt(Lt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Nt.set(o,jt(Nt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Et.set(o,jt(Et.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Pt(e,i),4&t&&-1<Rt.indexOf(e)){for(;null!==r;){var o=xr(r);if(null!==o&&St(o),null===(o=Zt(e,t,n,i))&&Hi(e,t,i,Kt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else Hi(e,t,i,null,n)}}var Kt=null;function Zt(e,t,n,i){if(Kt=null,null!==(e=vr(e=Se(i))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var qt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,i=n.length,r="value"in qt?qt.value:qt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Jt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=z({},cn,{view:0,detail:0}),hn=on(dn),pn=z({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),gn=on(pn),fn=on(z({},pn,{dataTransfer:0})),mn=on(z({},dn,{relatedTarget:0})),yn=on(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(bn),xn=on(z({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function In(){return kn}var Cn=z({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=on(Cn),An=on(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(z({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Ln=on(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),En=on(Nn),On=[9,13,27,32],Rn=u&&"CompositionEvent"in window,Pn=null;u&&"documentMode"in document&&(Pn=document.documentMode);var jn=u&&"TextEvent"in window&&!Pn,zn=u&&(!Rn||Pn&&8<Pn&&11>=Pn),_n=String.fromCharCode(32),Bn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Hn(e,t,n,i){Ce(i),0<(t=Yi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Un=null,Yn=null;function Kn(e){Bi(e,0)}function Zn(e){if(Y(Sr(e)))return e}function Xn(e,t){if("change"===e)return t}var qn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Qn=Jn}else Qn=!1;qn=Qn&&(!document.documentMode||9<document.documentMode)}function ti(){Un&&(Un.detachEvent("onpropertychange",ni),Yn=Un=null)}function ni(e){if("value"===e.propertyName&&Zn(Yn)){var t=[];Hn(t,Yn,e,Se(e)),Ne(Kn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Yn=n,(Un=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Yn)}function oi(e,t){if("click"===e)return Zn(t)}function ai(e,t){if("input"===e||"change"===e)return Zn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!d.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function di(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?di(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&di(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ui(n,o);var a=ui(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,yi=null,bi=null,vi=null,xi=!1;function Si(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xi||null==yi||yi!==K(i)||("selectionStart"in(i=yi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=Yi(bi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=yi)))}function Mi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},ki={},Ii={};function Ci(e){if(ki[e])return ki[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ii)return ki[e]=n[t];return e}u&&(Ii=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Di=Ci("animationend"),Ai=Ci("animationiteration"),Ti=Ci("animationstart"),Li=Ci("transitionend"),Ni=new Map,Ei="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(e,t){Ni.set(e,t),l(t,[e])}for(var Ri=0;Ri<Ei.length;Ri++){var Pi=Ei[Ri];Oi(Pi.toLowerCase(),"on"+(Pi[0].toUpperCase()+Pi.slice(1)))}Oi(Di,"onAnimationEnd"),Oi(Ai,"onAnimationIteration"),Oi(Ti,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Li,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zi=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function _i(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,c){if($e.apply(this,arguments),je){if(!je)throw Error(o(198));var u=ze;je=!1,ze=null,_e||(_e=!0,Be=u)}}(i,t,void 0,e),e.currentTarget=null}function Bi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;_i(r,s,c),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;_i(r,s,c),o=l}}}if(_e)throw e=Be,_e=!1,Be=null,e}function Fi(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(Wi(t,e,2,!1),n.add(i))}function $i(e,t,n){var i=0;t&&(i|=4),Wi(n,e,i,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Vi]){e[Vi]=!0,a.forEach(function(t){"selectionchange"!==t&&(zi.has(t)||$i(t,!1,e),$i(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,$i("selectionchange",!1,t))}}function Wi(e,t,n,i){switch(Xt(t)){case 1:var r=Ht;break;case 4:r=Ut;break;default:r=Yt}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=vr(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}Ne(function(){var i=o,r=Se(n),a=[];e:{var s=Ni.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Dn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Di:case Ai:case Ti:l=yn;break;case Li:l=Ln;break;case"scroll":l=hn;break;case"wheel":l=En;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,g=i;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Ee(g,h))&&u.push(Ui(g,f,p)))),d)break;g=g.return}0<u.length&&(s=new l(s,c,null,n,r),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[fr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=gn,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,f="onPointerLeave",h="onPointerEnter",g="pointer"),d=null==l?s:Sr(l),p=null==c?s:Sr(c),(s=new u(f,g+"leave",l,n,r)).target=d,s.relatedTarget=p,f=null,vr(r)===i&&((u=new u(h,g+"enter",c,n,r)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,g=0,p=u=l;p;p=Ki(p))g++;for(p=0,f=h;f;f=Ki(f))p++;for(;0<g-p;)u=Ki(u),g--;for(;0<p-g;)h=Ki(h),p--;for(;g--;){if(u===h||null!==h&&u===h.alternate)break e;u=Ki(u),h=Ki(h)}u=null}else u=null;null!==l&&Zi(a,s,l,u,!1),null!==c&&null!==d&&Zi(a,d,c,u,!0)}if("select"===(l=(s=i?Sr(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Xn;else if(Wn(s))if(qn)m=ai;else{m=ri;var y=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=oi);switch(m&&(m=m(e,i))?Hn(a,m,n,r):(y&&y(e,s,i),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=i?Sr(i):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(yi=y,bi=i,vi=null);break;case"focusout":vi=bi=yi=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,Si(a,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":Si(a,n,r)}var b;if(Rn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Vn?Fn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(zn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Vn&&(b=en()):(Qt="value"in(qt=r)?qt.value:qt.textContent,Vn=!0)),0<(y=Yi(i,v)).length&&(v=new xn(v,e,null,n,r),a.push({event:v,listeners:y}),b?v.data=b:null!==(b=$n(n))&&(v.data=b))),(b=jn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Bn=!0,_n);case"textInput":return(e=t.data)===_n&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&Fn(e,t)?(e=en(),Jt=Qt=qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Yi(i,"onBeforeInput")).length&&(r=new xn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=b))}Bi(a,t)})}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Ee(e,n))&&i.unshift(Ui(e,o,r)),null!=(o=Ee(e,t))&&i.push(Ui(e,o,r))),e=e.return}return i}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==c&&(s=c,r?null!=(l=Ee(n,o))&&a.unshift(Ui(n,l,s)):r||null!=(l=Ee(n,o))&&a.push(Ui(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xi=/\r\n?/g,qi=/\u0000|\uFFFD/g;function Qi(e){return("string"===typeof e?e:""+e).replace(Xi,"\n").replace(qi,"")}function Ji(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(o(425))}function er(){}var tr=null,nr=null;function ir(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rr="function"===typeof setTimeout?setTimeout:void 0,or="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(lr)}:rr;function lr(e){setTimeout(function(){throw e})}function cr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Vt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Vt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),pr="__reactFiber$"+hr,gr="__reactProps$"+hr,fr="__reactContainer$"+hr,mr="__reactEvents$"+hr,yr="__reactListeners$"+hr,br="__reactHandles$"+hr;function vr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[pr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function xr(e){return!(e=e[pr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Sr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Mr(e){return e[gr]||null}var wr=[],kr=-1;function Ir(e){return{current:e}}function Cr(e){0>kr||(e.current=wr[kr],wr[kr]=null,kr--)}function Dr(e,t){kr++,wr[kr]=e.current,e.current=t}var Ar={},Tr=Ir(Ar),Lr=Ir(!1),Nr=Ar;function Er(e,t){var n=e.type.contextTypes;if(!n)return Ar;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Or(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rr(){Cr(Lr),Cr(Tr)}function Pr(e,t,n){if(Tr.current!==Ar)throw Error(o(168));Dr(Tr,t),Dr(Lr,n)}function jr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,G(e)||"Unknown",r));return z({},n,i)}function zr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ar,Nr=Tr.current,Dr(Tr,e),Dr(Lr,Lr.current),!0}function _r(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=jr(e,t,Nr),i.__reactInternalMemoizedMergedChildContext=e,Cr(Lr),Cr(Tr),Dr(Tr,e)):Cr(Lr),Dr(Lr,n)}var Br=null,Fr=!1,$r=!1;function Vr(e){null===Br?Br=[e]:Br.push(e)}function Gr(){if(!$r&&null!==Br){$r=!0;var e=0,t=vt;try{var n=Br;for(vt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Br=null,Fr=!1}catch(r){throw null!==Br&&(Br=Br.slice(e+1)),Ye(Je,Gr),r}finally{vt=t,$r=!1}}return null}var Wr=[],Hr=0,Ur=null,Yr=0,Kr=[],Zr=0,Xr=null,qr=1,Qr="";function Jr(e,t){Wr[Hr++]=Yr,Wr[Hr++]=Ur,Ur=e,Yr=t}function eo(e,t,n){Kr[Zr++]=qr,Kr[Zr++]=Qr,Kr[Zr++]=Xr,Xr=e;var i=qr;e=Qr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,qr=1<<32-at(t)+r|n<<r|i,Qr=o+e}else qr=1<<o|n<<r|i,Qr=e}function to(e){null!==e.return&&(Jr(e,1),eo(e,1,0))}function no(e){for(;e===Ur;)Ur=Wr[--Hr],Wr[Hr]=null,Yr=Wr[--Hr],Wr[Hr]=null;for(;e===Xr;)Xr=Kr[--Zr],Kr[Zr]=null,Qr=Kr[--Zr],Kr[Zr]=null,qr=Kr[--Zr],Kr[Zr]=null}var io=null,ro=null,oo=!1,ao=null;function so(e,t){var n=Ec(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,io=e,ro=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,io=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xr?{id:qr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ec(18,null,null,0)).stateNode=t,n.return=e,e.child=n,io=e,ro=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(oo){var t=ro;if(t){var n=t;if(!lo(e,t)){if(co(e))throw Error(o(418));t=ur(n.nextSibling);var i=io;t&&lo(e,t)?so(i,n):(e.flags=-4097&e.flags|2,oo=!1,io=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,oo=!1,io=e}}}function ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;io=e}function po(e){if(e!==io)return!1;if(!oo)return ho(e),oo=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ir(e.type,e.memoizedProps)),t&&(t=ro)){if(co(e))throw go(),Error(o(418));for(;t;)so(e,t),t=ur(t.nextSibling)}if(ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=io?ur(e.stateNode.nextSibling):null;return!0}function go(){for(var e=ro;e;)e=ur(e.nextSibling)}function fo(){ro=io=null,oo=!1}function mo(e){null===ao?ao=[e]:ao.push(e)}var yo=x.ReactCurrentBatchConfig;function bo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xo(e){return(0,e._init)(e._payload)}function So(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=_c(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===w?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===E&&xo(o)===t.type)?((i=r(t,n.props)).ref=bo(e,t,n),i.return=e,i):((i=Pc(n.type,n.key,n.props,null,e.mode,i)).ref=bo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=jc(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=bo(e,null,t),n.return=e,n;case M:return(t=Bc(t,e.mode,n)).return=e,t;case E:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=jc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===r?c(e,t,n,i):null;case M:return n.key===r?u(e,t,n,i):null;case E:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||P(n))return null!==r?null:d(e,t,n,i,null);vo(e,n)}return null}function g(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case S:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case E:return g(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||P(i))return d(t,e=e.get(n)||null,i,r,null);vo(t,i)}return null}function f(r,o,s,l){for(var c=null,u=null,d=o,f=o=0,m=null;null!==d&&f<s.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var y=p(r,d,s[f],l);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(r,d),o=a(y,o,f),null===u?c=y:u.sibling=y,u=y,d=m}if(f===s.length)return n(r,d),oo&&Jr(r,f),c;if(null===d){for(;f<s.length;f++)null!==(d=h(r,s[f],l))&&(o=a(d,o,f),null===u?c=d:u.sibling=d,u=d);return oo&&Jr(r,f),c}for(d=i(r,d);f<s.length;f++)null!==(m=g(d,r,f,s[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),o=a(m,o,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(r,e)}),oo&&Jr(r,f),c}function m(r,s,l,c){var u=P(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,f=s,m=s=0,y=null,b=l.next();null!==f&&!b.done;m++,b=l.next()){f.index>m?(y=f,f=null):y=f.sibling;var v=p(r,f,b.value,c);if(null===v){null===f&&(f=y);break}e&&f&&null===v.alternate&&t(r,f),s=a(v,s,m),null===d?u=v:d.sibling=v,d=v,f=y}if(b.done)return n(r,f),oo&&Jr(r,m),u;if(null===f){for(;!b.done;m++,b=l.next())null!==(b=h(r,b.value,c))&&(s=a(b,s,m),null===d?u=b:d.sibling=b,d=b);return oo&&Jr(r,m),u}for(f=i(r,f);!b.done;m++,b=l.next())null!==(b=g(f,r,m,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?m:b.key),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b);return e&&f.forEach(function(e){return t(r,e)}),oo&&Jr(r,m),u}return function e(i,o,a,l){if("object"===typeof a&&null!==a&&a.type===w&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===w){if(7===u.tag){n(i,u.sibling),(o=r(u,a.props.children)).return=i,i=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===E&&xo(c)===u.type){n(i,u.sibling),(o=r(u,a.props)).ref=bo(i,u,a),o.return=i,i=o;break e}n(i,u);break}t(i,u),u=u.sibling}a.type===w?((o=jc(a.props.children,i.mode,l,a.key)).return=i,i=o):((l=Pc(a.type,a.key,a.props,null,i.mode,l)).ref=bo(i,o,a),l.return=i,i=l)}return s(i);case M:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Bc(a,i.mode,l)).return=i,i=o}return s(i);case E:return e(i,o,(u=a._init)(a._payload),l)}if(te(a))return f(i,o,a,l);if(P(a))return m(i,o,a,l);vo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=_c(a,i.mode,l)).return=i,i=o),s(i)):n(i,o)}}var Mo=So(!0),wo=So(!1),ko=Ir(null),Io=null,Co=null,Do=null;function Ao(){Do=Co=Io=null}function To(e){var t=ko.current;Cr(ko),e._currentValue=t}function Lo(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function No(e,t){Io=e,Do=Co=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Eo(e){var t=e._currentValue;if(Do!==e)if(e={context:e,memoizedValue:t,next:null},null===Co){if(null===Io)throw Error(o(308));Co=e,Io.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Oo=null;function Ro(e){null===Oo?Oo=[e]:Oo.push(e)}function Po(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Ro(t)):(n.next=r.next,r.next=n),t.interleaved=n,jo(e,i)}function jo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var zo=!1;function _o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $o(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Tl)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,jo(e,n)}return null===(r=i.interleaved)?(t.next=t,Ro(i)):(t.next=r.next,r.next=t),i.interleaved=t,jo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Go(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,i){var r=e.updateQueue;zo=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((i&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,f=s;switch(h=t,p=n,f.tag){case 1:if("function"===typeof(g=f.payload)){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=f.payload)?g.call(p,d,h):g)||void 0===h)break e;d=z({},d,h);break e;case 2:zo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(h=s).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Uo={},Yo=Ir(Uo),Ko=Ir(Uo),Zo=Ir(Uo);function Xo(e){if(e===Uo)throw Error(o(174));return e}function qo(e,t){switch(Dr(Zo,t),Dr(Ko,e),Dr(Yo,Uo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cr(Yo),Dr(Yo,t)}function Qo(){Cr(Yo),Cr(Ko),Cr(Zo)}function Jo(e){Xo(Zo.current);var t=Xo(Yo.current),n=le(t,e.type);t!==n&&(Dr(Ko,e),Dr(Yo,n))}function ea(e){Ko.current===e&&(Cr(Yo),Cr(Ko))}var ta=Ir(0);function na(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ia=[];function ra(){for(var e=0;e<ia.length;e++)ia[e]._workInProgressVersionPrimary=null;ia.length=0}var oa=x.ReactCurrentDispatcher,aa=x.ReactCurrentBatchConfig,sa=0,la=null,ca=null,ua=null,da=!1,ha=!1,pa=0,ga=0;function fa(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function ya(e,t,n,i,r,a){if(sa=a,la=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?es:ts,e=n(i,r),ha){a=0;do{if(ha=!1,pa=0,25<=a)throw Error(o(301));a+=1,ua=ca=null,t.updateQueue=null,oa.current=ns,e=n(i,r)}while(ha)}if(oa.current=Ja,t=null!==ca&&null!==ca.next,sa=0,ua=ca=la=null,da=!1,t)throw Error(o(300));return e}function ba(){var e=0!==pa;return pa=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?la.memoizedState=ua=e:ua=ua.next=e,ua}function xa(){if(null===ca){var e=la.alternate;e=null!==e?e.memoizedState:null}else e=ca.next;var t=null===ua?la.memoizedState:ua.next;if(null!==t)ua=t,ca=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ca=e).memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},null===ua?la.memoizedState=ua=e:ua=ua.next=e}return ua}function Sa(e,t){return"function"===typeof t?t(e):t}function Ma(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=ca,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((sa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=i):c=c.next=h,la.lanes|=d,zl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=i:c.next=l,si(i,t.memoizedState)||(xs=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,la.lanes|=a,zl|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=xa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function ka(){}function Ia(e,t){var n=la,i=xa(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,xs=!0),i=i.queue,za(Aa.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Ea(9,Da.bind(null,n,i,r,t),void 0,null),null===Ll)throw Error(o(349));0!==(30&sa)||Ca(n,t,r)}return r}function Ca(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,i){t.value=n,t.getSnapshot=i,Ta(t)&&La(e)}function Aa(e,t,n){return n(function(){Ta(t)&&La(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function La(e){var t=jo(e,1);null!==t&&ic(t,e,1,-1)}function Na(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=Za.bind(null,la,e),[t.memoizedState,e]}function Ea(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=la.updateQueue)?(t={lastEffect:null,stores:null},la.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Oa(){return xa().memoizedState}function Ra(e,t,n,i){var r=va();la.flags|=e,r.memoizedState=Ea(1|t,n,void 0,void 0===i?null:i)}function Pa(e,t,n,i){var r=xa();i=void 0===i?null:i;var o=void 0;if(null!==ca){var a=ca.memoizedState;if(o=a.destroy,null!==i&&ma(i,a.deps))return void(r.memoizedState=Ea(t,n,o,i))}la.flags|=e,r.memoizedState=Ea(1|t,n,o,i)}function ja(e,t){return Ra(8390656,8,e,t)}function za(e,t){return Pa(2048,8,e,t)}function _a(e,t){return Pa(4,2,e,t)}function Ba(e,t){return Pa(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Fa.bind(null,t,e),n)}function Va(){}function Ga(e,t){var n=xa();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ma(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=xa();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ma(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(si(n,t)||(n=ft(),la.lanes|=n,zl|=n,e.baseState=!0),t)}function Ua(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var i=aa.transition;aa.transition={};try{e(!1),t()}finally{vt=n,aa.transition=i}}function Ya(){return xa().memoizedState}function Ka(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))qa(t,n);else if(null!==(n=Po(e,t,n,i))){ic(n,e,i,tc()),Qa(n,t,i)}}function Za(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))qa(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a)){var l=t.interleaved;return null===l?(r.next=r,Ro(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Po(e,t,r,i))&&(ic(n,e,i,r=tc()),Qa(n,t,i))}}function Xa(e){var t=e.alternate;return e===la||null!==t&&t===la}function qa(e,t){ha=da=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qa(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Ja={readContext:Eo,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},es={readContext:Eo,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Eo,useEffect:ja,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=va();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Ka.bind(null,la,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Na,useDebugValue:Va,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=Ua.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=la,r=va();if(oo){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ll)throw Error(o(349));0!==(30&sa)||Ca(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,ja(Aa.bind(null,i,a,e),[e]),i.flags|=2048,Ea(9,Da.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Ll.identifierPrefix;if(oo){var n=Qr;t=":"+t+"R"+(n=(qr&~(1<<32-at(qr)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ga++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ts={readContext:Eo,useCallback:Ga,useContext:Eo,useEffect:za,useImperativeHandle:$a,useInsertionEffect:_a,useLayoutEffect:Ba,useMemo:Wa,useReducer:Ma,useRef:Oa,useState:function(){return Ma(Sa)},useDebugValue:Va,useDeferredValue:function(e){return Ha(xa(),ca.memoizedState,e)},useTransition:function(){return[Ma(Sa)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ia,useId:Ya,unstable_isNewReconciler:!1},ns={readContext:Eo,useCallback:Ga,useContext:Eo,useEffect:za,useImperativeHandle:$a,useInsertionEffect:_a,useLayoutEffect:Ba,useMemo:Wa,useReducer:wa,useRef:Oa,useState:function(){return wa(Sa)},useDebugValue:Va,useDeferredValue:function(e){var t=xa();return null===ca?t.memoizedState=e:Ha(t,ca.memoizedState,e)},useTransition:function(){return[wa(Sa)[0],xa().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ia,useId:Ya,unstable_isNewReconciler:!1};function is(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),o=Fo(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=$o(e,o,r))&&(ic(t,e,r,i),Vo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),o=Fo(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=$o(e,o,r))&&(ic(t,e,r,i),Vo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=Fo(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=$o(e,r,i))&&(ic(t,e,i,n),Vo(t,e,i))}};function as(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function ss(e,t,n){var i=!1,r=Ar,o=t.contextType;return"object"===typeof o&&null!==o?o=Eo(o):(r=Or(t)?Nr:Tr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Er(e,r):Ar),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function ls(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function cs(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},_o(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Eo(o):(o=Or(t)?Nr:Tr.current,r.context=Er(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&os.enqueueReplaceState(r,r.state,null),Wo(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",i=t;do{n+=$(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ps="function"===typeof WeakMap?WeakMap:Map;function gs(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Hl||(Hl=!0,Ul=i),hs(0,t)},n}function fs(e,t,n){(n=Fo(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof i&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ps;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,$o(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vs=x.ReactCurrentOwner,xs=!1;function Ss(e,t,n,i){t.child=null===e?wo(t,null,n,i):Mo(t,e.child,n,i)}function Ms(e,t,n,i,r){n=n.render;var o=t.ref;return No(t,r),i=ya(e,t,n,i,o,r),n=ba(),null===e||xs?(oo&&n&&to(t),t.flags|=1,Ss(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hs(e,t,r))}function ws(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Hs(e,t,r)}return t.flags|=1,(e=Rc(o,i)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(xs=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,Hs(e,t,r);0!==(131072&e.flags)&&(xs=!0)}}return Ds(e,t,n,i,r)}function Is(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dr(Rl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Dr(Rl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Dr(Rl,Ol),Ol|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Dr(Rl,Ol),Ol|=i;return Ss(e,t,r,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ds(e,t,n,i,r){var o=Or(n)?Nr:Tr.current;return o=Er(t,o),No(t,r),n=ya(e,t,n,i,o,r),i=ba(),null===e||xs?(oo&&i&&to(t),t.flags|=1,Ss(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Hs(e,t,r))}function As(e,t,n,i,r){if(Or(n)){var o=!0;zr(t)}else o=!1;if(No(t,r),null===t.stateNode)Ws(e,t),ss(t,n,i),cs(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Eo(c):c=Er(t,c=Or(n)?Nr:Tr.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==c)&&ls(t,a,i,c),zo=!1;var h=t.memoizedState;a.state=h,Wo(t,i,a,r),l=t.memoizedState,s!==i||h!==l||Lr.current||zo?("function"===typeof u&&(rs(t,n,u,i),l=t.memoizedState),(s=zo||as(t,n,s,i,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Bo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:is(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Eo(l):l=Er(t,l=Or(n)?Nr:Tr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ls(t,a,i,l),zo=!1,h=t.memoizedState,a.state=h,Wo(t,i,a,r);var g=t.memoizedState;s!==d||h!==g||Lr.current||zo?("function"===typeof p&&(rs(t,n,p,i),g=t.memoizedState),(c=zo||as(t,n,c,i,h,g,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,g,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,g,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),a.props=i,a.state=g,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ts(e,t,n,i,o,r)}function Ts(e,t,n,i,r,o){Cs(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&_r(t,n,!1),Hs(e,t,o);i=t.stateNode,vs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Mo(t,e.child,null,o),t.child=Mo(t,null,s,o)):Ss(e,t,s,o),t.memoizedState=i.state,r&&_r(t,n,!0),t.child}function Ls(e){var t=e.stateNode;t.pendingContext?Pr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pr(0,t.context,!1),qo(e,t.containerInfo)}function Ns(e,t,n,i,r){return fo(),mo(r),t.flags|=256,Ss(e,t,n,i),t.child}var Es,Os,Rs,Ps,js={dehydrated:null,treeContext:null,retryLane:0};function zs(e){return{baseLanes:e,cachePool:null,transitions:null}}function _s(e,t,n){var i,r=t.pendingProps,a=ta.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Dr(ta,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=zc(l,r,0,null),e=jc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zs(n),t.memoizedState=js,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,i=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=zc({mode:"visible",children:i.children},r,0,null),(a=jc(a,r,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&Mo(t,e.child,null,s),t.child.memoizedState=zs(s),t.memoizedState=js,a);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Fs(e,t,s,i=ds(a=Error(o(419)),i,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(i=Ll)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,jo(e,r),ic(i,e,r,-1))}return mc(),Fs(e,t,s,i=ds(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ac.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,ro=ur(r.nextSibling),io=t,oo=!0,ao=null,null!==e&&(Kr[Zr++]=qr,Kr[Zr++]=Qr,Kr[Zr++]=Xr,qr=e.id,Qr=e.overflow,Xr=t),t=Bs(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,a,n);if(s){s=r.fallback,l=t.mode,i=(a=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=Rc(i,s):(s=jc(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?zs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=js,r}return e=(s=e.child).sibling,r=Rc(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bs(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,i){return null!==i&&mo(i),Mo(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Lo(e.return,t,n)}function Vs(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Gs(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ss(e,t,i.children,n),0!==(2&(i=ta.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n,t);else if(19===e.tag)$s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Dr(ta,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===na(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vs(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===na(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Us(e,t){if(!oo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ks(e,t,n){var i=t.pendingProps;switch(no(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Or(t.type)&&Rr(),Ys(t),null;case 3:return i=t.stateNode,Qo(),Cr(Lr),Cr(Tr),ra(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ao&&(sc(ao),ao=null))),Os(e,t),Ys(t),null;case 5:ea(t);var r=Xo(Zo.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Ys(t),null}if(e=Xo(Yo.current),po(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[pr]=t,i[gr]=a,e=0!==(1&t.mode),n){case"dialog":Fi("cancel",i),Fi("close",i);break;case"iframe":case"object":case"embed":Fi("load",i);break;case"video":case"audio":for(r=0;r<ji.length;r++)Fi(ji[r],i);break;case"source":Fi("error",i);break;case"img":case"image":case"link":Fi("error",i),Fi("load",i);break;case"details":Fi("toggle",i);break;case"input":X(i,a),Fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Fi("invalid",i);break;case"textarea":re(i,a),Fi("invalid",i)}for(var l in be(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fi("scroll",i)}switch(n){case"input":U(i),J(i,a,!0);break;case"textarea":U(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=er)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[pr]=t,e[gr]=i,Es(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,i),n){case"dialog":Fi("cancel",e),Fi("close",e),r=i;break;case"iframe":case"object":case"embed":Fi("load",e),r=i;break;case"video":case"audio":for(r=0;r<ji.length;r++)Fi(ji[r],e);r=i;break;case"source":Fi("error",e),r=i;break;case"img":case"image":case"link":Fi("error",e),Fi("load",e),r=i;break;case"details":Fi("toggle",e),r=i;break;case"input":X(e,i),r=Z(e,i),Fi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=z({},i,{value:void 0}),Fi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Fi("invalid",e)}for(a in be(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fi("scroll",e):null!=u&&v(e,a,u,l))}switch(n){case"input":U(e),J(e,i,!1);break;case"textarea":U(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=er)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=Xo(Zo.current),Xo(Yo.current),po(t)){if(i=t.stateNode,n=t.memoizedProps,i[pr]=t,(a=i.nodeValue!==n)&&null!==(e=io))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[pr]=t,t.stateNode=i}return Ys(t),null;case 13:if(Cr(ta),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(oo&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))go(),fo(),t.flags|=98560,a=!1;else if(a=po(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[pr]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),a=!1}else null!==ao&&(sc(ao),ao=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ta.current)?0===Pl&&(Pl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return Qo(),Os(e,t),null===e&&Gi(t.stateNode.containerInfo),Ys(t),null;case 10:return To(t.type._context),Ys(t),null;case 19:if(Cr(ta),null===(a=t.memoizedState))return Ys(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)Us(a,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=na(e))){for(t.flags|=128,Us(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Dr(ta,1&ta.current|2),t.child}e=e.sibling}null!==a.tail&&qe()>Gl&&(t.flags|=128,i=!0,Us(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=na(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Us(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!oo)return Ys(t),null}else 2*qe()-a.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,i=!0,Us(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qe(),t.sibling=null,n=ta.current,Dr(ta,i?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Zs(e,t){switch(no(t),t.tag){case 1:return Or(t.type)&&Rr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qo(),Cr(Lr),Cr(Tr),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ea(t),null;case 13:if(Cr(ta),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cr(ta),null;case 4:return Qo(),null;case 10:return To(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Es=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(){},Rs=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Xo(Yo.current);var o,a=null;switch(n){case"input":r=Z(e,r),i=Z(e,i),a=[];break;case"select":r=z({},r,{value:void 0}),i=z({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=er)}for(u in be(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fi("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ps=function(e,t,n,i){n!==i&&(t.flags|=4)};var Xs=!1,qs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Ic(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Ic(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&tl(t,n,o)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[gr],delete t[mr],delete t[yr],delete t[br])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=er));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)gl(e,t,n),n=n.sibling}function gl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:qs||el(n,t);case 6:var i=dl,r=hl;dl=null,pl(e,t,n),hl=r,null!==(dl=i)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?cr(e.parentNode,n):1===e.nodeType&&cr(e,n),Vt(e)):cr(dl,n.stateNode));break;case 4:i=dl,r=hl,dl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),dl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),r=r.next}while(r!==i)}pl(e,t,n);break;case 1:if(!qs&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){Ic(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(qs=(i=qs)||null!==n.memoizedState,pl(e,t,n),qs=i):pl(e,t,n);break;default:pl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach(function(t){var i=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));gl(a,s,r),dl=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Ic(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(m){Ic(e,e.return,m)}try{il(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ml(t,e),bl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),bl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(m){Ic(e,e.return,m)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&q(r,a),ve(l,s);var u=ve(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?me(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):v(r,d,h,u)}switch(l){case"input":Q(r,a);break;case"textarea":oe(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var g=a.value;null!=g?ne(r,!!a.multiple,g,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[gr]=a}catch(m){Ic(e,e.return,m)}}break;case 6:if(ml(t,e),bl(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(m){Ic(e,e.return,m)}}break;case 3:if(ml(t,e),bl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=qe())),4&i&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(qs=(u=qs)||d,ml(t,e),qs=u):ml(t,e),bl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(g=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:el(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){i=p,n=p.return;try{t=i,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(m){Ic(i,n,m)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Ml(h);continue}}null!==g?(g.return=p,Js=g):Ml(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",s))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),bl(e),4&i&&fl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var i=0!==(1&e.mode);null!==Js;){var r=Js,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Xs;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||qs;s=Xs;var c=qs;if(Xs=a,(qs=l)&&!c)for(Js=r;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?wl(r):null!==l?(l.return=a,Js=l):wl(r);for(;null!==o;)Js=o,xl(o,t,n),o=o.sibling;Js=r,Xs=s,qs=c}Sl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Js=o):Sl(e)}}function Sl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qs||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!qs)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:is(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}qs||512&t.flags&&ol(t)}catch(gi){Ic(t,t.return,gi)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Ml(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ic(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Ic(t,r,l)}}var o=t.return;try{ol(t)}catch(l){Ic(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Ic(t,a,l)}}}catch(l){Ic(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,Il=Math.ceil,Cl=x.ReactCurrentDispatcher,Dl=x.ReactCurrentOwner,Al=x.ReactCurrentBatchConfig,Tl=0,Ll=null,Nl=null,El=0,Ol=0,Rl=Ir(0),Pl=0,jl=null,zl=0,_l=0,Bl=0,Fl=null,$l=null,Vl=0,Gl=1/0,Wl=null,Hl=!1,Ul=null,Yl=null,Kl=!1,Zl=null,Xl=0,ql=0,Ql=null,Jl=-1,ec=0;function tc(){return 0!==(6&Tl)?qe():-1!==Jl?Jl:Jl=qe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==El?El&-El:null!==yo.transition?(0===ec&&(ec=ft()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ic(e,t,n,i){if(50<ql)throw ql=0,Ql=null,Error(o(185));yt(e,n,i),0!==(2&Tl)&&e===Ll||(e===Ll&&(0===(2&Tl)&&(_l|=n),4===Pl&&lc(e,El)),rc(e,i),1===n&&0===Tl&&0===(1&t.mode)&&(Gl=qe()+500,Fr&&Gr()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=r[a];-1===l?0!==(s&n)&&0===(s&i)||(r[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=ht(e,e===Ll?El:0);if(0===i)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fr=!0,Vr(e)}(cc.bind(null,e)):Vr(cc.bind(null,e)),sr(function(){0===(6&Tl)&&Gr()}),n=null;else{switch(xt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Lc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,ec=0,0!==(6&Tl))throw Error(o(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var i=ht(e,e===Ll?El:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=yc(e,i);else{t=i;var r=Tl;Tl|=2;var a=fc();for(Ll===e&&El===t||(Wl=null,Gl=qe()+500,pc(e,t));;)try{vc();break}catch(l){gc(e,l)}Ao(),Cl.current=a,Tl=r,null!==Nl?t=0:(Ll=null,El=0,t=Pl)}if(0!==t){if(2===t&&(0!==(r=gt(e))&&(i=r,t=ac(e,r))),1===t)throw n=jl,pc(e,0),lc(e,i),rc(e,qe()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=yc(e,i))&&(0!==(a=gt(e))&&(i=a,t=ac(e,a))),1===t))throw n=jl,pc(e,0),lc(e,i),rc(e,qe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:Mc(e,$l,Wl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Vl+500-qe())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=rr(Mc.bind(null,e,$l,Wl),t);break}Mc(e,$l,Wl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Il(i/1960))-i)){e.timeoutHandle=rr(Mc.bind(null,e,$l,Wl),i);break}Mc(e,$l,Wl);break;default:throw Error(o(329))}}}return rc(e,qe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=$l,$l=n,null!==t&&sc(t)),e}function sc(e){null===$l?$l=e:$l.push.apply($l,e)}function lc(e,t){for(t&=~Bl,t&=~_l,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Tl))throw Error(o(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,qe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var i=gt(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=jl,pc(e,0),lc(e,t),rc(e,qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mc(e,$l,Wl),rc(e,qe()),null}function uc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Gl=qe()+500,Fr&&Gr())}}function dc(e){null!==Zl&&0===Zl.tag&&0===(6&Tl)&&wc();var t=Tl;Tl|=1;var n=Al.transition,i=vt;try{if(Al.transition=null,vt=1,e)return e()}finally{vt=i,Al.transition=n,0===(6&(Tl=t))&&Gr()}}function hc(){Ol=Rl.current,Cr(Rl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,or(n)),null!==Nl)for(n=Nl.return;null!==n;){var i=n;switch(no(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Rr();break;case 3:Qo(),Cr(Lr),Cr(Tr),ra();break;case 5:ea(i);break;case 4:Qo();break;case 13:case 19:Cr(ta);break;case 10:To(i.type._context);break;case 22:case 23:hc()}n=n.return}if(Ll=e,Nl=e=Rc(e.current,null),El=Ol=t,Pl=0,jl=null,Bl=_l=zl=0,$l=Fl=null,null!==Oo){for(t=0;t<Oo.length;t++)if(null!==(i=(n=Oo[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}Oo=null}return e}function gc(e,t){for(;;){var n=Nl;try{if(Ao(),oa.current=Ja,da){for(var i=la.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}da=!1}if(sa=0,ua=ca=la=null,ha=!1,pa=0,Dl.current=null,null===n||null===n.return){Pl=1,jl=t,Nl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=El,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ys(s);if(null!==g){g.flags&=-257,bs(g,s,l,0,t),1&g.mode&&ms(a,u,t),c=u;var f=(t=g).updateQueue;if(null===f){var m=new Set;m.add(c),t.updateQueue=m}else f.add(c);break e}if(0===(1&t)){ms(a,u,t),mc();break e}c=Error(o(426))}else if(oo&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bs(y,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Pl&&(Pl=2),null===Fl?Fl=[a]:Fl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Go(a,gs(0,c,t));break e;case 1:l=c;var b=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Yl||!Yl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Go(a,fs(a,l,t));break e}}a=a.return}while(null!==a)}Sc(n)}catch(x){t=x,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function fc(){var e=Cl.current;return Cl.current=Ja,null===e?Ja:e}function mc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===Ll||0===(268435455&zl)&&0===(268435455&_l)||lc(Ll,El)}function yc(e,t){var n=Tl;Tl|=2;var i=fc();for(Ll===e&&El===t||(Wl=null,pc(e,t));;)try{bc();break}catch(r){gc(e,r)}if(Ao(),Tl=n,Cl.current=i,null!==Nl)throw Error(o(261));return Ll=null,El=0,Pl}function bc(){for(;null!==Nl;)xc(Nl)}function vc(){for(;null!==Nl&&!Ze();)xc(Nl)}function xc(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?Sc(e):Nl=t,Dl.current=null}function Sc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Ol)))return void(Nl=n)}else{if(null!==(n=Zs(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Pl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Pl&&(Pl=5)}function Mc(e,t,n){var i=vt,r=Al.transition;try{Al.transition=null,vt=1,function(e,t,n,i){do{wc()}while(null!==Zl);if(0!==(6&Tl))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===Ll&&(Nl=Ll=null,El=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Lc(tt,function(){return wc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Al.transition,Al.transition=null;var s=vt;vt=1;var l=Tl;Tl|=4,Dl.current=null,function(e,t){if(tr=Wt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var g;h!==n||0!==r&&3!==h.nodeType||(l=s+r),h!==a||0!==i&&3!==h.nodeType||(c=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(g=h.firstChild);)p=h,h=g;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=s),p===a&&++d===i&&(c=s),null!==(g=h.nextSibling))break;p=(h=p).parentNode}h=g}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nr={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var m=f.memoizedProps,y=f.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:is(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(S){Ic(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}f=nl,nl=!1}(e,n),yl(n,e),fi(nr),Wt=!!tr,nr=tr=null,e.current=n,vl(n,e,r),Xe(),Tl=l,vt=s,Al.transition=a}else e.current=n;if(Kl&&(Kl=!1,Zl=e,Xl=r),a=e.pendingLanes,0===a&&(Yl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Hl)throw Hl=!1,e=Ul,Ul=null,e;0!==(1&Xl)&&0!==e.tag&&wc(),a=e.pendingLanes,0!==(1&a)?e===Ql?ql++:(ql=0,Ql=e):ql=0,Gr()}(e,t,n,i)}finally{Al.transition=r,vt=i}return null}function wc(){if(null!==Zl){var e=xt(Xl),t=Al.transition,n=vt;try{if(Al.transition=null,vt=16>e?16:e,null===Zl)var i=!1;else{if(e=Zl,Zl=null,Xl=0,0!==(6&Tl))throw Error(o(331));var r=Tl;for(Tl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:il(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,g=d.return;if(al(d),d===u){Js=null;break}if(null!==p){p.return=g,Js=p;break}Js=g}}}var f=a.alternate;if(null!==f){var m=f.child;if(null!==m){f.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var b=a.sibling;if(null!==b){b.return=a.return,Js=b;break e}Js=a.return}}var v=e.current;for(Js=v;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=v;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(M){Ic(l,l.return,M)}if(l===s){Js=null;break e}var S=l.sibling;if(null!==S){S.return=l.return,Js=S;break e}Js=l.return}}if(Tl=r,Gr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(M){}i=!0}return i}finally{vt=n,Al.transition=t}}return!1}function kc(e,t,n){e=$o(e,t=gs(0,t=us(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Yl||!Yl.has(i))){t=$o(t,e=fs(t,e=us(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(El&n)===n&&(4===Pl||3===Pl&&(130023424&El)===El&&500>qe()-Vl?pc(e,0):Bl|=n),rc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=jo(e,t))&&(yt(e,t,n),rc(e,n))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Dc(e,n)}function Lc(e,t){return Ye(e,t)}function Nc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ec(e,t,n,i){return new Nc(e,t,n,i)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ec(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case w:return jc(n.children,r,a,t);case k:s=8,r|=8;break;case I:return(e=Ec(12,n,t,2|r)).elementType=I,e.lanes=a,e;case T:return(e=Ec(13,n,t,r)).elementType=T,e.lanes=a,e;case L:return(e=Ec(19,n,t,r)).elementType=L,e.lanes=a,e;case O:return zc(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case D:s=9;break e;case A:s=11;break e;case N:s=14;break e;case E:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ec(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function jc(e,t,n,i){return(e=Ec(7,e,i,t)).lanes=n,e}function zc(e,t,n,i){return(e=Ec(22,e,i,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function _c(e,t,n){return(e=Ec(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Ec(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,i,r,o,a,s,l){return e=new Fc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ec(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_o(o),e}function Vc(e){if(!e)return Ar;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Or(n))return jr(e,n,t)}return t}function Gc(e,t,n,i,r,o,a,s,l){return(e=$c(n,i,!0,e,0,o,0,s,l)).context=Vc(null),n=e.current,(o=Fo(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,$o(n,o,r),e.current.lanes=r,yt(e,r,i),rc(e,i),e}function Wc(e,t,n,i){var r=t.current,o=tc(),a=nc(r);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=$o(r,t,a))&&(ic(e,r,a,o),Vo(e,r,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Lr.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Ls(t),fo();break;case 5:Jo(t);break;case 1:Or(t.type)&&zr(t);break;case 4:qo(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Dr(ko,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Dr(ta,1&ta.current),t.flags|=128,null):0!==(n&t.child.childLanes)?_s(e,t,n):(Dr(ta,1&ta.current),null!==(e=Hs(e,t,n))?e.sibling:null);Dr(ta,1&ta.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Gs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Dr(ta,ta.current),i)break;return null;case 22:case 23:return t.lanes=0,Is(e,t,n)}return Hs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,oo&&0!==(1048576&t.flags)&&eo(t,Yr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ws(e,t),e=t.pendingProps;var r=Er(t,Tr.current);No(t,n),r=ya(null,t,i,e,r,n);var a=ba();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(i)?(a=!0,zr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,_o(t),r.updater=os,t.stateNode=r,r._reactInternals=t,cs(t,i,e,n),t=Ts(null,t,i,!0,a,n)):(t.tag=0,oo&&a&&to(t),Ss(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===N)return 14}return 2}(i),e=is(i,e),r){case 0:t=Ds(null,t,i,e,n);break e;case 1:t=As(null,t,i,e,n);break e;case 11:t=Ms(null,t,i,e,n);break e;case 14:t=ws(null,t,i,is(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ds(e,t,i,r=t.elementType===i?r:is(i,r),n);case 1:return i=t.type,r=t.pendingProps,As(e,t,i,r=t.elementType===i?r:is(i,r),n);case 3:e:{if(Ls(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,Bo(e,t),Wo(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ns(e,t,i,n,r=us(Error(o(423)),t));break e}if(i!==r){t=Ns(e,t,i,n,r=us(Error(o(424)),t));break e}for(ro=ur(t.stateNode.containerInfo.firstChild),io=t,oo=!0,ao=null,n=wo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),i===r){t=Hs(e,t,n);break e}Ss(e,t,i,n)}t=t.child}return t;case 5:return Jo(t),null===e&&uo(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,ir(i,r)?s=null:null!==a&&ir(i,a)&&(t.flags|=32),Cs(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return _s(e,t,n);case 4:return qo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Mo(t,null,i,n):Ss(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Ms(e,t,i,r=t.elementType===i?r:is(i,r),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Dr(ko,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!Lr.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=Fo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Lo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Lo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Ss(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,No(t,n),i=i(r=Eo(r)),t.flags|=1,Ss(e,t,i,n),t.child;case 14:return r=is(i=t.type,t.pendingProps),ws(e,t,i,r=is(i.type,r),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:is(i,r),Ws(e,t),t.tag=1,Or(i)?(e=!0,zr(t)):e=!1,No(t,n),ss(t,i,r),cs(t,i,r,n),Ts(null,t,i,!0,e,n);case 19:return Gs(e,t,n);case 22:return Is(e,t,n)}throw Error(o(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}Wc(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}var a=Gc(t,i,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[fr]=a.current,Gi(8===e.nodeType?e.parentNode:e),dc(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=Hc(l);s.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fr]=l.current,Gi(8===e.nodeType?e.parentNode:e),dc(function(){Wc(t,l,n,i)}),l}(n,t,e,r,i);return Hc(a)}Xc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Xc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Wc(null,e,null,null)}),t[fr]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&zt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,qe()),0===(6&Tl)&&(Gl=qe()+500,Gr()))}break;case 13:dc(function(){var t=jo(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}}),Yc(e,1)}},Mt=function(e){if(13===e.tag){var t=jo(e,134217728);if(null!==t)ic(t,e,134217728,tc());Yc(e,134217728)}},wt=function(e){if(13===e.tag){var t=nc(e),n=jo(e,t);if(null!==n)ic(n,e,t,tc());Yc(e,t)}},kt=function(){return vt},It=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Me=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Mr(i);if(!r)throw Error(o(90));Y(i),Q(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uc,Te=dc;var tu={usingClientEntryPoint:!1,Events:[xr,Sr,Mr,Ce,De,uc]},nu={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!qc(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:M,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!qc(e))throw Error(o(299));var n=!1,i="",r=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Gi(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!qc(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,r,0,a,s),e[fr]=t.current,Gi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[fr]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},763:(e,t,n)=>{e.exports=n(364)},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>a[e]=()=>i[e]);return a.default=()=>i,n.d(o,a),o}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i=n(43),r=n.t(i,2),o=n(391);function a(e){const t=new URL(`https://mui.com/production-error/?code=${e}`);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(e=>t.searchParams.append("args[]",e)),`Minified MUI error #${e}; visit ${t} for the full message.`}var s=n(191);function l(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function c(e){if(i.isValidElement(e)||(0,s.Hy)(e)||!l(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=c(e[n])}),t}function u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?{...e}:e;return l(e)&&l(t)&&Object.keys(t).forEach(o=>{i.isValidElement(t[o])||(0,s.Hy)(t[o])?r[o]=t[o]:l(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&l(e[o])?r[o]=u(e[o],t[o],n):n.clone?r[o]=l(t[o])?c(t[o]):t[o]:r[o]=t[o]}),r}const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function h(e){return d(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function p(e){if(e.type)return e;if("#"===e.charAt(0))return p(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?`rgb${4===n.length?"a":""}(${n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(a(9,e));let i,r=e.substring(t+1,e.length-1);if("color"===n){if(r=r.split(" "),i=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(a(10,i))}else r=r.split(",");return r=r.map(e=>parseFloat(e)),{type:n,values:r,colorSpace:i}}const g=(e,t)=>{try{return(e=>{const t=p(e);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&0!==n?`${e}%`:e).join(" ")})(e)}catch(Ym){return e}};function f(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return t.includes("rgb")?i=i.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=t.includes("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${t}(${i})`}function m(e){e=p(e);const{values:t}=e,n=t[0],i=t[1]/100,r=t[2]/100,o=i*Math.min(r,1-r),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-o*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),f({type:s,values:l})}function y(e){let t="hsl"===(e=p(e)).type||"hsla"===e.type?p(m(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function b(e,t){return e=p(e),t=h(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,f(e)}function v(e,t,n){try{return b(e,t)}catch(Ym){return e}}function x(e,t){if(e=p(e),t=h(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return f(e)}function S(e,t,n){try{return x(e,t)}catch(Ym){return e}}function M(e,t){if(e=p(e),t=h(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return f(e)}function w(e,t,n){try{return M(e,t)}catch(Ym){return e}}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return y(e)>.5?x(e,t):M(e,t)}function I(e,t,n){try{return k(e,t)}catch(Ym){return e}}const C={black:"#000",white:"#fff"},D={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},A={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},T={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},L={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},N={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},E={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},O={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function R(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:C.white,default:C.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const P=R();function j(){return{text:{primary:C.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:C.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const z=j();function _(e,t,n,i){const r=i.light||i,o=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=M(e.main,r):"dark"===t&&(e.dark=x(e.main,o)))}function B(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2,...r}=e,o=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:N[200],light:N[50],dark:N[400]}:{main:N[700],light:N[400],dark:N[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:A[200],light:A[50],dark:A[400]}:{main:A[500],light:A[300],dark:A[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:T[500],light:T[300],dark:T[700]}:{main:T[700],light:T[400],dark:T[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:E[400],light:E[300],dark:E[700]}:{main:E[700],light:E[500],dark:E[900]}}(t),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:O[400],light:O[300],dark:O[700]}:{main:O[800],light:O[500],dark:O[900]}}(t),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:L[400],light:L[300],dark:L[700]}:{main:"#ed6c02",light:L[500],dark:L[900]}}(t);function p(e){const t=function(e,t){const n=y(e),i=y(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}(e,z.text.primary)>=n?z.text.primary:P.text.primary;return t}const g=e=>{let{color:t,name:n,mainShade:r=500,lightShade:o=300,darkShade:s=700}=e;if(t={...t},!t.main&&t[r]&&(t.main=t[r]),!t.hasOwnProperty("main"))throw new Error(a(11,n?` (${n})`:"",r));if("string"!==typeof t.main)throw new Error(a(12,n?` (${n})`:"",JSON.stringify(t.main)));return _(t,"light",o,i),_(t,"dark",s,i),t.contrastText||(t.contrastText=p(t.main)),t};let f;"light"===t?f=R():"dark"===t&&(f=j());return u({common:{...C},mode:t,primary:g({color:o,name:"primary"}),secondary:g({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:l,name:"error"}),warning:g({color:h,name:"warning"}),info:g({color:c,name:"info"}),success:g({color:d,name:"success"}),grey:D,contrastThreshold:n,getContrastText:p,augmentColor:g,tonalOffset:i,...f},r)}function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];if(!i.length)return"";const o=i[0];return"string"!==typeof o||o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, ${o}`:`, var(--${e?`${e}-`:""}${o}${t(...i.slice(1))})`}return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return`var(--${e?`${e}-`:""}${n}${t(...r)})`}}function $(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{const n=/min-width:\s*([0-9.]+)/;return+(e.match(n)?.[1]||0)-+(t.match(n)?.[1]||0)});return n.length?n.reduce((e,n)=>{const i=t[n];return delete e[n],e[n]=i,e},{...t}):t}const V={xs:0,sm:600,md:900,lg:1200,xl:1536},G={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${V[e]}px)`},W={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:V[t]||t;return"number"===typeof n&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function H(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||G;return t.reduce((i,r,o)=>(i[e.up(e.keys[o])]=n(t[o]),i),{})}if("object"===typeof t){const e=i.breakpoints||G;return Object.keys(t).reduce((r,o)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith(`@${e}`))||!!t.match(/^@\d/))}(e.keys,o)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,i,r]=n,o=Number.isNaN(+i)?i||0:+i;return e.containerQueries(r).up(o)}(i.containerQueries?i:W,o);e&&(r[e]=n(t[o],o))}else if(Object.keys(e.values||V).includes(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r},{})}return n(t)}function U(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.keys?.reduce((t,n)=>(t[e.up(n)]={},t),{});return t||{}}function Y(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function K(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Z(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function X(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:Z(e,n)||r,t&&(i=t(i,r,e)),i}const q=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:i,transform:r}=e,o=e=>{if(null==e[t])return null;const o=e[t],a=Z(e.theme,i)||{};return H(e,o,e=>{let i=X(a,r,e);return e===i&&"string"===typeof e&&(i=X(a,r,`${t}${"default"===e?"":K(e)}`,e)),!1===n?i:{[n]:i}})};return o.propTypes={},o.filterProps=[t],o};const Q=function(e,t){return t?u(e,t,{clone:!1}):e};const J={m:"margin",p:"padding"},ee={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},te={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ne=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!te[e])return[e];e=te[e]}const[t,n]=e.split(""),i=J[t],r=ee[n]||"";return Array.isArray(r)?r.map(e=>i+e):[i+r]}),ie=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],re=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],oe=[...ie,...re];function ae(e,t,n,i){const r=Z(e,t,!0)??n;return"number"===typeof r||"string"===typeof r?e=>"string"===typeof e?e:"string"===typeof r?r.startsWith("var(")&&0===e?0:r.startsWith("var(")&&1===e?r:`calc(${e} * ${r})`:r*e:Array.isArray(r)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=r[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?`calc(-1 * ${n})`:`-${n}`}:"function"===typeof r?r:()=>{}}function se(e){return ae(e,"spacing",8)}function le(e,t){return"string"===typeof t||null==t?t:e(t)}function ce(e,t,n,i){if(!t.includes(n))return null;const r=function(e,t){return n=>e.reduce((e,i)=>(e[i]=le(t,n),e),{})}(ne(n),i);return H(e,e[n],r)}function ue(e,t){const n=se(e.theme);return Object.keys(e).map(i=>ce(e,t,i,n)).reduce(Q,{})}function de(e){return ue(e,ie)}function he(e){return ue(e,re)}function pe(e){return ue(e,oe)}de.propTypes={},de.filterProps=ie,he.propTypes={},he.filterProps=re,pe.propTypes={},pe.filterProps=oe;function ge(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?`${n}px`:n}).join(" ")};return n.mui=!0,n}function fe(e){const t={};return Object.entries(e).forEach(e=>{const[n,i]=e;"object"===typeof i&&(t[n]=`${i.fontStyle?`${i.fontStyle} `:""}${i.fontVariant?`${i.fontVariant} `:""}${i.fontWeight?`${i.fontWeight} `:""}${i.fontStretch?`${i.fontStretch} `:""}${i.fontSize||""}${i.lineHeight?`/${i.lineHeight} `:""}${i.fontFamily||""}`)}),t}const me=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=e;t.forEach((e,o)=>{o===t.length-1?Array.isArray(r)?r[Number(e)]=n:r&&"object"===typeof r&&(r[e]=n):r&&"object"===typeof r&&(r[e]||(r[e]=i.includes(e)?[]:{}),r=r[e])})};function ye(e,t){const{prefix:n,shouldSkipGeneratingVar:i}=t||{},r={},o={},a={};return((e,t,n)=>{!function e(i){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(i).forEach(i=>{let[a,s]=i;(!n||n&&!n([...r,a]))&&void 0!==s&&null!==s&&("object"===typeof s&&Object.keys(s).length>0?e(s,[...r,a],Array.isArray(s)?[...o,a]:o):t([...r,a],s,o))})}(e)})(e,(e,t,s)=>{if(("string"===typeof t||"number"===typeof t)&&(!i||!i(e,t))){const i=`--${n?`${n}-`:""}${e.join("-")}`,l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`;return t})(e,t);Object.assign(r,{[i]:l}),me(o,e,`var(${i})`,s),me(a,e,`var(${i}, ${l})`,s)}},e=>"vars"===e[0]),{css:r,vars:o,varsWithDefaults:a}}const be=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=y,disableCssColorScheme:i,colorSchemeSelector:r}=t,{colorSchemes:o={},components:a,defaultColorScheme:s="light",...l}=e,{vars:c,css:d,varsWithDefaults:h}=ye(l,t);let p=h;const g={},{[s]:f,...m}=o;if(Object.entries(m||{}).forEach(e=>{let[n,i]=e;const{vars:r,css:o,varsWithDefaults:a}=ye(i,t);p=u(p,a),g[n]={css:o,vars:r}}),f){const{css:e,vars:n,varsWithDefaults:i}=ye(f,t);p=u(p,i),g[s]={css:e,vars:n}}function y(t,n){let i=r;if("class"===r&&(i=".%s"),"data"===r&&(i="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(i=`[${r}="%s"]`),t){if("media"===i){if(e.defaultColorScheme===t)return":root";const i=o[t]?.palette?.mode||t;return{[`@media (prefers-color-scheme: ${i})`]:{":root":n}}}if(i)return e.defaultColorScheme===t?`:root, ${i.replace("%s",String(t))}`:i.replace("%s",String(t))}return":root"}return{vars:p,generateThemeVars:()=>{let e={...c};return Object.entries(g).forEach(t=>{let[,{vars:n}]=t;e=u(e,n)}),e},generateStyleSheets:()=>{const t=[],r=e.defaultColorScheme||"light";function a(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:{...n}}:e)}a(n(void 0,{...d}),d);const{[r]:s,...l}=g;if(s){const{css:e}=s,t=o[r]?.palette?.mode,l=!i&&t?{colorScheme:t,...e}:{...e};a(n(r,{...l}),l)}return Object.entries(l).forEach(e=>{let[t,{css:r}]=e;const s=o[t]?.palette?.mode,l=!i&&s?{colorScheme:s,...r}:{...r};a(n(t,{...l}),l)}),t}}};const ve=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),r=e=>Object.keys(e).reduce((t,n)=>i[n]?Q(t,i[n](e)):t,{});return r.propTypes={},r.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),r};function xe(e){return"number"!==typeof e?e:`${e}px solid`}function Se(e,t){return q({prop:e,themeKey:"borders",transform:t})}const Me=Se("border",xe),we=Se("borderTop",xe),ke=Se("borderRight",xe),Ie=Se("borderBottom",xe),Ce=Se("borderLeft",xe),De=Se("borderColor"),Ae=Se("borderTopColor"),Te=Se("borderRightColor"),Le=Se("borderBottomColor"),Ne=Se("borderLeftColor"),Ee=Se("outline",xe),Oe=Se("outlineColor"),Re=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=ae(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:le(t,e)});return H(e,e.borderRadius,n)}return null};Re.propTypes={},Re.filterProps=["borderRadius"];ve(Me,we,ke,Ie,Ce,De,Ae,Te,Le,Ne,Re,Ee,Oe);const Pe=e=>{if(void 0!==e.gap&&null!==e.gap){const t=ae(e.theme,"spacing",8),n=e=>({gap:le(t,e)});return H(e,e.gap,n)}return null};Pe.propTypes={},Pe.filterProps=["gap"];const je=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=ae(e.theme,"spacing",8),n=e=>({columnGap:le(t,e)});return H(e,e.columnGap,n)}return null};je.propTypes={},je.filterProps=["columnGap"];const ze=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=ae(e.theme,"spacing",8),n=e=>({rowGap:le(t,e)});return H(e,e.rowGap,n)}return null};ze.propTypes={},ze.filterProps=["rowGap"];ve(Pe,je,ze,q({prop:"gridColumn"}),q({prop:"gridRow"}),q({prop:"gridAutoFlow"}),q({prop:"gridAutoColumns"}),q({prop:"gridAutoRows"}),q({prop:"gridTemplateColumns"}),q({prop:"gridTemplateRows"}),q({prop:"gridTemplateAreas"}),q({prop:"gridArea"}));function _e(e,t){return"grey"===t?t:e}ve(q({prop:"color",themeKey:"palette",transform:_e}),q({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_e}),q({prop:"backgroundColor",themeKey:"palette",transform:_e}));function Be(e){return e<=1&&0!==e?100*e+"%":e}const Fe=q({prop:"width",transform:Be}),$e=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{const n=e.theme?.breakpoints?.values?.[t]||V[t];return n?"px"!==e.theme?.breakpoints?.unit?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Be(t)}};return H(e,e.maxWidth,t)}return null};$e.filterProps=["maxWidth"];const Ve=q({prop:"minWidth",transform:Be}),Ge=q({prop:"height",transform:Be}),We=q({prop:"maxHeight",transform:Be}),He=q({prop:"minHeight",transform:Be}),Ue=(q({prop:"size",cssProperty:"width",transform:Be}),q({prop:"size",cssProperty:"height",transform:Be}),ve(Fe,$e,Ve,Ge,We,He,q({prop:"boxSizing"})),{border:{themeKey:"borders",transform:xe},borderTop:{themeKey:"borders",transform:xe},borderRight:{themeKey:"borders",transform:xe},borderBottom:{themeKey:"borders",transform:xe},borderLeft:{themeKey:"borders",transform:xe},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:xe},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Re},color:{themeKey:"palette",transform:_e},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_e},backgroundColor:{themeKey:"palette",transform:_e},p:{style:he},pt:{style:he},pr:{style:he},pb:{style:he},pl:{style:he},px:{style:he},py:{style:he},padding:{style:he},paddingTop:{style:he},paddingRight:{style:he},paddingBottom:{style:he},paddingLeft:{style:he},paddingX:{style:he},paddingY:{style:he},paddingInline:{style:he},paddingInlineStart:{style:he},paddingInlineEnd:{style:he},paddingBlock:{style:he},paddingBlockStart:{style:he},paddingBlockEnd:{style:he},m:{style:de},mt:{style:de},mr:{style:de},mb:{style:de},ml:{style:de},mx:{style:de},my:{style:de},margin:{style:de},marginTop:{style:de},marginRight:{style:de},marginBottom:{style:de},marginLeft:{style:de},marginX:{style:de},marginY:{style:de},marginInline:{style:de},marginInlineStart:{style:de},marginInlineEnd:{style:de},marginBlock:{style:de},marginBlockStart:{style:de},marginBlockEnd:{style:de},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Pe},rowGap:{style:ze},columnGap:{style:je},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Be},maxWidth:{style:$e},minWidth:{transform:Be},height:{transform:Be},maxHeight:{transform:Be},minHeight:{transform:Be},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const Ye=function(){function e(e,t,n,i){const r={[e]:t,theme:n},o=i[e];if(!o)return{[e]:t};const{cssProperty:a=e,themeKey:s,transform:l,style:c}=o;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const u=Z(n,s)||{};if(c)return c(r);return H(r,t,t=>{let n=X(u,l,t);return t===n&&"string"===typeof t&&(n=X(u,l,`${e}${"default"===t?"":K(t)}`,t)),!1===a?n:{[a]:n}})}return function t(n){const{sx:i,theme:r={},nested:o}=n||{};if(!i)return null;const a=r.unstable_sxConfig??Ue;function s(n){let i=n;if("function"===typeof n)i=n(r);else if("object"!==typeof n)return n;if(!i)return null;const s=U(r.breakpoints),l=Object.keys(s);let c=s;return Object.keys(i).forEach(n=>{const o=function(e,t){return"function"===typeof e?e(t):e}(i[n],r);if(null!==o&&void 0!==o)if("object"===typeof o)if(a[n])c=Q(c,e(n,o,r,a));else{const e=H({theme:r},o,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),r=new Set(i);return t.every(e=>r.size===Object.keys(e).length)}(e,o)?c=Q(c,e):c[n]=t({sx:o,theme:r,nested:!0})}else c=Q(c,e(n,o,r,a))}),!o&&r.modularCssLayers?{"@layer sx":$(r,Y(l,c))}:$(r,Y(l,c))}return Array.isArray(i)?i.map(s):s(i)}}();Ye.filterProps=["sx"];const Ke=Ye;function Ze(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5,...r}=e,o=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>({...e,[t.key]:t.val}),{})})(t),a=Object.keys(o);function s(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function l(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-i/100}${n})`}function c(e,r){const o=a.indexOf(r);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[a[o]]?t[a[o]]:r)-i/100}${n})`}return{keys:a,values:o,up:s,down:l,between:c,only:function(e){return a.indexOf(e)+1<a.length?c(e,a[a.indexOf(e)+1]):s(e)},not:function(e){const t=a.indexOf(e);return 0===t?s(a[1]):t===a.length-1?l(a[t]):c(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n,...r}}const Xe={borderRadius:4};function qe(e,t){const n=this;if(n.vars){if(!n.colorSchemes?.[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}const Qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:i,shape:r={},...o}=e;let a=u({breakpoints:Ze(t),direction:"ltr",components:{},palette:{mode:"light",...n},spacing:ge(i),shape:{...Xe,...r}},o);a=function(e){const t=(e,t)=>e.replace("@media",t?`@container ${t}`:"@container");function n(n,i){n.up=function(){return t(e.breakpoints.up(...arguments),i)},n.down=function(){return t(e.breakpoints.down(...arguments),i)},n.between=function(){return t(e.breakpoints.between(...arguments),i)},n.only=function(){return t(e.breakpoints.only(...arguments),i)},n.not=function(){const n=t(e.breakpoints.not(...arguments),i);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const i={},r=e=>(n(i,e),i);return n(r),{...e,containerQueries:r}}(a),a.applyStyles=qe;for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return a=l.reduce((e,t)=>u(e,t),a),a.unstable_sxConfig={...Ue,...o?.unstable_sxConfig},a.unstable_sx=function(e){return Ke({sx:e,theme:this})},a};function Je(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}const et={textTransform:"uppercase"},tt='"Roboto", "Helvetica", "Arial", sans-serif';function nt(e,t){const{fontFamily:n=tt,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:s=700,htmlFontSize:l=16,allVariants:c,pxToRem:d,...h}="function"===typeof t?t(e):t;const p=i/14,g=d||(e=>e/l*p+"rem"),f=(e,t,i,r,o)=>{return{fontFamily:n,fontWeight:e,fontSize:g(t),lineHeight:i,...n===tt?{letterSpacing:(a=r/t,Math.round(1e5*a)/1e5)+"em"}:{},...o,...c};var a},m={h1:f(r,96,1.167,-1.5),h2:f(r,60,1.2,-.5),h3:f(o,48,1.167,0),h4:f(o,34,1.235,.25),h5:f(o,24,1.334,0),h6:f(a,20,1.6,.15),subtitle1:f(o,16,1.75,.15),subtitle2:f(a,14,1.57,.1),body1:f(o,16,1.5,.15),body2:f(o,14,1.43,.15),button:f(a,14,1.75,.4,et),caption:f(o,12,1.66,.4),overline:f(o,12,2.66,1,et),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return u({htmlFontSize:l,pxToRem:g,fontFamily:n,fontSize:i,fontWeightLight:r,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:s,...m},h,{clone:!1})}function it(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const rt=["none",it(0,2,1,-1,0,1,1,0,0,1,3,0),it(0,3,1,-2,0,2,2,0,0,1,5,0),it(0,3,3,-2,0,3,4,0,0,1,8,0),it(0,2,4,-1,0,4,5,0,0,1,10,0),it(0,3,5,-1,0,5,8,0,0,1,14,0),it(0,3,5,-1,0,6,10,0,0,1,18,0),it(0,4,5,-2,0,7,10,1,0,2,16,1),it(0,5,5,-3,0,8,10,1,0,3,14,2),it(0,5,6,-3,0,9,12,1,0,3,16,2),it(0,6,6,-3,0,10,14,1,0,4,18,3),it(0,6,7,-4,0,11,15,1,0,4,20,3),it(0,7,8,-4,0,12,17,2,0,5,22,4),it(0,7,8,-4,0,13,19,2,0,5,24,4),it(0,7,9,-4,0,14,21,2,0,5,26,4),it(0,8,9,-5,0,15,22,2,0,6,28,5),it(0,8,10,-5,0,16,24,2,0,6,30,5),it(0,8,11,-5,0,17,26,2,0,6,32,5),it(0,9,11,-5,0,18,28,2,0,7,34,6),it(0,9,12,-6,0,19,29,2,0,7,36,6),it(0,10,13,-6,0,20,31,3,0,8,38,7),it(0,10,13,-6,0,21,33,3,0,8,40,7),it(0,10,14,-6,0,22,35,3,0,8,42,7),it(0,11,14,-7,0,23,36,3,0,9,44,8),it(0,11,15,-7,0,24,38,3,0,9,46,8)],ot={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},at={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function st(e){return`${Math.round(e)}ms`}function lt(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function ct(e){const t={...ot,...e.easing},n={...at,...e.duration};return{getAutoHeightDuration:lt,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:r=n.standard,easing:o=t.easeInOut,delay:a=0,...s}=i;return(Array.isArray(e)?e:[e]).map(e=>`${e} ${"string"===typeof r?r:st(r)} ${o} ${"string"===typeof a?a:st(a)}`).join(",")},...e,easing:t,duration:n}}const ut={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function dt(e){return l(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function ht(){const e={...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}};return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[r,o]=n[i];!dt(o)||r.startsWith("unstable_")?delete t[r]:l(o)&&(t[r]={...o},e(t[r]))}}(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ${JSON.stringify(e,null,2)};\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;`}const pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:i,palette:r={},transitions:o={},typography:s={},shape:l,...c}=e;if(e.vars&&void 0===e.generateThemeVars)throw new Error(a(20));const d=B(r),h=Qe(e);let p=u(h,{mixins:Je(h.breakpoints,n),palette:d,shadows:rt.slice(),typography:nt(d,s),transitions:ct(o),zIndex:{...ut}});p=u(p,c);for(var g=arguments.length,f=new Array(g>1?g-1:0),m=1;m<g;m++)f[m-1]=arguments[m];return p=f.reduce((e,t)=>u(e,t),p),p.unstable_sxConfig={...Ue,...c?.unstable_sxConfig},p.unstable_sx=function(e){return Ke({sx:e,theme:this})},p.toRuntimeSource=ht,p};function gt(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const ft=[...Array(25)].map((e,t)=>{if(0===t)return"none";const n=gt(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function mt(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function yt(e){return"dark"===e?ft:[]}function bt(e){return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!!e[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const vt=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],xt=e=>(t,n)=>{const i=e.rootSelector||":root",r=e.colorSchemeSelector;let o=r;if("class"===r&&(o=".%s"),"data"===r&&(o="[data-%s]"),r?.startsWith("data-")&&!r.includes("%s")&&(o=`[${r}="%s"]`),e.defaultColorScheme===t){if("dark"===t){const r={};return vt(e.cssVarPrefix).forEach(e=>{r[e]=n[e],delete n[e]}),"media"===o?{[i]:n,"@media (prefers-color-scheme: dark)":{[i]:r}}:o?{[o.replace("%s",t)]:r,[`${i}, ${o.replace("%s",t)}`]:n}:{[i]:{...n,...r}}}if(o&&"media"!==o)return`${i}, ${o.replace("%s",String(t))}`}else if(t){if("media"===o)return{[`@media (prefers-color-scheme: ${String(t)})`]:{[i]:n}};if(o)return o.replace("%s",String(t))}return i};function St(e,t,n){!e[t]&&n&&(e[t]=n)}function Mt(e){return"string"===typeof e&&e.startsWith("hsl")?m(e):e}function wt(e,t){`${t}Channel`in e||(e[`${t}Channel`]=g(Mt(e[t])))}const kt=e=>{try{return e()}catch(Ym){}};function It(e,t,n,i){if(!t)return;t=!0===t?{}:t;const r="dark"===i?"dark":"light";if(!n)return void(e[i]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:i,...r}=e,o=B(t);return{palette:o,opacity:{...mt(o.mode),...n},overlays:i||yt(o.mode),...r}}({...t,palette:{mode:r,...t?.palette}}));const{palette:o,...a}=pt({...n,palette:{mode:r,...t?.palette}});return e[i]={...t,palette:o,opacity:{...mt(r),...t?.opacity},overlays:t?.overlays||yt(r)},a}function Ct(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:r="mui",shouldSkipGeneratingVar:o=bt,colorSchemeSelector:s=(t.light&&t.dark?"media":void 0),rootSelector:l=":root",...c}=e,d=Object.keys(t)[0],h=n||(t.light&&"light"!==d?"light":d),p=function(){return F(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(r),{[h]:f,light:m,dark:y,...b}=t,x={...b};let M=f;if(("dark"===h&&!("dark"in t)||"light"===h&&!("light"in t))&&(M=!0),!M)throw new Error(a(21,h));const k=It(x,M,c,h);m&&!x.light&&It(x,m,void 0,"light"),y&&!x.dark&&It(x,y,void 0,"dark");let C={defaultColorScheme:h,...k,cssVarPrefix:r,colorSchemeSelector:s,rootSelector:l,getCssVar:p,colorSchemes:x,font:{...fe(k.typography),...k.font},spacing:(D=c.spacing,"number"===typeof D?`${D}px`:"string"===typeof D||"function"===typeof D||Array.isArray(D)?D:"8px")};var D;Object.keys(C.colorSchemes).forEach(e=>{const t=C.colorSchemes[e].palette,n=e=>{const n=e.split("-"),i=n[1],r=n[2];return p(e,t[i][r])};if("light"===t.mode&&(St(t.common,"background","#fff"),St(t.common,"onBackground","#000")),"dark"===t.mode&&(St(t.common,"background","#000"),St(t.common,"onBackground","#fff")),function(e,t){t.forEach(t=>{e[t]||(e[t]={})})}(t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),"light"===t.mode){St(t.Alert,"errorColor",S(t.error.light,.6)),St(t.Alert,"infoColor",S(t.info.light,.6)),St(t.Alert,"successColor",S(t.success.light,.6)),St(t.Alert,"warningColor",S(t.warning.light,.6)),St(t.Alert,"errorFilledBg",n("palette-error-main")),St(t.Alert,"infoFilledBg",n("palette-info-main")),St(t.Alert,"successFilledBg",n("palette-success-main")),St(t.Alert,"warningFilledBg",n("palette-warning-main")),St(t.Alert,"errorFilledColor",kt(()=>t.getContrastText(t.error.main))),St(t.Alert,"infoFilledColor",kt(()=>t.getContrastText(t.info.main))),St(t.Alert,"successFilledColor",kt(()=>t.getContrastText(t.success.main))),St(t.Alert,"warningFilledColor",kt(()=>t.getContrastText(t.warning.main))),St(t.Alert,"errorStandardBg",w(t.error.light,.9)),St(t.Alert,"infoStandardBg",w(t.info.light,.9)),St(t.Alert,"successStandardBg",w(t.success.light,.9)),St(t.Alert,"warningStandardBg",w(t.warning.light,.9)),St(t.Alert,"errorIconColor",n("palette-error-main")),St(t.Alert,"infoIconColor",n("palette-info-main")),St(t.Alert,"successIconColor",n("palette-success-main")),St(t.Alert,"warningIconColor",n("palette-warning-main")),St(t.AppBar,"defaultBg",n("palette-grey-100")),St(t.Avatar,"defaultBg",n("palette-grey-400")),St(t.Button,"inheritContainedBg",n("palette-grey-300")),St(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),St(t.Chip,"defaultBorder",n("palette-grey-400")),St(t.Chip,"defaultAvatarColor",n("palette-grey-700")),St(t.Chip,"defaultIconColor",n("palette-grey-700")),St(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),St(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),St(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),St(t.LinearProgress,"primaryBg",w(t.primary.main,.62)),St(t.LinearProgress,"secondaryBg",w(t.secondary.main,.62)),St(t.LinearProgress,"errorBg",w(t.error.main,.62)),St(t.LinearProgress,"infoBg",w(t.info.main,.62)),St(t.LinearProgress,"successBg",w(t.success.main,.62)),St(t.LinearProgress,"warningBg",w(t.warning.main,.62)),St(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.11)`),St(t.Slider,"primaryTrack",w(t.primary.main,.62)),St(t.Slider,"secondaryTrack",w(t.secondary.main,.62)),St(t.Slider,"errorTrack",w(t.error.main,.62)),St(t.Slider,"infoTrack",w(t.info.main,.62)),St(t.Slider,"successTrack",w(t.success.main,.62)),St(t.Slider,"warningTrack",w(t.warning.main,.62));const e=I(t.background.default,.8);St(t.SnackbarContent,"bg",e),St(t.SnackbarContent,"color",kt(()=>t.getContrastText(e))),St(t.SpeedDialAction,"fabHoverBg",I(t.background.paper,.15)),St(t.StepConnector,"border",n("palette-grey-400")),St(t.StepContent,"border",n("palette-grey-400")),St(t.Switch,"defaultColor",n("palette-common-white")),St(t.Switch,"defaultDisabledColor",n("palette-grey-100")),St(t.Switch,"primaryDisabledColor",w(t.primary.main,.62)),St(t.Switch,"secondaryDisabledColor",w(t.secondary.main,.62)),St(t.Switch,"errorDisabledColor",w(t.error.main,.62)),St(t.Switch,"infoDisabledColor",w(t.info.main,.62)),St(t.Switch,"successDisabledColor",w(t.success.main,.62)),St(t.Switch,"warningDisabledColor",w(t.warning.main,.62)),St(t.TableCell,"border",w(v(t.divider,1),.88)),St(t.Tooltip,"bg",v(t.grey[700],.92))}if("dark"===t.mode){St(t.Alert,"errorColor",w(t.error.light,.6)),St(t.Alert,"infoColor",w(t.info.light,.6)),St(t.Alert,"successColor",w(t.success.light,.6)),St(t.Alert,"warningColor",w(t.warning.light,.6)),St(t.Alert,"errorFilledBg",n("palette-error-dark")),St(t.Alert,"infoFilledBg",n("palette-info-dark")),St(t.Alert,"successFilledBg",n("palette-success-dark")),St(t.Alert,"warningFilledBg",n("palette-warning-dark")),St(t.Alert,"errorFilledColor",kt(()=>t.getContrastText(t.error.dark))),St(t.Alert,"infoFilledColor",kt(()=>t.getContrastText(t.info.dark))),St(t.Alert,"successFilledColor",kt(()=>t.getContrastText(t.success.dark))),St(t.Alert,"warningFilledColor",kt(()=>t.getContrastText(t.warning.dark))),St(t.Alert,"errorStandardBg",S(t.error.light,.9)),St(t.Alert,"infoStandardBg",S(t.info.light,.9)),St(t.Alert,"successStandardBg",S(t.success.light,.9)),St(t.Alert,"warningStandardBg",S(t.warning.light,.9)),St(t.Alert,"errorIconColor",n("palette-error-main")),St(t.Alert,"infoIconColor",n("palette-info-main")),St(t.Alert,"successIconColor",n("palette-success-main")),St(t.Alert,"warningIconColor",n("palette-warning-main")),St(t.AppBar,"defaultBg",n("palette-grey-900")),St(t.AppBar,"darkBg",n("palette-background-paper")),St(t.AppBar,"darkColor",n("palette-text-primary")),St(t.Avatar,"defaultBg",n("palette-grey-600")),St(t.Button,"inheritContainedBg",n("palette-grey-800")),St(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),St(t.Chip,"defaultBorder",n("palette-grey-700")),St(t.Chip,"defaultAvatarColor",n("palette-grey-300")),St(t.Chip,"defaultIconColor",n("palette-grey-300")),St(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),St(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),St(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),St(t.LinearProgress,"primaryBg",S(t.primary.main,.5)),St(t.LinearProgress,"secondaryBg",S(t.secondary.main,.5)),St(t.LinearProgress,"errorBg",S(t.error.main,.5)),St(t.LinearProgress,"infoBg",S(t.info.main,.5)),St(t.LinearProgress,"successBg",S(t.success.main,.5)),St(t.LinearProgress,"warningBg",S(t.warning.main,.5)),St(t.Skeleton,"bg",`rgba(${n("palette-text-primaryChannel")} / 0.13)`),St(t.Slider,"primaryTrack",S(t.primary.main,.5)),St(t.Slider,"secondaryTrack",S(t.secondary.main,.5)),St(t.Slider,"errorTrack",S(t.error.main,.5)),St(t.Slider,"infoTrack",S(t.info.main,.5)),St(t.Slider,"successTrack",S(t.success.main,.5)),St(t.Slider,"warningTrack",S(t.warning.main,.5));const e=I(t.background.default,.98);St(t.SnackbarContent,"bg",e),St(t.SnackbarContent,"color",kt(()=>t.getContrastText(e))),St(t.SpeedDialAction,"fabHoverBg",I(t.background.paper,.15)),St(t.StepConnector,"border",n("palette-grey-600")),St(t.StepContent,"border",n("palette-grey-600")),St(t.Switch,"defaultColor",n("palette-grey-300")),St(t.Switch,"defaultDisabledColor",n("palette-grey-600")),St(t.Switch,"primaryDisabledColor",S(t.primary.main,.55)),St(t.Switch,"secondaryDisabledColor",S(t.secondary.main,.55)),St(t.Switch,"errorDisabledColor",S(t.error.main,.55)),St(t.Switch,"infoDisabledColor",S(t.info.main,.55)),St(t.Switch,"successDisabledColor",S(t.success.main,.55)),St(t.Switch,"warningDisabledColor",S(t.warning.main,.55)),St(t.TableCell,"border",S(v(t.divider,1),.68)),St(t.Tooltip,"bg",v(t.grey[700],.92))}wt(t.background,"default"),wt(t.background,"paper"),wt(t.common,"background"),wt(t.common,"onBackground"),wt(t,"divider"),Object.keys(t).forEach(e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&St(t[e],"mainChannel",g(Mt(n.main))),n.light&&St(t[e],"lightChannel",g(Mt(n.light))),n.dark&&St(t[e],"darkChannel",g(Mt(n.dark))),n.contrastText&&St(t[e],"contrastTextChannel",g(Mt(n.contrastText))),"text"===e&&(wt(t[e],"primary"),wt(t[e],"secondary")),"action"===e&&(n.active&&wt(t[e],"active"),n.selected&&wt(t[e],"selected")))})});for(var A=arguments.length,T=new Array(A>1?A-1:0),L=1;L<A;L++)T[L-1]=arguments[L];C=T.reduce((e,t)=>u(e,t),C);const N={prefix:r,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:xt(C)},{vars:E,generateThemeVars:O,generateStyleSheets:R}=be(C,N);return C.vars=E,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(e=>{let[t,n]=e;C[t]=n}),C.generateThemeVars=O,C.generateStyleSheets=R,C.generateSpacing=function(){return ge(c.spacing,se(this))},C.getColorSchemeSelector=function(e){return function(t){return"media"===e?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:"class"===e?`.${t} &`:"data"===e?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}(s),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=o,C.unstable_sxConfig={...Ue,...c?.unstable_sxConfig},C.unstable_sx=function(e){return Ke({sx:e,theme:this})},C.toRuntimeSource=ht,C}function Dt(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...!0!==n&&n,palette:B({...!0===n?{}:n.palette,mode:t})})}function At(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:i=(t?void 0:{light:!0}),defaultColorScheme:r=t?.mode,...o}=e,a=r||"light",s=i?.[a],l={...i,...t?{[a]:{..."boolean"!==typeof s&&s,palette:t}}:void 0};for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return pt(e,...u);let n=t;"palette"in e||l[a]&&(!0!==l[a]?n=l[a].palette:"dark"===a&&(n={mode:"dark"}));const i=pt({...e,palette:n},...u);return i.defaultColorScheme=a,i.colorSchemes=l,"light"===i.palette.mode&&(i.colorSchemes.light={...!0!==l.light&&l.light,palette:i.palette},Dt(i,"dark",l.dark)),"dark"===i.palette.mode&&(i.colorSchemes.dark={...!0!==l.dark&&l.dark,palette:i.palette},Dt(i,"light",l.light)),i}return t||"light"in l||"light"!==a||(l.light=!0),Ct({...o,colorSchemes:l,defaultColorScheme:a,..."boolean"!==typeof n&&n},...u)}const Tt=i.createContext(null);function Lt(){return i.useContext(Tt)}const Nt="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var Et=n(579);const Ot=function(e){const{children:t,theme:n}=e,r=Lt(),o=i.useMemo(()=>{const e=null===r?{...n}:function(e,t){if("function"===typeof t)return t(e);return{...e,...t}}(r,n);return null!=e&&(e[Nt]=null!==r),e},[n,r]);return(0,Et.jsx)(Tt.Provider,{value:o,children:t})};var Rt=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),Pt=Math.abs,jt=String.fromCharCode,zt=Object.assign;function _t(e){return e.trim()}function Bt(e,t,n){return e.replace(t,n)}function Ft(e,t){return e.indexOf(t)}function $t(e,t){return 0|e.charCodeAt(t)}function Vt(e,t,n){return e.slice(t,n)}function Gt(e){return e.length}function Wt(e){return e.length}function Ht(e,t){return t.push(e),e}var Ut=1,Yt=1,Kt=0,Zt=0,Xt=0,qt="";function Qt(e,t,n,i,r,o,a){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:Ut,column:Yt,length:a,return:""}}function Jt(e,t){return zt(Qt("",null,null,"",null,null,0),e,{length:-e.length},t)}function en(){return Xt=Zt>0?$t(qt,--Zt):0,Yt--,10===Xt&&(Yt=1,Ut--),Xt}function tn(){return Xt=Zt<Kt?$t(qt,Zt++):0,Yt++,10===Xt&&(Yt=1,Ut++),Xt}function nn(){return $t(qt,Zt)}function rn(){return Zt}function on(e,t){return Vt(qt,e,t)}function an(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sn(e){return Ut=Yt=1,Kt=Gt(qt=e),Zt=0,[]}function ln(e){return qt="",e}function cn(e){return _t(on(Zt-1,hn(91===e?e+2:40===e?e+1:e)))}function un(e){for(;(Xt=nn())&&Xt<33;)tn();return an(e)>2||an(Xt)>3?"":" "}function dn(e,t){for(;--t&&tn()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return on(e,rn()+(t<6&&32==nn()&&32==tn()))}function hn(e){for(;tn();)switch(Xt){case e:return Zt;case 34:case 39:34!==e&&39!==e&&hn(Xt);break;case 40:41===e&&hn(e);break;case 92:tn()}return Zt}function pn(e,t){for(;tn()&&e+Xt!==57&&(e+Xt!==84||47!==nn()););return"/*"+on(t,Zt-1)+"*"+jt(47===e?e:tn())}function gn(e){for(;!an(nn());)tn();return on(e,Zt)}var fn="-ms-",mn="-moz-",yn="-webkit-",bn="comm",vn="rule",xn="decl",Sn="@keyframes";function Mn(e,t){for(var n="",i=Wt(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function wn(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case xn:return e.return=e.return||e.value;case bn:return"";case Sn:return e.return=e.value+"{"+Mn(e.children,i)+"}";case vn:e.value=e.props.join(",")}return Gt(n=Mn(e.children,i))?e.return=e.value+"{"+n+"}":""}function kn(e){return function(t){t.root||(t=t.return)&&e(t)}}function In(e){return ln(Cn("",null,null,null,[""],e=sn(e),0,[0],e))}function Cn(e,t,n,i,r,o,a,s,l){for(var c=0,u=0,d=a,h=0,p=0,g=0,f=1,m=1,y=1,b=0,v="",x=r,S=o,M=i,w=v;m;)switch(g=b,b=tn()){case 40:if(108!=g&&58==$t(w,d-1)){-1!=Ft(w+=Bt(cn(b),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:w+=cn(b);break;case 9:case 10:case 13:case 32:w+=un(g);break;case 92:w+=dn(rn()-1,7);continue;case 47:switch(nn()){case 42:case 47:Ht(An(pn(tn(),rn()),t,n),l);break;default:w+="/"}break;case 123*f:s[c++]=Gt(w)*y;case 125*f:case 59:case 0:switch(b){case 0:case 125:m=0;case 59+u:-1==y&&(w=Bt(w,/\f/g,"")),p>0&&Gt(w)-d&&Ht(p>32?Tn(w+";",i,n,d-1):Tn(Bt(w," ","")+";",i,n,d-2),l);break;case 59:w+=";";default:if(Ht(M=Dn(w,t,n,c,u,r,s,v,x=[],S=[],d),o),123===b)if(0===u)Cn(w,t,M,M,x,o,d,s,S);else switch(99===h&&110===$t(w,3)?100:h){case 100:case 108:case 109:case 115:Cn(e,M,M,i&&Ht(Dn(e,M,M,0,0,r,s,v,r,x=[],d),S),r,S,d,s,i?x:S);break;default:Cn(w,M,M,M,[""],S,0,s,S)}}c=u=p=0,f=y=1,v=w="",d=a;break;case 58:d=1+Gt(w),p=g;default:if(f<1)if(123==b)--f;else if(125==b&&0==f++&&125==en())continue;switch(w+=jt(b),b*f){case 38:y=u>0?1:(w+="\f",-1);break;case 44:s[c++]=(Gt(w)-1)*y,y=1;break;case 64:45===nn()&&(w+=cn(tn())),h=nn(),u=d=Gt(v=w+=gn(rn())),b++;break;case 45:45===g&&2==Gt(w)&&(f=0)}}return o}function Dn(e,t,n,i,r,o,a,s,l,c,u){for(var d=r-1,h=0===r?o:[""],p=Wt(h),g=0,f=0,m=0;g<i;++g)for(var y=0,b=Vt(e,d+1,d=Pt(f=a[g])),v=e;y<p;++y)(v=_t(f>0?h[y]+" "+b:Bt(b,/&\f/g,h[y])))&&(l[m++]=v);return Qt(e,t,n,0===r?vn:s,l,c,u)}function An(e,t,n){return Qt(e,t,n,bn,jt(Xt),Vt(e,2,-2),0)}function Tn(e,t,n,i){return Qt(e,t,n,xn,Vt(e,0,i),Vt(e,i+1,-1),i)}var Ln=function(e,t,n){for(var i=0,r=0;i=r,r=nn(),38===i&&12===r&&(t[n]=1),!an(r);)tn();return on(e,Zt)},Nn=function(e,t){return ln(function(e,t){var n=-1,i=44;do{switch(an(i)){case 0:38===i&&12===nn()&&(t[n]=1),e[n]+=Ln(Zt-1,t,n);break;case 2:e[n]+=cn(i);break;case 4:if(44===i){e[++n]=58===nn()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=jt(i)}}while(i=tn());return e}(sn(e),t))},En=new WeakMap,On=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||En.get(n))&&!i){En.set(e,!0);for(var r=[],o=Nn(t,r),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=r[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},Rn=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Pn(e,t){switch(function(e,t){return 45^$t(e,0)?(((t<<2^$t(e,0))<<2^$t(e,1))<<2^$t(e,2))<<2^$t(e,3):0}(e,t)){case 5103:return yn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return yn+e+mn+e+fn+e+e;case 6828:case 4268:return yn+e+fn+e+e;case 6165:return yn+e+fn+"flex-"+e+e;case 5187:return yn+e+Bt(e,/(\w+).+(:[^]+)/,yn+"box-$1$2"+fn+"flex-$1$2")+e;case 5443:return yn+e+fn+"flex-item-"+Bt(e,/flex-|-self/,"")+e;case 4675:return yn+e+fn+"flex-line-pack"+Bt(e,/align-content|flex-|-self/,"")+e;case 5548:return yn+e+fn+Bt(e,"shrink","negative")+e;case 5292:return yn+e+fn+Bt(e,"basis","preferred-size")+e;case 6060:return yn+"box-"+Bt(e,"-grow","")+yn+e+fn+Bt(e,"grow","positive")+e;case 4554:return yn+Bt(e,/([^-])(transform)/g,"$1"+yn+"$2")+e;case 6187:return Bt(Bt(Bt(e,/(zoom-|grab)/,yn+"$1"),/(image-set)/,yn+"$1"),e,"")+e;case 5495:case 3959:return Bt(e,/(image-set\([^]*)/,yn+"$1$`$1");case 4968:return Bt(Bt(e,/(.+:)(flex-)?(.*)/,yn+"box-pack:$3"+fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yn+e+e;case 4095:case 3583:case 4068:case 2532:return Bt(e,/(.+)-inline(.+)/,yn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gt(e)-1-t>6)switch($t(e,t+1)){case 109:if(45!==$t(e,t+4))break;case 102:return Bt(e,/(.+:)(.+)-([^]+)/,"$1"+yn+"$2-$3$1"+mn+(108==$t(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Ft(e,"stretch")?Pn(Bt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==$t(e,t+1))break;case 6444:switch($t(e,Gt(e)-3-(~Ft(e,"!important")&&10))){case 107:return Bt(e,":",":"+yn)+e;case 101:return Bt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yn+(45===$t(e,14)?"inline-":"")+"box$3$1"+yn+"$2$3$1"+fn+"$2box$3")+e}break;case 5936:switch($t(e,t+11)){case 114:return yn+e+fn+Bt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return yn+e+fn+Bt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return yn+e+fn+Bt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return yn+e+fn+e+e}return e}var jn=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case xn:e.return=Pn(e.value,e.length);break;case Sn:return Mn([Jt(e,{value:Bt(e.value,"@","@"+yn)})],i);case vn:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Mn([Jt(e,{props:[Bt(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return Mn([Jt(e,{props:[Bt(t,/:(plac\w+)/,":"+yn+"input-$1")]}),Jt(e,{props:[Bt(t,/:(plac\w+)/,":-moz-$1")]}),Jt(e,{props:[Bt(t,/:(plac\w+)/,fn+"input-$1")]})],i)}return""})}}],zn=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var i,r,o=e.stylisPlugins||jn,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)});var l,c=[On,Rn],u=[wn,kn(function(e){l.insert(e)})],d=function(e){var t=Wt(e);return function(n,i,r,o){for(var a="",s=0;s<t;s++)a+=e[s](n,i,r,o)||"";return a}}(c.concat(o,u));r=function(e,t,n,i){l=n,function(e){Mn(In(e),d)}(e?e+"{"+t.styles+"}":t.styles),i&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Rt({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:r};return h.sheet.hydrate(s),h};function _n(e,t,n){var i="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(i+=n+" ")}),i}var Bn=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},Fn=function(e,t,n){Bn(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}};var $n={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Vn(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Gn=/[A-Z]|^ms/g,Wn=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Hn=function(e){return 45===e.charCodeAt(1)},Un=function(e){return null!=e&&"boolean"!==typeof e},Yn=Vn(function(e){return Hn(e)?e:e.replace(Gn,"-$&").toLowerCase()}),Kn=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Wn,function(e,t,n){return Xn={name:t,styles:n,next:Xn},t})}return 1===$n[e]||Hn(e)||"number"!==typeof t||0===t?t:t+"px"};function Zn(e,t,n){if(null==n)return"";var i=n;if(void 0!==i.__emotion_styles)return i;switch(typeof n){case"boolean":return"";case"object":var r=n;if(1===r.anim)return Xn={name:r.name,styles:r.styles,next:Xn},r.name;var o=n;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)Xn={name:a.name,styles:a.styles,next:Xn},a=a.next;return o.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=Zn(e,t,n[r])+";";else for(var o in n){var a=n[o];if("object"!==typeof a){var s=a;null!=t&&void 0!==t[s]?i+=o+"{"+t[s]+"}":Un(s)&&(i+=Yn(o)+":"+Kn(o,s)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=Zn(e,t,a);switch(o){case"animation":case"animationName":i+=Yn(o)+":"+l+";";break;default:i+=o+"{"+l+"}"}}else for(var c=0;c<a.length;c++)Un(a[c])&&(i+=Yn(o)+":"+Kn(o,a[c])+";")}return i}(e,t,n);case"function":if(void 0!==e){var s=Xn,l=n(e);return Xn=s,Zn(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var Xn,qn=/label:\s*([^\s;{]+)\s*(;|$)/g;function Qn(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";Xn=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=Zn(n,t,o)):r+=o[0];for(var a=1;a<e.length;a++){if(r+=Zn(n,t,e[a]),i)r+=o[a]}qn.lastIndex=0;for(var s,l="";null!==(s=qn.exec(r));)l+="-"+s[1];var c=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:c,styles:r,next:Xn}}var Jn=!!r.useInsertionEffect&&r.useInsertionEffect,ei=Jn||function(e){return e()},ti=Jn||i.useLayoutEffect,ni=i.createContext("undefined"!==typeof HTMLElement?zn({key:"css"}):null),ii=(ni.Provider,function(e){return(0,i.forwardRef)(function(t,n){var r=(0,i.useContext)(ni);return e(t,r,n)})}),ri=i.createContext({});var oi={}.hasOwnProperty,ai="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",si=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return Bn(t,n,i),ei(function(){return Fn(t,n,i)}),null},li=ii(function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[ai],a=[r],s="";"string"===typeof e.className?s=_n(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var l=Qn(a,void 0,i.useContext(ri));s+=t.key+"-"+l.name;var c={};for(var u in e)oi.call(e,u)&&"css"!==u&&u!==ai&&(c[u]=e[u]);return c.className=s,n&&(c.ref=n),i.createElement(i.Fragment,null,i.createElement(si,{cache:t,serialized:l,isStringTag:"string"===typeof o}),i.createElement(o,c))}),ci=li;const ui=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(ri);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},di=i.createContext();const hi=()=>i.useContext(di)??!1,pi=function(e){let{value:t,...n}=e;return(0,Et.jsx)(di.Provider,{value:t??!0,...n})};function gi(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=gi(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const fi=function(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=gi(e))&&(i&&(i+=" "),i+=t);return i};function mi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=r;if("components"===o||"slots"===o)i[o]={...e[o],...i[o]};else if("componentsProps"===o||"slotProps"===o){const r=e[o],a=t[o];if(a)if(r){i[o]={...a};for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;i[o][t]=mi(r[t],a[t],n)}}else i[o]=a;else i[o]=r||{}}else"className"===o&&n&&t.className?i.className=fi(e?.className,t?.className):"style"===o&&n&&t.style?i.style={...e?.style,...t?.style}:void 0===i[o]&&(i[o]=e[o])}return i}const yi=i.createContext(void 0);function bi(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:i}=e;if(!t||!t.components||!t.components[n])return i;const r=t.components[n];return r.defaultProps?mi(r.defaultProps,i,t.components.mergeClassNameAndStyle):r.styleOverrides||r.variants?i:mi(r,i,t.components.mergeClassNameAndStyle)}({props:t,name:n,theme:{components:i.useContext(yi)}})}const vi=function(e){let{value:t,children:n}=e;return(0,Et.jsx)(yi.Provider,{value:t,children:n})},xi="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;let Si=0;const Mi={...r}.useId;function wi(e){if(void 0!==Mi){const t=Mi();return e??t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect(()=>{null==t&&(Si+=1,n(`mui-${Si}`))},[t]),r}(e)}function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ki.apply(null,arguments)}var Ii=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ci=Vn(function(e){return Ii.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),Di=function(e){return"theme"!==e},Ai=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Ci:Di},Ti=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},Li=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return Bn(t,n,i),ei(function(){return Fn(t,n,i)}),null},Ni=function e(t,n){var r,o,a=t.__emotion_real===t,s=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=Ti(t,n,a),c=l||Ai(s),u=!c("as");return function(){var d=arguments,h=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==d[0]||void 0===d[0].raw)h.push.apply(h,d);else{var p=d[0];h.push(p[0]);for(var g=d.length,f=1;f<g;f++)h.push(d[f],p[f])}var m=ii(function(e,t,n){var r=u&&e.as||s,a="",d=[],p=e;if(null==e.theme){for(var g in p={},e)p[g]=e[g];p.theme=i.useContext(ri)}"string"===typeof e.className?a=_n(t.registered,d,e.className):null!=e.className&&(a=e.className+" ");var f=Qn(h.concat(d),t.registered,p);a+=t.key+"-"+f.name,void 0!==o&&(a+=" "+o);var m=u&&void 0===l?Ai(r):c,y={};for(var b in e)u&&"as"===b||m(b)&&(y[b]=e[b]);return y.className=a,n&&(y.ref=n),i.createElement(i.Fragment,null,i.createElement(Li,{cache:t,serialized:f,isStringTag:"string"===typeof r}),i.createElement(r,y))});return m.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=h,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(t,i){return e(t,ki({},n,i,{shouldForwardProp:Ti(m,i,!0)})).apply(void 0,h)},m}}.bind(null);function Ei(e,t){return Ni(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){Ni[e]=Ni(e)});const Oi=[];function Ri(e){return Oi[0]=e,Qn(Oi)}n(219);var Pi=function(e,t){var n=arguments;if(null==t||!oi.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=ci,o[1]=function(e,t){var n={};for(var i in t)oi.call(t,i)&&(n[i]=t[i]);return n[ai]=e,n}(e,t);for(var a=2;a<r;a++)o[a]=n[a];return i.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(Pi||(Pi={}));var ji=ii(function(e,t){var n=Qn([e.styles],void 0,i.useContext(ri)),r=i.useRef();return ti(function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),o=!1,a=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==a&&(o=!0,a.setAttribute("data-emotion",e),i.hydrate([a])),r.current=[i,o],function(){i.flush()}},[t]),ti(function(){var e=r.current,i=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Fn(t,n.next,!0),i.tags.length){var o=i.tags[i.tags.length-1].nextElementSibling;i.before=o,i.flush()}t.insert("",n,i,!1)}},[t,n.name]),null});function zi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Qn(t)}function _i(){var e=zi.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Bi(e){const{styles:t,defaultTheme:n={}}=e,i="function"===typeof t?e=>{return t(void 0===(i=e)||null===i||0===Object.keys(i).length?n:e);var i}:t;return(0,Et.jsx)(ji,{styles:i})}const Fi=Qe();const $i=function(){return ui(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi)};function Vi(e){const t=Ri(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles=`@layer global{${t.styles}}`),t):e}const Gi=function(e){let{styles:t,themeId:n,defaultTheme:i={}}=e;const r=$i(i),o=n&&r[n]||r;let a="function"===typeof t?t(o):t;return o.modularCssLayers&&(a=Array.isArray(a)?a.map(e=>Vi("function"===typeof e?e(o):e)):Vi(a)),(0,Et.jsx)(Bi,{styles:a})};const Wi={};function Hi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i.useMemo(()=>{const i=e&&t[e]||t;if("function"===typeof n){const o=n(i),a=e?{...t,[e]:o}:o;return r?()=>a:a}return e?{...t,[e]:n}:{...t,...n}},[e,t,n,r])}const Ui=function(e){const{children:t,theme:n,themeId:i}=e,r=ui(Wi),o=Lt()||Wi,a=Hi(i,r,n),s=Hi(i,o,n,!0),l="rtl"===(i?a[i]:a).direction,c=function(e){const t=ui(),n=wi()||"",{modularCssLayers:i}=e;let r="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return r=i&&null===t?"string"===typeof i?i.replace(/mui(?!\.)/g,r):`@layer ${r};`:"",xi(()=>{const e=document.querySelector("head");if(!e)return;const t=e.firstChild;if(r){if(t&&t.hasAttribute?.("data-mui-layer-order")&&t.getAttribute("data-mui-layer-order")===n)return;const i=document.createElement("style");i.setAttribute("data-mui-layer-order",n),i.textContent=r,e.prepend(i)}else e.querySelector(`style[data-mui-layer-order="${n}"]`)?.remove()},[r,n]),r?(0,Et.jsx)(Gi,{styles:r}):null}(a);return(0,Et.jsx)(Ot,{theme:s,children:(0,Et.jsx)(ri.Provider,{value:a,children:(0,Et.jsx)(pi,{value:l,children:(0,Et.jsxs)(vi,{value:i?a[i].components:a.components,children:[c,t]})})})})},Yi="$$material";function Ki(e){let{theme:t,...n}=e;const i=Yi in t?t[Yi]:void 0;return(0,Et.jsx)(Ui,{...n,themeId:i?Yi:void 0,theme:i||t})}const Zi="mode",Xi="color-scheme",qi="data-color-scheme";function Qi(){}const Ji=e=>{let{key:t,storageWindow:n}=e;return n||"undefined"===typeof window||(n=window),{get(e){if("undefined"===typeof window)return;if(!n)return e;let i;try{i=n.localStorage.getItem(t)}catch{}return i||e},set:e=>{if(n)try{n.localStorage.setItem(t,e)}catch{}},subscribe:e=>{if(!n)return Qi;const i=n=>{const i=n.newValue;n.key===t&&e(i)};return n.addEventListener("storage",i),()=>{n.removeEventListener("storage",i)}}}};function er(){}function tr(e){if("undefined"!==typeof window&&"function"===typeof window.matchMedia&&"system"===e){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}}function nr(e,t){return"light"===e.mode||"system"===e.mode&&"light"===e.systemMode?t("light"):"dark"===e.mode||"system"===e.mode&&"dark"===e.systemMode?t("dark"):void 0}function ir(e){const{defaultMode:t="light",defaultLightColorScheme:n,defaultDarkColorScheme:r,supportedColorSchemes:o=[],modeStorageKey:a=Zi,colorSchemeStorageKey:s=Xi,storageWindow:l=("undefined"===typeof window?void 0:window),storageManager:c=Ji,noSsr:u=!1}=e,d=o.join(","),h=o.length>1,p=i.useMemo(()=>c?.({key:a,storageWindow:l}),[c,a,l]),g=i.useMemo(()=>c?.({key:`${s}-light`,storageWindow:l}),[c,s,l]),f=i.useMemo(()=>c?.({key:`${s}-dark`,storageWindow:l}),[c,s,l]),[m,y]=i.useState(()=>{const e=p?.get(t)||t,i=g?.get(n)||n,o=f?.get(r)||r;return{mode:e,systemMode:tr(e),lightColorScheme:i,darkColorScheme:o}}),[b,v]=i.useState(u||!h);i.useEffect(()=>{v(!0)},[]);const x=function(e){return nr(e,t=>"light"===t?e.lightColorScheme:"dark"===t?e.darkColorScheme:void 0)}(m),S=i.useCallback(e=>{y(n=>{if(e===n.mode)return n;const i=e??t;return p?.set(i),{...n,mode:i,systemMode:tr(i)}})},[p,t]),M=i.useCallback(e=>{e?"string"===typeof e?e&&!d.includes(e)?console.error(`\`${e}\` does not exist in \`theme.colorSchemes\`.`):y(t=>{const n={...t};return nr(t,t=>{"light"===t&&(g?.set(e),n.lightColorScheme=e),"dark"===t&&(f?.set(e),n.darkColorScheme=e)}),n}):y(t=>{const i={...t},o=null===e.light?n:e.light,a=null===e.dark?r:e.dark;return o&&(d.includes(o)?(i.lightColorScheme=o,g?.set(o)):console.error(`\`${o}\` does not exist in \`theme.colorSchemes\`.`)),a&&(d.includes(a)?(i.darkColorScheme=a,f?.set(a)):console.error(`\`${a}\` does not exist in \`theme.colorSchemes\`.`)),i}):y(e=>(g?.set(n),f?.set(r),{...e,lightColorScheme:n,darkColorScheme:r}))},[d,g,f,n,r]),w=i.useCallback(e=>{"system"===m.mode&&y(t=>{const n=e?.matches?"dark":"light";return t.systemMode===n?t:{...t,systemMode:n}})},[m.mode]),k=i.useRef(w);return k.current=w,i.useEffect(()=>{if("function"!==typeof window.matchMedia||!h)return;const e=function(){return k.current(...arguments)},t=window.matchMedia("(prefers-color-scheme: dark)");return t.addListener(e),e(t),()=>{t.removeListener(e)}},[h]),i.useEffect(()=>{if(h){const e=p?.subscribe(e=>{e&&!["light","dark","system"].includes(e)||S(e||t)})||er,n=g?.subscribe(e=>{e&&!d.match(e)||M({light:e})})||er,i=f?.subscribe(e=>{e&&!d.match(e)||M({dark:e})})||er;return()=>{e(),n(),i()}}},[M,S,d,t,l,h,p,g,f]),{...m,mode:b?m.mode:void 0,systemMode:b?m.systemMode:void 0,colorScheme:b?x:void 0,setMode:S,setColorScheme:M}}const rr={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"};const{CssVarsProvider:or,useColorScheme:ar,getInitColorSchemeScript:sr}=function(e){const{themeId:t,theme:n={},modeStorageKey:r=Zi,colorSchemeStorageKey:o=Xi,disableTransitionOnChange:a=!1,defaultColorScheme:s,resolveTheme:l}=e,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=i.createContext(void 0),d={},h={},p="string"===typeof s?s:s.light,g="string"===typeof s?s:s.dark;return{CssVarsProvider:function(e){const{children:c,theme:p,modeStorageKey:g=r,colorSchemeStorageKey:f=o,disableTransitionOnChange:m=a,storageManager:y,storageWindow:b=("undefined"===typeof window?void 0:window),documentNode:v=("undefined"===typeof document?void 0:document),colorSchemeNode:x=("undefined"===typeof document?void 0:document.documentElement),disableNestedContext:S=!1,disableStyleSheetGeneration:M=!1,defaultMode:w="system",forceThemeRerender:k=!1,noSsr:I}=e,C=i.useRef(!1),D=Lt(),A=i.useContext(u),T=!!A&&!S,L=i.useMemo(()=>p||("function"===typeof n?n():n),[p]),N=L[t],E=N||L,{colorSchemes:O=d,components:R=h,cssVarPrefix:P}=E,j=Object.keys(O).filter(e=>!!O[e]).join(","),z=i.useMemo(()=>j.split(","),[j]),_="string"===typeof s?s:s.light,B="string"===typeof s?s:s.dark,F=O[_]&&O[B]?w:O[E.defaultColorScheme]?.palette?.mode||E.palette?.mode,{mode:$,setMode:V,systemMode:G,lightColorScheme:W,darkColorScheme:H,colorScheme:U,setColorScheme:Y}=ir({supportedColorSchemes:z,defaultLightColorScheme:_,defaultDarkColorScheme:B,modeStorageKey:g,colorSchemeStorageKey:f,defaultMode:F,storageManager:y,storageWindow:b,noSsr:I});let K=$,Z=U;T&&(K=A.mode,Z=A.colorScheme);let X=Z||E.defaultColorScheme;E.vars&&!k&&(X=E.defaultColorScheme);const q=i.useMemo(()=>{const e=E.generateThemeVars?.()||E.vars,t={...E,components:R,colorSchemes:O,cssVarPrefix:P,vars:e};if("function"===typeof t.generateSpacing&&(t.spacing=t.generateSpacing()),X){const e=O[X];e&&"object"===typeof e&&Object.keys(e).forEach(n=>{e[n]&&"object"===typeof e[n]?t[n]={...t[n],...e[n]}:t[n]=e[n]})}return l?l(t):t},[E,X,R,O,P]),Q=E.colorSchemeSelector;xi(()=>{if(Z&&x&&Q&&"media"!==Q){const e=Q;let t=Q;if("class"===e&&(t=".%s"),"data"===e&&(t="[data-%s]"),e?.startsWith("data-")&&!e.includes("%s")&&(t=`[${e}="%s"]`),t.startsWith("."))x.classList.remove(...z.map(e=>t.substring(1).replace("%s",e))),x.classList.add(t.substring(1).replace("%s",Z));else{const e=t.replace("%s",Z).match(/\[([^\]]+)\]/);if(e){const[t,n]=e[1].split("=");n||z.forEach(e=>{x.removeAttribute(t.replace(Z,e))}),x.setAttribute(t,n?n.replace(/"|'/g,""):"")}else x.setAttribute(t,Z)}}},[Z,Q,x,z]),i.useEffect(()=>{let e;if(m&&C.current&&v){const t=v.createElement("style");t.appendChild(v.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),v.head.appendChild(t),window.getComputedStyle(v.body),e=setTimeout(()=>{v.head.removeChild(t)},1)}return()=>{clearTimeout(e)}},[Z,m,v]),i.useEffect(()=>(C.current=!0,()=>{C.current=!1}),[]);const J=i.useMemo(()=>({allColorSchemes:z,colorScheme:Z,darkColorScheme:H,lightColorScheme:W,mode:K,setColorScheme:Y,setMode:V,systemMode:G}),[z,Z,H,W,K,Y,V,G,q.colorSchemeSelector]);let ee=!0;(M||!1===E.cssVariables||T&&D?.cssVarPrefix===P)&&(ee=!1);const te=(0,Et.jsxs)(i.Fragment,{children:[(0,Et.jsx)(Ui,{themeId:N?t:void 0,theme:q,children:c}),ee&&(0,Et.jsx)(Bi,{styles:q.generateStyleSheets?.()||[]})]});return T?te:(0,Et.jsx)(u.Provider,{value:J,children:te})},useColorScheme:()=>i.useContext(u)||c,getInitColorSchemeScript:e=>function(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:i="dark",modeStorageKey:r=Zi,colorSchemeStorageKey:o=Xi,attribute:a=qi,colorSchemeNode:s="document.documentElement",nonce:l}=e||{};let c="",u=a;if("class"===a&&(u=".%s"),"data"===a&&(u="[data-%s]"),u.startsWith(".")){const e=u.substring(1);c+=`${s}.classList.remove('${e}'.replace('%s', light), '${e}'.replace('%s', dark));\n      ${s}.classList.add('${e}'.replace('%s', colorScheme));`}const d=u.match(/\[([^\]]+)\]/);if(d){const[e,t]=d[1].split("=");t||(c+=`${s}.removeAttribute('${e}'.replace('%s', light));\n      ${s}.removeAttribute('${e}'.replace('%s', dark));`),c+=`\n      ${s}.setAttribute('${e}'.replace('%s', colorScheme), ${t?`${t}.replace('%s', colorScheme)`:'""'});`}else c+=`${s}.setAttribute('${u}', colorScheme);`;return(0,Et.jsx)("script",{suppressHydrationWarning:!0,nonce:"undefined"===typeof window?l:"",dangerouslySetInnerHTML:{__html:`(function() {\ntry {\n  let colorScheme = '';\n  const mode = localStorage.getItem('${r}') || '${t}';\n  const dark = localStorage.getItem('${o}-dark') || '${i}';\n  const light = localStorage.getItem('${o}-light') || '${n}';\n  if (mode === 'system') {\n    // handle system mode\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\n    if (mql.matches) {\n      colorScheme = dark\n    } else {\n      colorScheme = light\n    }\n  }\n  if (mode === 'light') {\n    colorScheme = light;\n  }\n  if (mode === 'dark') {\n    colorScheme = dark;\n  }\n  if (colorScheme) {\n    ${c}\n  }\n} catch(e){}})();`}},"mui-color-scheme-init")}({colorSchemeStorageKey:o,defaultLightColorScheme:p,defaultDarkColorScheme:g,modeStorageKey:r,...e})}}({themeId:Yi,theme:()=>At({cssVariables:!0}),colorSchemeStorageKey:rr.colorSchemeStorageKey,modeStorageKey:rr.modeStorageKey,defaultColorScheme:{light:rr.defaultLightColorScheme,dark:rr.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:nt(e.palette,e.typography)};return t.unstable_sx=function(e){return Ke({sx:e,theme:this})},t}});const lr=or;function cr(e){let{theme:t,...n}=e;const r=i.useMemo(()=>{if("function"===typeof t)return t;const e=Yi in t?t[Yi]:t;return"colorSchemes"in e?null:"vars"in e?t:{...t,vars:null}},[t]);return r?(0,Et.jsx)(Ki,{theme:r,...n}):(0,Et.jsx)(lr,{theme:t,...n})}function ur(e){const{sx:t,...n}=e,{systemProps:i,otherProps:r}=(e=>{const t={systemProps:{},otherProps:{}},n=e?.theme?.unstable_sxConfig??Ue;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t})(n);let o;return o=Array.isArray(t)?[i,...t]:"function"===typeof t?function(){const e=t(...arguments);return l(e)?{...i,...e}:i}:{...i,...t},{...r,sx:o}}const dr=e=>e,hr=(()=>{let e=dr;return{configure(t){e=t},generate:t=>e(t),reset(){e=dr}}})(),pr={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function gr(e,t){const n=pr[t];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${hr.generate(e)}-${t}`}function fr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach(t=>{i[t]=gr(e,t,n)}),i}const mr=fr("MuiBox",["root"]),yr=At(),br=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,a=Ei("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Ke);return i.forwardRef(function(e,i){const s=$i(n),{className:l,component:c="div",...u}=ur(e);return(0,Et.jsx)(a,{as:c,ref:i,className:fi(l,o?o(r):r),theme:t&&s[t]||s,...u})})}({themeId:Yi,defaultTheme:yr,defaultClassName:mr.root,generateClassName:hr.generate}),vr=br;function xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i={};for(const r in e){const o=e[r];let a="",s=!0;for(let e=0;e<o.length;e+=1){const i=o[e];i&&(a+=(!0===s?"":" ")+t(i),s=!1,n&&n[i]&&(a+=" "+n[i]))}i[r]=a}return i}function Sr(e){const{variants:t,...n}=e,i={variants:t,style:Ri(n),isProcessed:!0};return i.style===n||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=Ri(e.style))}),i}const Mr=Qe();function wr(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function kr(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles=`@layer ${t}{${String(e.styles)}}`),e}function Ir(e){return e?(t,n)=>n[e]:null}function Cr(e,t,n){const i="function"===typeof t?t(e):t;if(Array.isArray(i))return i.flatMap(t=>Cr(e,t,n));if(Array.isArray(i?.variants)){let t;if(i.isProcessed)t=n?kr(i.style,n):i.style;else{const{variants:e,...r}=i;t=n?kr(Ri(r),n):r}return Dr(e,i.variants,[t],n)}return i?.isProcessed?n?kr(Ri(i.style),n):i.style:n?kr(Ri(i),n):i}function Dr(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let o=0;o<t.length;o+=1){const a=t[o];if("function"===typeof a.props){if(n??={...e,...e.ownerState,ownerState:e.ownerState},!a.props(n))continue}else for(const t in a.props)if(e[t]!==a.props[t]&&e.ownerState?.[t]!==a.props[t])continue e;"function"===typeof a.style?(n??={...e,...e.ownerState,ownerState:e.ownerState},i.push(r?kr(Ri(a.style(n)),r):a.style(n))):i.push(r?kr(Ri(a.style),r):a.style)}return i}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Mr,rootShouldForwardProp:i=wr,slotShouldForwardProp:r=wr}=e;function o(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==Ke));const{name:n,slot:a,skipVariantsResolver:s,skipSx:c,overridesResolver:u=Ir(Lr(a)),...d}=t,h=n&&n.startsWith("Mui")||a?"components":"custom",p=void 0!==s?s:a&&"Root"!==a&&"root"!==a||!1,g=c||!1;let f=wr;"Root"===a||"root"===a?f=i:a?f=r:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(f=void 0);const m=Ei(e,{shouldForwardProp:f,label:Tr(n,a),...d}),y=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return Cr(t,e,t.theme.modularCssLayers?h:void 0)};if(l(e)){const t=Sr(e);return function(e){return t.variants?Cr(e,t,e.theme.modularCssLayers?h:void 0):e.theme.modularCssLayers?kr(t.style,h):t.style}}return e},b=function(){const t=[];for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];const s=r.map(y),l=[];if(t.push(o),n&&u&&l.push(function(e){const t=e.theme,i=t.components?.[n]?.styleOverrides;if(!i)return null;const r={};for(const n in i)r[n]=Cr(e,i[n],e.theme.modularCssLayers?"theme":void 0);return u(e,r)}),n&&!p&&l.push(function(e){const t=e.theme,i=t?.components?.[n]?.variants;return i?Dr(e,i,[],e.theme.modularCssLayers?"theme":void 0):null}),g||l.push(Ke),Array.isArray(s[0])){const e=s.shift(),n=new Array(t.length).fill(""),i=new Array(l.length).fill("");let r;r=[...n,...e,...i],r.raw=[...n,...e.raw,...i],t.unshift(r)}const c=[...t,...s,...l],d=m(...c);return e.muiName&&(d.muiName=e.muiName),d};return m.withConfig&&(b.withConfig=m.withConfig),b}}function Tr(e,t){}function Lr(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const Nr=At();const Er=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Or=e=>Er(e)&&"classes"!==e,Rr=Ar({themeId:Yi,defaultTheme:Nr,rootShouldForwardProp:Or});function Pr(e){return bi(e)}function jr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];clearTimeout(t),t=setTimeout(()=>{e.apply(this,r)},n)}return i.clear=()=>{clearTimeout(t)},i}function zr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=i.useRef(void 0),o=i.useCallback(e=>{const n=t.map(t=>{if(null==t)return null;if("function"===typeof t){const n=t,i=n(e);return"function"===typeof i?i:()=>{n(null)}}return t.current=e,()=>{t.current=null}});return()=>{n.forEach(e=>e?.())}},t);return i.useMemo(()=>t.every(e=>null==e)?null:e=>{r.current&&(r.current(),r.current=void 0),null!=e&&(r.current=o(e))},t)}const _r=function(e){const t=i.useRef(e);return xi(()=>{t.current=e}),i.useRef(function(){return(0,t.current)(...arguments)}).current};function Br(e){return e&&e.ownerDocument||document}function Fr(e){return Br(e).defaultView||window}function $r(e){return parseInt(e,10)||0}const Vr={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function Gr(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const Wr=i.forwardRef(function(e,t){const{onChange:n,maxRows:r,minRows:o=1,style:a,value:s,...l}=e,{current:c}=i.useRef(null!=s),u=i.useRef(null),d=zr(t,u),h=i.useRef(null),p=i.useRef(null),g=i.useCallback(()=>{const t=u.current,n=p.current;if(!t||!n)return;const i=Fr(t).getComputedStyle(t);if("0px"===i.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=i.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const a=i.boxSizing,s=$r(i.paddingBottom)+$r(i.paddingTop),l=$r(i.borderBottomWidth)+$r(i.borderTopWidth),c=n.scrollHeight;n.value="x";const d=n.scrollHeight;let h=c;o&&(h=Math.max(Number(o)*d,h)),r&&(h=Math.min(Number(r)*d,h)),h=Math.max(h,d);return{outerHeightStyle:h+("border-box"===a?s+l:0),overflowing:Math.abs(h-c)<=1}},[r,o,e.placeholder]),f=_r(()=>{const e=u.current,t=g();if(!e||!t||Gr(t))return!1;const n=t.outerHeightStyle;return null!=h.current&&h.current!==n}),m=i.useCallback(()=>{const e=u.current,t=g();if(!e||!t||Gr(t))return;const n=t.outerHeightStyle;h.current!==n&&(h.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""},[g]),y=i.useRef(-1);xi(()=>{const e=jr(m),t=u?.current;if(!t)return;const n=Fr(t);let i;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(i=new ResizeObserver(()=>{f()&&(i.unobserve(t),cancelAnimationFrame(y.current),m(),y.current=requestAnimationFrame(()=>{i.observe(t)}))}),i.observe(t)),()=>{e.clear(),cancelAnimationFrame(y.current),n.removeEventListener("resize",e),i&&i.disconnect()}},[g,m,f]),xi(()=>{m()});return(0,Et.jsxs)(i.Fragment,{children:[(0,Et.jsx)("textarea",{value:s,onChange:e=>{c||m();const t=e.target,i=t.value.length,r=t.value.endsWith("\n"),o=t.selectionStart===i;r&&o&&t.setSelectionRange(i,i),n&&n(e)},ref:d,rows:o,style:a,...l}),(0,Et.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:{...Vr,...a,paddingTop:0,paddingBottom:0}})]})}),Hr=Wr;const Ur=function(e){return"string"===typeof e};function Yr(e){let{props:t,states:n,muiFormControl:i}=e;return n.reduce((e,n)=>(e[n]=t[n],i&&"undefined"===typeof t[n]&&(e[n]=i[n]),e),{})}const Kr=i.createContext(void 0);function Zr(){return i.useContext(Kr)}const Xr=function(e){return(0,Et.jsx)(Gi,{...e,defaultTheme:Nr,themeId:Yi})};const qr={theme:void 0};const Qr=function(e){let t,n;return function(i){let r=t;return void 0!==r&&i.theme===n||(qr.theme=i.theme,r=Sr(e(qr)),t=r,n=i.theme),r}},Jr=K,eo=zr,to=xi;function no(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function io(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(no(e.value)&&""!==e.value||t&&no(e.defaultValue)&&""!==e.defaultValue)}function ro(e){return gr("MuiInputBase",e)}const oo=fr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var ao;const so=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Jr(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},lo=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},co=Rr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:so})(Qr(e=>{let{theme:t}=e;return{...t.typography.body1,color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${oo.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]}})),uo=Rr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:lo})(Qr(e=>{let{theme:t}=e;const n="light"===t.palette.mode,i={color:"currentColor",...t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${oo.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${oo.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),ho=function(e){return function(t){return(0,Et.jsx)(Xr,{styles:"function"===typeof e?n=>e({theme:n,...t}):e})}}({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),po=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:o,autoFocus:s,className:l,color:c,components:u={},componentsProps:d={},defaultValue:h,disabled:p,disableInjectingGlobalStyles:g,endAdornment:f,error:m,fullWidth:y=!1,id:b,inputComponent:v="input",inputProps:x={},inputRef:S,margin:M,maxRows:w,minRows:k,multiline:I=!1,name:C,onBlur:D,onChange:A,onClick:T,onFocus:L,onKeyDown:N,onKeyUp:E,placeholder:O,readOnly:R,renderSuffix:P,rows:j,size:z,slotProps:_={},slots:B={},startAdornment:F,type:$="text",value:V,...G}=n,W=null!=x.value?x.value:V,{current:H}=i.useRef(null!=W),U=i.useRef(),Y=i.useCallback(e=>{0},[]),K=eo(U,S,x.ref,Y),[Z,X]=i.useState(!1),q=Zr();const Q=Yr({props:n,muiFormControl:q,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Q.focused=q?q.focused:Z,i.useEffect(()=>{!q&&p&&Z&&(X(!1),D&&D())},[q,p,Z,D]);const J=q&&q.onFilled,ee=q&&q.onEmpty,te=i.useCallback(e=>{io(e)?J&&J():ee&&ee()},[J,ee]);to(()=>{H&&te({value:W})},[W,te,H]);i.useEffect(()=>{te(U.current)},[]);let ne=v,ie=x;I&&"input"===ne&&(ie=j?{type:void 0,minRows:j,maxRows:j,...ie}:{type:void 0,maxRows:w,minRows:k,...ie},ne=Hr);i.useEffect(()=>{q&&q.setAdornedStart(Boolean(F))},[q,F]);const re={...n,color:Q.color||"primary",disabled:Q.disabled,endAdornment:f,error:Q.error,focused:Q.focused,formControl:q,fullWidth:y,hiddenLabel:Q.hiddenLabel,multiline:I,size:Q.size,startAdornment:F,type:$},oe=(e=>{const{classes:t,color:n,disabled:i,error:r,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:g}=e;return xr({root:["root",`color${Jr(n)}`,i&&"disabled",r&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",h&&"medium"!==h&&`size${Jr(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",i&&"disabled","search"===g&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]},ro,t)})(re),ae=B.root||u.Root||co,se=_.root||d.root||{},le=B.input||u.Input||uo;return ie={...ie,..._.input??d.input},(0,Et.jsxs)(i.Fragment,{children:[!g&&"function"===typeof ho&&(ao||(ao=(0,Et.jsx)(ho,{}))),(0,Et.jsxs)(ae,{...se,ref:t,onClick:e=>{U.current&&e.currentTarget===e.target&&U.current.focus(),T&&T(e)},...G,...!Ur(ae)&&{ownerState:{...re,...se.ownerState}},className:fi(oe.root,se.className,l,R&&"MuiInputBase-readOnly"),children:[F,(0,Et.jsx)(Kr.Provider,{value:null,children:(0,Et.jsx)(le,{"aria-invalid":Q.error,"aria-describedby":r,autoComplete:o,autoFocus:s,defaultValue:h,disabled:Q.disabled,id:b,onAnimationStart:e=>{te("mui-auto-fill-cancel"===e.animationName?U.current:{value:"x"})},name:C,placeholder:O,readOnly:R,required:Q.required,rows:j,value:W,onKeyDown:N,onKeyUp:E,type:$,...ie,...!Ur(le)&&{as:ne,ownerState:{...re,...ie.ownerState}},ref:K,className:fi(oe.input,ie.className,R&&"MuiInputBase-readOnly"),onBlur:e=>{D&&D(e),x.onBlur&&x.onBlur(e),q&&q.onBlur?q.onBlur(e):X(!1)},onChange:function(e){if(!H){const t=e.target||U.current;if(null==t)throw new Error(a(1));te({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];x.onChange&&x.onChange(e,...n),A&&A(e,...n)},onFocus:e=>{L&&L(e),x.onFocus&&x.onFocus(e),q&&q.onFocus?q.onFocus(e):X(!0)}})}),f,P?P({...Q,startAdornment:F}):null]})]})}),go=po;function fo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function mo(e){return gr("MuiInput",e)}const yo={...oo,...fr("MuiInput",["root","underline","input"])},bo=Rr(co,{shouldForwardProp:e=>Or(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...so(e,t),!n.disableUnderline&&t.underline]}})(Qr(e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${yo.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yo.disabled}, .${yo.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${yo.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n].main}`}}}})]}})),vo=Rr(uo,{name:"MuiInput",slot:"Input",overridesResolver:lo})({}),xo=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:r={},componentsProps:o,fullWidth:a=!1,inputComponent:s="input",multiline:l=!1,slotProps:c,slots:d={},type:h="text",...p}=n,g=(e=>{const{classes:t,disableUnderline:n}=e,i=xr({root:["root",!n&&"underline"],input:["input"]},mo,t);return{...t,...i}})(n),f={root:{ownerState:{disableUnderline:i}}},m=c??o?u(c??o,f):f,y=d.root??r.Root??bo,b=d.input??r.Input??vo;return(0,Et.jsx)(go,{slots:{root:y,input:b},slotProps:m,fullWidth:a,inputComponent:s,multiline:l,ref:t,type:h,...p,classes:g})});xo.muiName="Input";const So=xo;function Mo(e){return gr("MuiFilledInput",e)}const wo={...oo,...fr("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},ko=Rr(co,{shouldForwardProp:e=>Or(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...so(e,t),!n.disableUnderline&&t.underline]}})(Qr(e=>{let{theme:t}=e;const n="light"===t.palette.mode,i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r}},[`&.${wo.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:r},[`&.${wo.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${wo.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${wo.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${wo.disabled}, .${wo.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${wo.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{disableUnderline:!1,color:n},style:{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n]?.main}`}}}}),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}})),Io=Rr(uo,{name:"MuiFilledInput",slot:"Input",overridesResolver:lo})(Qr(e=>{let{theme:t}=e;return{paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}})),Co=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:r={},componentsProps:o,fullWidth:a=!1,hiddenLabel:s,inputComponent:l="input",multiline:c=!1,slotProps:d,slots:h={},type:p="text",...g}=n,f={...n,disableUnderline:i,fullWidth:a,inputComponent:l,multiline:c,type:p},m=(e=>{const{classes:t,disableUnderline:n,startAdornment:i,endAdornment:r,size:o,hiddenLabel:a,multiline:s}=e,l=xr({root:["root",!n&&"underline",i&&"adornedStart",r&&"adornedEnd","small"===o&&`size${Jr(o)}`,a&&"hiddenLabel",s&&"multiline"],input:["input"]},Mo,t);return{...t,...l}})(n),y={root:{ownerState:f},input:{ownerState:f}},b=d??o?u(y,d??o):y,v=h.root??r.Root??ko,x=h.input??r.Input??Io;return(0,Et.jsx)(go,{slots:{root:v,input:x},slotProps:b,fullWidth:a,inputComponent:l,multiline:c,ref:t,type:p,...g,classes:m})});Co.muiName="Input";const Do=Co;var Ao;const To=Rr("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Or})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Lo=Rr("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Or})(Qr(e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function No(e){return gr("MuiOutlinedInput",e)}const Eo={...oo,...fr("MuiOutlinedInput",["root","notchedOutline","input"])};const Oo=function(e){return"string"===typeof e};const Ro=function(e,t,n){return void 0===e||Oo(e)?t:{...t,ownerState:{...t.ownerState,...n}}};const Po=function(e,t,n){return"function"===typeof e?e(t,n):e};const jo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const zo=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const _o=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:r,className:o}=e;if(!t){const e=fi(n?.className,o,r?.className,i?.className),t={...n?.style,...r?.style,...i?.style},a={...n,...r,...i};return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=jo({...r,...i}),s=zo(i),l=zo(r),c=t(a),u=fi(c?.className,n?.className,o,r?.className,i?.className),d={...c?.style,...n?.style,...r?.style,...i?.style},h={...c,...n,...l,...s};return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}};function Bo(e,t){const{className:n,elementType:i,ownerState:r,externalForwardedProps:o,internalForwardedProps:a,shouldForwardComponentProp:s=!1,...l}=t,{component:c,slots:u={[e]:void 0},slotProps:d={[e]:void 0},...h}=o,p=u[e]||i,g=Po(d[e],r),{props:{component:f,...m},internalRef:y}=_o({className:n,...l,externalForwardedProps:"root"===e?h:void 0,externalSlotProps:g}),b=zr(y,g?.ref,t.ref),v="root"===e?f||c:f;return[p,Ro(p,{..."root"===e&&!c&&!u[e]&&a,..."root"!==e&&!u[e]&&a,...m,...v&&!s&&{as:v},...v&&s&&{component:v},ref:b},r)]}const Fo=Rr(co,{shouldForwardProp:e=>Or(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:so})(Qr(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Eo.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Eo.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Eo.focused} .${Eo.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{[`&.${Eo.focused} .${Eo.notchedOutline}`]:{borderColor:(t.vars||t).palette[n].main}}}}),{props:{},style:{[`&.${Eo.error} .${Eo.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Eo.disabled} .${Eo.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}})),$o=Rr(function(e){const{children:t,classes:n,className:i,label:r,notched:o,...a}=e,s=null!=r&&""!==r,l={...e,notched:o,withLabel:s};return(0,Et.jsx)(To,{"aria-hidden":!0,className:i,ownerState:l,...a,children:(0,Et.jsx)(Lo,{ownerState:l,children:s?(0,Et.jsx)("span",{children:r}):Ao||(Ao=(0,Et.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})})},{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Qr(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),Vo=Rr(uo,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:lo})(Qr(e=>{let{theme:t}=e;return{padding:"16.5px 14px",...!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},...t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]}})),Go=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiOutlinedInput"}),{components:r={},fullWidth:o=!1,inputComponent:a="input",label:s,multiline:l=!1,notched:c,slots:u={},slotProps:d={},type:h="text",...p}=n,g=(e=>{const{classes:t}=e,n=xr({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},No,t);return{...t,...n}})(n),f=Zr(),m=Yr({props:n,muiFormControl:f,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),y={...n,color:m.color||"primary",disabled:m.disabled,error:m.error,focused:m.focused,formControl:f,fullWidth:o,hiddenLabel:m.hiddenLabel,multiline:l,size:m.size,type:h},b=u.root??r.Root??Fo,v=u.input??r.Input??Vo,[x,S]=Bo("notchedOutline",{elementType:$o,className:g.notchedOutline,shouldForwardComponentProp:!0,ownerState:y,externalForwardedProps:{slots:u,slotProps:d},additionalProps:{label:null!=s&&""!==s&&m.required?(0,Et.jsxs)(i.Fragment,{children:[s,"\u2009","*"]}):s}});return(0,Et.jsx)(go,{slots:{root:b,input:v},slotProps:d,renderSuffix:e=>(0,Et.jsx)(x,{...S,notched:"undefined"!==typeof c?c:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:o,inputComponent:a,multiline:l,ref:t,type:h,...p,classes:{...g,notchedOutline:null}})});Go.muiName="Input";const Wo=Go;function Ho(e){return gr("MuiFormLabel",e)}const Uo=fr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Yo=Rr("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(Qr(e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{[`&.${Uo.focused}`]:{color:(t.vars||t).palette[n].main}}}}),{props:{},style:{[`&.${Uo.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Uo.error}`]:{color:(t.vars||t).palette.error.main}}}]}})),Ko=Rr("span",{name:"MuiFormLabel",slot:"Asterisk"})(Qr(e=>{let{theme:t}=e;return{[`&.${Uo.error}`]:{color:(t.vars||t).palette.error.main}}})),Zo=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiFormLabel"}),{children:i,className:r,color:o,component:a="label",disabled:s,error:l,filled:c,focused:u,required:d,...h}=n,p=Yr({props:n,muiFormControl:Zr(),states:["color","required","focused","disabled","error","filled"]}),g={...n,color:p.color||"primary",component:a,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required},f=(e=>{const{classes:t,color:n,focused:i,disabled:r,error:o,filled:a,required:s}=e;return xr({root:["root",`color${Jr(n)}`,r&&"disabled",o&&"error",a&&"filled",i&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]},Ho,t)})(g);return(0,Et.jsxs)(Yo,{as:a,ownerState:g,className:fi(f.root,r),ref:t,...h,children:[i,p.required&&(0,Et.jsxs)(Ko,{ownerState:g,"aria-hidden":!0,className:f.asterisk,children:["\u2009","*"]})]})}),Xo=Zo;function qo(e){return gr("MuiInputLabel",e)}fr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Qo=Rr(Xo,{shouldForwardProp:e=>Or(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Uo.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Qr(e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:i}=e;return"filled"===t&&n.shrink&&"small"===i},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}})),Jo=i.forwardRef(function(e,t){const n=Pr({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:r,shrink:o,variant:a,className:s,...l}=n,c=Zr();let u=o;"undefined"===typeof u&&c&&(u=c.filled||c.focused||c.adornedStart);const d=Yr({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h={...n,disableAnimation:i,formControl:c,shrink:u,size:d.size,variant:d.variant,required:d.required,focused:d.focused},p=(e=>{const{classes:t,formControl:n,size:i,shrink:r,disableAnimation:o,variant:a,required:s}=e,l=xr({root:["root",n&&"formControl",!o&&"animated",r&&"shrink",i&&"medium"!==i&&`size${Jr(i)}`,a],asterisk:[s&&"asterisk"]},qo,t);return{...t,...l}})(h);return(0,Et.jsx)(Qo,{"data-shrink":u,ref:t,className:fi(p.root,s),...l,ownerState:h,classes:p})}),ea=Jo;function ta(e,t){return i.isValidElement(e)&&-1!==t.indexOf(e.type.muiName??e.type?._payload?.value?.muiName)}const na=ta;function ia(e){return gr("MuiFormControl",e)}fr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const ra=Rr("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${Jr(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),oa=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiFormControl"}),{children:r,className:o,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:g=!1,size:f="medium",variant:m="outlined",...y}=n,b={...n,color:a,component:s,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:g,size:f,variant:m},v=(e=>{const{classes:t,margin:n,fullWidth:i}=e;return xr({root:["root","none"!==n&&`margin${Jr(n)}`,i&&"fullWidth"]},ia,t)})(b),[x,S]=i.useState(()=>{let e=!1;return r&&i.Children.forEach(r,t=>{if(!na(t,["Input","Select"]))return;const n=na(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}),e}),[M,w]=i.useState(()=>{let e=!1;return r&&i.Children.forEach(r,t=>{na(t,["Input","Select"])&&(io(t.props,!0)||io(t.props.inputProps,!0))&&(e=!0)}),e}),[k,I]=i.useState(!1);l&&k&&I(!1);const C=void 0===u||l?k:u;let D;i.useRef(!1);const A=i.useCallback(()=>{w(!0)},[]),T=i.useCallback(()=>{w(!1)},[]),L=i.useMemo(()=>({adornedStart:x,setAdornedStart:S,color:a,disabled:l,error:c,filled:M,focused:C,fullWidth:d,hiddenLabel:h,size:f,onBlur:()=>{I(!1)},onFocus:()=>{I(!0)},onEmpty:T,onFilled:A,registerEffect:D,required:g,variant:m}),[x,a,l,c,M,C,d,h,D,T,A,g,f,m]);return(0,Et.jsx)(Kr.Provider,{value:L,children:(0,Et.jsx)(ra,{as:s,ownerState:b,className:fi(v.root,o),ref:t,...y,children:r})})}),aa=oa;function sa(e){return gr("MuiFormHelperText",e)}const la=fr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var ca;const ua=Rr("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${Jr(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(Qr(e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,...t.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${la.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${la.error}`]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]}})),da=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiFormHelperText"}),{children:i,className:r,component:o="p",disabled:a,error:s,filled:l,focused:c,margin:u,required:d,variant:h,...p}=n,g=Yr({props:n,muiFormControl:Zr(),states:["variant","size","disabled","error","filled","focused","required"]}),f={...n,component:o,contained:"filled"===g.variant||"outlined"===g.variant,variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required};delete f.ownerState;const m=(e=>{const{classes:t,contained:n,size:i,disabled:r,error:o,filled:a,focused:s,required:l}=e;return xr({root:["root",r&&"disabled",o&&"error",i&&`size${Jr(i)}`,n&&"contained",s&&"focused",a&&"filled",l&&"required"]},sa,t)})(f);return(0,Et.jsx)(ua,{as:o,className:fi(m.root,r),ref:t,...p,ownerState:f,children:" "===i?ca||(ca=(0,Et.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):i})}),ha=da;function pa(e){return parseInt(i.version,10)>=19?e?.props?.ref||null:e?.ref||null}const ga=Br;const fa=function(e){const{elementType:t,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:r=!1,...o}=e,a=r?{}:Po(n,i),{props:s,internalRef:l}=_o({...o,externalSlotProps:a}),c=zr(l,a?.ref,e.additionalProps?.ref);return Ro(t,{...s,ref:c},i)};const ma=i.createContext({});function ya(e){return gr("MuiList",e)}fr("MuiList",["root","padding","dense","subheader"]);const ba=Rr("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),va=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiList"}),{children:r,className:o,component:a="ul",dense:s=!1,disablePadding:l=!1,subheader:c,...u}=n,d=i.useMemo(()=>({dense:s}),[s]),h={...n,component:a,dense:s,disablePadding:l},p=(e=>{const{classes:t,disablePadding:n,dense:i,subheader:r}=e;return xr({root:["root",!n&&"padding",i&&"dense",r&&"subheader"]},ya,t)})(h);return(0,Et.jsx)(ma.Provider,{value:d,children:(0,Et.jsxs)(ba,{as:a,className:fi(p.root,o),ref:t,ownerState:h,...u,children:[c,r]})})});function xa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const Sa=xa,Ma=Fr;function wa(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function ka(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Ia(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function Ca(e,t,n,i,r,o){let a=!1,s=r(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!i&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Ia(s,o)&&!t)return s.focus(),!0;s=r(e,s,n)}return!1}const Da=i.forwardRef(function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:a,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu",...h}=e,p=i.useRef(null),g=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});to(()=>{r&&p.current.focus()},[r]),i.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const i=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&i){const t=`${Sa(Ma(e))}px`;p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width=`calc(100% + ${t})`}return p.current}}),[]);const f=eo(p,t);let m=-1;i.Children.forEach(a,(e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===m)&&(m=t),m===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(m+=1,m>=a.length&&(m=-1))):m===t&&(m+=1,m>=a.length&&(m=-1))});const y=i.Children.map(a,(e,t)=>{if(t===m){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(t.tabIndex=0),i.cloneElement(e,t)}return e});return(0,Et.jsx)(va,{role:"menu",ref:f,className:s,onKeyDown:e=>{const t=p.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(u&&u(e));const i=ga(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Ca(t,i,c,l,wa);else if("ArrowUp"===n)e.preventDefault(),Ca(t,i,c,l,ka);else if("Home"===n)e.preventDefault(),Ca(t,null,c,l,wa);else if("End"===n)e.preventDefault(),Ca(t,null,c,l,ka);else if(1===n.length){const r=g.current,o=n.toLowerCase(),a=performance.now();r.keys.length>0&&(a-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&o!==r.keys[0]&&(r.repeating=!1)),r.lastTime=a,r.keys.push(o);const s=i&&!r.repeating&&Ia(i,r);r.previousKeyMatched&&(s||Ca(t,i,!1,l,wa,r))?e.preventDefault():r.previousKeyMatched=!1}u&&u(e)},tabIndex:r?0:-1,...h,children:y})}),Aa=jr,Ta={};function La(e,t){const n=i.useRef(Ta);return n.current===Ta&&(n.current=e(t)),n}const Na=[];class Ea{static create(){return new Ea}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Oa(){const e=La(Ea.create).current;var t;return t=e.disposeEffect,i.useEffect(t,Na),e}function Ra(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}function Pa(e,t){return Pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pa(e,t)}function ja(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pa(e,t)}var za=n(950);const _a=!1,Ba=i.createContext(null);var Fa="unmounted",$a="exited",Va="entering",Ga="entered",Wa="exiting",Ha=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=$a,i.appearStatus=Va):r=Ga:r=t.unmountOnExit||t.mountOnEnter?Fa:$a,i.state={status:r},i.nextCallback=null,i}ja(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Fa?{status:$a}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Va&&n!==Ga&&(t=Va):n!==Va&&n!==Ga||(t=Wa)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Va){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:za.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===$a&&this.setState({status:Fa})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[za.findDOMNode(this),i],o=r[0],a=r[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!e&&!n||_a?this.safeSetState({status:Ga},function(){t.props.onEntered(o)}):(this.props.onEnter(o,a),this.safeSetState({status:Va},function(){t.props.onEntering(o,a),t.onTransitionEnd(l,function(){t.safeSetState({status:Ga},function(){t.props.onEntered(o,a)})})}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:za.findDOMNode(this);t&&!_a?(this.props.onExit(i),this.safeSetState({status:Wa},function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:$a},function(){e.props.onExited(i)})})})):this.safeSetState({status:$a},function(){e.props.onExited(i)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:za.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],a=r[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Fa)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Ra(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Ba.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function Ua(){}Ha.contextType=Ba,Ha.propTypes={},Ha.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ua,onEntering:Ua,onEntered:Ua,onExit:Ua,onExiting:Ua,onExited:Ua},Ha.UNMOUNTED=Fa,Ha.EXITED=$a,Ha.ENTERING=Va,Ha.ENTERED=Ga,Ha.EXITING=Wa;const Ya=Ha;function Ka(){const e=$i(Nr);return e[Yi]||e}const Za=e=>e.scrollTop;function Xa(e,t){const{timeout:n,easing:i,style:r={}}=e;return{duration:r.transitionDuration??("number"===typeof n?n:n[t.mode]||0),easing:r.transitionTimingFunction??("object"===typeof i?i[t.mode]:i),delay:r.transitionDelay}}function qa(e){return`scale(${e}, ${e**2})`}const Qa={entering:{opacity:1,transform:qa(1)},entered:{opacity:1,transform:"none"}},Ja="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),es=i.forwardRef(function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:a,in:s,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:g,timeout:f="auto",TransitionComponent:m=Ya,...y}=e,b=Oa(),v=i.useRef(),x=Ka(),S=i.useRef(null),M=eo(S,pa(o),t),w=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},k=w(u),I=w((e,t)=>{Za(e);const{duration:n,delay:i,easing:r}=Xa({style:g,timeout:f,easing:a},{mode:"enter"});let o;"auto"===f?(o=x.transitions.getAutoHeightDuration(e.clientHeight),v.current=o):o=n,e.style.transition=[x.transitions.create("opacity",{duration:o,delay:i}),x.transitions.create("transform",{duration:Ja?o:.666*o,delay:i,easing:r})].join(","),l&&l(e,t)}),C=w(c),D=w(p),A=w(e=>{const{duration:t,delay:n,easing:i}=Xa({style:g,timeout:f,easing:a},{mode:"exit"});let r;"auto"===f?(r=x.transitions.getAutoHeightDuration(e.clientHeight),v.current=r):r=t,e.style.transition=[x.transitions.create("opacity",{duration:r,delay:n}),x.transitions.create("transform",{duration:Ja?r:.666*r,delay:Ja?n:n||.333*r,easing:i})].join(","),e.style.opacity=0,e.style.transform=qa(.75),d&&d(e)}),T=w(h);return(0,Et.jsx)(m,{appear:r,in:s,nodeRef:S,onEnter:I,onEntered:C,onEntering:k,onExit:A,onExited:T,onExiting:D,addEndListener:e=>{"auto"===f&&b.start(v.current||0,e),n&&n(S.current,e)},timeout:"auto"===f?null:f,...y,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(o,{style:{opacity:0,transform:qa(.75),visibility:"exited"!==e||s?void 0:"hidden",...Qa[e],...g,...o.props.style},ref:M,...r})}})});es&&(es.muiSupportAuto=!0);const ts=es,ns=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function is(e){const t=[],n=[];return Array.from(e.querySelectorAll(ns)).forEach((e,i)=>{const r=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==r&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===r?t.push(e):n.push({documentOrder:i,tabIndex:r,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function rs(){return!0}const os=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:a=is,isEnabled:s=rs,open:l}=e,c=i.useRef(!1),u=i.useRef(null),d=i.useRef(null),h=i.useRef(null),p=i.useRef(null),g=i.useRef(!1),f=i.useRef(null),m=zr(pa(t),f),y=i.useRef(null);i.useEffect(()=>{l&&f.current&&(g.current=!n)},[n,l]),i.useEffect(()=>{if(!l||!f.current)return;const e=Br(f.current);return f.current.contains(e.activeElement)||(f.current.hasAttribute("tabIndex")||f.current.setAttribute("tabIndex","-1"),g.current&&f.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}},[l]),i.useEffect(()=>{if(!l||!f.current)return;const e=Br(f.current),t=t=>{y.current=t,!r&&s()&&"Tab"===t.key&&e.activeElement===f.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=f.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!g.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=a(f.current)),n.length>0){const e=Boolean(y.current?.shiftKey&&"Tab"===y.current?.key),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[n,r,o,s,l,a]);const b=e=>{null===h.current&&(h.current=e.relatedTarget),g.current=!0};return(0,Et.jsxs)(i.Fragment,{children:[(0,Et.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:u,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:m,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),g.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,Et.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:d,"data-testid":"sentinelEnd"})]})};function as(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const ss=i.forwardRef(function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[a,s]=i.useState(null),l=zr(i.isValidElement(n)?pa(n):null,t);if(xi(()=>{o||s(function(e){return"function"===typeof e?e():e}(r)||document.body)},[r,o]),xi(()=>{if(a&&!o)return as(t,a),()=>{as(t,null)}},[t,a,o]),o){if(i.isValidElement(n)){const e={ref:l};return i.cloneElement(n,e)}return n}return a?za.createPortal(n,a):a}),ls={entering:{opacity:1},entered:{opacity:1}},cs=i.forwardRef(function(e,t){const n=Ka(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:s,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:g,onExiting:f,style:m,timeout:y=r,TransitionComponent:b=Ya,...v}=e,x=i.useRef(null),S=eo(x,pa(s),t),M=e=>t=>{if(e){const n=x.current;void 0===t?e(n):e(n,t)}},w=M(h),k=M((e,t)=>{Za(e);const i=Xa({style:m,timeout:y,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",i),e.style.transition=n.transitions.create("opacity",i),u&&u(e,t)}),I=M(d),C=M(f),D=M(e=>{const t=Xa({style:m,timeout:y,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),p&&p(e)}),A=M(g);return(0,Et.jsx)(b,{appear:a,in:c,nodeRef:x,onEnter:k,onEntered:I,onEntering:w,onExit:D,onExited:A,onExiting:C,addEndListener:e=>{o&&o(x.current,e)},timeout:y,...v,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(s,{style:{opacity:0,visibility:"exited"!==e||c?void 0:"hidden",...ls[e],...m,...s.props.style},ref:S,...r})}})}),us=cs;function ds(e){return gr("MuiBackdrop",e)}fr("MuiBackdrop",["root","invisible"]);const hs=Rr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),ps=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiBackdrop"}),{children:i,className:r,component:o="div",invisible:a=!1,open:s,components:l={},componentsProps:c={},slotProps:u={},slots:d={},TransitionComponent:h,transitionDuration:p,...g}=n,f={...n,component:o,invisible:a},m=(e=>{const{classes:t,invisible:n}=e;return xr({root:["root",n&&"invisible"]},ds,t)})(f),y={component:o,slots:{transition:h,root:l.Root,...d},slotProps:{...c,...u}},[b,v]=Bo("root",{elementType:hs,externalForwardedProps:y,className:fi(m.root,r),ownerState:f}),[x,S]=Bo("transition",{elementType:us,externalForwardedProps:y,ownerState:f});return(0,Et.jsx)(x,{in:s,timeout:p,...g,...S,children:(0,Et.jsx)(b,{"aria-hidden":!0,...v,classes:m,ref:t,children:i})})});function gs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)},()=>{})}function fs(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ms(e){return parseInt(Fr(e).getComputedStyle(e).paddingRight,10)||0}function ys(e,t,n,i,r){const o=[t,n,...i];[].forEach.call(e.children,e=>{const t=!o.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&fs(e,r)})}function bs(e,t){let n=-1;return e.some((e,i)=>!!t(e)&&(n=i,!0)),n}function vs(e,t){const n=[],i=e.container;if(!t.disableScrollLock){if(function(e){const t=Br(e);return t.body===e?Fr(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(i)){const e=xa(Fr(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${ms(i)+e}px`;const t=Br(i).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${ms(t)+e}px`})}let e;if(i.parentNode instanceof DocumentFragment)e=Br(i).body;else{const t=i.parentElement,n=Fr(i);e="HTML"===t?.nodeName&&"scroll"===n.getComputedStyle(t).overflowY?t:i}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:i}=e;t?n.style.setProperty(i,t):n.style.removeProperty(i)})}}const xs=()=>{},Ss=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&fs(e.modalRef,!1);const i=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);ys(t,e.mount,e.modalRef,i,!0);const r=bs(this.containers,e=>e.container===t);return-1!==r?(this.containers[r].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n)}mount(e,t){const n=bs(this.containers,t=>t.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=vs(i,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const i=bs(this.containers,t=>t.modals.includes(e)),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(n,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&fs(e.modalRef,t),ys(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(i,1);else{const e=r.modals[r.modals.length-1];e.modalRef&&fs(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Ms=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:s,children:l,onClose:c,open:u,rootRef:d}=e,h=i.useRef({}),p=i.useRef(null),g=i.useRef(null),f=zr(g,d),[m,y]=i.useState(!u),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let v=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(v=!1);const x=()=>(h.current.modalRef=g.current,h.current.mount=p.current,h.current),S=()=>{Ss.mount(x(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},M=_r(()=>{const e=function(e){return"function"===typeof e?e():e}(t)||Br(p.current).body;Ss.add(x(),e),g.current&&S()}),w=()=>Ss.isTopModal(x()),k=_r(e=>{p.current=e,e&&(u&&w()?S():g.current&&fs(g.current,v))}),I=i.useCallback(()=>{Ss.remove(x(),v)},[v]);i.useEffect(()=>()=>{I()},[I]),i.useEffect(()=>{u?M():b&&o||I()},[u,I,b,o,M]);const C=e=>t=>{e.onKeyDown?.(t),"Escape"===t.key&&229!==t.which&&w()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},D=e=>t=>{e.onClick?.(t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=jo(e);delete n.onTransitionEnter,delete n.onTransitionExited;const i={...n,...t};return{role:"presentation",...i,onKeyDown:C(i),ref:f}},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{"aria-hidden":!0,...e,onClick:D(e),open:u}},getTransitionProps:()=>({onEnter:gs(()=>{y(!1),a&&a()},l?.props.onEnter??xs),onExited:gs(()=>{y(!0),s&&s(),o&&I()},l?.props.onExited??xs)}),rootRef:f,portalRef:k,isTopModal:w,exited:m,hasTransition:b}};function ws(e){return gr("MuiModal",e)}fr("MuiModal",["root","hidden","backdrop"]);const ks=Rr("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Qr(e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}})),Is=Rr(ps,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Cs=i.forwardRef(function(e,t){const n=Pr({name:"MuiModal",props:e}),{BackdropComponent:r=Is,BackdropProps:o,classes:a,className:s,closeAfterTransition:l=!1,children:c,container:u,component:d,components:h={},componentsProps:p={},disableAutoFocus:g=!1,disableEnforceFocus:f=!1,disableEscapeKeyDown:m=!1,disablePortal:y=!1,disableRestoreFocus:b=!1,disableScrollLock:v=!1,hideBackdrop:x=!1,keepMounted:S=!1,onClose:M,onTransitionEnter:w,onTransitionExited:k,open:I,slotProps:C={},slots:D={},theme:A,...T}=n,L={...n,closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:f,disableEscapeKeyDown:m,disablePortal:y,disableRestoreFocus:b,disableScrollLock:v,hideBackdrop:x,keepMounted:S},{getRootProps:N,getBackdropProps:E,getTransitionProps:O,portalRef:R,isTopModal:P,exited:j,hasTransition:z}=Ms({...L,rootRef:t}),_={...L,exited:j},B=(e=>{const{open:t,exited:n,classes:i}=e;return xr({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},ws,i)})(_),F={};if(void 0===c.props.tabIndex&&(F.tabIndex="-1"),z){const{onEnter:e,onExited:t}=O();F.onEnter=e,F.onExited=t}const $={slots:{root:h.Root,backdrop:h.Backdrop,...D},slotProps:{...p,...C}},[V,G]=Bo("root",{ref:t,elementType:ks,externalForwardedProps:{...$,...T,component:d},getSlotProps:N,ownerState:_,className:fi(s,B?.root,!_.open&&_.exited&&B?.hidden)}),[W,H]=Bo("backdrop",{ref:o?.ref,elementType:r,externalForwardedProps:$,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:e=>E({...e,onClick:t=>{e?.onClick&&e.onClick(t)}}),className:fi(o?.className,B?.backdrop),ownerState:_});return S||I||z&&!j?(0,Et.jsx)(ss,{ref:R,container:u,disablePortal:y,children:(0,Et.jsxs)(V,{...G,children:[!x&&r?(0,Et.jsx)(W,{...H}):null,(0,Et.jsx)(os,{disableEnforceFocus:f,disableAutoFocus:g,disableRestoreFocus:b,isEnabled:P,open:I,children:i.cloneElement(c,F)})]})}):null}),Ds=Cs;function As(e){return gr("MuiPaper",e)}fr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Ts=Rr("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})(Qr(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(t.vars||t).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}})),Ls=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiPaper"}),i=Ka(),{className:r,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation",...c}=n,u={...n,component:o,elevation:a,square:s,variant:l},d=(e=>{const{square:t,elevation:n,variant:i,classes:r}=e;return xr({root:["root",i,!t&&"rounded","elevation"===i&&`elevation${n}`]},As,r)})(u);return(0,Et.jsx)(Ts,{as:o,ownerState:u,className:fi(d.root,r),ref:t,...c,style:{..."elevation"===l&&{"--Paper-shadow":(i.vars||i).shadows[a],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[a]},...!i.vars&&"dark"===i.palette.mode&&{"--Paper-overlay":`linear-gradient(${b("#fff",gt(a))}, ${b("#fff",gt(a))})`}},...c.style}})});function Ns(e){return gr("MuiPopover",e)}fr("MuiPopover",["root","paper"]);function Es(e,t){if(!e)return t;function n(e,t){const n={};return Object.keys(t).forEach(i=>{(function(e,t){const n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"===typeof t})(i,t[i])&&"function"===typeof e[i]&&(n[i]=function(){e[i](...arguments),t[i](...arguments)})}),n}if("function"===typeof e||"function"===typeof t)return i=>{const r="function"===typeof t?t(i):t,o="function"===typeof e?e({...i,...r}):e,a=fi(i?.className,r?.className,o?.className),s=n(o,r);return{...r,...o,...s,...!!a&&{className:a},...r?.style&&o?.style&&{style:{...r.style,...o.style}},...r?.sx&&o?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}};const i=t,r=n(e,i),o=fi(i?.className,e?.className);return{...t,...e,...r,...!!o&&{className:o},...i?.style&&e?.style&&{style:{...i.style,...e.style}},...i?.sx&&e?.sx&&{sx:[...Array.isArray(i.sx)?i.sx:[i.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function Os(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Rs(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Ps(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?`${e}px`:e).join(" ")}function js(e){return"function"===typeof e?e():e}const zs=Rr(Ds,{name:"MuiPopover",slot:"Root"})({}),_s=Rr(Ls,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Bs=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiPopover"}),{action:r,anchorEl:o,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:l="anchorEl",children:c,className:u,container:d,elevation:h=8,marginThreshold:p=16,open:g,PaperProps:f={},slots:m={},slotProps:y={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:v,transitionDuration:x="auto",TransitionProps:S={},disableScrollLock:M=!1,...w}=n,k=i.useRef(),I={...n,anchorOrigin:a,anchorReference:l,elevation:h,marginThreshold:p,transformOrigin:b,TransitionComponent:v,transitionDuration:x,TransitionProps:S},C=(e=>{const{classes:t}=e;return xr({root:["root"],paper:["paper"]},Ns,t)})(I),D=i.useCallback(()=>{if("anchorPosition"===l)return s;const e=js(o),t=(e&&1===e.nodeType?e:ga(k.current).body).getBoundingClientRect();return{top:t.top+Os(t,a.vertical),left:t.left+Rs(t,a.horizontal)}},[o,a.horizontal,a.vertical,s,l]),A=i.useCallback(e=>({vertical:Os(e,b.vertical),horizontal:Rs(e,b.horizontal)}),[b.horizontal,b.vertical]),T=i.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=A(t);if("none"===l)return{top:null,left:null,transformOrigin:Ps(n)};const i=D();let r=i.top-n.vertical,a=i.left-n.horizontal;const s=r+t.height,c=a+t.width,u=Ma(js(o)),d=u.innerHeight-p,h=u.innerWidth-p;if(null!==p&&r<p){const e=r-p;r-=e,n.vertical+=e}else if(null!==p&&s>d){const e=s-d;r-=e,n.vertical+=e}if(null!==p&&a<p){const e=a-p;a-=e,n.horizontal+=e}else if(c>h){const e=c-h;a-=e,n.horizontal+=e}return{top:`${Math.round(r)}px`,left:`${Math.round(a)}px`,transformOrigin:Ps(n)}},[o,l,D,A,p]),[L,N]=i.useState(g),E=i.useCallback(()=>{const e=k.current;if(!e)return;const t=T(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,N(!0)},[T]);i.useEffect(()=>(M&&window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)),[o,M,E]);i.useEffect(()=>{g&&E()}),i.useImperativeHandle(r,()=>g?{updatePosition:()=>{E()}}:null,[g,E]),i.useEffect(()=>{if(!g)return;const e=Aa(()=>{E()}),t=Ma(js(o));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[o,g,E]);let O=x;const R={slots:{transition:v,...m},slotProps:{transition:S,paper:f,...y}},[P,j]=Bo("transition",{elementType:ts,externalForwardedProps:R,ownerState:I,getSlotProps:e=>({...e,onEntering:(t,n)=>{e.onEntering?.(t,n),E()},onExited:t=>{e.onExited?.(t),N(!1)}}),additionalProps:{appear:!0,in:g}});"auto"!==x||P.muiSupportAuto||(O=void 0);const z=d||(o?ga(js(o)).body:void 0),[_,{slots:B,slotProps:F,...$}]=Bo("root",{ref:t,elementType:zs,externalForwardedProps:{...R,...w},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:m.backdrop},slotProps:{backdrop:Es("function"===typeof y.backdrop?y.backdrop(I):y.backdrop,{invisible:!0})},container:z,open:g},ownerState:I,className:fi(C.root,u)}),[V,G]=Bo("paper",{ref:k,className:C.paper,elementType:_s,externalForwardedProps:R,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:L?void 0:{opacity:0}},ownerState:I});return(0,Et.jsx)(_,{...$,...!Ur(_)&&{slots:B,slotProps:F,disableScrollLock:M},children:(0,Et.jsx)(P,{...j,timeout:O,children:(0,Et.jsx)(V,{...G,children:c})})})}),Fs=Bs;function $s(e){return gr("MuiMenu",e)}fr("MuiMenu",["root","paper","list"]);const Vs={vertical:"top",horizontal:"right"},Gs={vertical:"top",horizontal:"left"},Ws=Rr(Fs,{shouldForwardProp:e=>Or(e)||"classes"===e,name:"MuiMenu",slot:"Root"})({}),Hs=Rr(_s,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Us=Rr(Da,{name:"MuiMenu",slot:"List"})({outline:0}),Ys=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:o,className:a,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:c,open:u,PaperProps:d={},PopoverClasses:h,transitionDuration:p="auto",TransitionProps:{onEntering:g,...f}={},variant:m="selectedMenu",slots:y={},slotProps:b={},...v}=n,x=hi(),S={...n,autoFocus:r,disableAutoFocusItem:s,MenuListProps:l,onEntering:g,PaperProps:d,transitionDuration:p,TransitionProps:f,variant:m},M=(e=>{const{classes:t}=e;return xr({root:["root"],paper:["paper"],list:["list"]},$s,t)})(S),w=r&&!s&&u,k=i.useRef(null);let I=-1;i.Children.map(o,(e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===I)&&(I=t))});const C={slots:y,slotProps:{list:l,transition:f,paper:d,...b}},D=fa({elementType:y.root,externalSlotProps:b.root,ownerState:S,className:[M.root,a]}),[A,T]=Bo("paper",{className:M.paper,elementType:Hs,externalForwardedProps:C,shouldForwardComponentProp:!0,ownerState:S}),[L,N]=Bo("list",{className:fi(M.list,l.className),elementType:Us,shouldForwardComponentProp:!0,externalForwardedProps:C,getSlotProps:e=>({...e,onKeyDown:t=>{(e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))})(t),e.onKeyDown?.(t)}}),ownerState:S}),E="function"===typeof C.slotProps.transition?C.slotProps.transition(S):C.slotProps.transition;return(0,Et.jsx)(Ws,{onClose:c,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?Vs:Gs,slots:{root:y.root,paper:A,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:D,paper:T,backdrop:"function"===typeof b.backdrop?b.backdrop(S):b.backdrop,transition:{...E,onEntering:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];((e,t)=>{k.current&&k.current.adjustStyleForScrollbar(e,{direction:x?"rtl":"ltr"}),g&&g(e,t)})(...t),E?.onEntering?.(...t)}}},open:u,ref:t,transitionDuration:p,ownerState:S,...v,classes:h,children:(0,Et.jsx)(L,{actions:k,autoFocus:r&&(-1===I||s),autoFocusItem:w,variant:m,...N,children:o})})});function Ks(e){return gr("MuiNativeSelect",e)}const Zs=fr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Xs=Rr("select",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Zs.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}}),qs=Rr(Xs,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Or,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Zs.multiple}`]:t.multiple}]}})({}),Qs=Rr("svg",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Zs.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}}),Js=Rr(Qs,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Jr(n.variant)}`],n.open&&t.iconOpen]}})({}),el=i.forwardRef(function(e,t){const{className:n,disabled:r,error:o,IconComponent:a,inputRef:s,variant:l="standard",...c}=e,u={...e,disabled:r,variant:l,error:o},d=(e=>{const{classes:t,variant:n,disabled:i,multiple:r,open:o,error:a}=e;return xr({select:["select",n,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${Jr(n)}`,o&&"iconOpen",i&&"disabled"]},Ks,t)})(u);return(0,Et.jsxs)(i.Fragment,{children:[(0,Et.jsx)(qs,{ownerState:u,className:fi(d.select,n),disabled:r,ref:s||t,...c}),e.multiple?null:(0,Et.jsx)(Js,{as:a,ownerState:u,className:d.icon})]})}),tl=el;const nl=function(e){const{controlled:t,default:n,name:r,state:o="value"}=e,{current:a}=i.useRef(void 0!==t),[s,l]=i.useState(n);return[a?t:s,i.useCallback(e=>{a||l(e)},[])]};function il(e){return gr("MuiSelect",e)}const rl=fr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var ol;const al=Rr(Xs,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${rl.select}`]:t.select},{[`&.${rl.select}`]:t[n.variant]},{[`&.${rl.error}`]:t.error},{[`&.${rl.multiple}`]:t.multiple}]}})({[`&.${rl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),sl=Rr(Qs,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${Jr(n.variant)}`],n.open&&t.iconOpen]}})({}),ll=Rr("input",{shouldForwardProp:e=>Er(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function cl(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function ul(e){return null==e||"string"===typeof e&&!e.trim()}const dl=i.forwardRef(function(e,t){const{"aria-describedby":n,"aria-label":r,autoFocus:o,autoWidth:s,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:g=!1,IconComponent:f,inputRef:m,labelId:y,MenuProps:b={},multiple:v,name:x,onBlur:S,onChange:M,onClose:w,onFocus:k,onOpen:I,open:C,readOnly:D,renderValue:A,required:T,SelectDisplayProps:L={},tabIndex:N,type:E,value:O,variant:R="standard",...P}=e,[j,z]=nl({controlled:O,default:d,name:"Select"}),[_,B]=nl({controlled:C,default:u,name:"Select"}),F=i.useRef(null),$=i.useRef(null),[V,G]=i.useState(null),{current:W}=i.useRef(null!=C),[H,U]=i.useState(),Y=eo(t,m),K=i.useCallback(e=>{$.current=e,e&&G(e)},[]),Z=V?.parentNode;i.useImperativeHandle(Y,()=>({focus:()=>{$.current.focus()},node:F.current,value:j}),[j]),i.useEffect(()=>{u&&_&&V&&!W&&(U(s?null:Z.clientWidth),$.current.focus())},[V,s]),i.useEffect(()=>{o&&$.current.focus()},[o]),i.useEffect(()=>{if(!y)return;const e=ga($.current).getElementById(y);if(e){const t=()=>{getSelection().isCollapsed&&$.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[y]);const X=(e,t)=>{e?I&&I(t):w&&w(t),W||(U(s?null:Z.clientWidth),B(e))},q=i.Children.toArray(l),Q=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(v){n=Array.isArray(j)?j.slice():[];const t=j.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),j!==n&&(z(n),M)){const i=t.nativeEvent||t,r=new i.constructor(i.type,i);Object.defineProperty(r,"target",{writable:!0,value:{value:n,name:x}}),M(r,e)}v||X(!1,t)}},J=null!==V&&_;let ee,te;delete P["aria-invalid"];const ne=[];let ie=!1,re=!1;(io({value:j})||p)&&(A?ee=A(j):ie=!0);const oe=q.map(e=>{if(!i.isValidElement(e))return null;let t;if(v){if(!Array.isArray(j))throw new Error(a(2));t=j.some(t=>cl(t,e.props.value)),t&&ie&&ne.push(e.props.children)}else t=cl(j,e.props.value),t&&ie&&(te=e.props.children);return t&&(re=!0),i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Q(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})});ie&&(ee=v?0===ne.length?null:ne.reduce((e,t,n)=>(e.push(t),n<ne.length-1&&e.push(", "),e),[]):te);let ae,se=H;!s&&W&&V&&(se=Z.clientWidth),ae="undefined"!==typeof N?N:h?null:0;const le=L.id||(x?`mui-component-select-${x}`:void 0),ce={...e,variant:R,value:j,open:J,error:g},ue=(e=>{const{classes:t,variant:n,disabled:i,multiple:r,open:o,error:a}=e;return xr({select:["select",n,i&&"disabled",r&&"multiple",a&&"error"],icon:["icon",`icon${Jr(n)}`,o&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]},il,t)})(ce),de={...b.PaperProps,...b.slotProps?.paper},he={...b.MenuListProps,...b.slotProps?.list},pe=wi();return(0,Et.jsxs)(i.Fragment,{children:[(0,Et.jsx)(al,{as:"div",ref:K,tabIndex:ae,role:"combobox","aria-controls":J?pe:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":J?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[y,le].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":T?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:e=>{if(!D){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),X(!0,e))}},onMouseDown:h||D?null:e=>{0===e.button&&(e.preventDefault(),$.current.focus(),X(!0,e))},onBlur:e=>{!J&&S&&(Object.defineProperty(e,"target",{writable:!0,value:{value:j,name:x}}),S(e))},onFocus:k,...L,ownerState:ce,className:fi(L.className,ue.select,c),id:le,children:ul(ee)?ol||(ol=(0,Et.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):ee}),(0,Et.jsx)(ll,{"aria-invalid":g,value:Array.isArray(j)?j.join(","):j,name:x,ref:F,"aria-hidden":!0,onChange:e=>{const t=q.find(t=>t.props.value===e.target.value);void 0!==t&&(z(t.props.value),M&&M(e,t))},tabIndex:-1,disabled:h,className:ue.nativeInput,autoFocus:o,required:T,...P,ownerState:ce}),(0,Et.jsx)(sl,{as:f,className:ue.icon,ownerState:ce}),(0,Et.jsx)(Ys,{id:`menu-${x||""}`,anchorEl:Z,open:J,onClose:e=>{X(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...b,slotProps:{...b.slotProps,list:{"aria-labelledby":y,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:pe,...he},paper:{...de,style:{minWidth:se,...null!=de?de.style:null}}},children:oe})]})}),hl=dl;function pl(e){return gr("MuiSvgIcon",e)}fr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const gl=Rr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${Jr(n.color)}`],t[`fontSize${Jr(n.fontSize)}`]]}})(Qr(e=>{let{theme:t}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:t.transitions?.create?.("fill",{duration:(t.vars??t).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:t.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:t.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:t.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars??t).palette?.[n]?.main}}}),{props:{color:"action"},style:{color:(t.vars??t).palette?.action?.active}},{props:{color:"disabled"},style:{color:(t.vars??t).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),fl=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24",...p}=n,g=i.isValidElement(r)&&"svg"===r.type,f={...n,color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:g},m={};u||(m.viewBox=h);const y=(e=>{const{color:t,fontSize:n,classes:i}=e;return xr({root:["root","inherit"!==t&&`color${Jr(t)}`,`fontSize${Jr(n)}`]},pl,i)})(f);return(0,Et.jsxs)(gl,{as:s,className:fi(y.root,o),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t,...m,...p,...g&&r.props,ownerState:f,children:[g?r.props.children:r,d?(0,Et.jsx)("title",{children:d}):null]})});fl.muiName="SvgIcon";const ml=fl;function yl(e,t){function n(t,n){return(0,Et.jsx)(ml,{"data-testid":void 0,ref:n,...t,children:e})}return n.muiName=ml.muiName,i.memo(i.forwardRef(n))}const bl=yl((0,Et.jsx)("path",{d:"M7 10l5 5 5-5z"})),vl={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Or(e)&&"variant"!==e},xl=Rr(So,vl)(""),Sl=Rr(Wo,vl)(""),Ml=Rr(Do,vl)(""),wl=i.forwardRef(function(e,t){const n=Pr({name:"MuiSelect",props:e}),{autoWidth:r=!1,children:o,classes:a={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=bl,id:h,input:p,inputProps:g,label:f,labelId:m,MenuProps:y,multiple:b=!1,native:v=!1,onClose:x,onOpen:S,open:M,renderValue:w,SelectDisplayProps:k,variant:I="outlined",...C}=n,D=v?tl:hl,A=Yr({props:n,muiFormControl:Zr(),states:["variant","error"]}),T=A.variant||I,L={...n,variant:T,classes:a},N=(e=>{const{classes:t}=e,n=xr({root:["root"]},il,t);return{...t,...n}})(L),{root:E,...O}=N,R=p||{standard:(0,Et.jsx)(xl,{ownerState:L}),outlined:(0,Et.jsx)(Sl,{label:f,ownerState:L}),filled:(0,Et.jsx)(Ml,{ownerState:L})}[T],P=eo(t,pa(R));return(0,Et.jsx)(i.Fragment,{children:i.cloneElement(R,{inputComponent:D,inputProps:{children:o,error:A.error,IconComponent:d,variant:T,type:void 0,multiple:b,...v?{id:h}:{autoWidth:r,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:y,onClose:x,onOpen:S,open:M,renderValue:w,SelectDisplayProps:{id:h,...k}},...g,classes:g?u(O,g.classes):O,...p?p.props.inputProps:{}},...(b&&v||c)&&"outlined"===T?{notched:!0}:{},ref:P,className:fi(R.props.className,s,N.root),...!p&&{variant:T},...C})})});wl.muiName="Select";const kl=wl;function Il(e){return gr("MuiTextField",e)}fr("MuiTextField",["root"]);const Cl={standard:So,filled:Do,outlined:Wo},Dl=Rr(aa,{name:"MuiTextField",slot:"Root"})({}),Al=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:r=!1,children:o,className:a,color:s="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:g,InputLabelProps:f,inputProps:m,InputProps:y,inputRef:b,label:v,maxRows:x,minRows:S,multiline:M=!1,name:w,onBlur:k,onChange:I,onFocus:C,placeholder:D,required:A=!1,rows:T,select:L=!1,SelectProps:N,slots:E={},slotProps:O={},type:R,value:P,variant:j="outlined",...z}=n,_={...n,autoFocus:r,color:s,disabled:c,error:u,fullWidth:h,multiline:M,required:A,select:L,variant:j},B=(e=>{const{classes:t}=e;return xr({root:["root"]},Il,t)})(_);const F=wi(g),$=p&&F?`${F}-helper-text`:void 0,V=v&&F?`${F}-label`:void 0,G=Cl[j],W={slots:E,slotProps:{input:y,inputLabel:f,htmlInput:m,formHelperText:d,select:N,...O}},H={},U=W.slotProps.inputLabel;"outlined"===j&&(U&&"undefined"!==typeof U.shrink&&(H.notched=U.shrink),H.label=v),L&&(N&&N.native||(H.id=void 0),H["aria-describedby"]=void 0);const[Y,K]=Bo("root",{elementType:Dl,shouldForwardComponentProp:!0,externalForwardedProps:{...W,...z},ownerState:_,className:fi(B.root,a),ref:t,additionalProps:{disabled:c,error:u,fullWidth:h,required:A,color:s,variant:j}}),[Z,X]=Bo("input",{elementType:G,externalForwardedProps:W,additionalProps:H,ownerState:_}),[q,Q]=Bo("inputLabel",{elementType:ea,externalForwardedProps:W,ownerState:_}),[J,ee]=Bo("htmlInput",{elementType:"input",externalForwardedProps:W,ownerState:_}),[te,ne]=Bo("formHelperText",{elementType:ha,externalForwardedProps:W,ownerState:_}),[ie,re]=Bo("select",{elementType:kl,externalForwardedProps:W,ownerState:_}),oe=(0,Et.jsx)(Z,{"aria-describedby":$,autoComplete:i,autoFocus:r,defaultValue:l,fullWidth:h,multiline:M,name:w,rows:T,maxRows:x,minRows:S,type:R,value:P,id:F,inputRef:b,onBlur:k,onChange:I,onFocus:C,placeholder:D,inputProps:ee,slots:{input:E.htmlInput?J:void 0},...X});return(0,Et.jsxs)(Y,{...K,children:[null!=v&&""!==v&&(0,Et.jsx)(q,{htmlFor:F,id:V,...Q,children:v}),L?(0,Et.jsx)(ie,{"aria-describedby":$,id:F,labelId:V,value:P,input:oe,...re,children:o}):oe,p&&(0,Et.jsx)(te,{id:$,...ne,children:p})]})}),Tl=Al,Ll=wi;function Nl(e){try{return e.matches(":focus-visible")}catch(Ym){0}return!1}const El=_r;class Ol{static create(){return new Ol}static use(){const e=La(Ol.create).current,[t,n]=i.useState(!1);return e.shouldMount=t,e.setShouldMount=n,i.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise((n,i)=>{e=n,t=i});return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())};start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>this.ref.current?.start(...t))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>this.ref.current?.stop(...t))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>this.ref.current?.pulsate(...t))}}function Rl(e,t){var n=Object.create(null);return e&&i.Children.map(e,function(e){return e}).forEach(function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)}),n}function Pl(e,t,n){return null!=n[t]?n[t]:e.props[t]}function jl(e,t,n){var r=Rl(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}(t,r);return Object.keys(o).forEach(function(a){var s=o[a];if((0,i.isValidElement)(s)){var l=a in t,c=a in r,u=t[a],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:Pl(s,"exit",e),enter:Pl(s,"enter",e)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:Pl(s,"exit",e),enter:Pl(s,"enter",e)})}}),o}var zl=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},_l=function(e){function t(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}ja(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,Rl(n.children,function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:Pl(e,"appear",n),enter:Pl(e,"enter",n),exit:Pl(e,"exit",n)})})):jl(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=Rl(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=ki({},t.children);return delete n[e.key],{children:n}}))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Ra(e,["component","childFactory"]),o=this.state.contextValue,a=zl(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(Ba.Provider,{value:o},a):i.createElement(Ba.Provider,{value:o},i.createElement(t,r,a))},t}(i.Component);_l.propTypes={},_l.defaultProps={component:"div",childFactory:function(e){return e}};const Bl=_l;const Fl=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:a,rippleSize:s,in:l,onExited:c,timeout:u}=e,[d,h]=i.useState(!1),p=fi(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:s,height:s,top:-s/2+a,left:-s/2+o},f=fi(n.child,d&&n.childLeaving,r&&n.childPulsate);return l||d||h(!0),i.useEffect(()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}},[c,l,u]),(0,Et.jsx)("span",{className:p,style:g,children:(0,Et.jsx)("span",{className:f})})};const $l=fr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Vl=_i`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Gl=_i`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Wl=_i`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Hl=Rr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ul=Rr(Fl,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${$l.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Vl};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  &.${$l.ripplePulsate} {
    animation-duration: ${e=>{let{theme:t}=e;return t.transitions.duration.shorter}}ms;
  }

  & .${$l.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${$l.childLeaving} {
    opacity: 0;
    animation-name: ${Gl};
    animation-duration: ${550}ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
  }

  & .${$l.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Wl};
    animation-duration: 2500ms;
    animation-timing-function: ${e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Yl=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:a,...s}=n,[l,c]=i.useState([]),u=i.useRef(0),d=i.useRef(null);i.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=i.useRef(!1),p=Oa(),g=i.useRef(null),f=i.useRef(null),m=i.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:i,rippleSize:r,cb:a}=e;c(e=>[...e,(0,Et.jsx)(Ul,{classes:{ripple:fi(o.ripple,$l.ripple),rippleVisible:fi(o.rippleVisible,$l.rippleVisible),ripplePulsate:fi(o.ripplePulsate,$l.ripplePulsate),child:fi(o.child,$l.child),childLeaving:fi(o.childLeaving,$l.childLeaving),childPulsate:fi(o.childPulsate,$l.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:r},u.current)]),u.current+=1,d.current=a},[o]),y=i.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:o=r||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===e?.type&&h.current)return void(h.current=!1);"touchstart"===e?.type&&(h.current=!0);const s=a?null:f.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}e?.touches?null===g.current&&(g.current=()=>{m({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,()=>{g.current&&(g.current(),g.current=null)})):m({pulsate:i,rippleX:c,rippleY:u,rippleSize:d,cb:n})},[r,m,p]),b=i.useCallback(()=>{y({},{pulsate:!0})},[y]),v=i.useCallback((e,t)=>{if(p.clear(),"touchend"===e?.type&&g.current)return g.current(),g.current=null,void p.start(0,()=>{v(e,t)});g.current=null,c(e=>e.length>0?e.slice(1):e),d.current=t},[p]);return i.useImperativeHandle(t,()=>({pulsate:b,start:y,stop:v}),[b,y,v]),(0,Et.jsx)(Hl,{className:fi($l.root,o.root,a),ref:f,...s,children:(0,Et.jsx)(Bl,{component:null,exit:!0,children:l})})}),Kl=Yl;function Zl(e){return gr("MuiButtonBase",e)}const Xl=fr("MuiButtonBase",["root","disabled","focusVisible"]),ql=Rr("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Xl.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ql=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:a,className:s,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,focusVisibleClassName:p,LinkComponent:g="a",onBlur:f,onClick:m,onContextMenu:y,onDragLeave:b,onFocus:v,onFocusVisible:x,onKeyDown:S,onKeyUp:M,onMouseDown:w,onMouseLeave:k,onMouseUp:I,onTouchEnd:C,onTouchMove:D,onTouchStart:A,tabIndex:T=0,TouchRippleProps:L,touchRippleRef:N,type:E,...O}=n,R=i.useRef(null),P=Ol.use(),j=eo(P.ref,N),[z,_]=i.useState(!1);c&&z&&_(!1),i.useImperativeHandle(r,()=>({focusVisible:()=>{_(!0),R.current.focus()}}),[]);const B=P.shouldMount&&!u&&!c;i.useEffect(()=>{z&&h&&!u&&P.pulsate()},[u,h,z,P]);const F=Jl(P,"start",w,d),$=Jl(P,"stop",y,d),V=Jl(P,"stop",b,d),G=Jl(P,"stop",I,d),W=Jl(P,"stop",e=>{z&&e.preventDefault(),k&&k(e)},d),H=Jl(P,"start",A,d),U=Jl(P,"stop",C,d),Y=Jl(P,"stop",D,d),K=Jl(P,"stop",e=>{Nl(e.target)||_(!1),f&&f(e)},!1),Z=El(e=>{R.current||(R.current=e.currentTarget),Nl(e.target)&&(_(!0),x&&x(e)),v&&v(e)}),X=()=>{const e=R.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},q=El(e=>{h&&!e.repeat&&z&&" "===e.key&&P.stop(e,()=>{P.start(e)}),e.target===e.currentTarget&&X()&&" "===e.key&&e.preventDefault(),S&&S(e),e.target===e.currentTarget&&X()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))}),Q=El(e=>{h&&" "===e.key&&z&&!e.defaultPrevented&&P.stop(e,()=>{P.pulsate(e)}),M&&M(e),m&&e.target===e.currentTarget&&X()&&" "===e.key&&!e.defaultPrevented&&m(e)});let J=l;"button"===J&&(O.href||O.to)&&(J=g);const ee={};"button"===J?(ee.type=void 0===E?"button":E,ee.disabled=c):(O.href||O.to||(ee.role="button"),c&&(ee["aria-disabled"]=c));const te=eo(t,R),ne={...n,centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:T,focusVisible:z},ie=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:i,classes:r}=e,o=xr({root:["root",t&&"disabled",n&&"focusVisible"]},Zl,r);return n&&i&&(o.root+=` ${i}`),o})(ne);return(0,Et.jsxs)(ql,{as:J,className:fi(ie.root,s),ownerState:ne,onBlur:K,onClick:m,onContextMenu:$,onFocus:Z,onKeyDown:q,onKeyUp:Q,onMouseDown:F,onMouseLeave:W,onMouseUp:G,onDragLeave:V,onTouchEnd:U,onTouchMove:Y,onTouchStart:H,ref:te,tabIndex:c?-1:T,type:E,...ee,...O,children:[a,B?(0,Et.jsx)(Kl,{ref:j,center:o,...L}):null]})});function Jl(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return El(r=>(n&&n(r),i||e[t](r),!0))}const ec=Ql;function tc(e){return gr("MuiCircularProgress",e)}fr("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const nc=44,ic=_i`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,rc=_i`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,oc="string"!==typeof ic?zi`
        animation: ${ic} 1.4s linear infinite;
      `:null,ac="string"!==typeof rc?zi`
        animation: ${rc} 1.4s ease-in-out infinite;
      `:null,sc=Rr("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${Jr(n.color)}`]]}})(Qr(e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:oc||{animation:`${ic} 1.4s linear infinite`}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})]}})),lc=Rr("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),cc=Rr("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${Jr(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Qr(e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:ac||{animation:`${rc} 1.4s ease-in-out infinite`}}]}})),uc=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiCircularProgress"}),{className:i,color:r="primary",disableShrink:o=!1,size:a=40,style:s,thickness:l=3.6,value:c=0,variant:u="indeterminate",...d}=n,h={...n,color:r,disableShrink:o,size:a,thickness:l,value:c,variant:u},p=(e=>{const{classes:t,variant:n,color:i,disableShrink:r}=e;return xr({root:["root",n,`color${Jr(i)}`],svg:["svg"],circle:["circle",`circle${Jr(n)}`,r&&"circleDisableShrink"]},tc,t)})(h),g={},f={},m={};if("determinate"===u){const e=2*Math.PI*((nc-l)/2);g.strokeDasharray=e.toFixed(3),m["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,f.transform="rotate(-90deg)"}return(0,Et.jsx)(sc,{className:fi(p.root,i),style:{width:a,height:a,...f,...s},ownerState:h,ref:t,role:"progressbar",...m,...d,children:(0,Et.jsx)(lc,{className:p.svg,ownerState:h,viewBox:"22 22 44 44",children:(0,Et.jsx)(cc,{className:p.circle,style:g,ownerState:h,cx:nc,cy:nc,r:(nc-l)/2,fill:"none",strokeWidth:l})})})}),dc=uc;function hc(e){return gr("MuiButton",e)}const pc=fr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const gc=i.createContext({});const fc=i.createContext(void 0),mc=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],yc=Rr(ec,{shouldForwardProp:e=>Or(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Jr(n.color)}`],t[`size${Jr(n.size)}`],t[`${n.variant}Size${Jr(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(Qr(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],i="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return{...t.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${pc.disabled}`]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},[`&.${pc.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]},[`&.${pc.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${pc.disabled}`]:{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:b(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette[n].main,t.palette.action.hoverOpacity)}}}}}),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,"--variant-textBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${pc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${pc.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),[`&.${pc.loading}`]:{color:"transparent"}}}]}})),bc=Rr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${Jr(n.size)}`]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...mc]}}),vc=Rr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${Jr(n.size)}`]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...mc]}}),xc=Rr("span",{name:"MuiButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}}),Sc=Rr("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Mc=i.forwardRef(function(e,t){const n=i.useContext(gc),r=i.useContext(fc),o=Pr({props:mi(n,e),name:"MuiButton"}),{children:a,color:s="primary",component:l="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:h=!1,endIcon:p,focusVisibleClassName:g,fullWidth:f=!1,id:m,loading:y=null,loadingIndicator:b,loadingPosition:v="center",size:x="medium",startIcon:S,type:M,variant:w="text",...k}=o,I=Ll(m),C=b??(0,Et.jsx)(dc,{"aria-labelledby":I,color:"inherit",size:16}),D={...o,color:s,component:l,disabled:u,disableElevation:d,disableFocusRipple:h,fullWidth:f,loading:y,loadingIndicator:C,loadingPosition:v,size:x,type:M,variant:w},A=(e=>{const{color:t,disableElevation:n,fullWidth:i,size:r,variant:o,loading:a,loadingPosition:s,classes:l}=e,c=xr({root:["root",a&&"loading",o,`${o}${Jr(t)}`,`size${Jr(r)}`,`${o}Size${Jr(r)}`,`color${Jr(t)}`,n&&"disableElevation",i&&"fullWidth",a&&`loadingPosition${Jr(s)}`],startIcon:["icon","startIcon",`iconSize${Jr(r)}`],endIcon:["icon","endIcon",`iconSize${Jr(r)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},hc,l);return{...l,...c}})(D),T=(S||y&&"start"===v)&&(0,Et.jsx)(bc,{className:A.startIcon,ownerState:D,children:S||(0,Et.jsx)(Sc,{className:A.loadingIconPlaceholder,ownerState:D})}),L=(p||y&&"end"===v)&&(0,Et.jsx)(vc,{className:A.endIcon,ownerState:D,children:p||(0,Et.jsx)(Sc,{className:A.loadingIconPlaceholder,ownerState:D})}),N=r||"",E="boolean"===typeof y?(0,Et.jsx)("span",{className:A.loadingWrapper,style:{display:"contents"},children:y&&(0,Et.jsx)(xc,{className:A.loadingIndicator,ownerState:D,children:C})}):null;return(0,Et.jsxs)(yc,{ownerState:D,className:fi(n.className,A.root,c,N),component:l,disabled:u||y,focusRipple:!h,focusVisibleClassName:fi(A.focusVisible,g),ref:t,type:M,id:y?I:m,...k,classes:A,children:[T,"end"!==v&&E,a,"end"===v&&E,L]})}),wc=Mc;function kc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw new Error("number"===typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Ic={};function Cc(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:Ic}var Dc=Object.assign,Ac=Object.getOwnPropertyDescriptor,Tc=Object.defineProperty,Lc=Object.prototype,Nc=[];Object.freeze(Nc);var Ec={};Object.freeze(Ec);var Oc="undefined"!==typeof Proxy,Rc=Object.toString();function Pc(){Oc||kc("Proxy not available")}function jc(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var zc=function(){};function _c(e){return"function"===typeof e}function Bc(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function Fc(e){return null!==e&&"object"===typeof e}function $c(e){if(!Fc(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&n.toString()===Rc}function Vc(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function Gc(e,t,n){Tc(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Wc(e,t,n){Tc(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Hc(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return Fc(e)&&!0===e[n]}}function Uc(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function Yc(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var Kc="undefined"!==typeof Object.getOwnPropertySymbols;var Zc="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Kc?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Xc(e){return null===e?null:"object"===typeof e?""+e:e}function qc(e,t){return Lc.hasOwnProperty.call(e,t)}var Qc=Object.getOwnPropertyDescriptors||function(e){var t={};return Zc(e).forEach(function(n){t[n]=Ac(e,n)}),t};function Jc(e,t){return!!(e&t)}function eu(e,t,n){return n?e|=t:e&=~t,e}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function nu(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,lu(i.key),i)}}function iu(e,t,n){return t&&nu(e.prototype,t),n&&nu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ru(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return tu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ou.apply(null,arguments)}function au(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,su(e,t)}function su(e,t){return su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},su(e,t)}function lu(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var cu=Symbol("mobx-stored-annotations");function uu(e){return Object.assign(function(t,n){if(hu(n))return e.decorate_20223_(t,n);du(t,n,e)},e)}function du(e,t,n){qc(e,cu)||Gc(e,cu,ou({},e[cu])),function(e){return e.annotationType_===xu}(n)||(e[cu][t]=n)}function hu(e){return"object"==typeof e&&"string"==typeof e.kind}var pu=Symbol("mobx administration"),gu=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=bd.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.reportObserved=function(){return Vd(this)},t.reportChanged=function(){Fd(),Gd(this),$d()},t.toString=function(){return this.name_},iu(e,[{key:"isBeingObserved",get:function(){return Jc(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=eu(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return Jc(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=eu(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return Jc(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=eu(this.flags_,e.diffValueMask_,1===t)}}])}();gu.isBeingObservedMask_=1,gu.isPendingUnobservationMask_=2,gu.diffValueMask_=4;var fu=Hc("Atom",gu);function mu(e,t,n){void 0===t&&(t=zc),void 0===n&&(n=zc);var i,r=new gu(e);return t!==zc&&ph(uh,r,t,i),n!==zc&&hh(r,n),r}var yu={identity:function(e,t){return e===t},structural:function(e,t){return Ep(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e===1/t:e!==e&&t!==t},shallow:function(e,t){return Ep(e,t,1)}};function bu(e,t,n){return Dh(e)?e:Array.isArray(e)?nd.array(e,{name:n}):$c(e)?nd.object(e,void 0,{name:n}):Uc(e)?nd.map(e,{name:n}):Yc(e)?nd.set(e,{name:n}):"function"!==typeof e||ah(e)||Ih(e)?e:Vc(e)?wh(e):oh(n,e)}function vu(e){return e}var xu="override";function Su(e,t){return{annotationType_:e,options_:t,make_:Mu,extend_:wu,decorate_20223_:ku}}function Mu(e,t,n,i){var r;if(null!=(r=this.options_)&&r.bound)return null===this.extend_(e,t,n,!1)?0:1;if(i===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(ah(n.value))return 1;var o=Iu(e,this,t,n,!1);return Tc(i,t,o),2}function wu(e,t,n,i){var r=Iu(e,this,t,n);return e.defineProperty_(t,r,i)}function ku(e,t){var n,i=t.kind,r=t.name,o=t.addInitializer,a=this,s=function(e){var t,n,i,o;return dd(null!=(t=null==(n=a.options_)?void 0:n.name)?t:r.toString(),e,null!=(i=null==(o=a.options_)?void 0:o.autoAction)&&i)};return"field"==i?function(e){var t,n=e;return ah(n)||(n=s(n)),null!=(t=a.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==i?(ah(e)||(e=s(e)),null!=(n=this.options_)&&n.bound&&o(function(){var e=this,t=e[r].bind(e);t.isMobxAction=!0,e[r]=t}),e):void kc("Cannot apply '"+a.annotationType_+"' to '"+String(r)+"' (kind: "+i+"):\n'"+a.annotationType_+"' can only be used on properties with a function value.")}function Iu(e,t,n,i,r){var o,a,s,l,c,u,d,h;void 0===r&&(r=jd.safeDescriptors),h=i,t.annotationType_,h.value;var p,g=i.value;null!=(o=t.options_)&&o.bound&&(g=g.bind(null!=(p=e.proxy_)?p:e.target_));return{value:dd(null!=(a=null==(s=t.options_)?void 0:s.name)?a:n.toString(),g,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l,null!=(u=t.options_)&&u.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!r||e.isPlainObject_,enumerable:!1,writable:!r}}function Cu(e,t){return{annotationType_:e,options_:t,make_:Du,extend_:Au,decorate_20223_:Tu}}function Du(e,t,n,i){var r;if(i===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(r=this.options_)&&r.bound&&(!qc(e.target_,t)||!Ih(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Ih(n.value))return 1;var o=Lu(e,this,t,n,!1,!1);return Tc(i,t,o),2}function Au(e,t,n,i){var r,o=Lu(e,this,t,n,null==(r=this.options_)?void 0:r.bound);return e.defineProperty_(t,o,i)}function Tu(e,t){var n;var i=t.name,r=t.addInitializer;return Ih(e)||(e=wh(e)),null!=(n=this.options_)&&n.bound&&r(function(){var e=this,t=e[i].bind(e);t.isMobXFlow=!0,e[i]=t}),e}function Lu(e,t,n,i,r,o){var a;void 0===o&&(o=jd.safeDescriptors),a=i,t.annotationType_,a.value;var s,l=i.value;(Ih(l)||(l=wh(l)),r)&&((l=l.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0);return{value:l,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function Nu(e,t){return{annotationType_:e,options_:t,make_:Eu,extend_:Ou,decorate_20223_:Ru}}function Eu(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function Ou(e,t,n,i){return function(e,t,n,i){t.annotationType_,i.get;0}(0,this,0,n),e.defineComputedProperty_(t,ou({},this.options_,{get:n.get,set:n.set}),i)}function Ru(e,t){var n=this,i=t.name;return(0,t.addInitializer)(function(){var t=cp(this)[pu],r=ou({},n.options_,{get:e,context:this});r.name||(r.name="ObservableObject."+i.toString()),t.values_.set(i,new yd(r))}),function(){return this[pu].getObservablePropValue_(i)}}function Pu(e,t){return{annotationType_:e,options_:t,make_:ju,extend_:zu,decorate_20223_:_u}}function ju(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function zu(e,t,n,i){var r,o;return function(e,t){t.annotationType_;0}(0,this),e.defineObservableProperty_(t,n.value,null!=(r=null==(o=this.options_)?void 0:o.enhancer)?r:bu,i)}function _u(e,t){var n=this,i=t.kind,r=t.name,o=new WeakSet;function a(e,t){var i,a,s=cp(e)[pu],l=new md(t,null!=(i=null==(a=n.options_)?void 0:a.enhancer)?i:bu,"ObservableObject."+r.toString(),!1);s.values_.set(r,l),o.add(e)}if("accessor"==i)return{get:function(){return o.has(this)||a(this,e.get.call(this)),this[pu].getObservablePropValue_(r)},set:function(e){return o.has(this)||a(this,e),this[pu].setObservablePropValue_(r,e)},init:function(e){return o.has(this)||a(this,e),e}}}var Bu="true",Fu=$u();function $u(e){return{annotationType_:Bu,options_:e,make_:Vu,extend_:Gu,decorate_20223_:Wu}}function Vu(e,t,n,i){var r,o,a,s;if(n.get)return ad.make_(e,t,n,i);if(n.set){var l=dd(t.toString(),n.set);return i===e.target_?null===e.defineProperty_(t,{configurable:!jd.safeDescriptors||e.isPlainObject_,set:l})?0:2:(Tc(i,t,{configurable:!0,set:l}),2)}if(i!==e.target_&&"function"===typeof n.value)return Vc(n.value)?(null!=(s=this.options_)&&s.autoBind?wh.bound:wh).make_(e,t,n,i):(null!=(a=this.options_)&&a.autoBind?oh.bound:oh).make_(e,t,n,i);var c,u=!1===(null==(r=this.options_)?void 0:r.deep)?nd.ref:nd;"function"===typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(c=e.proxy_)?c:e.target_));return u.make_(e,t,n,i)}function Gu(e,t,n,i){var r,o,a;if(n.get)return ad.extend_(e,t,n,i);if(n.set)return e.defineProperty_(t,{configurable:!jd.safeDescriptors||e.isPlainObject_,set:dd(t.toString(),n.set)},i);"function"===typeof n.value&&null!=(r=this.options_)&&r.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?nd.ref:nd).extend_(e,t,n,i)}function Wu(e,t){kc("'"+this.annotationType_+"' cannot be used as a decorator")}var Hu={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Uu(e){return e||Hu}Object.freeze(Hu);var Yu=Pu("observable"),Ku=Pu("observable.ref",{enhancer:vu}),Zu=Pu("observable.shallow",{enhancer:function(e,t,n){return void 0===e||null===e||hp(e)||Zh(e)||ep(e)||rp(e)?e:Array.isArray(e)?nd.array(e,{name:n,deep:!1}):$c(e)?nd.object(e,void 0,{name:n,deep:!1}):Uc(e)?nd.map(e,{name:n,deep:!1}):Yc(e)?nd.set(e,{name:n,deep:!1}):void 0}}),Xu=Pu("observable.struct",{enhancer:function(e,t){return Ep(e,t)?t:e}}),qu=uu(Yu);function Qu(e){return!0===e.deep?bu:!1===e.deep?vu:function(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:bu}(e.defaultDecorator)}function Ju(e,t,n){return hu(t)?Yu.decorate_20223_(e,t):Bc(t)?void du(e,t,Yu):Dh(e)?e:$c(e)?nd.object(e,t,n):Array.isArray(e)?nd.array(e,t):Uc(e)?nd.map(e,t):Yc(e)?nd.set(e,t):"object"===typeof e&&null!==e?e:nd.box(e,t)}Dc(Ju,qu);var ed,td,nd=Dc(Ju,{box:function(e,t){var n=Uu(t);return new md(e,Qu(n),n.name,!0,n.equals)},array:function(e,t){var n=Uu(t);return(!1===jd.useProxies||!1===n.proxy?Ip:Vh)(e,Qu(n),n.name)},map:function(e,t){var n=Uu(t);return new Jh(e,Qu(n),n.name)},set:function(e,t){var n=Uu(t);return new ip(e,Qu(n),n.name)},object:function(e,t,n){return Tp(function(){return mh(!1===jd.useProxies||!1===(null==n?void 0:n.proxy)?cp({},n):function(e,t){var n,i;return Pc(),e=cp(e,t),null!=(i=(n=e[pu]).proxy_)?i:n.proxy_=new Proxy(e,Lh)}({},n),e,t)})},ref:uu(Ku),shallow:uu(Zu),deep:qu,struct:uu(Xu)}),id="computed",rd=Nu(id),od=Nu("computed.struct",{equals:yu.structural}),ad=function(e,t){if(hu(t))return rd.decorate_20223_(e,t);if(Bc(t))return du(e,t,rd);if($c(e))return uu(Nu(id,e));var n=$c(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new yd(n)};Object.assign(ad,rd),ad.struct=uu(od);var sd=0,ld=1,cd=null!=(ed=null==(td=Ac(function(){},"name"))?void 0:td.configurable)&&ed,ud={value:"action",configurable:!0,writable:!1,enumerable:!1};function dd(e,t,n,i){function r(){return hd(e,n,t,i||this,arguments)}return void 0===n&&(n=!1),r.isMobxAction=!0,r.toString=function(){return t.toString()},cd&&(ud.value=e,Tc(r,"name",ud)),r}function hd(e,t,n,i,r){var o=function(e,t){var n=!1,i=0;0;var r=jd.trackingDerivation,o=!t||!r;Fd();var a=jd.allowStateChanges;o&&(Ad(),a=gd(!0));var s=Ld(!0),l={runAsAction_:o,prevDerivation_:r,prevAllowStateChanges_:a,prevAllowStateReads_:s,notifySpy_:n,startTime_:i,actionId_:ld++,parentActionId_:sd};return sd=l.actionId_,l}(0,t);try{return n.apply(i,r)}catch(a){throw o.error_=a,a}finally{!function(e){sd!==e.actionId_&&kc(30);sd=e.parentActionId_,void 0!==e.error_&&(jd.suppressReactionErrors=!0);fd(e.prevAllowStateChanges_),Nd(e.prevAllowStateReads_),$d(),e.runAsAction_&&Td(e.prevDerivation_);0;jd.suppressReactionErrors=!1}(o)}}function pd(e,t){var n=gd(e);try{return t()}finally{fd(n)}}function gd(e){var t=jd.allowStateChanges;return jd.allowStateChanges=e,t}function fd(e){jd.allowStateChanges=e}var md=function(e){function t(t,n,i,r,o){var a;return void 0===i&&(i="ObservableValue"),void 0===r&&(r=!0),void 0===o&&(o=yu.default),(a=e.call(this,i)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=i,a.equals=o,a.value_=n(t,void 0,i),a}au(t,e);var n=t.prototype;return n.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==jd.UNCHANGED){0,this.setNewValue_(e)}},n.prepareNewValue_=function(e){if(kd(this),Nh(this)){var t=Oh(this,{object:this,type:Bh,newValue:e});if(!t)return jd.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?jd.UNCHANGED:e},n.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Rh(this)&&jh(this,{type:Bh,object:this,newValue:e,oldValue:t})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(e){return Eh(this,e)},n.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Bh,newValue:this.value_,oldValue:void 0}),Ph(this,e)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Xc(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(gu),yd=function(){function e(e){this.dependenciesState_=bd.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=bd.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Sd(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=vd.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||kc(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=dd("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?yu.structural:yu.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==bd.UP_TO_DATE_)return;e.lowestObserverState_=bd.POSSIBLY_STALE_,e.observers_.forEach(function(e){e.dependenciesState_===bd.UP_TO_DATE_&&(e.dependenciesState_=bd.POSSIBLY_STALE_,e.onBecomeStale_())})}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(e){return e()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(e){return e()})},t.get=function(){if(this.isComputing&&kc(32,this.name_,this.derivation),0!==jd.inBatch||0!==this.observers_.size||this.keepAlive_){if(Vd(this),wd(this)){var e=jd.trackingContext;this.keepAlive_&&!e&&(jd.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===bd.STALE_)return;e.lowestObserverState_=bd.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===bd.POSSIBLY_STALE_?t.dependenciesState_=bd.STALE_:t.dependenciesState_===bd.UP_TO_DATE_&&(e.lowestObserverState_=bd.UP_TO_DATE_)})}(this),jd.trackingContext=e}}else wd(this)&&(this.warnAboutUntrackedRead_(),Fd(),this.value_=this.computeValue_(!1),$d());var t=this.value_;if(Md(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter&&kc(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else kc(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===bd.NOT_TRACKING_,n=this.computeValue_(!0),i=t||Md(e)||Md(n)||!this.equals_(e,n);return i&&(this.value_=n),i},t.computeValue_=function(e){this.isComputing=!0;var t,n=gd(!1);if(e)t=Id(this,this.derivation,this.scope_);else if(!0===jd.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(i){t=new Sd(i)}return fd(n),this.isComputing=!1,t},t.suspend_=function(){this.keepAlive_||(Cd(this),this.value_=void 0)},t.observe_=function(e,t){var n=this,i=!0,r=void 0;return sh(function(){var o=n.get();if(!i||t){var a=Ad();e({observableKind:"computed",debugObjectName:n.name_,type:Bh,object:n,newValue:o,oldValue:r}),Td(a)}i=!1,r=o})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Xc(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},iu(e,[{key:"isComputing",get:function(){return Jc(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=eu(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return Jc(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=eu(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return Jc(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=eu(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return Jc(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=eu(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return Jc(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=eu(this.flags_,e.diffValueMask_,1===t)}}])}();yd.isComputingMask_=1,yd.isRunningSetterMask_=2,yd.isBeingObservedMask_=4,yd.isPendingUnobservationMask_=8,yd.diffValueMask_=16;var bd,vd,xd=Hc("ComputedValue",yd);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(bd||(bd={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(vd||(vd={}));var Sd=function(e){this.cause=void 0,this.cause=e};function Md(e){return e instanceof Sd}function wd(e){switch(e.dependenciesState_){case bd.UP_TO_DATE_:return!1;case bd.NOT_TRACKING_:case bd.STALE_:return!0;case bd.POSSIBLY_STALE_:for(var t=Ld(!0),n=Ad(),i=e.observing_,r=i.length,o=0;o<r;o++){var a=i[o];if(xd(a)){if(jd.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return Td(n),Nd(t),!0}if(e.dependenciesState_===bd.STALE_)return Td(n),Nd(t),!0}}return Ed(e),Td(n),Nd(t),!1}}function kd(e){}function Id(e,t,n){var i=Ld(!0);Ed(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++jd.runId;var r,o=jd.trackingDerivation;if(jd.trackingDerivation=e,jd.inBatch++,!0===jd.disableErrorBoundaries)r=t.call(n);else try{r=t.call(n)}catch(a){r=new Sd(a)}return jd.inBatch--,jd.trackingDerivation=o,function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=bd.UP_TO_DATE_,r=0,o=e.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue&&(s.diffValue=1,r!==a&&(n[r]=s),r++),s.dependenciesState_>i&&(i=s.dependenciesState_)}n.length=r,e.newObserving_=null,o=t.length;for(;o--;){var l=t[o];0===l.diffValue&&_d(l,e),l.diffValue=0}for(;r--;){var c=n[r];1===c.diffValue&&(c.diffValue=0,zd(c,e))}i!==bd.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}(e),Nd(i),r}function Cd(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)_d(t[n],e);e.dependenciesState_=bd.NOT_TRACKING_}function Dd(e){var t=Ad();try{return e()}finally{Td(t)}}function Ad(){var e=jd.trackingDerivation;return jd.trackingDerivation=null,e}function Td(e){jd.trackingDerivation=e}function Ld(e){var t=jd.allowStateReads;return jd.allowStateReads=e,t}function Nd(e){jd.allowStateReads=e}function Ed(e){if(e.dependenciesState_!==bd.UP_TO_DATE_){e.dependenciesState_=bd.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=bd.UP_TO_DATE_}}var Od=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Rd=!0,Pd=!1,jd=function(){var e=Cc();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Rd=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Od).version&&(Rd=!1),Rd?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Od):(setTimeout(function(){Pd||kc(35)},1),new Od)}();function zd(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function _d(e,t){e.observers_.delete(t),0===e.observers_.size&&Bd(e)}function Bd(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,jd.pendingUnobservations.push(e))}function Fd(){jd.inBatch++}function $d(){if(0===--jd.inBatch){Yd();for(var e=jd.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof yd&&n.suspend_())}jd.pendingUnobservations=[]}}function Vd(e){var t=jd.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&jd.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&jd.inBatch>0&&Bd(e),!1)}function Gd(e){e.lowestObserverState_!==bd.STALE_&&(e.lowestObserverState_=bd.STALE_,e.observers_.forEach(function(e){e.dependenciesState_===bd.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=bd.STALE_}))}var Wd=function(){function e(e,t,n,i){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=bd.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=vd.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=i}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,jd.pendingReactions.push(this),Yd())},t.runReaction_=function(){if(!this.isDisposed){Fd(),this.isScheduled=!1;var e=jd.trackingContext;if(jd.trackingContext=this,wd(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(t){this.reportExceptionInDerivation_(t)}}jd.trackingContext=e,$d()}},t.track=function(e){if(!this.isDisposed){Fd();0,this.isRunning=!0;var t=jd.trackingContext;jd.trackingContext=this;var n=Id(this,e,void 0);jd.trackingContext=t,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Cd(this),Md(n)&&this.reportExceptionInDerivation_(n.cause),$d()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(jd.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";jd.suppressReactionErrors||console.error(n,e),jd.globalReactionErrorHandlers.forEach(function(n){return n(e,t)})}},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Fd(),Cd(this),$d()))},t.getDisposer_=function(e){var t=this,n=function n(){t.dispose(),null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};return null==e||null==e.addEventListener||e.addEventListener("abort",n),n[pu]=this,n},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1)},iu(e,[{key:"isDisposed",get:function(){return Jc(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=eu(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return Jc(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=eu(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return Jc(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=eu(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return Jc(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=eu(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return Jc(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=eu(this.flags_,e.diffValueMask_,1===t)}}])}();Wd.isDisposedMask_=1,Wd.isScheduledMask_=2,Wd.isTrackPendingMask_=4,Wd.isRunningMask_=8,Wd.diffValueMask_=16;var Hd=100,Ud=function(e){return e()};function Yd(){jd.inBatch>0||jd.isRunningReactions||Ud(Kd)}function Kd(){jd.isRunningReactions=!0;for(var e=jd.pendingReactions,t=0;e.length>0;){++t===Hd&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction_()}jd.isRunningReactions=!1}var Zd=Hc("Reaction",Wd);var Xd="action",qd="autoAction",Qd="<unnamed action>",Jd=Su(Xd),eh=Su("action.bound",{bound:!0}),th=Su(qd,{autoAction:!0}),nh=Su("autoAction.bound",{autoAction:!0,bound:!0});function ih(e){return function(t,n){return _c(t)?dd(t.name||Qd,t,e):_c(n)?dd(t,n,e):hu(n)?(e?th:Jd).decorate_20223_(t,n):Bc(n)?du(t,n,e?th:Jd):Bc(t)?uu(Su(e?qd:Xd,{name:t,autoAction:e})):void 0}}var rh=ih(!1);Object.assign(rh,Jd);var oh=ih(!0);function ah(e){return _c(e)&&!0===e.isMobxAction}function sh(e,t){var n,i,r,o;void 0===t&&(t=Ec);var a,s=null!=(n=null==(i=t)?void 0:i.name)?n:"Autorun";if(!t.scheduler&&!t.delay)a=new Wd(s,function(){this.track(u)},t.onError,t.requiresObservable);else{var l=ch(t),c=!1;a=new Wd(s,function(){c||(c=!0,l(function(){c=!1,a.isDisposed||a.track(u)}))},t.onError,t.requiresObservable)}function u(){e(a)}return null!=(r=t)&&null!=(r=r.signal)&&r.aborted||a.schedule_(),a.getDisposer_(null==(o=t)?void 0:o.signal)}Object.assign(oh,th),rh.bound=uu(eh),oh.bound=uu(nh);var lh=function(e){return e()};function ch(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:lh}var uh="onBO",dh="onBUO";function hh(e,t,n){return ph(dh,e,t,n)}function ph(e,t,n,i){var r="function"===typeof i?Cp(t,n):Cp(t),o=_c(i)?i:n,a=e+"L";return r[a]?r[a].add(o):r[a]=new Set([o]),function(){var e=r[a];e&&(e.delete(o),0===e.size&&delete r[a])}}var gh="always";function fh(e){!0===e.isolateGlobalState&&function(){if((jd.pendingReactions.length||jd.inBatch||jd.isRunningReactions)&&kc(36),Pd=!0,Rd){var e=Cc();0===--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),jd=new Od}}();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(jd.useProxies=t===gh||"never"!==t&&"undefined"!==typeof Proxy),"ifavailable"===t&&(jd.verifyProxies=!0),void 0!==n){var i=n===gh?gh:"observed"===n;jd.enforceActions=i,jd.allowStateChanges=!0!==i&&i!==gh}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(t){t in e&&(jd[t]=!!e[t])}),jd.allowStateReads=!jd.observableRequiresReaction,e.reactionScheduler&&function(e){var t=Ud;Ud=function(n){return e(function(){return t(n)})}}(e.reactionScheduler)}function mh(e,t,n,i){var r=Qc(t);return Tp(function(){var t=cp(e,i)[pu];Zc(r).forEach(function(e){t.extend_(e,r[e],!n||(!(e in n)||n[e]))})}),e}function yh(e,t){return bh(Cp(e,t))}function bh(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(bh)),n}var vh=0;function xh(){this.message="FLOW_CANCELLED"}xh.prototype=Object.create(Error.prototype);var Sh=Cu("flow"),Mh=Cu("flow.bound",{bound:!0}),wh=Object.assign(function(e,t){if(hu(t))return Sh.decorate_20223_(e,t);if(Bc(t))return du(e,t,Sh);var n=e,i=n.name||"<unnamed flow>",r=function(){var e,t=arguments,r=++vh,o=rh(i+" - runid: "+r+" - init",n).apply(this,t),a=void 0,s=new Promise(function(t,n){var s=0;function l(e){var t;a=void 0;try{t=rh(i+" - runid: "+r+" - yield "+s++,o.next).call(o,e)}catch(l){return n(l)}u(t)}function c(e){var t;a=void 0;try{t=rh(i+" - runid: "+r+" - yield "+s++,o.throw).call(o,e)}catch(l){return n(l)}u(t)}function u(e){if(!_c(null==e?void 0:e.then))return e.done?t(e.value):(a=Promise.resolve(e.value)).then(l,c);e.then(u,n)}e=n,l(void 0)});return s.cancel=rh(i+" - runid: "+r+" - cancel",function(){try{a&&kh(a);var t=o.return(void 0),n=Promise.resolve(t.value);n.then(zc,zc),kh(n),e(new xh)}catch(i){e(i)}}),s};return r.isMobXFlow=!0,r},Sh);function kh(e){_c(e.cancel)&&e.cancel()}function Ih(e){return!0===(null==e?void 0:e.isMobXFlow)}function Ch(e,t){return!!e&&(void 0!==t?!!hp(e)&&e[pu].values_.has(t):hp(e)||!!e[pu]||fu(e)||Zd(e)||xd(e))}function Dh(e){return Ch(e)}function Ah(e,t){void 0===t&&(t=void 0),Fd();try{return e.apply(t)}finally{$d()}}function Th(e){return e[pu]}wh.bound=uu(Mh);var Lh={has:function(e,t){return Th(e).has_(t)},get:function(e,t){return Th(e).get_(t)},set:function(e,t,n){var i;return!!Bc(t)&&(null==(i=Th(e).set_(t,n,!0))||i)},deleteProperty:function(e,t){var n;return!!Bc(t)&&(null==(n=Th(e).delete_(t,!0))||n)},defineProperty:function(e,t,n){var i;return null==(i=Th(e).defineProperty_(t,n))||i},ownKeys:function(e){return Th(e).ownKeys_()},preventExtensions:function(e){kc(13)}};function Nh(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Eh(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),jc(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function Oh(e,t){var n=Ad();try{for(var i=[].concat(e.interceptors_||[]),r=0,o=i.length;r<o&&((t=i[r](t))&&!t.type&&kc(14),t);r++);return t}finally{Td(n)}}function Rh(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Ph(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),jc(function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)})}function jh(e,t){var n=Ad(),i=e.changeListeners_;if(i){for(var r=0,o=(i=i.slice()).length;r<o;r++)i[r](t);Td(n)}}function zh(e,t,n){return Tp(function(){var i=cp(e,n)[pu];null!=t||(t=function(e){return qc(e,cu)||Gc(e,cu,ou({},e[cu])),e[cu]}(e)),Zc(t).forEach(function(e){return i.make_(e,t[e])})}),e}var _h="splice",Bh="update",Fh={get:function(e,t){var n=e[pu];return t===pu?n:"length"===t?n.getArrayLength_():"string"!==typeof t||isNaN(t)?qc(Gh,t)?Gh[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var i=e[pu];return"length"===t&&i.setArrayLength_(n),"symbol"===typeof t||isNaN(t)?e[t]=n:i.set_(parseInt(t),n),!0},preventExtensions:function(){kc(15)}},$h=function(){function e(e,t,n,i){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=i,this.atom_=new gu(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Eh(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ph(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!==typeof e||isNaN(e)||e<0)&&kc("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&kc(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&kp(e+t+1)},t.spliceWithArray_=function(e,t,n){var i=this;this.atom_;var r=this.values_.length;if(void 0===e?e=0:e>r?e=r:e<0&&(e=Math.max(0,r+e)),t=1===arguments.length?r-e:void 0===t||null===t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=Nc),Nh(this)){var o=Oh(this,{object:this.proxy_,type:_h,index:e,removedCount:t,added:n});if(!o)return Nc;t=o.removedCount,n=o.added}if(n=0===n.length?n:n.map(function(e){return i.enhancer_(e,void 0)}),this.legacyMode_){var a=n.length-t;this.updateArrayLength_(r,a)}var s=this.spliceItemsIntoValues_(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice_(e,n,s),this.dehanceValues_(s)},t.spliceItemsIntoValues_=function(e,t,n){var i;if(n.length<1e4)return(i=this.values_).splice.apply(i,[e,t].concat(n));var r=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var a=0;a<n.length;a++)this.values_[e+a]=n[a];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return r},t.notifyArrayChildUpdate_=function(e,t,n){var i=!this.owned_&&!1,r=Rh(this),o=r||i?{observableKind:"array",object:this.proxy_,type:Bh,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;this.atom_.reportChanged(),r&&jh(this,o)},t.notifyArraySplice_=function(e,t,n){var i=!this.owned_&&!1,r=Rh(this),o=r||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:_h,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;this.atom_.reportChanged(),r&&jh(this,o)},t.get_=function(e){if(!(this.legacyMode_&&e>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx] Out of bounds read: "+e)},t.set_=function(e,t){var n=this.values_;if(this.legacyMode_&&e>n.length&&kc(17,e,n.length),e<n.length){this.atom_;var i=n[e];if(Nh(this)){var r=Oh(this,{type:Bh,object:this.proxy_,index:e,newValue:t});if(!r)return;t=r.newValue}(t=this.enhancer_(t,i))!==i&&(n[e]=t,this.notifyArrayChildUpdate_(e,t,i))}else{for(var o=new Array(e+1-n.length),a=0;a<o.length-1;a++)o[a]=void 0;o[o.length-1]=t,this.spliceWithArray_(n.length,0,o)}},e}();function Vh(e,t,n,i){return void 0===n&&(n="ObservableArray"),void 0===i&&(i=!1),Pc(),Tp(function(){var r=new $h(n,t,i,!1);Wc(r.values_,pu,r);var o=new Proxy(r.values_,Fh);return r.proxy_=o,e&&e.length&&r.spliceWithArray_(0,0,e),o})}var Gh={clear:function(){return this.splice(0)},replace:function(e){var t=this[pu];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var o=this[pu];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,i)},spliceWithArray:function(e,t,n){return this[pu].spliceWithArray_(e,t,n)},push:function(){for(var e=this[pu],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[pu].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[pu],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return jd.trackingDerivation&&kc(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){jd.trackingDerivation&&kc(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[pu],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Wh(e,t){"function"===typeof Array.prototype[e]&&(Gh[e]=t(e))}function Hh(e){return function(){var t=this[pu];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function Uh(e){return function(t,n){var i=this,r=this[pu];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[e](function(e,r){return t.call(n,e,r,i)})}}function Yh(e){return function(){var t=this,n=this[pu];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),r=arguments[0];return arguments[0]=function(e,n,i){return r(e,n,i,t)},i[e].apply(i,arguments)}}Wh("at",Hh),Wh("concat",Hh),Wh("flat",Hh),Wh("includes",Hh),Wh("indexOf",Hh),Wh("join",Hh),Wh("lastIndexOf",Hh),Wh("slice",Hh),Wh("toString",Hh),Wh("toLocaleString",Hh),Wh("toSorted",Hh),Wh("toSpliced",Hh),Wh("with",Hh),Wh("every",Uh),Wh("filter",Uh),Wh("find",Uh),Wh("findIndex",Uh),Wh("findLast",Uh),Wh("findLastIndex",Uh),Wh("flatMap",Uh),Wh("forEach",Uh),Wh("map",Uh),Wh("some",Uh),Wh("toReversed",Uh),Wh("reduce",Yh),Wh("reduceRight",Yh);var Kh=Hc("ObservableArrayAdministration",$h);function Zh(e){return Fc(e)&&Kh(e[pu])}var Xh={},qh="add",Qh="delete",Jh=function(){function e(e,t,n){var i=this;void 0===t&&(t=bu),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[pu]=Xh,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,_c(Map)||kc(18),Tp(function(){i.keysAtom_=mu("ObservableMap.keys()"),i.data_=new Map,i.hasMap_=new Map,e&&i.merge(e)})}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!jd.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var i=n=new md(this.has_(e),vu,"ObservableMap.key?",!1);this.hasMap_.set(e,i),hh(i,function(){return t.hasMap_.delete(e)})}return n.get()},t.set=function(e,t){var n=this.has_(e);if(Nh(this)){var i=Oh(this,{type:n?Bh:qh,object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,Nh(this))&&!Oh(this,{type:Qh,object:this,name:e}))return!1;if(this.has_(e)){var n=Rh(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:Qh,object:this,oldValue:this.data_.get(e).value_,name:e}:null;return Ah(function(){var n;t.keysAtom_.reportChanged(),null==(n=t.hasMap_.get(e))||n.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)}),n&&jh(this,i),!0}return!1},t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==jd.UNCHANGED){var i=Rh(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:Bh,object:this,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),i&&jh(this,r)}},t.addValue_=function(e,t){var n=this;this.keysAtom_,Ah(function(){var i,r=new md(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,r),t=r.value_,null==(i=n.hasMap_.get(e))||i.setNewValue_(!0),n.keysAtom_.reportChanged()});var i=Rh(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:qh,object:this,name:e,newValue:t}:null;i&&jh(this,r)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return tp({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:e.get(r)}}})},t.entries=function(){var e=this,t=this.keys();return tp({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:[r,e.get(r)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(e,t){for(var n,i=ru(this);!(n=i()).done;){var r=n.value,o=r[0],a=r[1];e.call(t,a,o,this)}},t.merge=function(e){var t=this;return ep(e)&&(e=new Map(e)),Ah(function(){$c(e)?function(e){var t=Object.keys(e);if(!Kc)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(t){return Lc.propertyIsEnumerable.call(e,t)})):t}(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(e){var n=e[0],i=e[1];return t.set(n,i)}):Uc(e)?(function(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t);return null===Object.getPrototypeOf(n)}(e)||kc(19,e),e.forEach(function(e,n){return t.set(n,e)})):null!==e&&void 0!==e&&kc(20,e)}),this},t.clear=function(){var e=this;Ah(function(){Dd(function(){for(var t,n=ru(e.keys());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.replace=function(e){var t=this;return Ah(function(){for(var n,i=function(e){if(Uc(e)||ep(e))return e;if(Array.isArray(e))return new Map(e);if($c(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return kc(21,e)}(e),r=new Map,o=!1,a=ru(t.data_.keys());!(n=a()).done;){var s=n.value;if(!i.has(s))if(t.delete(s))o=!0;else{var l=t.data_.get(s);r.set(s,l)}}for(var c,u=ru(i.entries());!(c=u()).done;){var d=c.value,h=d[0],p=d[1],g=t.data_.has(h);if(t.set(h,p),t.data_.has(h)){var f=t.data_.get(h);r.set(h,f),g||(o=!0)}}if(!o)if(t.data_.size!==r.size)t.keysAtom_.reportChanged();else for(var m=t.data_.keys(),y=r.keys(),b=m.next(),v=y.next();!b.done;){if(b.value!==v.value){t.keysAtom_.reportChanged();break}b=m.next(),v=y.next()}t.data_=r}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return Ph(this,e)},t.intercept_=function(e){return Eh(this,e)},iu(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),ep=Hc("ObservableMap",Jh);function tp(e){return e[Symbol.toStringTag]="MapIterator",jp(e)}var np={},ip=function(){function e(e,t,n){var i=this;void 0===t&&(t=bu),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[pu]=np,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,_c(Set)||kc(22),this.enhancer_=function(e,i){return t(e,i,n)},Tp(function(){i.atom_=mu(i.name_),e&&i.replace(e)})}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;Ah(function(){Dd(function(){for(var t,n=ru(e.data_.values());!(t=n()).done;){var i=t.value;e.delete(i)}})})},t.forEach=function(e,t){for(var n,i=ru(this);!(n=i()).done;){var r=n.value;e.call(t,r,r,this)}},t.add=function(e){var t=this;if(this.atom_,Nh(this)){var n=Oh(this,{type:qh,object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){Ah(function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()});var i=!1,r=Rh(this),o=r?{observableKind:"set",debugObjectName:this.name_,type:qh,object:this,newValue:e}:null;i,r&&jh(this,o)}return this},t.delete=function(e){var t=this;if(Nh(this)&&!Oh(this,{type:Qh,object:this,oldValue:e}))return!1;if(this.has(e)){var n=Rh(this),i=n?{observableKind:"set",debugObjectName:this.name_,type:Qh,object:this,oldValue:e}:null;return Ah(function(){t.atom_.reportChanged(),t.data_.delete(e)}),n&&jh(this,i),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=this.values();return op({next:function(){var t=e.next(),n=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[n,n],done:i}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return op({next:function(){var n=t.next(),i=n.value,r=n.done;return r?{value:void 0,done:r}:{value:e.dehanceValue_(i),done:r}}})},t.intersection=function(e){return Yc(e)&&!rp(e)?e.intersection(this):new Set(this).intersection(e)},t.union=function(e){return Yc(e)&&!rp(e)?e.union(this):new Set(this).union(e)},t.difference=function(e){return new Set(this).difference(e)},t.symmetricDifference=function(e){return Yc(e)&&!rp(e)?e.symmetricDifference(this):new Set(this).symmetricDifference(e)},t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)},t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)},t.isDisjointFrom=function(e){return Yc(e)&&!rp(e)?e.isDisjointFrom(this):new Set(this).isDisjointFrom(e)},t.replace=function(e){var t=this;return rp(e)&&(e=new Set(e)),Ah(function(){Array.isArray(e)||Yc(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!==e&&void 0!==e&&kc("Cannot initialize set from "+e)}),this},t.observe_=function(e,t){return Ph(this,e)},t.intercept_=function(e){return Eh(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},iu(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),rp=Hc("ObservableSet",ip);function op(e){return e[Symbol.toStringTag]="SetIterator",jp(e)}var ap=Object.create(null),sp="remove",lp=function(){function e(e,t,n,i){void 0===t&&(t=new Map),void 0===i&&(i=Fu),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=i,this.keysAtom_=new gu("ObservableObject.keys"),this.isPlainObject_=$c(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof yd)return n.set(t),!0;if(Nh(this)){var i=Oh(this,{type:Bh,object:this.proxy_||this.target_,name:e,newValue:t});if(!i)return null;t=i.newValue}if((t=n.prepareNewValue_(t))!==jd.UNCHANGED){var r=Rh(this),o=r?{type:Bh,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0,n.setNewValue_(t),r&&jh(this,o)}return!0},t.get_=function(e){return jd.trackingDerivation&&!qc(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,n){return void 0===n&&(n=!1),qc(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):n?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},t.has_=function(e){if(!jd.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new md(e in this.target_,vu,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(gp(this,t,e),!(e in this.target_)){var n;if(null!=(n=this.target_[cu])&&n[e])return;kc(1,t.annotationType_,this.name_+"."+e.toString())}for(var i=this.target_;i&&i!==Lc;){var r=Ac(i,e);if(r){var o=t.make_(this,e,r,i);if(0===o)return;if(1===o)break}i=Object.getPrototypeOf(i)}pp(this,t,e)}},t.extend_=function(e,t,n,i){if(void 0===i&&(i=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(e,t,i);gp(this,n,e);var r=n.extend_(this,e,t,i);return r&&pp(this,n,e),r},t.defineProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Fd();var i=this.delete_(e);if(!i)return i;if(Nh(this)){var r=Oh(this,{object:this.proxy_||this.target_,name:e,type:qh,newValue:t.value});if(!r)return null;var o=r.newValue;t.value!==o&&(t=ou({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else Tc(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{$d()}return!0},t.defineObservableProperty_=function(e,t,n,i){void 0===i&&(i=!1),this.keysAtom_;try{Fd();var r=this.delete_(e);if(!r)return r;if(Nh(this)){var o=Oh(this,{object:this.proxy_||this.target_,name:e,type:qh,newValue:t});if(!o)return null;t=o.newValue}var a=dp(e),s={configurable:!jd.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(i){if(!Reflect.defineProperty(this.target_,e,s))return!1}else Tc(this.target_,e,s);var l=new md(t,n,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{$d()}return!0},t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1),this.keysAtom_;try{Fd();var i=this.delete_(e);if(!i)return i;if(Nh(this))if(!Oh(this,{object:this.proxy_||this.target_,name:e,type:qh,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var r=dp(e),o={configurable:!jd.safeDescriptors||this.isPlainObject_,enumerable:!1,get:r.get,set:r.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else Tc(this.target_,e,o);this.values_.set(e,new yd(t)),this.notifyPropertyAddition_(e,void 0)}finally{$d()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),this.keysAtom_,!qc(this.target_,e))return!0;if(Nh(this)&&!Oh(this,{object:this.proxy_||this.target_,name:e,type:sp}))return null;try{var n;Fd();var i,r=Rh(this),o=this.values_.get(e),a=void 0;if(!o&&r)a=null==(i=Ac(this.target_,e))?void 0:i.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(o&&(this.values_.delete(e),o instanceof md&&(a=o.value_),Gd(o)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_),r){var s={type:sp,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:a,name:e};0,r&&jh(this,s)}}finally{$d()}return!0},t.observe_=function(e,t){return Ph(this,e)},t.intercept_=function(e){return Eh(this,e)},t.notifyPropertyAddition_=function(e,t){var n,i=Rh(this);if(i){var r=i?{type:qh,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0,i&&jh(this,r)}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),Zc(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function cp(e,t){var n;if(qc(e,pu))return e;var i=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",r=new lp(e,new Map,String(i),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:$u(e):void 0}(t));return Gc(e,pu,r),e}var up=Hc("ObservableObjectAdministration",lp);function dp(e){return ap[e]||(ap[e]={get:function(){return this[pu].getObservablePropValue_(e)},set:function(t){return this[pu].setObservablePropValue_(e,t)}})}function hp(e){return!!Fc(e)&&up(e[pu])}function pp(e,t,n){var i;null==(i=e.target_[cu])||delete i[n]}function gp(e,t,n){}var fp,mp,yp=Mp(0),bp=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),vp=0,xp=function(){};fp=xp,mp=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(fp.prototype,mp):void 0!==fp.prototype.__proto__?fp.prototype.__proto__=mp:fp.prototype=mp;var Sp=function(e){function t(t,n,i,r){var o;return void 0===i&&(i="ObservableArray"),void 0===r&&(r=!1),o=e.call(this)||this,Tp(function(){var e=new $h(i,n,r,!0);e.proxy_=o,Wc(o,pu,e),t&&t.length&&o.spliceWithArray(0,0,t),bp&&Object.defineProperty(o,"0",yp)}),o}au(t,e);var n=t.prototype;return n.concat=function(){this[pu].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map(function(e){return Zh(e)?e.slice():e}))},n[Symbol.iterator]=function(){var e=this,t=0;return jp({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},iu(t,[{key:"length",get:function(){return this[pu].getArrayLength_()},set:function(e){this[pu].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(xp);function Mp(e){return{enumerable:!1,configurable:!0,get:function(){return this[pu].get_(e)},set:function(t){this[pu].set_(e,t)}}}function wp(e){Tc(Sp.prototype,""+e,Mp(e))}function kp(e){if(e>vp){for(var t=vp;t<e+100;t++)wp(t);vp=e}}function Ip(e,t,n){return new Sp(e,t,n)}function Cp(e,t){if("object"===typeof e&&null!==e){if(Zh(e))return void 0!==t&&kc(23),e[pu].atom_;if(rp(e))return e.atom_;if(ep(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||kc(25,t,Ap(e)),n}if(hp(e)){if(!t)return kc(26);var i=e[pu].values_.get(t);return i||kc(27,t,Ap(e)),i}if(fu(e)||xd(e)||Zd(e))return e}else if(_c(e)&&Zd(e[pu]))return e[pu];kc(28)}function Dp(e,t){return e||kc(29),void 0!==t?Dp(Cp(e,t)):fu(e)||xd(e)||Zd(e)||ep(e)||rp(e)?e:e[pu]?e[pu]:void kc(24,e)}function Ap(e,t){var n;if(void 0!==t)n=Cp(e,t);else{if(ah(e))return e.name;n=hp(e)||ep(e)||rp(e)?Dp(e):Cp(e)}return n.name_}function Tp(e){var t=Ad(),n=gd(!0);Fd();try{return e()}finally{$d(),fd(n),Td(t)}}Object.entries(Gh).forEach(function(e){var t=e[0],n=e[1];"concat"!==t&&Gc(Sp.prototype,t,n)}),kp(1e3);var Lp,Np=Lc.toString;function Ep(e,t,n){return void 0===n&&(n=-1),Op(e,t,n)}function Op(e,t,n,i,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var a=Np.call(e);if(a!==Np.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Rp(e),t=Rp(t);var s="[object Array]"===a;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(_c(l)&&l instanceof l&&_c(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),r=r||[];for(var u=(i=i||[]).length;u--;)if(i[u]===e)return r[u]===t;if(i.push(e),r.push(t),s){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Op(e[u],t[u],n-1,i,r))return!1}else{var d=Object.keys(e),h=d.length;if(Object.keys(t).length!==h)return!1;for(var p=0;p<h;p++){var g=d[p];if(!qc(t,g)||!Op(e[g],t[g],n-1,i,r))return!1}}return i.pop(),r.pop(),!0}function Rp(e){return Zh(e)?e.slice():Uc(e)||ep(e)||Yc(e)||rp(e)?Array.from(e.entries()):e}var Pp=(null==(Lp=Cc().Iterator)?void 0:Lp.prototype)||{};function jp(e){return e[Symbol.iterator]=zp,Object.assign(Object.create(Pp),e)}function zp(){return this}if(["Symbol","Map","Set"].forEach(function(e){"undefined"===typeof Cc()[e]&&kc("MobX requires global '"+e+"' to be available or polyfilled")}),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Ap},$mobx:pu}),!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!zh)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function _p(e){e()}function Bp(e){return yh(e)}var Fp=!1;function $p(){return Fp}var Vp,Gp,Wp=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach(function(i,r){n-i.registeredAt>=e&&(t.finalize(i.value),t.registrations.delete(r))}),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),Hp=new("undefined"!==typeof FinalizationRegistry?FinalizationRegistry:Wp)(function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null}),Up=n(461);function Yp(e){e.reaction=new Wd("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)})}function Kp(e,t){if(void 0===t&&(t="observed"),$p())return e();var n=i.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return Hp.unregister(r),r.onStoreChange=e,r.reaction||(Yp(r),r.stateVersion=Symbol()),function(){var e;r.onStoreChange=null,null===(e=r.reaction)||void 0===e||e.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var o,a,s=n.current;if(s.reaction||(Yp(s),Hp.register(n,s,s)),i.useDebugValue(s.reaction,Bp),(0,Up.useSyncExternalStore)(s.subscribe,s.getSnapshot,s.getSnapshot),s.reaction.track(function(){try{o=e()}catch(t){a=t}}),a)throw a;return o}var Zp="function"===typeof Symbol&&Symbol.for,Xp=null!==(Gp=null===(Vp=Object.getOwnPropertyDescriptor(function(){},"name"))||void 0===Vp?void 0:Vp.configurable)&&void 0!==Gp&&Gp,qp=Zp?Symbol.for("react.forward_ref"):"function"===typeof i.forwardRef&&(0,i.forwardRef)(function(e){return null}).$$typeof,Qp=Zp?Symbol.for("react.memo"):"function"===typeof i.memo&&(0,i.memo)(function(e){return null}).$$typeof;function Jp(e,t){var n;if(Qp&&e.$$typeof===Qp)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if($p())return e;var r=null!==(n=null===t||void 0===t?void 0:t.forwardRef)&&void 0!==n&&n,o=e,a=e.displayName||e.name;if(qp&&e.$$typeof===qp&&(r=!0,"function"!==typeof(o=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,l,c=function(e,t){return Kp(function(){return o(e,t)},a)};return c.displayName=e.displayName,Xp&&Object.defineProperty(c,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(c.contextTypes=e.contextTypes),r&&(c=(0,i.forwardRef)(c)),c=(0,i.memo)(c),s=e,l=c,Object.keys(s).forEach(function(e){tg[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))}),c}var eg,tg={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};(function(e){e||(e=_p),fh({reactionScheduler:e})})(za.unstable_batchedUpdates);eg=Hp.finalizeAllImmediately;function ng(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var ig=Symbol("patchMixins"),rg=Symbol("patchedDefinition");function og(e,t){for(var n=this,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];t.locks++;try{var a;return void 0!==e&&null!==e&&(a=e.apply(this,r)),a}finally{t.locks--,0===t.locks&&t.methods.forEach(function(e){e.apply(n,r)})}}function ag(e,t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];og.call.apply(og,[this,e,t].concat(i))}}function sg(e,t,n){var i=function(e,t){var n=e[ig]=e[ig]||{},i=n[t]=n[t]||{};return i.locks=i.locks||0,i.methods=i.methods||[],i}(e,t);i.methods.indexOf(n)<0&&i.methods.push(n);var r=Object.getOwnPropertyDescriptor(e,t);if(!r||!r[rg]){var o=e[t],a=lg(e,t,r?r.enumerable:void 0,i,o);Object.defineProperty(e,t,a)}}function lg(e,t,n,i,r){var o,a=ag(r,i);return(o={})[rg]=!0,o.get=function(){return a},o.set=function(r){if(this===e)a=ag(r,i);else{var o=lg(this,t,n,i,r);Object.defineProperty(this,t,o)}},o.configurable=!0,o.enumerable=n,o}var cg=Symbol("ObserverAdministration"),ug=Symbol("isMobXReactObserver");function dg(e){var t;return null!=(t=e[cg])?t:e[cg]={reaction:null,mounted:!1,reactionInvalidatedBeforeMount:!1,forceUpdate:null,name:hg(e.constructor),state:void 0,props:void 0,context:void 0}}function hg(e){return e.displayName||e.name||"<component>"}function pg(e){var t=e.bind(this),n=dg(this);return function(){n.reaction||(n.reaction=function(t){return new Wd(t.name+".render()",function(){if(t.mounted)try{null==t.forceUpdate||t.forceUpdate()}catch(e){var n;null==(n=t.reaction)||n.dispose(),t.reaction=null}else t.reactionInvalidatedBeforeMount=!0})}(n),n.mounted||Hp.register(this,n,this));var e=void 0,i=void 0;if(n.reaction.track(function(){try{i=pd(!1,t)}catch(n){e=n}}),e)throw e;return i}}function gg(e,t){return $p()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!function(e,t){if(ng(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!Object.hasOwnProperty.call(t,n[r])||!ng(e[n[r]],t[n[r]]))return!1;return!0}(this.props,e)}function fg(e,t){if(t&&"class"!==t.kind)throw new Error("The @observer decorator can be used on classes only");return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(i.Component,e)||Object.prototype.isPrototypeOf.call(i.PureComponent,e)?function(e){var t=e.prototype;if(e[ug]){var n=hg(e);throw new Error("The provided component class ("+n+") has already been declared as an observer component.")}if(e[ug]=!0,t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==i.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==gg)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=gg;var r=t.render;if("function"!==typeof r){var o=hg(e);throw new Error("[mobx-react] class component ("+o+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}t.render=function(){return Object.defineProperty(this,"render",{configurable:!1,writable:!1,value:$p()?r:pg.call(this,r)}),this.render()};var a=t.componentDidMount;return t.componentDidMount=function(){var e=this,t=dg(this);return t.mounted=!0,Hp.unregister(this),t.forceUpdate=function(){return e.forceUpdate()},t.reaction&&!t.reactionInvalidatedBeforeMount||t.forceUpdate(),null==a?void 0:a.apply(this,arguments)},sg(t,"componentWillUnmount",function(){var e;if(!$p()){var t=dg(this);null==(e=t.reaction)||e.dispose(),t.reaction=null,t.forceUpdate=null,t.mounted=!1,t.reactionInvalidatedBeforeMount=!1}}),e}(e):Jp(e)}i.version.split(".")[0];if(!i.Component)throw new Error("mobx-react requires React to be available");if(!nd)throw new Error("mobx-react requires mobx to be available");let mg=function(e){return e.Search="search",e.Decks="decks",e.Rating="rating",e.Statistics="statistics",e}({}),yg=function(e){return e.notLoaded="notLoaded",e.loaded="loaded",e.loading="loading",e.failed="failed",e}({}),bg=function(e){return e[e.Duel=60]="Duel",e[e.Commander=100]="Commander",e}({});var vg,xg;class Sg{constructor(e){this.stores=void 0,this.baseUrl="https://api.magicthegathering.io/v1",this.search=async e=>{const{setLoadingState:t,setSearchResults:n}=this.stores.searchStore;if(0===e.trim().length)return;t(yg.loading);const i=await fetch(this.baseUrl+"/cards?name="+e+"&language=german");if(i&&i.ok){const e=await i.json();t(yg.loaded),n(e.cards)}else t(yg.failed)},this.stores=e}}vg=Sg,Sg.instance=void 0,Sg.getInstance=e=>(void 0===vg.instance&&(vg.instance=new vg(e)),vg.instance);class Mg{constructor(){this.loadingState=yg.notLoaded,this.searchResults=[],this.setLoadingState=e=>{this.loadingState=e},this.setSearchResults=e=>{this.searchResults=e},zh(this,{loadingState:nd,setLoadingState:rh,searchResults:nd,setSearchResults:rh})}}class wg{constructor(){this.decks=[],this.setDecks=e=>{this.decks=e},zh(this,{decks:nd,setDecks:rh})}}const kg="mtgRaterData";class Ig{constructor(e){this.stores=void 0,this.saveData=e=>{localStorage.setItem(kg,JSON.stringify(e))},this.loadData=()=>{const e=localStorage.getItem(kg);if(!e)return;const t=JSON.parse(e);return Array.isArray(t)?t:void 0},this.stores=e}}xg=Ig,Ig.instance=void 0,Ig.getInstance=e=>(void 0===xg.instance&&(xg.instance=new xg(e)),xg.instance);const Cg=(0,i.createContext)(new class{constructor(){this.searchStore=new Mg,this.decksStore=new wg,this.activeSite=mg.Search,this.setActiveSite=e=>{this.activeSite=e},this.activeDeckId="",this.setActiveDeckId=e=>{this.activeDeckId=e},this.menuOpen=!1,this.setMenuOpen=e=>{this.menuOpen=e},this.possibleDecksToUpload=void 0,this.setPossibleDecksToUpload=e=>{this.possibleDecksToUpload=e},this.alert=void 0,this.setAlert=e=>{this.alert=e},zh(this,{activeSite:nd,setActiveSite:rh,activeDeckId:nd,setActiveDeckId:rh,menuOpen:nd,setMenuOpen:rh,possibleDecksToUpload:nd,setPossibleDecksToUpload:rh,alert:nd,setAlert:rh});const e=Ig.getInstance(this).loadData();e&&e.length>0&&this.setActiveDeckId(e[0].id)}}),Dg=()=>(0,i.useContext)(Cg);function Ag(e){return gr("MuiTypography",e)}const Tg=fr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),Lg={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},Ng=ur,Eg=Rr("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${Jr(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Qr(e=>{let{theme:t}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(t.typography).filter(e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n}).map(e=>{let[t,n]=e;return{props:{variant:t},style:n}}),...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}),...Object.entries(t.palette?.text||{}).filter(e=>{let[,t]=e;return"string"===typeof t}).map(e=>{let[n]=e;return{props:{color:`text${Jr(n)}`},style:{color:(t.vars||t).palette.text[n]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),Og={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Rg=i.forwardRef(function(e,t){const{color:n,...i}=Pr({props:e,name:"MuiTypography"}),r=Ng({...i,...!Lg[n]&&{color:n}}),{align:o="inherit",className:a,component:s,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=Og,...p}=r,g={...r,align:o,color:n,className:a,component:s,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h},f=s||(u?"p":h[d]||Og[d])||"span",m=(e=>{const{align:t,gutterBottom:n,noWrap:i,paragraph:r,variant:o,classes:a}=e;return xr({root:["root",o,"inherit"!==e.align&&`align${Jr(t)}`,n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]},Ag,a)})(g);return(0,Et.jsx)(Eg,{as:f,ref:t,className:fi(m.root,a),...p,ownerState:g,style:{..."inherit"!==o&&{"--Typography-textAlign":o},...p.style}})}),Pg=Rg;function jg(e){return i.Children.toArray(e).filter(e=>i.isValidElement(e))}function zg(e){return gr("MuiButtonGroup",e)}const _g=fr("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),Bg=Rr("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${_g.grouped}`]:t.grouped},{[`& .${_g.grouped}`]:t[`grouped${Jr(n.orientation)}`]},{[`& .${_g.grouped}`]:t[`grouped${Jr(n.variant)}`]},{[`& .${_g.grouped}`]:t[`grouped${Jr(n.variant)}${Jr(n.orientation)}`]},{[`& .${_g.grouped}`]:t[`grouped${Jr(n.variant)}${Jr(n.color)}`]},{[`& .${_g.firstButton}`]:t.firstButton},{[`& .${_g.lastButton}`]:t.lastButton},{[`& .${_g.middleButton}`]:t.middleButton},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})(Qr(e=>{let{theme:t}=e;return{display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(t.vars||t).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${_g.lastButton},& .${_g.middleButton}`]:{borderTopRightRadius:0,borderTopLeftRadius:0},[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${_g.lastButton},& .${_g.middleButton}`]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderRight:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${_g.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"text",orientation:"vertical"},style:{[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderBottom:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${_g.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(fo()).flatMap(e=>{let[n]=e;return[{props:{variant:"text",color:n},style:{[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.5)`:b(t.palette[n].main,.5)}}}]}),{props:{variant:"outlined",orientation:"horizontal"},style:{[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},[`& .${_g.lastButton},& .${_g.middleButton}`]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},[`& .${_g.lastButton},& .${_g.middleButton}`]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderRight:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${_g.disabled}`]:{borderRight:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},{props:{variant:"contained",orientation:"vertical"},style:{[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderBottom:`1px solid ${(t.vars||t).palette.grey[400]}`,[`&.${_g.disabled}`]:{borderBottom:`1px solid ${(t.vars||t).palette.action.disabled}`}}}},...Object.entries(t.palette).filter(fo(["dark"])).map(e=>{let[n]=e;return{props:{variant:"contained",color:n},style:{[`& .${_g.firstButton},& .${_g.middleButton}`]:{borderColor:(t.vars||t).palette[n].dark}}}})],[`& .${_g.grouped}`]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}})),Fg=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiButtonGroup"}),{children:r,className:o,color:a="primary",component:s="div",disabled:l=!1,disableElevation:c=!1,disableFocusRipple:u=!1,disableRipple:d=!1,fullWidth:h=!1,orientation:p="horizontal",size:g="medium",variant:f="outlined",...m}=n,y={...n,color:a,component:s,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:h,orientation:p,size:g,variant:f},b=(e=>{const{classes:t,color:n,disabled:i,disableElevation:r,fullWidth:o,orientation:a,variant:s}=e;return xr({root:["root",s,a,o&&"fullWidth",r&&"disableElevation",`color${Jr(n)}`],grouped:["grouped",`grouped${Jr(a)}`,`grouped${Jr(s)}`,`grouped${Jr(s)}${Jr(a)}`,`grouped${Jr(s)}${Jr(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]},zg,t)})(y),v=i.useMemo(()=>({className:b.grouped,color:a,disabled:l,disableElevation:c,disableFocusRipple:u,disableRipple:d,fullWidth:h,size:g,variant:f}),[a,l,c,u,d,h,g,f,b.grouped]),x=jg(r),S=x.length,M=e=>{const t=0===e,n=e===S-1;return t&&n?"":t?b.firstButton:n?b.lastButton:b.middleButton};return(0,Et.jsx)(Bg,{as:s,role:"group",className:fi(b.root,o),ref:t,ownerState:y,...m,children:(0,Et.jsx)(gc.Provider,{value:v,children:x.map((e,t)=>(0,Et.jsx)(fc.Provider,{value:M(t),children:e},t))})})}),$g=Fg,Vg=yl((0,Et.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),Gg=yl((0,Et.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}));var Wg;class Hg{constructor(e){this.stores=void 0,this.addNewDeck=(e,t)=>{const{decks:n,setDecks:i}=this.stores.decksStore,r=[...n,{id:crypto.randomUUID(),name:e,cards:[],deckType:t}];Ig.getInstance(this.stores).saveData(r),i(r)},this.addToDeck=(e,t)=>{const{decks:n,setDecks:i}=this.stores.decksStore,r=n.map(n=>n.id!==t?n:{...n,cards:[...n.cards,{...e,rating:[]}]});Ig.getInstance(this.stores).saveData(r),i(r)},this.updateRating=(e,t,n)=>{const{decks:i,setDecks:r}=this.stores.decksStore,o=i.map(i=>i.id!==e?i:{...i,cards:i.cards.map(e=>{if(e.id!==t)return e;const i=[...e.rating,{count:n,date:new Date(Date.now())}];return{...e,rating:i}})});Ig.getInstance(this.stores).saveData(o),r(o)},this.deleteCard=(e,t)=>{const{decks:n,setDecks:i}=this.stores.decksStore,r=n.map(n=>n.id!==e?n:{...n,cards:n.cards.filter(e=>e.id!==t)});Ig.getInstance(this.stores).saveData(r),i(r)},this.stores=e}}function Ug(e){return gr("MuiCard",e)}Wg=Hg,Hg.instance=void 0,Hg.getInstance=e=>(void 0===Wg.instance&&(Wg.instance=new Wg(e)),Wg.instance);fr("MuiCard",["root"]);const Yg=Rr(Ls,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Kg=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiCard"}),{className:i,raised:r=!1,...o}=n,a={...n,raised:r},s=(e=>{const{classes:t}=e;return xr({root:["root"]},Ug,t)})(a);return(0,Et.jsx)(Yg,{className:fi(s.root,i),elevation:r?8:void 0,ref:t,ownerState:a,...o})});function Zg(e){return gr("MuiDivider",e)}const Xg=fr("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),qg=Rr("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(Qr(e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:b(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}})),Qg=Rr("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(Qr(e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`}}]}})),Jg=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiDivider"}),{absolute:i=!1,children:r,className:o,orientation:a="horizontal",component:s=(r||"vertical"===a?"div":"hr"),flexItem:l=!1,light:c=!1,role:u=("hr"!==s?"separator":void 0),textAlign:d="center",variant:h="fullWidth",...p}=n,g={...n,absolute:i,component:s,flexItem:l,light:c,orientation:a,role:u,textAlign:d,variant:h},f=(e=>{const{absolute:t,children:n,classes:i,flexItem:r,light:o,orientation:a,textAlign:s,variant:l}=e;return xr({root:["root",t&&"absolute",l,o&&"light","vertical"===a&&"vertical",r&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},Zg,i)})(g);return(0,Et.jsx)(qg,{as:s,className:fi(f.root,o),role:u,ref:t,ownerState:g,"aria-orientation":"separator"!==u||"hr"===s&&"vertical"!==a?void 0:a,...p,children:r?(0,Et.jsx)(Qg,{className:f.wrapper,ownerState:g,children:r}):null})});Jg&&(Jg.muiSkipListHighlight=!0);const ef=Jg;var tf=n(230),nf=n.n(tf);const rf="5px 5px 8px #16171a, -5px -5px 8px #34373c",of="inset 8px 8px 10px #16171a, inset -8px -8px 10px #34373c",af={insetShadow:{boxShadow:of},outsetShadow:{boxShadow:rf},TextFieldStyles:{boxShadow:of,borderRadius:"4px","& fieldset":{border:"none !important"},"& .MuiInputBase-root":{background:"none",":after, :before":{border:"none !important"}}},ButtonStyles:{boxShadow:rf,":hover":{boxShadow:"inset 3px 3px 10px #16171a, inset -3px -3px 10px #34373c"}},SelectStyles:{boxShadow:of,"&.MuiInputBase-root":{background:"none",":after, :before":{border:"none !important"}},"& fieldset":{border:"none"}},MenuStyles:{"& .MuiPaper-root":{boxShadow:of}}},sf=fg(e=>{var t;const{card:n}=e,[r,o]=(0,i.useState)(!1),a=null===(t=n.foreignNames)||void 0===t?void 0:t.find(e=>"German"===e.language),s=a?{...n,...a}:{...n};return(0,Et.jsx)(vr,{sx:{position:"relative"},children:(0,Et.jsx)(vr,{sx:{width:"300px",height:"420px"},children:(0,Et.jsxs)(nf(),{isFlipped:r,children:[s.imageUrl?(0,Et.jsx)(vr,{onClick:()=>o(!r),sx:{width:"300px",height:"420px",cursor:"pointer",borderRadius:"16px",...af.outsetShadow},component:"img",loading:"lazy",src:s.imageUrl}):(0,Et.jsx)(Kg,{onClick:()=>o(!r),sx:{width:"300px",height:"420px",cursor:"pointer",display:"flex",borderRadius:"16px",justifyContent:"center",alignItems:"center",...af.outsetShadow},children:(0,Et.jsx)(Pg,{children:"kein Bild"})}),(0,Et.jsxs)(Kg,{sx:{width:"300px",height:"420px",cursor:"pointer",p:"0.5rem",display:"flex",borderRadius:"16px",flexDirection:"column",...af.insetShadow},onClick:()=>o(!r),children:[(0,Et.jsx)(Pg,{variant:"h6",children:s.name}),(0,Et.jsx)(ef,{sx:{m:"0.5rem"}}),(0,Et.jsx)(Pg,{variant:"subtitle1",children:s.type}),(0,Et.jsx)(Pg,{sx:{mt:"0.5rem"},children:s.text}),(0,Et.jsxs)(vr,{sx:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",mt:"auto"},children:[(0,Et.jsx)(Pg,{variant:"caption",fontStyle:"italic",children:s.flavor}),s.loyalty&&(0,Et.jsx)(Pg,{sx:{m:"0.5rem"},children:s.loyalty}),s.power&&s.toughness&&(0,Et.jsx)(Pg,{sx:{m:"0.5rem"},children:s.power+"/"+s.toughness})]})]})]})})})}),lf=fg(e=>{var t;const{card:n,deckId:r}=e,o=Dg(),[a,s]=(0,i.useState)(!1),l=Hg.getInstance(o),c=null===(t=n.foreignNames)||void 0===t?void 0:t.find(e=>"German"===e.language);return(0,i.useEffect)(()=>{!0===a&&setTimeout(()=>{s(!1)},2e3)},[a]),(0,Et.jsxs)(vr,{sx:{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center",position:"relative"},children:[(0,Et.jsx)(sf,{card:n}),(0,Et.jsx)(vr,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",backdropFilter:"blur(4px)",opacity:a?1:0,transition:"0.5s",pointerEvents:"none"},children:(0,Et.jsx)(Vg,{sx:{fontSize:"80px"},color:"primary"})}),(0,Et.jsxs)(Pg,{children:[" ",c?c.name:n.name]}),(0,Et.jsx)($g,{children:(0,Et.jsx)(wc,{disabled:void 0===r||a,onClick:()=>{void 0!==r&&(s(!0),l.addToDeck(n,r))},children:(0,Et.jsx)(Gg,{})})})]})}),cf=fg(e=>{let{display:t}=e;const n=Dg(),{activeDeckId:r}=n,{loadingState:o,searchResults:a}=n.searchStore,[s,l]=(0,i.useState)(""),c=Sg.getInstance(n);return(0,Et.jsxs)(vr,{sx:{flex:1,p:"1rem",display:t?void 0:"none"},children:[(0,Et.jsx)(vr,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,Et.jsxs)(vr,{sx:{display:"flex"},component:"form",onSubmit:e=>{e.preventDefault(),c.search(s)},children:[(0,Et.jsx)(Tl,{sx:{...af.TextFieldStyles},value:s,onChange:e=>l(e.target.value)}),(0,Et.jsx)(wc,{type:"submit",sx:{...af.ButtonStyles,ml:"1rem"},size:"small",onClick:e=>{e.preventDefault(),c.search(s)},disabled:0===s.trim().length,children:"Send"})]})}),o===yg.loading&&(0,Et.jsx)(dc,{}),o===yg.loaded&&(0,Et.jsx)(vr,{sx:{display:"flex",gap:"1rem",flexWrap:"wrap",mt:"1rem"},children:a.map((e,t)=>(0,Et.jsx)(lf,{card:e,deckId:r},t))})]})});function uf(e){return gr("MuiListItemIcon",e)}const df=fr("MuiListItemIcon",["root","alignItemsFlexStart"]);function hf(e){return gr("MuiListItemText",e)}const pf=fr("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function gf(e){return gr("MuiMenuItem",e)}const ff=fr("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),mf=Rr(ec,{shouldForwardProp:e=>Or(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(Qr(e=>{let{theme:t}=e;return{...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ff.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${ff.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:b(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${ff.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:b(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${ff.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${ff.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Xg.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Xg.inset}`]:{marginLeft:52},[`& .${pf.root}`]:{marginTop:0,marginBottom:0},[`& .${pf.inset}`]:{paddingLeft:36},[`& .${df.root}`]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${df.root} svg`]:{fontSize:"1.25rem"}}}]}})),yf=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:a=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h,...p}=n,g=i.useContext(ma),f=i.useMemo(()=>({dense:a||g.dense||!1,disableGutters:l}),[g.dense,a,l]),m=i.useRef(null);to(()=>{r&&m.current&&m.current.focus()},[r]);const y={...n,dense:f.dense,divider:s,disableGutters:l},b=(e=>{const{disabled:t,dense:n,divider:i,disableGutters:r,selected:o,classes:a}=e,s=xr({root:["root",n&&"dense",t&&"disabled",!r&&"gutters",i&&"divider",o&&"selected"]},gf,a);return{...a,...s}})(n),v=eo(m,t);let x;return n.disabled||(x=void 0!==d?d:-1),(0,Et.jsx)(ma.Provider,{value:f,children:(0,Et.jsx)(mf,{ref:v,role:u,tabIndex:x,component:o,focusVisibleClassName:fi(b.focusVisible,c),className:fi(b.root,h),...p,ownerState:y,classes:b})})}),bf=yl((0,Et.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function vf(e){return gr("MuiChip",e)}const xf=fr("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Sf=Rr("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:i,iconColor:r,clickable:o,onDelete:a,size:s,variant:l}=n;return[{[`& .${xf.avatar}`]:t.avatar},{[`& .${xf.avatar}`]:t[`avatar${Jr(s)}`]},{[`& .${xf.avatar}`]:t[`avatarColor${Jr(i)}`]},{[`& .${xf.icon}`]:t.icon},{[`& .${xf.icon}`]:t[`icon${Jr(s)}`]},{[`& .${xf.icon}`]:t[`iconColor${Jr(r)}`]},{[`& .${xf.deleteIcon}`]:t.deleteIcon},{[`& .${xf.deleteIcon}`]:t[`deleteIcon${Jr(s)}`]},{[`& .${xf.deleteIcon}`]:t[`deleteIconColor${Jr(i)}`]},{[`& .${xf.deleteIcon}`]:t[`deleteIcon${Jr(l)}Color${Jr(i)}`]},t.root,t[`size${Jr(s)}`],t[`color${Jr(i)}`],o&&t.clickable,o&&"default"!==i&&t[`clickableColor${Jr(i)})`],a&&t.deletable,a&&"default"!==i&&t[`deletableColor${Jr(i)}`],t[l],t[`${l}${Jr(i)}`]]}})(Qr(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${xf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${xf.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},[`& .${xf.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${xf.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${xf.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${xf.icon}`]:{marginLeft:5,marginRight:-6},[`& .${xf.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:b(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:b(t.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${xf.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${xf.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(fo(["contrastText"])).map(e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,[`& .${xf.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].contrastTextChannel} / 0.7)`:b(t.palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}}}),{props:e=>e.iconColor===e.color,style:{[`& .${xf.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:n}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{[`& .${xf.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${xf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:b(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}},...Object.entries(t.palette).filter(fo(["dark"])).map(e=>{let[n]=e;return{props:{color:n,onDelete:!0},style:{[`&.${xf.focusVisible}`]:{background:(t.vars||t).palette[n].dark}}}}),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:b(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${xf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:b(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(fo(["dark"])).map(e=>{let[n]=e;return{props:{color:n,clickable:!0},style:{[`&:hover, &.${xf.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n].dark}}}}),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${xf.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${xf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${xf.avatar}`]:{marginLeft:4},[`& .${xf.avatarSmall}`]:{marginLeft:2},[`& .${xf.icon}`]:{marginLeft:4},[`& .${xf.iconSmall}`]:{marginLeft:2},[`& .${xf.deleteIcon}`]:{marginRight:5},[`& .${xf.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:b(t.palette[n].main,.7)}`,[`&.${xf.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette[n].main,t.palette.action.hoverOpacity)},[`&.${xf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.focusOpacity})`:b(t.palette[n].main,t.palette.action.focusOpacity)},[`& .${xf.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n].mainChannel} / 0.7)`:b(t.palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}})]}})),Mf=Rr("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:i}=n;return[t.label,t[`label${Jr(i)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function wf(e){return"Backspace"===e.key||"Delete"===e.key}const kf=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiChip"}),{avatar:r,className:o,clickable:a,color:s="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:g,onKeyDown:f,onKeyUp:m,size:y="medium",variant:b="filled",tabIndex:v,skipFocusWhenDisabled:x=!1,slots:S={},slotProps:M={},...w}=n,k=i.useRef(null),I=eo(k,t),C=e=>{e.stopPropagation(),g&&g(e)},D=!(!1===a||!p)||a,A=D||g?ec:l||"div",T={...n,component:A,disabled:u,size:y,color:s,iconColor:i.isValidElement(d)&&d.props.color||s,onDelete:!!g,clickable:D,variant:b},L=(e=>{const{classes:t,disabled:n,size:i,color:r,iconColor:o,onDelete:a,clickable:s,variant:l}=e;return xr({root:["root",l,n&&"disabled",`size${Jr(i)}`,`color${Jr(r)}`,s&&"clickable",s&&`clickableColor${Jr(r)}`,a&&"deletable",a&&`deletableColor${Jr(r)}`,`${l}${Jr(r)}`],label:["label",`label${Jr(i)}`],avatar:["avatar",`avatar${Jr(i)}`,`avatarColor${Jr(r)}`],icon:["icon",`icon${Jr(i)}`,`iconColor${Jr(o)}`],deleteIcon:["deleteIcon",`deleteIcon${Jr(i)}`,`deleteIconColor${Jr(r)}`,`deleteIcon${Jr(l)}Color${Jr(r)}`]},vf,t)})(T),N=A===ec?{component:l||"div",focusVisibleClassName:L.focusVisible,...g&&{disableRipple:!0}}:{};let E=null;g&&(E=c&&i.isValidElement(c)?i.cloneElement(c,{className:fi(c.props.className,L.deleteIcon),onClick:C}):(0,Et.jsx)(bf,{className:L.deleteIcon,onClick:C}));let O=null;r&&i.isValidElement(r)&&(O=i.cloneElement(r,{className:fi(L.avatar,r.props.className)}));let R=null;d&&i.isValidElement(d)&&(R=i.cloneElement(d,{className:fi(L.icon,d.props.className)}));const P={slots:S,slotProps:M},[j,z]=Bo("root",{elementType:Sf,externalForwardedProps:{...P,...w},ownerState:T,shouldForwardComponentProp:!0,ref:I,className:fi(L.root,o),additionalProps:{disabled:!(!D||!u)||void 0,tabIndex:x&&u?-1:v,...N},getSlotProps:e=>({...e,onClick:t=>{e.onClick?.(t),p?.(t)},onKeyDown:t=>{e.onKeyDown?.(t),(e=>{e.currentTarget===e.target&&wf(e)&&e.preventDefault(),f&&f(e)})?.(t)},onKeyUp:t=>{e.onKeyUp?.(t),(e=>{e.currentTarget===e.target&&g&&wf(e)&&g(e),m&&m(e)})?.(t)}})}),[_,B]=Bo("label",{elementType:Mf,externalForwardedProps:P,ownerState:T,className:L.label});return(0,Et.jsxs)(j,{as:A,...z,children:[O||R,(0,Et.jsx)(_,{...B,children:h}),E]})}),If=kf;function Cf(e){return gr("MuiIconButton",e)}const Df=fr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Af=Rr(ec,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t[`color${Jr(n.color)}`],n.edge&&t[`edge${Jr(n.edge)}`],t[`size${Jr(n.size)}`]]}})(Qr(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),Qr(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}),...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.vars?`rgba(${(t.vars||t).palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:b((t.vars||t).palette[n].main,t.palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${Df.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${Df.loading}`]:{color:"transparent"}}})),Tf=Rr("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}}),Lf=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiIconButton"}),{edge:i=!1,children:r,className:o,color:a="default",disabled:s=!1,disableFocusRipple:l=!1,size:c="medium",id:u,loading:d=null,loadingIndicator:h,...p}=n,g=Ll(u),f=h??(0,Et.jsx)(dc,{"aria-labelledby":g,color:"inherit",size:16}),m={...n,edge:i,color:a,disabled:s,disableFocusRipple:l,loading:d,loadingIndicator:f,size:c},y=(e=>{const{classes:t,disabled:n,color:i,edge:r,size:o,loading:a}=e;return xr({root:["root",a&&"loading",n&&"disabled","default"!==i&&`color${Jr(i)}`,r&&`edge${Jr(r)}`,`size${Jr(o)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},Cf,t)})(m);return(0,Et.jsxs)(Af,{id:d?g:u,className:fi(y.root,o),centerRipple:!0,focusRipple:!l,disabled:s||d,ref:t,...p,ownerState:m,children:["boolean"===typeof d&&(0,Et.jsx)("span",{className:y.loadingWrapper,style:{display:"contents"},children:(0,Et.jsx)(Tf,{className:y.loadingIndicator,ownerState:m,children:d&&f})}),r]})}),Nf=Lf;function Ef(e){return gr("MuiCollapse",e)}fr("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Of=Rr("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})(Qr(e=>{let{theme:t}=e;return{height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"exited"===t.state&&!t.in&&"0px"===t.collapsedSize},style:{visibility:"hidden"}}]}})),Rf=Rr("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Pf=Rr("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),jf=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiCollapse"}),{addEndListener:r,children:o,className:a,collapsedSize:s="0px",component:l,easing:c,in:u,onEnter:d,onEntered:h,onEntering:p,onExit:g,onExited:f,onExiting:m,orientation:y="vertical",style:b,timeout:v=at.standard,TransitionComponent:x=Ya,...S}=n,M={...n,orientation:y,collapsedSize:s},w=(e=>{const{orientation:t,classes:n}=e;return xr({root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]},Ef,n)})(M),k=Ka(),I=Oa(),C=i.useRef(null),D=i.useRef(),A="number"===typeof s?`${s}px`:s,T="horizontal"===y,L=T?"width":"height",N=i.useRef(null),E=eo(t,N),O=e=>t=>{if(e){const n=N.current;void 0===t?e(n):e(n,t)}},R=()=>C.current?C.current[T?"clientWidth":"clientHeight"]:0,P=O((e,t)=>{C.current&&T&&(C.current.style.position="absolute"),e.style[L]=A,d&&d(e,t)}),j=O((e,t)=>{const n=R();C.current&&T&&(C.current.style.position="");const{duration:i,easing:r}=Xa({style:b,timeout:v,easing:c},{mode:"enter"});if("auto"===v){const t=k.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,D.current=t}else e.style.transitionDuration="string"===typeof i?i:`${i}ms`;e.style[L]=`${n}px`,e.style.transitionTimingFunction=r,p&&p(e,t)}),z=O((e,t)=>{e.style[L]="auto",h&&h(e,t)}),_=O(e=>{e.style[L]=`${R()}px`,g&&g(e)}),B=O(f),F=O(e=>{const t=R(),{duration:n,easing:i}=Xa({style:b,timeout:v,easing:c},{mode:"exit"});if("auto"===v){const n=k.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,D.current=n}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[L]=A,e.style.transitionTimingFunction=i,m&&m(e)});return(0,Et.jsx)(x,{in:u,onEnter:P,onEntered:z,onEntering:j,onExit:_,onExited:B,onExiting:F,addEndListener:e=>{"auto"===v&&I.start(D.current||0,e),r&&r(N.current,e)},nodeRef:N,timeout:"auto"===v?null:v,...S,children:(e,t)=>{let{ownerState:n,...i}=t;return(0,Et.jsx)(Of,{as:l,className:fi(w.root,a,{entered:w.entered,exited:!u&&"0px"===A&&w.hidden}[e]),style:{[T?"minWidth":"minHeight"]:A,...b},ref:E,ownerState:{...M,state:e},...i,children:(0,Et.jsx)(Rf,{ownerState:{...M,state:e},className:w.wrapper,ref:C,children:(0,Et.jsx)(Pf,{ownerState:{...M,state:e},className:w.wrapperInner,children:o})})})}})});jf&&(jf.muiSupportAuto=!0);const zf=jf;const _f=i.createContext({});function Bf(e){return gr("MuiAccordion",e)}const Ff=fr("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),$f=Rr(Ls,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ff.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(Qr(e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],n),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],n)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Ff.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Ff.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),Qr(e=>{let{theme:t}=e;return{variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${Ff.expanded}`]:{margin:"16px 0"}}}]}})),Vf=Rr("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),Gf=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiAccordion"}),{children:r,className:o,defaultExpanded:a=!1,disabled:s=!1,disableGutters:l=!1,expanded:c,onChange:u,square:d=!1,slots:h={},slotProps:p={},TransitionComponent:g,TransitionProps:f,...m}=n,[y,b]=nl({controlled:c,default:a,name:"Accordion",state:"expanded"}),v=i.useCallback(e=>{b(!y),u&&u(e,!y)},[y,u,b]),[x,...S]=i.Children.toArray(r),M=i.useMemo(()=>({expanded:y,disabled:s,disableGutters:l,toggle:v}),[y,s,l,v]),w={...n,square:d,disabled:s,disableGutters:l,expanded:y},k=(e=>{const{classes:t,square:n,expanded:i,disabled:r,disableGutters:o}=e;return xr({root:["root",!n&&"rounded",i&&"expanded",r&&"disabled",!o&&"gutters"],heading:["heading"],region:["region"]},Bf,t)})(w),I={slots:{transition:g,...h},slotProps:{transition:f,...p}},[C,D]=Bo("root",{elementType:$f,externalForwardedProps:{...I,...m},className:fi(k.root,o),shouldForwardComponentProp:!0,ownerState:w,ref:t,additionalProps:{square:d}}),[A,T]=Bo("heading",{elementType:Vf,externalForwardedProps:I,className:k.heading,ownerState:w}),[L,N]=Bo("transition",{elementType:zf,externalForwardedProps:I,ownerState:w});return(0,Et.jsxs)(C,{...D,children:[(0,Et.jsx)(A,{...T,children:(0,Et.jsx)(_f.Provider,{value:M,children:x})}),(0,Et.jsx)(L,{in:y,timeout:"auto",...N,children:(0,Et.jsx)("div",{"aria-labelledby":x.props.id,id:x.props["aria-controls"],role:"region",className:k.region,children:S})})]})});function Wf(e){return gr("MuiAccordionSummary",e)}const Hf=fr("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Uf=Rr(ec,{name:"MuiAccordionSummary",slot:"Root"})(Qr(e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${Hf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Hf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${Hf.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${Hf.expanded}`]:{minHeight:64}}}]}})),Yf=Rr("span",{name:"MuiAccordionSummary",slot:"Content"})(Qr(e=>{let{theme:t}=e;return{display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${Hf.expanded}`]:{margin:"20px 0"}}}]}})),Kf=Rr("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(Qr(e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${Hf.expanded}`]:{transform:"rotate(180deg)"}}})),Zf=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiAccordionSummary"}),{children:r,className:o,expandIcon:a,focusVisibleClassName:s,onClick:l,slots:c,slotProps:u,...d}=n,{disabled:h=!1,disableGutters:p,expanded:g,toggle:f}=i.useContext(_f),m={...n,expanded:g,disabled:h,disableGutters:p},y=(e=>{const{classes:t,expanded:n,disabled:i,disableGutters:r}=e;return xr({root:["root",n&&"expanded",i&&"disabled",!r&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!r&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Wf,t)})(m),b={slots:c,slotProps:u},[v,x]=Bo("root",{ref:t,shouldForwardComponentProp:!0,className:fi(y.root,o),elementType:Uf,externalForwardedProps:{...b,...d},ownerState:m,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:h,"aria-expanded":g,focusVisibleClassName:fi(y.focusVisible,s)},getSlotProps:e=>({...e,onClick:t=>{e.onClick?.(t),(e=>{f&&f(e),l&&l(e)})(t)}})}),[S,M]=Bo("content",{className:y.content,elementType:Yf,externalForwardedProps:b,ownerState:m}),[w,k]=Bo("expandIconWrapper",{className:y.expandIconWrapper,elementType:Kf,externalForwardedProps:b,ownerState:m});return(0,Et.jsxs)(v,{...x,children:[(0,Et.jsx)(S,{...M,children:r}),a&&(0,Et.jsx)(w,{...k,children:a})]})});function Xf(e){return gr("MuiAccordionDetails",e)}fr("MuiAccordionDetails",["root"]);const qf=Rr("div",{name:"MuiAccordionDetails",slot:"Root"})(Qr(e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}})),Qf=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiAccordionDetails"}),{className:i,...r}=n,o=n,a=(e=>{const{classes:t}=e;return xr({root:["root"]},Xf,t)})(o);return(0,Et.jsx)(qf,{className:fi(a.root,i),ref:t,ownerState:o,...r})}),Jf=yl((0,Et.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),em=yl((0,Et.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),tm=fg(e=>(0,Et.jsx)(If,{sx:e.sx,label:e.type,size:"small",color:(()=>{switch(e.type){case"Duel":return"primary";case"Commander":return"warning"}})()})),nm=fg(e=>{let{display:t}=e;const n=Dg(),{decks:r,setDecks:o}=n.decksStore,[a,s]=(0,i.useState)(""),[l,c]=(0,i.useState)("ohne"),u=Hg.getInstance(n);return(0,i.useEffect)(()=>{const e=Ig.getInstance(n).loadData();e&&o(e)},[]),(0,Et.jsxs)(vr,{sx:{flex:1,p:"1rem",display:t?void 0:"none"},children:[(0,Et.jsxs)(vr,{sx:{flex:1,display:"flex",justifyContent:"flex-start",alignItems:"center",m:"0.5rem",gap:"1rem"},children:[(0,Et.jsx)(Pg,{children:" Neues Deck anlegen:"}),(0,Et.jsx)(Tl,{variant:"filled",sx:{...af.TextFieldStyles},size:"small",value:a,onChange:e=>s(e.target.value),label:"Name"}),(0,Et.jsxs)(aa,{variant:"filled",sx:{mr:"2rem"},children:[(0,Et.jsx)(ea,{id:"select-label",children:"Typ"}),(0,Et.jsxs)(kl,{size:"small",onChange:e=>c(e.target.value),MenuProps:{sx:{...af.MenuStyles}},value:l,labelId:"select-label",label:"Deck ausw\xe4hlen",sx:{minWidth:"180px",...af.SelectStyles,"& .MuiSelect-select":{display:"flex",justifyContent:"center"}},children:[(0,Et.jsx)(yf,{value:"ohne",children:(0,Et.jsx)(If,{size:"small",label:"ohne"})}),["Duel","Commander"].map(e=>(0,Et.jsx)(yf,{value:e,children:(0,Et.jsx)(tm,{type:e})},e))]})]}),(0,Et.jsx)(Nf,{sx:af.ButtonStyles,disabled:0===a.trim().length,onClick:()=>{u.addNewDeck(a,"ohne"!==l?l:void 0),s(""),c("ohne")},children:(0,Et.jsx)(Gg,{})})]}),(0,Et.jsx)(Pg,{sx:{mb:"1rem",ml:"0.5rem"},children:"Deine Decks"}),(0,Et.jsxs)(vr,{sx:af.outsetShadow,children:[0===r.length&&(0,Et.jsx)(Pg,{fontStyle:"italic",children:"Noch kein Deck angelegt"}),r.map(e=>(0,Et.jsxs)(Gf,{disableGutters:!0,sx:{background:"none"},slotProps:{transition:{unmountOnExit:!0}},children:[(0,Et.jsxs)(Zf,{expandIcon:(0,Et.jsx)(Jf,{}),sx:{"& .MuiAccordionSummary-content":{justifyContent:"space-between"}},children:[(0,Et.jsxs)(vr,{display:"flex",children:[(0,Et.jsx)(Pg,{children:e.name}),e.deckType&&(0,Et.jsx)(tm,{sx:{ml:"1rem"},type:e.deckType})]}),e.deckType&&(0,Et.jsxs)(Pg,{sx:{mr:"0.5rem"},children:[e.cards.length," / ",bg[e.deckType]]})]}),(0,Et.jsx)(Qf,{children:(0,Et.jsx)(Et.Fragment,{children:e.cards.map((t,n)=>{var i;const r=null===(i=t.foreignNames)||void 0===i?void 0:i.find(e=>"German"===e.language),o=r?{...t,...r}:{...t};return(0,Et.jsxs)(Gf,{sx:{background:"none"},slotProps:{transition:{unmountOnExit:!0}},disableGutters:!0,children:[(0,Et.jsx)(Zf,{expandIcon:(0,Et.jsx)(Jf,{}),children:o.name}),(0,Et.jsxs)(Qf,{children:[(0,Et.jsx)(sf,{card:t}),(0,Et.jsxs)(wc,{sx:{my:"0.5rem",...af.ButtonStyles},color:"error",size:"small",onClick:()=>u.deleteCard(e.id,t.id),children:[(0,Et.jsx)(em,{}),"Entfernen"]})]})]},n)})})})]},e.id))]})]})}),im=yl((0,Et.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),rm=yl((0,Et.jsx)("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"}));function om(e){return gr("MuiToggleButtonGroup",e)}const am=fr("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);const sm=i.createContext({});const lm=i.createContext(void 0);function cm(e){return gr("MuiToggleButton",e)}const um=fr("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),dm=Rr("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${am.grouped}`]:t.grouped},{[`& .${am.grouped}`]:t[`grouped${Jr(n.orientation)}`]},{[`& .${am.firstButton}`]:t.firstButton},{[`& .${am.lastButton}`]:t.lastButton},{[`& .${am.middleButton}`]:t.middleButton},t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})(Qr(e=>{let{theme:t}=e;return{display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${am.grouped}`]:{[`&.${am.selected} + .${am.grouped}.${am.selected}`]:{borderTop:0,marginTop:0}},[`& .${am.firstButton},& .${am.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${am.lastButton},& .${am.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${am.lastButton}.${um.disabled},& .${am.middleButton}.${um.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${am.grouped}`]:{[`&.${am.selected} + .${am.grouped}.${am.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${am.firstButton},& .${am.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${am.lastButton},& .${am.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${am.lastButton}.${um.disabled},& .${am.middleButton}.${um.disabled}`]:{borderLeft:"1px solid transparent"}}}]}})),hm=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiToggleButtonGroup"}),{children:r,className:o,color:a="standard",disabled:s=!1,exclusive:l=!1,fullWidth:c=!1,onChange:u,orientation:d="horizontal",size:h="medium",value:p,...g}=n,f={...n,disabled:s,fullWidth:c,orientation:d,size:h},m=(e=>{const{classes:t,orientation:n,fullWidth:i,disabled:r}=e;return xr({root:["root",n,i&&"fullWidth"],grouped:["grouped",`grouped${Jr(n)}`,r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]},om,t)})(f),y=i.useCallback((e,t)=>{if(!u)return;const n=p&&p.indexOf(t);let i;p&&n>=0?(i=p.slice(),i.splice(n,1)):i=p?p.concat(t):[t],u(e,i)},[u,p]),b=i.useCallback((e,t)=>{u&&u(e,p===t?null:t)},[u,p]),v=i.useMemo(()=>({className:m.grouped,onChange:l?b:y,value:p,size:h,fullWidth:c,color:a,disabled:s}),[m.grouped,l,b,y,p,h,c,a,s]),x=jg(r),S=x.length,M=e=>{const t=0===e,n=e===S-1;return t&&n?"":t?m.firstButton:n?m.lastButton:m.middleButton};return(0,Et.jsx)(dm,{role:"group",className:fi(m.root,o),ref:t,ownerState:f,...g,children:(0,Et.jsx)(sm.Provider,{value:v,children:x.map((e,t)=>(0,Et.jsx)(lm.Provider,{value:M(t),children:e},t))})})}),pm=hm;function gm(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.includes(e):e===t)}const fm=Rr(ec,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${Jr(n.size)}`]]}})(Qr(e=>{let{theme:t}=e;return{...t.typography.button,borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active,[`&.${um.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${um.selected}`]:{color:(t.vars||t).palette.text.primary,backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette.text.primary,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:b(t.palette.text.primary,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette.text.primary,t.palette.action.selectedOpacity)}}}}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{[`&.${um.selected}`]:{color:(t.vars||t).palette[n].main,backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette[n].main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:b(t.palette[n].main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette[n].main,t.palette.action.selectedOpacity)}}}}}}),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:t.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:t.typography.pxToRem(15)}}]}})),mm=i.forwardRef(function(e,t){const{value:n,...r}=i.useContext(sm),o=i.useContext(lm),a=Pr({props:mi({...r,selected:gm(e.value,n)},e),name:"MuiToggleButton"}),{children:s,className:l,color:c="standard",disabled:u=!1,disableFocusRipple:d=!1,fullWidth:h=!1,onChange:p,onClick:g,selected:f,size:m="medium",value:y,...b}=a,v={...a,color:c,disabled:u,disableFocusRipple:d,fullWidth:h,size:m},x=(e=>{const{classes:t,fullWidth:n,selected:i,disabled:r,size:o,color:a}=e;return xr({root:["root",i&&"selected",r&&"disabled",n&&"fullWidth",`size${Jr(o)}`,a]},cm,t)})(v),S=o||"";return(0,Et.jsx)(fm,{className:fi(r.className,x.root,l,S),disabled:u,focusRipple:!d,ref:t,onClick:e=>{g&&(g(e,y),e.defaultPrevented)||p&&p(e,y)},onChange:p,value:y,ownerState:v,"aria-pressed":f,...b,children:s})}),ym=mm,bm=fg(e=>{let{display:t}=e;const n=Dg(),{decks:r}=n.decksStore,[o]=(0,i.useState)(r.length>0?r[0]:void 0),[a,s]=(0,i.useState)([0]),[l,c]=(0,i.useState)(0),u=Hg.getInstance(n);return(0,Et.jsxs)(vr,{sx:{flex:1,display:t?"flex":"none",justifyContent:"center",alignItems:"center"},children:[null===o||void 0===o?void 0:o.cards.map((e,t)=>(0,Et.jsxs)(vr,{sx:{display:t===l?void 0:"none",position:"relative"},children:[(0,Et.jsx)(vr,{component:"img",src:e.imageUrl,sx:{maxHeight:"60vh"}},t),(0,Et.jsxs)(vr,{sx:{display:"flex",gap:"1rem",mt:"1rem",width:"100%",justifyContent:"center"},children:[(0,Et.jsxs)(pm,{exclusive:!0,value:a,onChange:(e,t)=>{(e=>{const t=[];for(let n=1;n<=e;n++)t.push(n);s(t)})(t)},children:[(0,Et.jsx)(ym,{value:1,children:(0,Et.jsx)(im,{})}),(0,Et.jsx)(ym,{value:2,children:(0,Et.jsx)(im,{})}),(0,Et.jsx)(ym,{value:3,children:(0,Et.jsx)(im,{})}),(0,Et.jsx)(ym,{value:4,children:(0,Et.jsx)(im,{})}),(0,Et.jsx)(ym,{value:5,children:(0,Et.jsx)(im,{})})]}),(0,Et.jsx)($g,{children:(0,Et.jsx)(wc,{onClick:()=>{o&&(u.updateRating(o.id,e.id,a.slice().sort((e,t)=>t-e)[0]),s([0]),c(l+1))},children:(0,Et.jsx)(rm,{})})})]})]})),o&&l>=o.cards.length&&(0,Et.jsx)(Pg,{children:"Ende des Decks"})]})}),vm=Ar();function xm(e){let{props:t,name:n,defaultTheme:i,themeId:r}=e,o=$i(i);return r&&(o=o[r]||o),function(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?mi(t.components[n].defaultProps,i):i}({theme:o,name:n,props:t})}const Sm=(e,t,n)=>{const i=e.keys[0];if(Array.isArray(t))t.forEach((t,i)=>{n((t,n)=>{i<=e.keys.length-1&&(0===i?Object.assign(t,n):t[e.up(e.keys[i])]=n)},t)});else if(t&&"object"===typeof t){(Object.keys(t).length>e.keys.length?e.keys:(r=e.keys,o=Object.keys(t),r.filter(e=>o.includes(e)))).forEach(r=>{if(e.keys.includes(r)){const o=t[r];void 0!==o&&n((t,n)=>{i===r?Object.assign(t,n):t[e.up(r)]=n},o)}})}else"number"!==typeof t&&"string"!==typeof t||n((e,t)=>{Object.assign(e,t)},t);var r,o};function Mm(e){return`--Grid-${e}Spacing`}function wm(e){return`--Grid-parent-${e}Spacing`}const km="--Grid-columns",Im="--Grid-parent-columns",Cm=e=>{let{theme:t,ownerState:n}=e;const i={};return Sm(t.breakpoints,n.size,(e,t)=>{let n={};"grow"===t&&(n={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(n={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof t&&(n={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${t} / var(${Im}) - (var(${Im}) - ${t}) * (var(${wm("column")}) / var(${Im})))`}),e(i,n)}),i},Dm=e=>{let{theme:t,ownerState:n}=e;const i={};return Sm(t.breakpoints,n.offset,(e,t)=>{let n={};"auto"===t&&(n={marginLeft:"auto"}),"number"===typeof t&&(n={marginLeft:0===t?"0px":`calc(100% * ${t} / var(${Im}) + var(${wm("column")}) * ${t} / var(${Im}))`}),e(i,n)}),i},Am=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const i={[km]:12};return Sm(t.breakpoints,n.columns,(e,t)=>{const n=t??12;e(i,{[km]:n,"> *":{[Im]:n}})}),i},Tm=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const i={};return Sm(t.breakpoints,n.rowSpacing,(e,n)=>{const r="string"===typeof n?n:t.spacing?.(n);e(i,{[Mm("row")]:r,"> *":{[wm("row")]:r}})}),i},Lm=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const i={};return Sm(t.breakpoints,n.columnSpacing,(e,n)=>{const r="string"===typeof n?n:t.spacing?.(n);e(i,{[Mm("column")]:r,"> *":{[wm("column")]:r}})}),i},Nm=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const i={};return Sm(t.breakpoints,n.direction,(e,t)=>{e(i,{flexDirection:t})}),i},Em=e=>{let{ownerState:t}=e;return{minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&"wrap"!==t.wrap&&{flexWrap:t.wrap},gap:`var(${Mm("row")}) var(${Mm("column")})`}}},Om=e=>{const t=[];return Object.entries(e).forEach(e=>{let[n,i]=e;!1!==i&&void 0!==i&&t.push(`grid-${n}-${String(i)}`)}),t},Rm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function n(e){return void 0!==e&&("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e&&e>0)}if(n(e))return[`spacing-${t}-${String(e)}`];if("object"===typeof e&&!Array.isArray(e)){const t=[];return Object.entries(e).forEach(e=>{let[i,r]=e;n(r)&&t.push(`spacing-${i}-${String(r)}`)}),t}return[]},Pm=e=>void 0===e?[]:"object"===typeof e?Object.entries(e).map(e=>{let[t,n]=e;return`direction-${t}-${n}`}):[`direction-xs-${String(e)}`];const jm=Qe(),zm=vm("div",{name:"MuiGrid",slot:"Root"});function _m(e){return xm({props:e,name:"MuiGrid",defaultTheme:jm})}const Bm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=zm,useThemeProps:n=_m,useTheme:r=$i,componentName:o="MuiGrid"}=e;function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;const i={};return null===e||(Array.isArray(e)?e.forEach((e,r)=>{null!==e&&n(e)&&t.keys[r]&&(i[t.keys[r]]=e)}):"object"===typeof e?Object.keys(e).forEach(t=>{const r=e[t];null!==r&&void 0!==r&&n(r)&&(i[t]=r)}):i[t.keys[0]]=e),i}const s=t(Am,Lm,Tm,Cm,Nm,Em,Dm),l=i.forwardRef(function(e,t){const l=r(),c=ur(n(e));!function(e,t){const n=[];void 0!==e.item&&(delete e.item,n.push("item")),void 0!==e.zeroMinWidth&&(delete e.zeroMinWidth,n.push("zeroMinWidth")),t.keys.forEach(t=>{void 0!==e[t]&&(n.push(t),delete e[t])})}(c,l.breakpoints);const{className:u,children:d,columns:h=12,container:p=!1,component:g="div",direction:f="row",wrap:m="wrap",size:y={},offset:b={},spacing:v=0,rowSpacing:x=v,columnSpacing:S=v,unstable_level:M=0,...w}=c,k=a(y,l.breakpoints,e=>!1!==e),I=a(b,l.breakpoints),C=e.columns??(M?void 0:h),D=e.spacing??(M?void 0:v),A=e.rowSpacing??e.spacing??(M?void 0:x),T=e.columnSpacing??e.spacing??(M?void 0:S),L={...c,level:M,columns:C,container:p,direction:f,wrap:m,spacing:D,rowSpacing:A,columnSpacing:T,size:k,offset:I},N=((e,t)=>{const{container:n,direction:i,spacing:r,wrap:a,size:s}=e;return xr({root:["root",n&&"container","wrap"!==a&&`wrap-xs-${String(a)}`,...Pm(i),...Om(s),...n?Rm(r,t.breakpoints.keys[0]):[]]},e=>gr(o,e),{})})(L,l);return(0,Et.jsx)(s,{ref:t,as:g,ownerState:L,className:fi(N.root,u),...w,children:i.Children.map(d,e=>i.isValidElement(e)&&ta(e,["Grid"])&&p&&e.props.container?i.cloneElement(e,{unstable_level:e.props?.unstable_level??M+1}):e)})});return l.muiName="Grid",l}({createStyledComponent:Rr("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>Pr({props:e,name:"MuiGrid"}),useTheme:Ka});const Fm=Bm;var $m=Object.defineProperty,Vm=(e,t)=>{for(var n in t)$m(e,n,{get:t[n],enumerable:!0})},Gm={};Vm(Gm,{error:()=>Ym,errorOnce:()=>qm,log:()=>Hm,logGroup:()=>Jm,reset:()=>Qm,table:()=>Km,warn:()=>Um,warnOnce:()=>Xm});var Wm=new Set;function Hm(){console.log(...arguments)}function Um(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];console.warn(`AG Charts - ${e}`,...n)}function Ym(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];"object"===typeof e?console.error("AG Charts error",e,...n):console.error(`AG Charts - ${e}`,...n)}function Km(){console.table(...arguments)}function Zm(e,t,n){let i;i=e instanceof Error?e.message:"string"===typeof e?e:"object"===typeof e?JSON.stringify(e):String(e);const r=`${t}: ${i}`;Wm.has(r)||(n(e),Wm.add(r))}function Xm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Zm(e,"Logger.warn",e=>Um(e,...n))}function qm(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Zm(e,"Logger.error",e=>Ym(e,...n))}function Qm(){Wm.clear()}function Jm(e,t){console.groupCollapsed(e);try{return t()}finally{console.groupEnd()}}var ey={};Vm(ey,{detectChartDefinition:()=>ly,getAxisModule:()=>cy,getPresetModule:()=>uy,getSeriesModule:()=>dy,hasModule:()=>ay,listModulesByType:()=>sy,register:()=>iy,registerMany:()=>ry,reset:()=>oy});var ty=(e=>(e.Axis="axis",e.Chart="chart",e.Preset="preset",e.Plugin="plugin",e.Series="series",e))(ty||{}),ny=new Map;function iy(e,t){const{def:n,version:i}=ny.get(e.name)??{};if(n)if(n.enterprise||!e.enterprise||t!==i){if(i!==t)throw new Error([`AG Charts - Module '${e.name}' already registered with different version:`,`${i} vs ${t}`,"","Check your package.json for conflicting dependencies - depending on your package manager","one of these commands may help:","- npm ls ag-charts-community","- yarn why ag-charts-community"].join("\n"));Um([`AG Charts - Module '${e.name}' already registered,',\n                'ignoring (version: ${i}).`,"Check your code for duplicate loading of charts NPM modules."].join(" "))}else ny.set(e.name,{def:e,version:t});else ny.set(e.name,{def:e,version:t})}function ry(e,t){for(const n of e)iy(n,t)}function oy(){ny.clear()}function ay(e){return ny.has(e)}function*sy(e){for(const t of ny.values())hy(e,t.def)&&(yield t.def)}function ly(e){for(const t of ny.values())if(hy("chart",t.def)&&t.def.detect(e))return t.def;throw new Error("AG Charts - Unknown chart type; Check options are correctly structured and series types are specified")}function cy(e){const t=ny.get(e);if(hy("axis",t?.def))return t?.def}function uy(e){const t=ny.get(e);if(hy("preset",t?.def))return t?.def}function dy(e){const t=ny.get(e);if(hy("series",t?.def))return t?.def}function hy(e,t){return t?.type===e}var py,gy=class{constructor(){this.events=new Map}on(e,t){return this.events.has(e)||this.events.set(e,new Set),this.events.get(e)?.add(t),()=>this.off(e,t)}off(e,t){const n=this.events.get(e);n&&(n.delete(t),0===n.size&&this.events.delete(e))}emit(e,t){this.events.get(e)?.forEach(e=>e(t))}clear(e){e?this.events.delete(e):this.events.clear()}},fy={};function my(e){return e?fy.document?.[e]:fy.document}function yy(e){return e?fy.window?.[e]:fy.window}function by(e,t,n){const i=my().createElement(e);if("object"===typeof t&&(n=t,t=void 0),t)for(const r of t.split(" "))i.classList.add(r);return n&&Object.assign(i.style,n),i}function vy(e){return my().createElementNS("http://www.w3.org/2000/svg",e)}function xy(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function Sy(e){return null!=e}function My(e){return Array.isArray(e)}function wy(e){return e instanceof Date}function ky(e){return wy(e)&&!isNaN(Number(e))}function Iy(e){return"function"===typeof e}function Cy(e){return"object"===typeof e&&null!==e&&!My(e)}function Dy(e){return My(e)||Ay(e)}function Ay(e){return"object"===typeof e&&null!==e&&"Object"===e.constructor?.name}function Ty(e){if("object"!==typeof e||null===e)return!1;for(const t in e)return!1;return!0}function Ly(e){return"string"===typeof e}function Ny(e){return"number"===typeof e}function Ey(e){return Number.isFinite(e)}function Oy(e){return"symbol"===typeof e}function Ry(e,t,n){const{leading:i=!0,trailing:r=!0}=n??{};let o,a,s=!1;function l(){r&&a?(o=setTimeout(l,t),e(...a)):s=!1,a=null}return Object.assign(function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];s?a=r:(s=!0,o=setTimeout(l,t),i?e(...r):a=r)},{cancel(){clearTimeout(o),s=!1,a=null}})}function Py(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{return e(...t)}catch(i){Xm(`Uncaught exception in user callback${n?` \`${n}\``:""}`,i)}}function jy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:String,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;if(0===e.length)return"";if(1===e.length)return n(e[0]);const r=(e=e.map(n)).pop();if(e.length>=i){const n=e.length-(i-1);return`${e.slice(0,i-1).join(", ")}, and ${n} more ${t} ${r}`}return`${e.join(", ")} ${t} ${r}`}function zy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;if("number"===typeof e){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}const n=JSON.stringify(e)??typeof e;return n.length>t?`${n.slice(0,t)}... (+${n.length-t} characters)`:n}function _y(e,t){if(e===t)return 0;const[n,i]=e.length<t.length?[e,t]:[t,e],r=n.length,o=i.length;let a=new Array(r+1).fill(0).map((e,t)=>t),s=new Array(r+1);for(let l=1;l<=o;l++){s[0]=l;for(let e=1;e<=r;e++){const t=i[l-1]===n[e-1]?0:1;s[e]=Math.min(a[e]+1,s[e-1]+1,a[e-1]+t)}[a,s]=[s,a]}return a[r]}function By(e){return e.replace(Fy,(e,t)=>(t>0?"-":"")+e.toLowerCase())}"undefined"!==typeof window?fy.window=window:"undefined"!==typeof global&&(fy.window=global.window),"undefined"!==typeof document?fy.document=document:"undefined"!==typeof global&&(fy.document=global.document);var Fy=/[A-Z]+(?![a-z])|[A-Z]/g;function $y(e){return My(e)?e.map(e=>e.text).join(""):e??""}var Vy=Symbol("description"),Gy=Symbol("required"),Wy=Symbol("marked"),Hy=Symbol("undocumented"),Uy=Symbol("union"),Yy=[["placement","position"],["padding","spacing","gap"],["color","fill","stroke"],["whisker","wick"],["nodeClick","seriesNodeClick"],["nodeDoubleClick","seriesNodeDoubleClick"],["src","url"]].reduce((e,t)=>{for(const n of t)e.set(n.toLowerCase(),new Set(t.filter(e=>e!==n)));return e},new Map),Ky=(e=>(e.Invalid="invalid",e.Required="required",e.Unknown="unknown",e))(Ky||{});function Zy(e,t){return Ey(t)?`${e}[${t}]`:e?`${e}.${t}`:t}var Xy=class{constructor(e,t,n,i,r){this.type=e,this.description=t,this.value=n,this.path=i,this.key=r}setUnionType(e,t){if(this.path.startsWith(t)){const n=this.path.slice(t.length);this.altPath=`${t}[type=${e}]${n}`}}getPrefix(){const{altPath:e=this.path,key:t}=this;return e||t?`Option \`${t?Zy(e,t):e}\``:"Value"}toString(){const{description:e="unknown",type:t,value:n}=this;return"required"===t&&null==n?`${this.getPrefix()} is required and has not been provided; expecting ${e}, ignoring.`:`${this.getPrefix()} cannot be set to \`${zy(n,50)}\`; expecting ${e}, ignoring.`}},qy=class extends Xy{constructor(e,t,n,i){super("unknown",void 0,t,n,i),this.suggestions=e,this.key=i}getPrefix(){return`Unknown option \`${Zy(this.altPath??this.path,this.key)}\``}getPostfix(){const e=jy(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const i=[],r=e.toLowerCase(),o=Yy.get(r);for(const a of t){const e=a.toLowerCase();(o?.has(a)||e.includes(r)||_y(r,e)<=n)&&i.push(a)}return i}(this.key,this.suggestions),"or",e=>`\`${e}\``);return e?`; Did you mean ${e}? Ignoring.`:", ignoring."}toString(){return`${this.getPrefix()}${this.getPostfix()}`}};function Qy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!Cy(e))return{cleared:null,invalid:[new Xy("required","an object",e,n)]};const i={},r=[],o=new Set(Object.keys(e)),a=[];if(Uy in t){const o=Object.keys(t),a=t[Uy];if(null!=e.type&&o.includes(e.type)||null==e.type&&null!=a){const{type:o=a,...s}=e,l=Qy(s,t[o],n);Object.assign(i,{type:o},l.cleared);for(const e of l.invalid)e.setUnionType(o,n);r.push(...l.invalid)}else{const t=jy(o,"or",e=>`'${e}'`);r.push(new Xy("required",`a keyword such as ${t}`,e.type,n,"type"))}return{cleared:i,invalid:r}}for(const s of Object.keys(t)){const l=t[s],c=l[Gy],u=e[s];if(o.delete(s),"undefined"===typeof u&&(l[Hy]||a.push(s),!c))continue;const d=Zy(n,s);if(Iy(l)){const t=l(u,{options:e,path:d});if("object"===typeof t){if(r.push(...t.invalid),t.valid){i[s]=t.cleared;continue}if(Ob(t.invalid,d))continue}else if(t){i[s]=u;continue}r.push(new Xy(c?"required":"invalid",l[Vy],u,n,s))}else{const e=Qy(u,l,d);null!=e.cleared&&(i[s]=e.cleared),r.push(...e.invalid)}}for(const s of o){const t=e[s];"undefined"!==typeof t&&r.push(new qy(a,t,n,s))}return{cleared:i,invalid:r}}function Jy(e,t){if(Iy(e)){let n=function(t,n){return e(t,n)};return n[Vy]=t,n}return{...e,[Vy]:t}}function eb(e){return Object.assign(Iy(e)?(t,n)=>e(t,n):rb(e),{[Gy]:!0,[Vy]:e[Vy]})}function tb(e){return Object.assign(Iy(e)?(t,n)=>e(t,n):rb(e),{[Hy]:!0,[Vy]:e[Vy]})}var nb,ib,rb=function(e){return Jy((t,n)=>{const i=Qy(t,e,n.path);return{valid:!Ob(i.invalid,n.path),cleared:i.cleared,invalid:i.invalid}},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"an object")},ob=(e,t,n)=>({...e,[Vy]:t,[Uy]:n}),ab=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jy((e,n)=>{const i=[];for(const r of t){const t=r(e,n);if("object"===typeof t){if(i.push(...t.invalid),!t.valid)return{valid:!1,cleared:e,invalid:i};e=t.cleared}else if(!t)return!1}return{valid:!0,cleared:e,invalid:i}},t.map(e=>e[Vy]).filter(Boolean).join(" and "))},sb=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jy((e,n)=>{for(const i of t){const t=i(e,n);if("object"===typeof t?t.valid:t)return t}return!1},t.map(e=>e[Vy]).filter(Boolean).join(" or "))},lb=e=>Ey(e)||ky(e),cb=Jy(My,"an array"),ub=Jy(function(e){return"boolean"===typeof e},"a boolean"),db=Jy(Iy,"a function"),hb=Jy(function(e){return Ly(e)&&("none"===e||null!=function(e){if(null==py){const e=yy("Option");py=(new e).style}return py.color=e,py.color||null}(e))},"a color string"),pb=Jy(e=>wy(e)||(Ey(e)||Ly(e))&&ky(new Date(e)),"a date"),gb=Jy(Sy,"a defined value"),fb=Jy(Ey,"a number"),mb=Jy(Cy,"an object"),yb=Jy(Ly,"a string"),bb=Jy(e=>"undefined"===typeof HTMLElement||e instanceof HTMLElement,"an html element"),vb=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return t=n===1/0?`an array of at least ${e} items`:e===n?`an array of exactly ${e} items`:0===e?`an array of no more than ${n} items`:`an array of at least ${e} and no more than ${n} items`,Jy(t=>My(t)&&t.length>=e&&t.length<=n,t)},xb=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return t=n===1/0?`a string of at least ${e} characters`:e===n?`an string of exactly ${e} characters`:0===e?`an string of no more than ${n} characters`:`an string of at least ${e} and no more than ${n} characters`,Jy(t=>Ly(t)&&t.length>=e&&t.length<=n,t)},Sb=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Jy(n=>Ey(n)&&(n>e||t&&n===e),`a number greater than ${t?"or equal to ":""}${e}`)},Mb=Sb(0),wb=Sb(0,!1),kb=Jy(e=>Ey(e)&&e>=nb&&e<=ib,`a number between ${nb=0} and ${ib=1} inclusive`),Ib=e=>Jy((t,n)=>{let{options:i}=n;return!lb(t)||!lb(i[e])||t<i[e]},`the value to be less than \`${e}\``),Cb=e=>Jy((t,n)=>{let{options:i}=n;return!lb(t)||!lb(i[e])||t>i[e]},`the value to be greater than \`${e}\``);function Db(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Cy(t[0])&&(t=Object.values(t[0]));return Jy(e=>t.includes(e),`a keyword such as ${jy(t,"or",e=>`'${e}'`)}`)}var Ab=e=>Jy(t=>e===t,`the value ${JSON.stringify(e)}`),Tb=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Jy((t,i)=>{if(!My(t))return!1;let r=n;const o=[],a=[],s=e=>r=n?r&&e:r||e;if(0===t.length)return{valid:!0,cleared:o,invalid:a};for(let n=0;n<t.length;n++){const l=t[n],c=e(l,{options:l,path:`${i.path}[${n}]`});"object"===typeof c?(r=s(c.valid),a.push(...c.invalid),null!=c.cleared&&o.push(c.cleared)):(r=s(c),c&&o.push(l))}return{valid:r,cleared:r||!n?o:null,invalid:a}},t??`${e[Vy]} array`)},Lb=function(e){return Jy((t,n)=>{if(!My(t))return!1;const i=[],r=[];for(let o=0;o<t.length;o++){const a=`${n.path}[${o}]`,s=Qy(t[o],e,a);Ob(s.invalid,a)||i.push(s.cleared),r.push(...s.invalid)}return{valid:!0,cleared:i,invalid:r}},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"an object array")},Nb=(e,t)=>Jy((n,i)=>{if(!Iy(n))return!1;if(Wy in n)return!0;return{valid:!0,cleared:Object.assign(function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];const s=Py(n,o);if(null==s)return;const l=e(s,{options:s,path:""});if("object"===typeof l){if(l.invalid.forEach(Rb(i,t??e[Vy])),l.valid)return l.cleared}else{if(l)return s;Xm(`Callback \`${i.path}\` returned an invalid value \`${zy(s,50)}\`; expecting ${t??e[Vy]}, ignoring.`)}},{[Wy]:!0}),invalid:[]}},"a function"),Eb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"an object";return Jy((n,i)=>{if(!Iy(n))return!1;if(Wy in n)return!0;const r=Object.assign(function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];const s=Py(n,o,i.path);if(null==s)return;const l=Qy(s,e);return l.invalid.forEach(Rb(i,t)),l.cleared},{[Wy]:!0});return{valid:!0,cleared:r,invalid:[]}},"a function")};function Ob(e,t){return e.some(e=>"required"===e.type&&e.path===t)}function Rb(e,t){return n=>{if(n instanceof qy)return Xm(`Callback \`${e.path}\` returned an unknown property \`${Zy(n.path,n.key)}\`${n.getPostfix()}`);const i=zy(n.value,50);Xm(n.key?`Callback \`${e.path}\` returned an invalid property \`${Zy(n.path,n.key)}\`: \`${i}\`; expecting ${n.description}, ignoring.`:`Callback \`${e.path}\` returned an invalid value \`${i}\`; expecting ${t??n.description}, ignoring.`)}}var Pb=e=>{if(!Cy(e))return!1;const t=Object.keys(e);return 1===t.length&&t[0].startsWith("$")},jb=rb({color:hb,stop:kb},""),zb=Jy(e=>{let t=-1/0;for(const n of e)if(null!=n?.stop){if(n.stop<t)return!1;t=n.stop}return!0},"color stops to be defined in ascending order"),_b=ab(vb(2),Tb(jb),zb),Bb=Db("axis","item","series"),Fb=rb({type:eb(Ab("gradient")),colorStops:eb(_b),rotation:fb,gradient:tb(Db("linear","radial","conic")),bounds:tb(Bb),reverse:tb(ub)},"a gradient object with color stops"),$b={stroke:hb,strokeWidth:Mb,strokeOpacity:kb},Vb=rb({type:eb(Ab("gradient")),gradient:eb(Db("linear","radial","conic")),bounds:eb(Bb),colorStops:eb(sb(_b,ab(vb(2),Tb(hb)))),rotation:eb(fb),reverse:eb(ub)}),Gb=rb({type:eb(Ab("pattern")),pattern:eb(Db("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses")),path:xb(2),width:eb(Mb),height:eb(Mb),fill:eb(hb),fillOpacity:eb(kb),backgroundFill:eb(hb),backgroundFillOpacity:eb(kb),padding:eb(Mb),rotation:eb(fb),scale:eb(Mb),stroke:eb(hb),strokeWidth:eb(Mb),strokeOpacity:eb(kb)}),Wb=rb({type:eb(Ab("image")),url:yb,width:Mb,height:Mb,rotation:eb(fb),backgroundFill:eb(hb),backgroundFillOpacity:kb,fit:eb(Db("stretch","contain","cover")),repeat:eb(Db("repeat","repeat-x","repeat-y","no-repeat"))}),Hb=ob({gradient:{colorStops:_b,rotation:fb,gradient:tb(Db("linear","radial","conic")),bounds:tb(Bb),reverse:tb(ub)},pattern:{pattern:Db("vertical-lines","horizontal-lines","forward-slanted-lines","backward-slanted-lines","circles","squares","triangles","diamonds","stars","hearts","crosses"),path:xb(2),width:Mb,height:Mb,rotation:fb,scale:Mb,fill:hb,fillOpacity:kb,backgroundFill:hb,backgroundFillOpacity:kb,...$b,padding:tb(Mb)},image:{url:eb(yb),backgroundFill:hb,backgroundFillOpacity:kb,width:Mb,height:Mb,fit:Db("stretch","contain","cover","none"),repeat:Db("repeat","repeat-x","repeat-y","no-repeat"),rotation:fb}},"a color object"),Ub=sb(hb,rb(Hb,"a color object")),Yb={fill:Ub,fillOpacity:kb};Yb.fillGradientDefaults=tb(Vb),Yb.fillPatternDefaults=tb(Gb),Yb.fillImageDefaults=tb(Wb);var Kb={lineDash:Tb(Mb),lineDashOffset:fb},Zb={...Yb,...$b,...Kb,opacity:kb,cornerRadius:Mb},Xb={...$b,...Kb,opacity:kb},qb={...Yb,...$b,...Kb,opacity:kb};function Qb(e){return{enabled:ub,range:Db("tooltip","node"),highlightedItem:e,unhighlightedItem:e}}function Jb(e,t){return{enabled:ub,range:Db("tooltip","node"),highlightedItem:e,unhighlightedItem:e,highlightedSeries:t,unhighlightedSeries:t,bringToFront:ub}}var ev=rb({googleFont:yb},"google font"),tv=sb(yb,Pb,ev,Tb(sb(yb,ev))),nv={color:hb,fontFamily:tv,fontSize:Mb,fontStyle:Db("normal","italic","oblique"),fontWeight:sb(Mb,Db("normal","bold","bolder","lighter"))},iv=rb({top:fb,right:fb,bottom:fb,left:fb},"padding object"),rv=sb(fb,iv),ov={enabled:ub,stroke:hb,strokeWidth:Mb,strokeOpacity:kb},av={border:{...ov},cornerRadius:fb,padding:rv,...Yb};function sv(e){return"undefined"===typeof e?[]:Array.isArray(e)?e:[e]}function lv(e,t){return e.reduce((e,n)=>{const i=t(n);return e[i]??(e[i]=[]),e[i].push(n),e},{})}function cv(e,t){if(null==e||null==t||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(Array.isArray(e[n])&&Array.isArray(t[n])){if(!cv(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function uv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===e.length)return[];const i=[];for(let r=0;r<t;r++)i.push(e.at((r+n)%e.length));return i}function dv(e,t){let n=0;for(;n<e.length&&t(e[n]);)n+=1;const i=n;0!==i&&e.splice(0,i)}function hv(e,t){let n=e.length-1;for(;n>=0&&t(e[n]);)n-=1;const i=e.length-1-n;0!==i&&e.splice(e.length-i,i)}var pv=class{constructor(){this.queue=[]}await(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return new Promise(t=>{const n=()=>{clearTimeout(i),t(!0)},i=setTimeout(()=>{const e=this.queue.indexOf(n);e<0||(this.queue.splice(e,1),t(!1))},e);this.queue.push(n)})}notify(){this.queue.splice(0).forEach(e=>e())}};function gv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(t=>{setTimeout(t,e)})}function*fv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const i of t)yield*i}function mv(e){for(const t of e)return t;throw new Error("AG Charts - no first() value found")}function*yv(e){const t=[void 0,void 0];for(const n of Object.keys(e))t[0]=n,t[1]=e[n],yield t}function bv(e){return"true"===e}function vv(e){return e}var xv={role:vv,"aria-checked":bv,"aria-controls":vv,"aria-describedby":vv,"aria-disabled":bv,"aria-expanded":bv,"aria-haspopup":vv,"aria-hidden":bv,"aria-label":vv,"aria-labelledby":vv,"aria-live":vv,"aria-orientation":vv,"aria-selected":bv,"data-focus-override":bv,"data-focus-visible-override":bv,"data-preventdefault":bv,class:vv,for:vv,id:vv,tabindex:function(e){return Number(e)},title:vv,placeholder:vv};function Sv(e,t,n){null==n||""===n||""===n?e?.removeAttribute(t):e?.setAttribute(t,n.toString())}function Mv(e,t){if(null!=t)for(const[n,i]of yv(t))"class"!==n&&Sv(e,n,i)}function wv(e,t,n){if(!(e instanceof HTMLElement))return;const i=e.getAttribute(t);return null===i?n:xv[t]?.(i)??void 0}function kv(e,t,n){null!=e&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n.toString()))}function Iv(e,t,n,i,r){return t<e.x+e.width&&t+i>e.x&&n<e.y+e.height&&n+r>e.y}function Cv(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return t>=e.x&&t+i<=e.x+e.width&&n>=e.y&&n+r<=e.y+e.height}function Dv(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Av(e,t,n){if(e>t)return;let i;for(;t>=e;){const r=Math.floor((t+e)/2);n(r)?(i=r,e=r+1):t=r-1}return i}function Tv(e,t,n){if(e>t)return;let i;for(;t>=e;){const r=Math.floor((t+e)/2);n(r)?(i=r,t=r-1):e=r+1}return i}var Lv=class{constructor(e){this.getter=e}get(){let e=this.result?.deref();return e||(e=this.getter(),this.result=new WeakRef(e),e)}clear(){this.result=void 0}},Nv=class{constructor(){this.callbacks=new Set}flush(){for(const e of this.callbacks)e();this.callbacks.clear()}merge(e){for(const t of e.callbacks)this.callbacks.add(t)}register(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const i of t)i&&this.callbacks.add(i)}};function Ev(e,t,n){return Math.min(n,Math.max(e,t))}function Ov(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;return e===t||Math.abs(e-t)<n}function Rv(e){return-1===Math.sign(e)||Object.is(e,-0)}function Pv(e){const t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:2);return Math.round(e*t)/t}function jv(e){if(Math.floor(e)===e)return 0;let t=String(e),n=0;if(e<1e-6||e>=1e21){let e;[t,e]=t.split("e"),null!=e&&(n=Number(e))}const i=t.split(".")[1]?.length??0;return Math.max(i-n,0)}function zv(e){return Array.isArray(e)&&e.length>=2&&e.every(Ey)}function _v(e){return Array.isArray(e)&&e.length>=2&&e.every(zv)}function Bv(e){const t=e[0],n=e[e.length-1];return Ov(t[0],n[0],.001)&&Ov(t[1],n[1],.001)}function Fv(e){return Array.isArray(e)&&e.every(_v)&&e.every(Bv)}function $v(e){if(null===e)return!0;if(!Cy(e)||null==e.type)return!1;const{type:t,coordinates:n}=e;switch(t){case"GeometryCollection":return Array.isArray(e.geometries)&&e.geometries.every($v);case"MultiPolygon":return Array.isArray(n)&&n.every(Fv);case"Polygon":return Fv(n);case"MultiLineString":return Array.isArray(n)&&n.every(_v);case"LineString":case"MultiPoint":return _v(n);case"Point":return zv(n);default:return!1}}function Vv(e){return Cy(e)&&"Feature"===e.type&&$v(e.geometry)}var Gv=Jy(function(e){return Cy(e)&&"FeatureCollection"===e.type&&Array.isArray(e.features)&&e.features.every(Vv)},"a GeoJSON object"),Wv=class{constructor(e,t){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[],this.cachedNeighboursEdge=e,this.processedEdge=t}clear(){this._vertexCount=0,this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}addVertex(e){const t=new Hv(e);return this._vertexCount++,t}addEdge(e,t,n){n===this.cachedNeighboursEdge?e.updateCachedNeighbours().set(t.value,t):n===this.processedEdge&&(this.pendingProcessingEdgesFrom.push(e),this.pendingProcessingEdgesTo.push(t));const{edges:i}=e,r=i.get(n);r?-1===r.indexOf(t)&&r.push(t):i.set(n,[t])}removeVertex(e){this._vertexCount--;const t=e.edges;if(t){for(const[e,n]of t)this._vertexCount-=n.length;e.clear()}}removeEdge(e,t){for(const[n,i]of e.edges){const r=i.indexOf(t);i.splice(r,1),0===i.length&&e.edges.delete(n)}}removeEdges(e,t){e.edges.delete(t)}getVertexValue(e){return e.value}*neighbours(e){for(const[t,n]of e.edges)for(const e of n)yield e}*neighboursAndEdges(e){for(const[t,n]of e.edges)for(const e of n)yield[e,t]}neighboursWithEdgeValue(e,t){return e.edges.get(t)}findNeighbour(e,t){return e.edges.get(t)?.[0]}findNeighbourValue(e,t){const n=this.findNeighbour(e,t);if(n)return this.getVertexValue(n)}findNeighbourWithValue(e,t,n){const i=null==n?this.neighbours(e):this.neighboursWithEdgeValue(e,n);if(i)for(const r of i)if(this.getVertexValue(r)===t)return r}findVertexAlongEdge(e,t,n){if(n===this.cachedNeighboursEdge){let n;for(const i of t)if(n=(n??e).readCachedNeighbours()?.get(i),!n)return;return n}if(0===t.length)return;let i=e;for(const r of t){const e=i?this.neighboursWithEdgeValue(i,n):void 0;if(!e)return;i=e.find(e=>e.value===r)}return i}adjacent(e,t){for(const[n,i]of e.edges)if(i.includes(t))return!0;return!1}},Hv=class{constructor(e){this.value=e,this.edges=new Map}readCachedNeighbours(){return this._cachedNeighbours}updateCachedNeighbours(){return this._cachedNeighbours??(this._cachedNeighbours=new Map),this._cachedNeighbours}clear(){this.edges.clear(),this._cachedNeighbours?.clear()}},Uv=new Map,Yv=(Symbol("ElementID"),1);function Kv(e){const t=e.constructor,n=Object.hasOwn(t,"className")?t.className:t.name;if(!n)throw new Error(`The ${t} is missing the 'className' property.`);const i=(Uv.get(n)??0)+1;return Uv.set(n,i),`${n}-${i}`}function Zv(){return"ag-charts-"+Yv++}function Xv(){return crypto.randomUUID?.()??function(){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t="";for(let n=0;n<e.length;n++)4!==n&&6!==n&&8!==n&&10!==n||(t+="-"),t+=e[n].toString(16).padStart(2,"0");return t}()}var qv=(e,t,n)=>{let i=e,r=i;for(const o of t)if(null==i||n(i.value,o)>0)i={value:o,next:i},r=i;else{for(;null!=r.next&&n(r.next.value,o)<=0;)r=r.next;r.next={value:o,next:r.next}}return i},Qv=/^(?:(.)?([<>=^]))?([+\-( ])?([$\u20ac\xa3\xa5\u20a3\u20b9#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,Jv=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/;function ex(e){let t,n;const i=Jv.exec(e);i&&([,t,e,n]=i);const r=Qv.exec(e);if(!r)return void Gm.warnOnce(`The number formatter is invalid: ${e}`);const[,o,a,s,l,c,u,d,h,p,g]=r;return{fill:o,align:a,sign:s,symbol:l,zero:c,width:parseInt(u),comma:d,precision:parseInt(h),trim:Boolean(p),type:g,prefix:t,suffix:n}}function tx(e){const t="string"===typeof e?ex(e):e;if(null==t)return;const{fill:n,align:i,sign:r="-",symbol:o,zero:a,width:s,comma:l,type:c,prefix:u="",suffix:d="",precision:h}=t;let{trim:p}=t;const g=null==h||isNaN(h);let f;if(c)if(c in ix&&c in nx)f=g?nx[c]:ix[c];else if(c in ix)f=ix[c];else{if(!(c in nx))throw new Error(`The number formatter type is invalid: ${c}`);f=nx[c]}else f=ix.g,p=!0;const m=c?6:12;let y;return g||(y=h),(e,t)=>{let h=f(e,y??t??m);return p&&(h=function(e){if(!e.endsWith("0")||-1===e.indexOf("."))return e;let t=e.length-1;for(;t>0;){if("0"!=e[t]){if("."==e[t]){t-=1;break}break}t-=1}return e.substring(0,t+1)}(h)),l&&(h=function(e,t){let n=e.indexOf(".");n<0&&(n=e.length);const i=e.substring(0,n).split(""),r=e.substring(n);for(let o=i.length-3;o>0;o-=3)i.splice(o,0,t);return`${i.join("")}${r}`}(h,l)),h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("("===n)return e>=0?t:`(${t})`;const i="+"===n?"+":"";return`${e>=0?i:sx}${t}`}(e,h,r),o&&"#"!==o&&(h=`${o}${h}`),"#"===o&&"x"===c&&(h=`0x${h}`),"s"===c&&(h=`${h}${function(e){return ax[cx(e)]}(e)}`),"%"!==c&&"p"!==c||(h=`${h}%`),null==s||isNaN(s)||(h=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:">",r=e;if(">"!==i&&i){if("<"===i)r=r.padEnd(t,n);else if("^"===i){const e=Math.max(0,t-r.length),i=Math.ceil(e/2),o=Math.floor(e/2);r=r.padStart(i+r.length,n),r=r.padEnd(o+r.length,n)}}else r=r.padStart(t,n);return r}(h,s,n??a,i)),h=`${u}${h}${d}`,h}}var nx={b:e=>lx(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>lx(e).toString(8),x:e=>lx(e).toString(16),X:e=>nx.x(e).toUpperCase(),n:e=>nx.d(e),"%":e=>`${lx(100*e).toFixed(0)}`},ix={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>ix.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>ix.f(e,t).toUpperCase(),g:(e,t)=>{if(0===e)return"0";const n=Math.abs(e),i=Math.floor(Math.log10(n));return i>=-4&&i<t?n.toFixed(t-1-i):n.toExponential(t-1)},G:(e,t)=>ix.g(e,t).toUpperCase(),n:(e,t)=>ix.g(e,t),p:(e,t)=>ix.r(100*e,t),r:(e,t)=>{if(0===e)return"0";const n=Math.abs(e),i=Math.floor(Math.log10(n))-(t-1);if(i<=0)return n.toFixed(-i);const r=10**i;return(Math.round(n/r)*r).toFixed()},s:(e,t)=>{const n=cx(e);return ix.r(e/10**n,t)},"%":(e,t)=>ix.f(100*e,t)},rx=-24,ox=24,ax={[rx]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xb5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[ox]:"Y"},sx="\u2212";function lx(e){return Math.floor(Math.abs(e))}function cx(e){return Ev(rx,e?3*Math.floor(Math.log10(Math.abs(e))/3):0,ox)}var ux=Object.defineProperty,dx=Object.getOwnPropertyDescriptor,hx=(e,t)=>{for(var n in t)ux(e,n,{get:t[n],enumerable:!0})},px=(e,t,n,i)=>{for(var r,o=i>1?void 0:i?dx(t,n):t,a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i?r(t,n,o):r(o))||o);return i&&o&&ux(t,n,o),o},gx=class{constructor(){this.cleanup=new Nv}destroy(){this.cleanup.flush()}},fx=new class{constructor(){this.modules=[],this.dependencies=new Map,this.modulesByOptionKey=new Map}register(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const i of t){this.registerDependencies(i);const e=this.modules.find(e=>i.type===e.type&&(!("optionsKey"in i)||!("optionsKey"in e)||i.optionsKey===e.optionsKey)&&i.identifier===e.identifier);if(e){if("enterprise"===i.packageType&&"community"===e.packageType){const t=this.modules.indexOf(e);this.modules.splice(t,1,i),"optionsKey"in i&&this.modulesByOptionKey.set(i.optionsKey,i)}}else this.modules.push(i),"optionsKey"in i&&this.modulesByOptionKey.set(i.optionsKey,i)}}hasEnterpriseModules(){return this.modules.some(e=>"enterprise"===e.packageType)}*byType(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=new Set,r=this.modules.filter(e=>t.includes(e.type)),o=e=>{const t=this.dependencies.get(e);return t?.flatMap(o).concat(t)??[]},a=[];for(const s of r){const e="optionsKey"in s?s.optionsKey:s.contextKey;if(!i.has(e)){for(const n of o(e)){if(i.has(n))continue;const e=this.modulesByOptionKey.get(n);e?t.includes(e.type)&&(yield e,i.add(n)):a.push(n)}yield s,i.add(e)}}if(a.length>0)throw new Error(`Could not resolve module dependencies: ${a}`)}registerDependencies(e){if(null==e.dependencies||0===e.dependencies.length)return;const t="optionsKey"in e?e.optionsKey:e.contextKey;this.dependencies.set(t,e.dependencies)}},mx=Symbol("interpolate"),yx=e=>null!=e[mx];function bx(e,t,n){const i={nearest:void 0,distanceSquared:arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0};for(const r of n){const n=r.distanceSquared(e,t);if(0===n)return{nearest:r,distanceSquared:0};n<i.distanceSquared&&(i.nearest=r,i.distanceSquared=n)}return i}function vx(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const{x:r=e,y:o=t}=n.transformPoint?.(e,t)??{},a={nearest:void 0,distanceSquared:i};for(const s of n.children){const{nearest:e,distanceSquared:t}=s.nearestSquared(r,o,a.distanceSquared);if(0===t)return{nearest:e,distanceSquared:t};t<a.distanceSquared&&(a.nearest=e,a.distanceSquared=t)}return a}var xx=class e{constructor(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i}static fromDOMRect(t){let{x:n,y:i,width:r,height:o}=t;return new e(n,i,r,o)}static merge(t){let n=1/0,i=1/0,r=-1/0,o=-1/0;for(const e of t)e.x<n&&(n=e.x),e.y<i&&(i=e.y),e.x+e.width>r&&(r=e.x+e.width),e.y+e.height>o&&(o=e.y+e.height);return new e(n,i,r-n,o-i)}static nearestBox(e,t,n){return bx(e,t,n)}toDOMRect(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.y,left:this.x,right:this.x+this.width,bottom:this.y+this.height,toJSON:()=>({})}}clone(){const{x:t,y:n,width:i,height:r}=this;return new e(t,n,i,r)}equals(e){return Dv(this,e)}containsPoint(e,t){return Cv(this,e,t)}intersection(t){if(!this.collidesBBox(t))return;const n=Ev(t.x,this.x,t.x+t.width),i=Ev(t.y,this.y,t.y+t.height),r=Ev(t.x,this.x+this.width,t.x+t.width),o=Ev(t.y,this.y+this.height,t.y+t.height);return new e(n,i,r-n,o-i)}collidesBBox(e){return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const n=e-Ev(this.x,e,this.x+this.width),i=t-Ev(this.y,t,this.y+this.height);return n*n+i*i}shrink(e,t){if("number"===typeof e)this.applyMargin(e,t);else for(const n of Object.keys(e)){const t=e[n];"number"===typeof t&&this.applyMargin(t,n)}return this.width<0&&(this.width=0),this.height<0&&(this.height=0),this}grow(e,t){if("number"===typeof e)this.applyMargin(-e,t);else for(const n of Object.keys(e)){const t=e[n];"number"===typeof t&&this.applyMargin(-t,n)}return this}applyMargin(e,t){switch(t){case"top":this.y+=e;case"bottom":this.height-=e;break;case"left":this.x+=e;case"right":this.width-=e;break;case"vertical":this.y+=e,this.height-=2*e;break;case"horizontal":this.x+=e,this.width-=2*e;break;case void 0:this.x+=e,this.y+=e,this.width-=2*e,this.height-=2*e}}translate(e,t){return this.x+=e,this.y+=t,this}[mx](t,n){return new e(this.x*(1-n)+t.x*n,this.y*(1-n)+t.y*n,this.width*(1-n)+t.width*n,this.height*(1-n)+t.height*n)}};xx.zero=Object.freeze(new xx(0,0,0,0)),xx.NaN=Object.freeze(new xx(NaN,NaN,NaN,NaN));var Sx=xx,Mx=Date.now(),wx={create(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];wx.check(...t)&&("function"===typeof n[0]&&(n=sv(n[0]())),(()=>{const e=Date.now()-Mx;if(e>2e3){const t=(Math.floor(e/100)/10).toFixed(1);Gm.log(`**** ${t}s since last log message ****`)}Mx=Date.now()})(),Gm.log(...n))},{check:()=>wx.check(...t),group:(e,n)=>wx.check(...t)?Gm.logGroup(e,n):n()})},check(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&t.push(!0);return sv(yy("agChartsDebug")).some(e=>t.includes(e))},inDevelopmentMode(e){if(wx.check("dev"))return e()}};function kx(e){let{context:t,pixelRatio:n,width:i,height:r}=e;t.save();try{t.resetTransform(),t.clearRect(0,0,Math.ceil(i*n),Math.ceil(r*n))}finally{t.restore()}}function Ix(e){if(wx.check("canvas")){const t=e.save.bind(e),n=e.restore.bind(e);let i=0;Object.assign(e,{save(){t(),i++},restore(){if(0===i)throw new Error("AG Charts - Unable to restore() past depth 0");n(),i--},verifyDepthZero(){if(0!==i)throw new Error(`AG Charts - Save/restore depth is non-zero: ${i}`)}})}}function Cx(e,t,n){return[Math.floor(e*n),Math.floor(t*n)]}var Dx=class{constructor(e){const{width:t,height:n,pixelRatio:i,willReadFrequently:r=!1}=e;this.width=t,this.height=n,this.pixelRatio=i;const[o,a]=Cx(t,n,i);this.canvas=new OffscreenCanvas(o,a),this.context=this.canvas.getContext("2d",{willReadFrequently:r}),this.context.setTransform(i,0,0,i,0,0),Ix(this.context)}drawImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.drawImage(this.canvas,t,n)}transferToImageBitmap(){return this.canvas.transferToImageBitmap()}resize(e,t,n){if(!(e>0&&t>0))return;const{canvas:i,context:r}=this;if(e!==this.width||t!==this.height||n!==this.pixelRatio){const[r,o]=Cx(e,t,n);i.width=r,i.height=o}r.setTransform(n,0,0,n,0,0),this.width=e,this.height=t,this.pixelRatio=n}clear(){kx(this)}destroy(){this.canvas.width=0,this.canvas.height=0,this.context.clearRect(0,0,0,0),this.canvas=null,this.context=null,Object.freeze(this)}},Ax=Symbol("BREAK"),Tx="__decorator_config",Lx="__decorator_accessors";function Nx(e,t){if(null==Object.getOwnPropertyDescriptor(e,Tx)&&Object.defineProperty(e,Tx,{value:{}}),null==Object.getOwnPropertyDescriptor(e,Lx)){const t=Object.getPrototypeOf(e)?.[Lx],n=t?.slice()??[];Object.defineProperty(e,Lx,{value:n})}const n=e[Tx],i=t.toString();if(null!=n[i])return n[i];n[i]={setters:[],getters:[],observers:[]};const r=Object.getOwnPropertyDescriptor(e,t);let o=r?.get,a=r?.set;if(null==o||null==a){const n=e[Lx];let i=n.indexOf(t);-1===i&&(i=n.push(t)-1),o??(o=function(){let e=this.__accessors;return null==e&&(e=n.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:e})),e[i]}),a??(a=function(e){let t=this.__accessors;null==t&&(t=n.slice().fill(void 0),Object.defineProperty(this,"__accessors",{value:t})),t[i]=e})}return Object.defineProperty(e,t,{set:function(e){const{setters:r,observers:s}=n[i];let l;r.some(e=>e.length>2)&&(l=o.call(this));for(const n of r)if((e=n(this,t,e,l))===Ax)return;a.call(this,e);for(const t of s)t(this,e,l)},get:function(){let e=o.call(this);for(const r of n[i].getters)if(e=r(this,t,e),e===Ax)return;return e},enumerable:!0,configurable:!1}),n[i]}function Ex(e,t,n){return(i,r)=>{const o=Nx(i,r);o.setters.push(e),t&&o.getters.unshift(t),n&&Object.assign(o,n)}}function Ox(e){return(t,n)=>{Nx(t,n).observers.push(e)}}function Rx(e){return"undefined"!==typeof e&&Tx in e}function Px(e){const t=new Set;for(;Rx(e);)t.add(e?.[Tx]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(e=>Object.keys(e))}function jx(e){return Px(e).reduce((t,n)=>(t[String(n)]=e[n]??null,t),{})}function zx(e,t){return Array.isArray(e)?!!Array.isArray(t)&&(e.length===t.length&&e.every((e,n)=>zx(e,t[n]))):Ay(e)?!!Ay(t)&&_x(e,t,zx):e===t}function _x(e,t,n){if(Object.is(e,t))return!0;for(const i of Object.keys(t))if(!(i in e))return!1;for(const i of Object.keys(e)){if(!(i in t))return!1;if(!n(e[i],t[i]))return!1}return!0}function Bx(){const e={};for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(!Cy(r))continue;const t=Rx(r)?Px(r):Object.keys(r);for(const n of t)Ay(e[n])&&Ay(r[n])?e[n]=Bx(e[n],r[n]):e[n]??(e[n]=r[n])}return e}function Fx(){const e={};for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(!Cy(r))continue;const t=Rx(r)?Px(r):Object.keys(r);for(const n of t)Ay(e[n])&&Ay(r[n])?e[n]=Fx(e[n],r[n]):n in e||(e[n]??(e[n]=r[n]))}return e}function $x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n&&My(e)?e.map(e=>Bx(e,...n)):e}function Vx(e,t){const n={};for(const[i,r]of yv(e))n[i]=t(r,i,e);return n}function Gx(e,t){const n={...e};for(const i of t)delete n[i];return n}function Wx(e,t){if(null==e)return;const n={};for(const i of t)Object.hasOwn(e,i)&&(n[i]=e[i]);return n}function Hx(e,t){return(My(t)?t:t.split(".")).reduce((e,t)=>e[t],e)}var Ux=new Set(["__proto__","constructor","prototype"]);function Yx(e,t,n){const i=My(t)?t.slice():t.split("."),r=i.pop();if(i.some(e=>Ux.has(e)))return;const o=i.reduce((e,t)=>e[t],e);return o[r]=n,o[r]}function Kx(e,t,n){if(void 0===n)return t;for(const i of e){const e=n[i];void 0!==e&&(t[i]=e)}return t}function Zx(e){return null!=e&&"object"===typeof e&&Ay(e)?(Object.freeze(e),Object.getOwnPropertyNames(e).forEach(t=>{const n=e[t];null===n||"object"!==typeof n&&"function"!==typeof n||Object.isFrozen(n)||Zx(n)}),e):e}function Xx(e,t){return Ay(e)&&t in e}function qx(e,t){return Xx(e,t)&&"string"===typeof e[t]}var Qx=(e,t)=>e===t;function Jx(e){return function(t,n){const i=`__${n}`;t[n]||function(e,t,n,i){const{changeCb:r,convertor:o,checkDirtyOnAssignment:a=!1}=i??{},s={changeCb:r,checkDirtyOnAssignment:a,convertor:o},l=function(e,t,n){const{checkDirtyOnAssignment:i}=n;if(i)return function(n){const i=t.call(this,n);return!0===n?._dirty&&this.markDirty(e),i};return t}(n,function(e,t){const{changeCb:n}=t;if(n)return function(t){const i=e.call(this,t);return i!==iS&&n.call(this,this),i};return e}(function(e,t){const{convertor:n}=t;if(n)return function(t){e.call(this,n(t))};return e}(function(e,t){const{equals:n=Qx}=t;return function(t){const i=this[e];return n(t,i)?iS:(this[e]=t,this.onChangeDetection(e),t)}}(n,s),s),s),s),c=function(){return this[n]};Object.defineProperty(e,t,{set:l,get:c,enumerable:!0,configurable:!0})}(t,n,i,e)}}function eS(e){return Jx(e)}function tS(e){return Jx(e)}function nS(e){return(e??{}).equals=cv,Jx(e)}var iS=Symbol("no-change");var rS=(e,t)=>Math.sign(e-t);function oS(e,t){if("number"===typeof e&&"number"===typeof t)return rS(e,t);const n="number"===typeof e?[e]:e,i="number"===typeof t?[t]:t,r=Math.min(n.length,i.length);for(let o=0;o<r;o+=1){const e=rS(n[o],i[o]);if(0!==e)return e}return rS(n.length,i.length)}var aS=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(aS||{}),sS=class e{constructor(t){this.serialNumber=e._nextSerialNumber++,this.childNodeCounts={groups:0,nonGroups:0,thisComplexity:0,complexity:0},this.id=Kv(this),this.name=void 0,this.transitionOut=void 0,this.pointerEvents=0,this._datum=void 0,this._previousDatum=void 0,this.scene=void 0,this._debugDirtyProperties=void 0,this.parentNode=void 0,this.cachedBBox=void 0,this.isContainerNode=!1,this.visible=!0,this.zIndex=0,this.batchLevel=0,this.batchDirty=!1,this.name=t?.name,this.tag=t?.tag??NaN,this.zIndex=t?.zIndex??0,this.scene=t?.scene,(t?.debugDirty??e._debugEnabled)&&(this._debugDirtyProperties=new Map([["__first__",[]]]))}static toSVG(e,t,n){const i=e?.toSVG();if(null==i||!i.elements.length&&!i.defs?.length)return;const r=vy("svg");if(r.setAttribute("width",String(t)),r.setAttribute("height",String(n)),r.setAttribute("viewBox",`0 0 ${t} ${n}`),r.setAttribute("overflow","visible"),i.defs?.length){const e=vy("defs");e.append(...i.defs),r.append(e)}return r.append(...i.elements),r.outerHTML}static*extractBBoxes(e,t){for(const n of e)if(!t||n.visible&&!n.transitionOut){const e=n.getBBox();e&&(yield e)}}get datum(){return this._datum}set datum(e){this._datum!==e&&(this._previousDatum=this._datum,this._datum=e)}get previousDatum(){return this._previousDatum}get layerManager(){return this.scene?.layersManager}get imageLoader(){return this.scene?.imageLoader}closestDatum(){for(const{datum:e}of this.traverseUp(!0))if(null!=e)return e}preRender(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.childNodeCounts.groups=0,this.childNodeCounts.nonGroups=1,this.childNodeCounts.complexity=t,this.childNodeCounts.thisComplexity=t,this.batchLevel>0||this.batchDirty)throw new Error("AG Charts - illegal rendering state; batched update in progress");return this.childNodeCounts}isolatedRender(e){e.ctx.save();try{this.render(e)}catch(t){const e=t.errorCount??1;if(e>=5)throw t.errorCount=e,t;Gm.warnOnce("Error during rendering",t,t.stack)}finally{e.ctx.restore()}}render(e){const{stats:t}=e;if(this.debugDirtyProperties(),e.debugNodeSearch){const t=this.name??this.id;e.debugNodeSearch.some(e=>"string"===typeof e?e===t:e.test(t))&&(e.debugNodes[this.name??this.id]=this)}t&&(t.nodesRendered++,t.opsPerformed+=this.childNodeCounts.thisComplexity)}setScene(e){this.scene=e}*traverseUp(e){let t=this;for(e&&(yield t);t=t.parentNode;)yield t}isRoot(){return!this.parentNode}removeChild(e){throw new Error(`AG Charts - internal error, unknown child node ${e.name??e.id} in $${this.name??this.id}`)}remove(){this.parentNode?.removeChild(this)}destroy(){this.parentNode?.removeChild(this)}batchedUpdate(e){this.batchLevel++,e(),this.batchLevel--,0===this.batchLevel&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1)}setProperties(e){return this.batchLevel++,Object.assign(this,e),this.batchLevel--,0===this.batchLevel&&this.batchDirty&&(this.markDirty(),this.batchDirty=!1),this}containsPoint(e,t){return!1}pickNode(e,t){if(this.containsPoint(e,t))return this}pickNodes(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.containsPoint(e,t)&&n.push(this),n}getBBox(){return this.cachedBBox??(this.cachedBBox=Object.freeze(this.computeBBox())),this.cachedBBox}computeBBox(){}onChangeDetection(e){this.markDirty(e)}markDirtyChildrenOrder(){this.cachedBBox=void 0}markDirty(e){this.batchLevel>0?this.batchDirty=!0:(null!=e&&this._debugDirtyProperties&&this.markDebugProperties(e),this.cachedBBox=void 0,this.parentNode?.markDirty())}markDebugProperties(e){const t=this._debugDirtyProperties?.get(e)??[],n=(new Error).stack?.split("\n").filter(e=>"Error"!==e&&!e.includes(".markDebugProperties")&&!e.includes(".markDirty")&&!e.includes("Object.assign ")&&!e.includes(`${this.constructor.name}.`))??"unknown";t.push(n[0].replace(" at ","").trim()),this._debugDirtyProperties?.set(e,t)}debugDirtyProperties(){null!=this._debugDirtyProperties&&(this._debugDirtyProperties.has("__first__")||this._debugDirtyProperties.forEach((e,t)=>{e.length>1&&(console.groupCollapsed(`Property changed multiple times before render: ${this.constructor.name}.${t} (${e.length}x)`),e.forEach(e=>console.log(e)),console.groupEnd())}),this._debugDirtyProperties.clear())}onZIndexChange(){this.parentNode?.markDirtyChildrenOrder()}toSVG(){}};sS._nextSerialNumber=0,sS._debugEnabled=!1,px([Jx()],sS.prototype,"visible",2),px([tS({equals:zx,changeCb:e=>e.onZIndexChange()})],sS.prototype,"zIndex",2);var lS=sS,cS=2*Math.PI,uS=Math.PI/2;function dS(e){return e%=cS,e+=cS,e%=cS}function hS(e){return e%=cS,(e+=cS)!==cS&&(e%=cS),e}function pS(e){return(e%=cS)<-Math.PI?e+=cS:e>=Math.PI&&(e-=cS),e}function gS(e,t,n){const i=dS(e),r=dS(t),o=dS(n);return r<o?r<=i&&i<=o:r>o?r<=i||i<=o:t!==n}function fS(e){return e/180*Math.PI}function mS(e){return e/Math.PI*180}function yS(e,t){return e=dS(e),(t=dS(t))-e+(e>t?cS:0)}function bS(e){const t=dS(e);return t<=uS?t/uS:t<=Math.PI?(Math.PI-t)/uS:t<=1.5*Math.PI?(t-Math.PI)/uS:(cS-t)/uS}function vS(e,t,n){const i=bS(n);return e*i+t*Math.abs(1-i)}function xS(e){return e?dS(fS(e)):0}var SS=(e,t,n)=>e*(1-n)+t*n,MS=e=>{const t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4},wS=e=>{const t=e<0?-1:1,n=Math.abs(e);return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e},kS=class e{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.r=Ev(0,e||0,1),this.g=Ev(0,t||0,1),this.b=Ev(0,n||0,1),this.a=Ev(0,i||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!e.parseHex(t):t.indexOf("rgb")>=0?!!e.stringToRgba(t):e.nameToHex.has(t.toLowerCase())}static fromString(t){if(t.indexOf("#")>=0)return e.fromHexString(t);const n=e.nameToHex.get(t.toLowerCase());if(n)return e.fromHexString(n);if(t.indexOf("rgb")>=0)return e.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(e){let t;switch((e=e.replace(/ /g,"").slice(1)).length){case 6:case 8:t=[];for(let n=0;n<e.length;n+=2)t.push(parseInt(`${e[n]}${e[n+1]}`,16));break;case 3:case 4:t=e.split("").map(e=>parseInt(e,16)).map(e=>e+16*e)}if(t?.length>=3&&t.every(e=>e>=0))return 3===t.length&&t.push(255),t}static fromHexString(t){const n=e.parseHex(t);if(n){const[t,i,r,o]=n;return new e(t/255,i/255,r/255,o/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(e){let t=-1,n=-1;for(let o=0;o<e.length;o++){const i=e[o];if(-1===t&&"("===i)t=o;else if(")"===i){n=o;break}}if(-1===t||-1===n)return;const i=e.substring(t+1,n).split(","),r=[];for(let o=0;o<i.length;o++){const e=i[o];let t=parseFloat(e);if(!Number.isFinite(t))return;e.indexOf("%")>=0?(t=Ev(0,t,100),t/=100):3===o?t=Ev(0,t,1):(t=Ev(0,t,255),t/=255),r.push(t)}return r}static fromRgbaString(t){const n=e.stringToRgba(t);if(n){if(3===n.length)return new e(n[0],n[1],n[2]);if(4===n.length)return new e(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(4===t.length)return new e(t[0],t[1],t[2],t[3]);if(3===t.length)return new e(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.HSBtoRGB(t,n,i);return new e(o[0],o[1],o[2],r)}static fromHSL(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.HSLtoRGB(t,n,i);return new e(o[0],o[1],o[2],r)}static fromOKLCH(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=e.OKLCHtoRGB(t,n,i);return new e(o[0],o[1],o[2],r)}static padHex(e){return 1===e.length?"0"+e:e}toHexString(){let t="#"+e.padHex(Math.round(255*this.r).toString(16))+e.padHex(Math.round(255*this.g).toString(16))+e.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=e.padHex(Math.round(255*this.a).toString(16))),t}toRgbaString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const t=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,e);return 1!==this.a?(t.push(Math.round(this.a*n)/n),`rgba(${t.join(", ")})`):`rgb(${t.join(", ")})`}toString(){return 1===this.a?this.toHexString():this.toRgbaString()}toHSB(){return e.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(e,t,n){const i=MS(e),r=MS(t),o=MS(n),a=Math.cbrt(.4122214708*i+.5363325363*r+.0514459929*o),s=Math.cbrt(.2119034982*i+.6806995451*r+.1073969566*o),l=Math.cbrt(.0883024619*i+.2817188376*r+.6299787005*o),c=.2104542553*a+.793617785*s-.0040720468*l,u=1.9779984951*a-2.428592205*s+.4505937099*l,d=.0259040371*a+.7827717662*s-.808675766*l,h=180*Math.atan2(d,u)/Math.PI;return[c,Math.hypot(u,d),h>=0?h:h+360]}static OKLCHtoRGB(e,t,n){const i=e,r=t*Math.cos(n*Math.PI/180),o=t*Math.sin(n*Math.PI/180),a=(i+.3963377774*r+.2158037573*o)**3,s=(i-.1055613458*r-.0638541728*o)**3,l=(i-.0894841775*r-1.291485548*o)**3,c=-1.2684380046*a+2.6097574011*s-.3413193965*l,u=-.0041960863*a-.7034186147*s+1.707614701*l;return[wS(4.0767416621*a-3.3077115913*s+.2309699292*l),wS(c),wS(u)]}static RGBtoHSL(e,t,n){const i=Math.min(e,t,n),r=Math.max(e,t,n),o=(r+i)/2;let a,s;if(r===i)a=0,s=0;else{const l=r-i;s=o>.5?l/(2-r-i):l/(r+i),a=r===e?(t-n)/l+(t<n?6:0):r===t?(n-e)/l+2:(e-t)/l+4,a*=60}return[a,s,o]}static HSLtoRGB(e,t,n){if(0===t)return[n,n,n];const i=n<.5?n*(1+t):n+t-n*t,r=2*n-i;function o(e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+6*(i-r)*e:e<.5?i:e<2/3?r+(i-r)*(2/3-e)*6:r}return[o((e=(e%360+360)%360)/360+1/3),o(e/360),o(e/360-1/3)]}static RGBtoHSB(e,t,n){const i=Math.min(e,t,n),r=Math.max(e,t,n);let o=0;if(i!==r){const a=r-i,s=(r-e)/a,l=(r-t)/a,c=(r-n)/a;o=e===r?c-l:t===r?2+s-c:4+l-s,o/=6,o<0&&(o+=1)}return[360*o,0===r?0:(r-i)/r,r]}static HSBtoRGB(e,t,n){e=(e%360+360)%360/360;let i=0,r=0,o=0;if(0===t)i=r=o=n;else{const a=6*(e-Math.floor(e)),s=a-Math.floor(a),l=n*(1-t),c=n*(1-t*s),u=n*(1-t*(1-s));switch(a|0){case 0:i=n,r=u,o=l;break;case 1:i=c,r=n,o=l;break;case 2:i=l,r=n,o=u;break;case 3:i=l,r=c,o=n;break;case 4:i=u,r=l,o=n;break;case 5:i=n,r=l,o=c}}return[i,r,o]}static mix(t,n,i){return new e(SS(t.r,n.r,i),SS(t.g,n.g,i),SS(t.b,n.b,i),SS(t.a,n.a,i))}static lighten(t,n){const i=e.RGBtoOKLCH(t.r,t.g,t.b);return e.fromOKLCH(Ev(0,i[0]+n,1),i[1],i[2])}static darken(t,n){const i=e.RGBtoOKLCH(t.r,t.g,t.b);return e.fromOKLCH(Ev(0,i[0]-n,1),i[1],i[2])}static interpolate(t,n){const i=1/(t.length-1),r=t.map(t=>e.RGBtoOKLCH(t.r,t.g,t.b));return Array.from({length:n},(o,a)=>{const s=a/(n-1),l=t.length<=2?0:Math.min(Math.floor(s*(t.length-1)),t.length-2),c=(s-l*i)/i,u=r[l],d=r[l+1];return e.fromOKLCH(SS(u[0],d[0],c),SS(u[1],d[1],c),SS(u[2],d[2],c))})}};kS.nameToHex=new Map([["aliceblue","#F0F8FF"],["antiquewhite","#FAEBD7"],["aqua","#00FFFF"],["aquamarine","#7FFFD4"],["azure","#F0FFFF"],["beige","#F5F5DC"],["bisque","#FFE4C4"],["black","#000000"],["blanchedalmond","#FFEBCD"],["blue","#0000FF"],["blueviolet","#8A2BE2"],["brown","#A52A2A"],["burlywood","#DEB887"],["cadetblue","#5F9EA0"],["chartreuse","#7FFF00"],["chocolate","#D2691E"],["coral","#FF7F50"],["cornflowerblue","#6495ED"],["cornsilk","#FFF8DC"],["crimson","#DC143C"],["cyan","#00FFFF"],["darkblue","#00008B"],["darkcyan","#008B8B"],["darkgoldenrod","#B8860B"],["darkgray","#A9A9A9"],["darkgreen","#006400"],["darkgrey","#A9A9A9"],["darkkhaki","#BDB76B"],["darkmagenta","#8B008B"],["darkolivegreen","#556B2F"],["darkorange","#FF8C00"],["darkorchid","#9932CC"],["darkred","#8B0000"],["darksalmon","#E9967A"],["darkseagreen","#8FBC8F"],["darkslateblue","#483D8B"],["darkslategray","#2F4F4F"],["darkslategrey","#2F4F4F"],["darkturquoise","#00CED1"],["darkviolet","#9400D3"],["deeppink","#FF1493"],["deepskyblue","#00BFFF"],["dimgray","#696969"],["dimgrey","#696969"],["dodgerblue","#1E90FF"],["firebrick","#B22222"],["floralwhite","#FFFAF0"],["forestgreen","#228B22"],["fuchsia","#FF00FF"],["gainsboro","#DCDCDC"],["ghostwhite","#F8F8FF"],["gold","#FFD700"],["goldenrod","#DAA520"],["gray","#808080"],["green","#008000"],["greenyellow","#ADFF2F"],["grey","#808080"],["honeydew","#F0FFF0"],["hotpink","#FF69B4"],["indianred","#CD5C5C"],["indigo","#4B0082"],["ivory","#FFFFF0"],["khaki","#F0E68C"],["lavender","#E6E6FA"],["lavenderblush","#FFF0F5"],["lawngreen","#7CFC00"],["lemonchiffon","#FFFACD"],["lightblue","#ADD8E6"],["lightcoral","#F08080"],["lightcyan","#E0FFFF"],["lightgoldenrodyellow","#FAFAD2"],["lightgray","#D3D3D3"],["lightgreen","#90EE90"],["lightgrey","#D3D3D3"],["lightpink","#FFB6C1"],["lightsalmon","#FFA07A"],["lightseagreen","#20B2AA"],["lightskyblue","#87CEFA"],["lightslategray","#778899"],["lightslategrey","#778899"],["lightsteelblue","#B0C4DE"],["lightyellow","#FFFFE0"],["lime","#00FF00"],["limegreen","#32CD32"],["linen","#FAF0E6"],["magenta","#FF00FF"],["maroon","#800000"],["mediumaquamarine","#66CDAA"],["mediumblue","#0000CD"],["mediumorchid","#BA55D3"],["mediumpurple","#9370DB"],["mediumseagreen","#3CB371"],["mediumslateblue","#7B68EE"],["mediumspringgreen","#00FA9A"],["mediumturquoise","#48D1CC"],["mediumvioletred","#C71585"],["midnightblue","#191970"],["mintcream","#F5FFFA"],["mistyrose","#FFE4E1"],["moccasin","#FFE4B5"],["navajowhite","#FFDEAD"],["navy","#000080"],["oldlace","#FDF5E6"],["olive","#808000"],["olivedrab","#6B8E23"],["orange","#FFA500"],["orangered","#FF4500"],["orchid","#DA70D6"],["palegoldenrod","#EEE8AA"],["palegreen","#98FB98"],["paleturquoise","#AFEEEE"],["palevioletred","#DB7093"],["papayawhip","#FFEFD5"],["peachpuff","#FFDAB9"],["peru","#CD853F"],["pink","#FFC0CB"],["plum","#DDA0DD"],["powderblue","#B0E0E6"],["purple","#800080"],["rebeccapurple","#663399"],["red","#FF0000"],["rosybrown","#BC8F8F"],["royalblue","#4169E1"],["saddlebrown","#8B4513"],["salmon","#FA8072"],["sandybrown","#F4A460"],["seagreen","#2E8B57"],["seashell","#FFF5EE"],["sienna","#A0522D"],["silver","#C0C0C0"],["skyblue","#87CEEB"],["slateblue","#6A5ACD"],["slategray","#708090"],["slategrey","#708090"],["snow","#FFFAFA"],["springgreen","#00FF7F"],["steelblue","#4682B4"],["tan","#D2B48C"],["teal","#008080"],["thistle","#D8BFD8"],["tomato","#FF6347"],["transparent","#00000000"],["turquoise","#40E0D0"],["violet","#EE82EE"],["wheat","#F5DEB3"],["white","#FFFFFF"],["whitesmoke","#F5F5F5"],["yellow","#FFFF00"],["yellowgreen","#9ACD32"]]);var IS=kS,CS=(e=>(e[e.Leading=0]="Leading",e[e.Trailing=1]="Trailing",e[e.Interpolate=2]="Interpolate",e))(CS||{}),DS=class{ticks(e,t,n){}niceDomain(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.domain}get bandwidth(){}get step(){}get inset(){}},AS=(e,t)=>{const n=Symbol(String(t));e[n]=void 0,Object.defineProperty(e,t,{get(){return this[n]},set(e){this[n]!==e&&(this[n]=e,this.invalid=!0)},enumerable:!0,configurable:!1})},TS=e=>{const t=IS.fromString(e),[n,i,r]=IS.RGBtoOKLCH(t.r,t.g,t.b);return{l:n,c:i,h:r,a:t.a}},LS=1e-6,NS=e=>e.c<LS||e.l<LS||e.l>1-LS,ES=class extends DS{constructor(){super(...arguments),this.type="color",this.defaultTickCount=0,this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(TS)}update(){const{domain:e,range:t}=this;e.length<2&&(Gm.warnOnce("`colorDomain` should have at least 2 values."),0===e.length?e.push(0,1):1===e.length&&e.push(e[0]+1));for(let n=1;n<e.length;n++){if(e[n-1]>e[n]){Gm.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((e,t)=>e-t);break}}if(t.length<e.length)for(let n=t.length;n<e.length;n++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(TS)}normalizeDomains(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{domain:t.flat(),animatable:!0}}toDomain(){}convert(e){this.refresh();const{domain:t,range:n,parsedRange:i}=this,r=t[0],o=t.at(-1),a=n[0],s=n[n.length-1];if(e<=r)return a;if(e>=o)return s;let l,c;if(2===t.length){const t=(e-r)/(o-r),i=1/(n.length-1);l=n.length<=2?0:Math.min(Math.floor(t*(n.length-1)),n.length-2),c=(t-l*i)/i}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);const n=t[l];c=(e-n)/(t[l+1]-n)}return((e,t,n)=>{let i;if(n=Ev(0,n,1),NS(e))i=t.h;else if(NS(t))i=e.h;else{const r=e.h;let o=t.h;const a=t.h-e.h;a>180?o-=360:a<-180&&(o+=360),i=r*(1-n)+o*n}const r=e.c*(1-n)+t.c*n,o=e.l*(1-n)+t.l*n,a=e.a*(1-n)+t.a*n;return IS.fromOKLCH(o,r,i,a)})(i[l],i[l+1],c).toRgbaString()}invert(){}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Gm.warnOnce("Expected update to not invalidate scale"))}};px([AS],ES.prototype,"domain",2),px([AS],ES.prototype,"range",2);var OS=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;this.colorSpace=e,this.stops=t,this.bbox=n,this._cache=void 0}createGradient(e,t,n){const i=this.bbox??t;if(!i.isFinite())return;if(null!=this._cache&&this._cache.ctx===e&&this._cache.bbox.equals(i))return this._cache.gradient;const{stops:r,colorSpace:o}=this;if(0===r.length)return;if(1===r.length)return r[0].color;let a=this.createCanvasGradient(e,i,n);if(null==a)return;const s="oklch"===o;let l=r[0];a.addColorStop(l.stop,l.color);for(let c=1;c<r.length;c+=1){const e=r[c];if(s){const t=new ES;t.domain=[l.stop,e.stop],t.range=[l.color,e.color];for(let n=l.stop+.05;n<e.stop;n+=.05)a.addColorStop(n,t.convert(n))}a.addColorStop(e.stop,e.color),l=e}return"createPattern"in a&&(a=a.createPattern()),this._cache={ctx:e,bbox:i,gradient:a},a}toSvg(e){const t=this.bbox??e,n=this.createSvgGradient(t);return this.stops.forEach(e=>{let{stop:t,color:i}=e;const r=vy("stop");r.setAttribute("offset",`${t}`),r.setAttribute("stop-color",`${i}`),n.appendChild(r)}),n}},RS=class extends OS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(e,t,arguments.length>3?arguments[3]:void 0),this.angle=n}createCanvasGradient(e,t,n){const{angle:i}=this,r=xS(i+-90),o=n?.centerX??t.x+.5*t.width,a=n?.centerY??t.y+.5*t.height;return e.createConicGradient(r,o,a)}createSvgGradient(e){return vy("linearGradient")}},PS=class extends OS{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(e,t,arguments.length>3?arguments[3]:void 0),this.angle=n}getGradientPoints(e){const{angle:t}=this,n=xS(t+90),i=Math.cos(n),r=Math.sin(n),o=e.width,a=e.height,s=e.x+.5*o,l=e.y+.5*a,c=Math.sqrt(a*a+o*o)/2,u=Math.atan2(a,o);let d;d=n<Math.PI/2?n:n<Math.PI?Math.PI-n:n<1.5*Math.PI?n-Math.PI:2*Math.PI-n;const h=c*Math.abs(Math.cos(d-u));return{x0:s+i*h,y0:l+r*h,x1:s-i*h,y1:l-r*h}}createCanvasGradient(e,t){const{x0:n,y0:i,x1:r,y1:o}=this.getGradientPoints(t);if(!(isNaN(n)||isNaN(i)||isNaN(r)||isNaN(o)))return e.createLinearGradient(n,i,r,o)}createSvgGradient(e){const{x0:t,y0:n,x1:i,y1:r}=this.getGradientPoints(e),o=vy("linearGradient");return o.setAttribute("x1",String(t)),o.setAttribute("y1",String(n)),o.setAttribute("x2",String(i)),o.setAttribute("y2",String(r)),o.setAttribute("gradientUnits","userSpaceOnUse"),o}},jS=class extends OS{constructor(e,t,n){super(e,t,n)}createCanvasGradient(e,t,n){const i=n?.centerX??t.x+.5*t.width,r=n?.centerY??t.y+.5*t.height,o=n?.innerRadius??0,a=n?.outerRadius??Math.hypot(.5*t.width,.5*t.height)/Math.SQRT2;return e.createRadialGradient(i,r,o,i,r,a)}createSvgGradient(e){const t=e.x+.5*e.width,n=e.y+.5*e.height,i=vy("radialGradient");return i.setAttribute("cx",String(t)),i.setAttribute("cy",String(n)),i.setAttribute("r",String(Math.hypot(.5*e.width,.5*e.height)/Math.SQRT2)),i.setAttribute("gradientUnits","userSpaceOnUse"),i}},zS=function(e,t){Nx(e,t).optional=!0},_S=class{handleUnknownProperties(e,t){}set(e){const{className:t=this.constructor.name}=this.constructor;if(null==e)return this.clear(),this;if("object"!==typeof e)return Gm.warn(`unable to set ${t} - expecting a properties object`),this;const n=new Set(Object.keys(e));for(const i of Px(this))if(n.has(i)){const t=e[i],r=this;if(FS(r[i]))if(r[i]instanceof BS){const e=r[i].reset(t);null==e?Gm.warn(`unable to set [${String(i)}] - expecting a properties array`):r[i]=e}else r[i].set(t);else Ay(t)?r[i]=Fx(t,r[i]??{}):r[i]=t;n.delete(i)}this.handleUnknownProperties(n,e);for(const i of n)Gm.warn(`unable to set [${String(i)}] in ${t} - property is unknown`);return this}clear(){for(const e of Px(this)){const t=this[e];FS(t)?t.clear():this[e]=void 0}return this}toJson(){return Px(this).reduce((e,t)=>{const n=this[t];return e[String(t)]=FS(n)?n.toJson():n,e},{})}},BS=class e extends Array{constructor(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];super(n.length);const r=(o=e,Boolean(o?.prototype?.constructor?.name)?t=>(new e).set(t):e);var o;Object.defineProperty(this,"itemFactory",{value:r,enumerable:!1,configurable:!1}),this.set(n)}set(e){if(My(e)){this.length=e.length;for(let t=0;t<e.length;t++)this[t]=this.itemFactory(e[t])}return this}reset(t){if(Array.isArray(t))return new e(this.itemFactory,...t)}toJson(){return this.map(e=>e?.toJson?.()??e)}};function FS(e){return e instanceof _S||e instanceof BS}var $S=class extends _S{constructor(){super(...arguments),this.color="black"}};function VS(e){return e.flatMap((t,n)=>{const{stop:i}=t,r=e.at(n+1)?.color;return null!=r?[t,{stop:i,color:r}]:[t]})}function GS(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"continuous";const r=e.map(e=>"string"===typeof e?{color:e}:e);if(0===r.length)return function(e,t){const n="discrete"===t?1:0,i=e.map((e,t,i)=>{let{length:r}=i;return{stop:(t+n)/(r-1+n),color:e}});return"discrete"===t?VS(i):i}(t,i);if(!function(e){let t;for(const n of e)if(null!=n?.stop){if(null!=t&&n.stop<t)return!1;t=n.stop}return!0}(r))return Gm.warnOnce("[fills] must have the stops defined in ascending order"),[];const o=Math.min(...n),a=Math.max(...n),s="discrete"===i,l=new Float64Array(r.length);let c=0,u=-1;for(let g=0;g<r.length;g+=1){const e=r[g];if(g>=u){u=r.length-1;for(let e=g+1;e<r.length;e+=1)if(null!=r[e]?.stop){u=e;break}}let t=e?.stop;if(null==t){const e=r[c]?.stop,n=r[u]?.stop,i=e??o,l=s&&null==e?1:0;t=i+((n??a)-i)*(g-c+l)/(u-c+l)}else c=g;l[g]=Math.max(0,Math.min(1,(t-o)/(a-o)))}let d,h=r.find(e=>null!=e.color)?.color;const p=r.map((e,n)=>{let i=e?.color;const r=l[n];return null!=i?h=i:null!=h?i=h:(null==d&&(d=new ES,d.domain=[0,1],d.range=t),i=d.convert(r)),{stop:r,color:i}});return"discrete"===i?VS(p):p}px([zS],$S.prototype,"stop",2),px([zS],$S.prototype,"color",2);var WS=class{constructor(e,t){this.imageLoader=e,this._cache=void 0,this.url=t.url,this.backgroundFill=t.backgroundFill??"black",this.backgroundFillOpacity=t.backgroundFillOpacity??1,this.repeat=t.repeat??"no-repeat",this.width=t.width,this.height=t.height,this.fit=t.fit??"stretch",this.rotation=t.rotation??0}createCanvasImage(e,t,n,i){if(!t)return null;const[r,o]=this.getSize(t.width,t.height,n,i);return r<1||o<1?(Gm.warnOnce("Image fill is too small to render, ignoring."),null):e.createPattern(t,this.repeat)}getSize(e,t,n,i){const{fit:r}=this;let o=e,a=t,s=1;const l=n/i,c=e/t;return"stretch"===r||0===e||0===t?(o=n,a=i):"contain"===r?s=c>l?n/e:i/t:"cover"===r&&(s=c>l?i/t:n/e),[Math.max(1,o*s),Math.max(1,a*s)]}setImageTransform(e,t){if("string"===typeof e)return;const{url:n,rotation:i,width:r,height:o}=this,a=this.imageLoader?.loadImage(n);if(!a)return;const s=xS(i),l=Math.cos(s),c=Math.sin(s),[u,d]=this.getSize(a.width,a.height,r??t.width,o??t.height),h=u/a.width,p=d/a.height,g=t.x+t.width/2,f=t.y+t.height/2,m=(l*u-c*d)/2,y=(c*u+l*d)/2;e?.setTransform(new DOMMatrix([l*h,c*p,-c*h,l*p,g-m,f-y]))}createPattern(e,t,n,i){const r=this.width??t,o=this.height??n,a=this._cache;if(null!=a&&a.ctx===e&&a.width===r&&a.height===o)return a.pattern;const s=this.imageLoader?.loadImage(this.url,i),l=this.createCanvasImage(e,s,r,o);return null!=l?(this._cache={ctx:e,pattern:l,width:r,height:o},l):void 0}toSvg(e,t){const{url:n,rotation:i,backgroundFill:r,backgroundFillOpacity:o}=this,{x:a,y:s,width:l,height:c}=e,u=vy("pattern");u.setAttribute("viewBox",`0 0 ${l} ${c}`),u.setAttribute("x",String(a)),u.setAttribute("y",String(s)),u.setAttribute("width",String(l)),u.setAttribute("height",String(c)),u.setAttribute("patternUnits","userSpaceOnUse");const d=vy("rect");d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("width",String(l)),d.setAttribute("height",String(c)),d.setAttribute("fill",r),d.setAttribute("fill-opacity",String(o)),u.appendChild(d);const h=vy("image");return h.setAttribute("href",n),h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(l)),h.setAttribute("height",String(c)),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("transform",`scale(${1/t}) rotate(${i}, ${l/2}, ${c/2})`),u.appendChild(h),u}};function HS(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}function US(e,t,n,i,r,o,a){if(n===r&&i===o)return Math.min(a,HS(e,t,n,i));const s=r-n,l=o-i,c=Math.max(0,Math.min(1,((e-n)*s+(t-i)*l)/(s*s+l*l))),u=n+c*s,d=i+c*l;return Math.min(a,HS(e,t,u,d))}var YS=/^[\t\n\f\r ]*([achlmqstvz])[\t\n\f\r ]*/i,KS=/^[+-]?((\d*\.\d+)|(\d+\.)|(\d+))(e[+-]?\d+)?/i,ZS=/[\t\n\f\r ]*,?[\t\n\f\r ]*/,XS=/^[01]/,qS={z:[],h:[KS],v:[KS],m:[KS,KS],l:[KS,KS],t:[KS,KS],s:[KS,KS,KS,KS],q:[KS,KS,KS,KS],c:[KS,KS,KS,KS,KS,KS],a:[KS,KS,KS,XS,XS,KS,KS]};function QS(e,t,n){const i=qS[e.toLocaleLowerCase()],r={command:e,params:[]};for(const o of i){const i=t.slice(n),a=o.exec(i);if(null==a)return 1===r.params.length?[n,r]:void Gm.warnOnce(`Invalid SVG path, error at index ${n}: No path segment parameters for command [${e}]`);{r.params.push(parseFloat(a[0])),n+=a[0].length;const e=ZS.exec(i.slice(a[0].length));null!=e&&(n+=e[0].length)}}return[n,r]}function JS(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e-6;if(Math.abs(e)<r)return function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;if(Math.abs(e)<i)return function(e,t){const n=-t/e;return 0!==e&&n>=0&&n<=1?[n]:[]}(t,n);const r=t*t-4*e*n,o=[];if(Math.abs(r)<i){const n=-t/(2*e);n>=0&&n<=1&&o.push(n)}else if(r>0){const n=Math.sqrt(r),i=(-t-n)/(2*e),a=(-t+n)/(2*e);i>=0&&i<=1&&o.push(i),a>=0&&a<=1&&o.push(a)}return o}(t,n,i,r);const o=t/e,a=n/e,s=(3*a-o*o)/9,l=(9*o*a-27*(i/e)-2*o*o*o)/54,c=s*s*s+l*l,u=1/3,d=[];if(c>=0){const e=Math.sqrt(c),t=Math.sign(l+e)*Math.pow(Math.abs(l+e),u),n=Math.sign(l-e)*Math.pow(Math.abs(l-e),u),i=Math.abs(Math.sqrt(3)*(t-n)/2),a=-u*o+(t+n);if(a>=0&&a<=1&&d.push(a),Math.abs(i)<r){const e=-u*o-(t+n)/2;e>=0&&e<=1&&d.push(e)}}else{const e=Math.acos(l/Math.sqrt(-s*s*s)),t=u*o,n=2*Math.sqrt(-s),i=n*Math.cos(u*e)-t,r=n*Math.cos(u*(e+2*Math.PI))-t,a=n*Math.cos(u*(e+4*Math.PI))-t;i>=0&&i<=1&&d.push(i),r>=0&&r<=1&&d.push(r),a>=0&&a<=1&&d.push(a)}return d}function eM(e,t,n,i,r,o,a,s){const l=(n-e)*(s-o)-(i-t)*(a-r);if(0===l)return 0;const c=((a-r)*(t-o)-(e-r)*(s-o))/l,u=((n-e)*(t-o)-(i-t)*(e-r))/l;return c>=0&&c<=1&&u>=0&&u<=1?1:0}function tM(e,t,n,i,r,o,a,s,l,c,u,d){let h=0;const p=c-d,g=u-l,f=l*(d-c)-c*(u-l),m=nM(e,n,r,a),y=nM(t,i,o,s),b=JS(p*m[0]+g*y[0],p*m[1]+g*y[1],p*m[2]+g*y[2],p*m[3]+g*y[3]+f);for(const v of b){const e=v*v,t=v*e,n=m[0]*t+m[1]*e+m[2]*v+m[3],i=y[0]*t+y[1]*e+y[2]*v+y[3];let r;r=l===u?(i-c)/(d-c):(n-l)/(u-l),r>=0&&r<=1&&h++}return h}function nM(e,t,n,i){return[3*t-e-3*n+i,3*e-6*t+3*n,-3*e+3*t,e]}function iM(e,t,n,i,r){return(1-r)**3*e+3*(1-r)**2*r*t+3*(1-r)*r**2*n+r**3*i}function rM(e,t,n,i,r){if(r<=Math.min(e,i))return e<i?0:1;if(r>=Math.max(e,i))return e<i?1:0;let o=0,a=1,s=NaN;for(let l=0;l<12;l+=1){s=(o+a)/2;iM(e,t,n,i,s)<r?o=s:a=s}return s}function oM(e,t,n,i,r,o,a,s,l){const c=(1-l)*e+l*n,u=(1-l)*t+l*i,d=(1-l)*n+l*r,h=(1-l)*i+l*o,p=(1-l)*r+l*a,g=(1-l)*o+l*s,f=(1-l)*c+l*d,m=(1-l)*u+l*h,y=(1-l)*d+l*p,b=(1-l)*h+l*g,v=(1-l)*f+l*y,x=(1-l)*m+l*b;return[[{x:e,y:t},{x:c,y:u},{x:f,y:m},{x:v,y:x}],[{x:v,y:x},{x:y,y:b},{x:p,y:g},{x:a,y:s}]]}function aM(e,t,n,i){const r=3*t-e-3*n+i,o=2*(e-2*t+n),a=-e+t;if(0===r){if(0!==o){const e=-a/o;if(e>0&&e<1)return[e]}return[]}const s=o*o-4*r*a;if(s>=0){const e=Math.sqrt(s);return[(-o+e)/(2*r),(-o-e)/(2*r)].filter(e=>e>0&&e<1)}return[]}function sM(e,t,n,i,r,o,a,s){return[...aM(e,n,r,a),...aM(t,i,o,s)]}function lM(e,t,n){const i=iM(e[0].x,e[1].x,e[2].x,e[3].x,.5),r=iM(e[0].y,e[1].y,e[2].y,e[3].y,.5);return{points:e,distance:Math.hypot(i-t,r-n),minDistance:Math.min(Math.hypot(e[0].x-t,e[0].y-n),Math.hypot(e[1].x-t,e[1].y-n),Math.hypot(e[2].x-t,e[2].y-n),Math.hypot(e[3].x-t,e[3].y-n))}}function cM(e,t,n,i,r,o,a,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:1;let d,h={value:lM([{x:e,y:t},{x:n,y:i},{x:r,y:o},{x:a,y:s}],l,c),next:null};for(;null!=h;){const{points:e,distance:t,minDistance:n}=h.value;if(h=h.next,(null==d||t<d.distance)&&(d={distance:t,minDistance:n}),null!=d&&d.distance-n<=u)continue;const[i,r]=oM(e[0].x,e[0].y,e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y,.5),o=[lM(i,l,c),lM(r,l,c)].sort(uM);h=qv(h,o,uM)}return d?.distance??1/0}var uM=(e,t)=>t.minDistance-e.minDistance,dM=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.cx=NaN,this.cy=NaN,this.sx=NaN,this.sy=NaN,this.openedPath=!1,this.closedPath=!1}isEmpty(){return 0===this.commands.length}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.sx=e,this.sy=t,this.cx=e,this.cy=t,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.cx=e,this.cy=t,this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}cubicCurveTo(e,t,n,i,r,o){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,n,i,r,o),this.commands.push(2),this.params.push(e,t,n,i,r,o)}closePath(){this.openedPath&&(this.cx=this.sx,this.cy=this.sy,this.sx=NaN,this.sy=NaN,this.path2d.closePath(),this.commands.push(3),this.openedPath=!1,this.closedPath=!0)}rect(e,t,n,i){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.closePath()}roundRect(e,t,n,i,r){r=Math.min(r,n/2,i/2),this.moveTo(e,t+r),this.arc(e+r,t+r,r,Math.PI,1.5*Math.PI),this.lineTo(e+r,t),this.lineTo(e+n-r,t),this.arc(e+n-r,t+r,r,1.5*Math.PI,2*Math.PI),this.lineTo(e+n,t+r),this.lineTo(e+n,t+i-r),this.arc(e+n-r,t+i-r,r,0,Math.PI/2),this.lineTo(e+n-r,t+i),this.lineTo(e+r,t+i),this.arc(e+ +r,t+i-r,r,Math.PI/2,Math.PI),this.lineTo(e,t+i-r),this.closePath()}ellipse(e,t,n,i,r,o,a){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];const l=n,c=i/n,u=Math.cos(r),d=Math.sin(r),h=-c*d,p=c*u,g=l*Math.cos(o),f=l*Math.sin(o),m=e+u*g+h*f,y=t+d*g+p*f,b=(m-this.cx)**2+(y-this.cy)**2;this.openedPath?b>1e-6&&this.lineTo(m,y):this.moveTo(m,y);let v=s?-dS(o-a):dS(a-o);Math.abs(Math.abs(a-o)-2*Math.PI)<1e-6&&v<2*Math.PI&&(v+=2*Math.PI*(s?-1:1));const x=Math.max(Math.ceil(Math.abs(v)/(Math.PI/2)),1),S=v/x,M=4/3*Math.tan(S/4);for(let w=0;w<x;w+=1){const n=o+S*(w+0),i=o+S*(w+1),r=l*Math.sin(n),a=l*Math.cos(n),s=l*Math.sin(i),c=l*Math.cos(i),g=a-M*r,f=r+M*a,m=c+M*s,y=s-M*c,b=c,v=s;this.cubicCurveTo(e+u*g+h*f,t+d*g+p*f,e+u*m+h*y,t+d*m+p*y,e+u*b+h*v,t+d*b+p*v)}}arc(e,t,n,i,r,o){this.ellipse(e,t,n,n,0,i,r,o)}appendSvg(e){const t=function(e){if(!e)return;const t=[];let n,i=0;for(;i<e.length;){const r=YS.exec(e.slice(i));let o;if(null==r){if(!n)return void Gm.warnOnce(`Invalid SVG path, error at index ${i}: Missing command.`);o=n}else o=r[1],i+=r[0].length;const a=QS(o,e,i);if(!a)return;i=a[0],n=o,t.push(a[1])}return t}(e);if(null==t)return!1;let n,i,r=0,o=0,a=0,s=0;for(const{command:l,params:c}of t){n??(n=c[0]),i??(i=c[1]);const e=l===l.toLowerCase(),t=e?n:0,u=e?i:0;switch(l.toLowerCase()){case"m":this.moveTo(t+c[0],u+c[1]),n=t+c[0],i=u+c[1],r=n,o=i;break;case"c":this.cubicCurveTo(t+c[0],u+c[1],t+c[2],u+c[3],t+c[4],u+c[5]),a=t+c[2],s=u+c[3],n=t+c[4],i=u+c[5];break;case"s":this.cubicCurveTo(n+n-a,i+i-s,t+c[0],u+c[1],t+c[2],u+c[3]),a=t+c[0],s=u+c[1],n=t+c[2],i=u+c[3];break;case"q":this.cubicCurveTo((t+2*c[0])/3,(u+2*c[1])/3,(2*c[0]+c[2])/3,(2*c[1]+c[3])/3,c[2],c[3]),a=c[0],s=c[1],n=c[2],i=c[3];break;case"t":this.cubicCurveTo((n+2*(n+n-a))/3,(i+2*(i+i-s))/3,(2*(n+n-a)+c[0])/3,(2*(i+i-s)+c[1])/3,c[0],c[1]),a=n+n-a,s=i+i-s,n=c[0],i=c[1];break;case"a":this.svgEllipse(n,i,c[0],c[1],c[2]*Math.PI/180,c[3],c[4],t+c[5],u+c[6]),n=t+c[5],i=u+c[6];break;case"h":this.lineTo(t+c[0],i),n=t+c[0];break;case"l":this.lineTo(t+c[0],u+c[1]),n=t+c[0],i=u+c[1];break;case"v":this.lineTo(n,u+c[0]),i=u+c[0];break;case"z":this.closePath(),n=r,i=o;break;default:throw new Error(`Could not translate command '${l}' with '${c.join(" ")}'`)}}return!0}svgEllipse(e,t,n,i,r,o,a,s,l){n=Math.abs(n),i=Math.abs(i);const c=(e-s)/2,u=(t-l)/2,d=Math.sin(r),h=Math.cos(r),p=h*c+d*u,g=-d*c+h*u,f=p/n,m=g/i;let y=f*f+m*m,b=(e+s)/2,v=(t+l)/2,x=0,S=0;y>=1?(y=Math.sqrt(y),n*=y,i*=y):(y=Math.sqrt(1/y-1),o===a&&(y=-y),x=y*n*m,S=-y*i*f,b+=h*x-d*S,v+=d*x+h*S);const M=Math.atan2((g-S)/i,(p-x)/n),w=M+(Math.atan2((-g-S)/i,(-p-x)/n)-M),k=!!(1-a);this.ellipse(b,v,n,i,r,M,w,k)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){const n=this.commands,i=this.params,r=n.length,o=-1e4,a=-1e4;let s=NaN,l=NaN,c=0,u=0,d=0;for(let h=0,p=0;h<r;h++)switch(n[h]){case 0:d+=eM(s,l,c,u,o,a,e,t),c=i[p++],s=c,u=i[p++],l=u;break;case 1:d+=eM(c,u,i[p++],i[p++],o,a,e,t),c=i[p-2],u=i[p-1];break;case 2:d+=tM(c,u,i[p++],i[p++],i[p++],i[p++],i[p++],i[p++],o,a,e,t),c=i[p-2],u=i[p-1];break;case 3:d+=eM(s,l,c,u,o,a,e,t)}return d%2===1}distanceSquared(e,t){let n=1/0;const i=this.commands,r=this.params,o=i.length;let a=NaN,s=NaN,l=0,c=0;for(let u=0,d=0;u<o;u++)switch(i[u]){case 0:l=a=r[d++],c=s=r[d++];break;case 1:{const i=l,o=c;l=r[d++],c=r[d++],n=US(e,t,i,o,l,c,n);break}case 2:const i=l,o=c,u=r[d++],h=r[d++],p=r[d++],g=r[d++];l=r[d++],c=r[d++],n=cM(i,o,u,h,p,g,l,c,e,t)**2;break;case 3:n=US(e,t,l,c,a,s,n)}return n}toSVG(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(e,t)=>({x:e,y:t});const t=[],{commands:n,params:i}=this,r=(n,r)=>{t.push(n);for(let a=0;a<r;a+=2){const{x:n,y:r}=e(i[o++],i[o++]);t.push(n,r)}};let o=0;for(const a of n)switch(a){case 0:r("M",2);break;case 1:r("L",2);break;case 2:r("C",6);break;case 3:r("Z",0)}return t.join(" ")}computeBBox(){const{commands:e,params:t}=this;let[n,i,r,o]=[1/0,1/0,-1/0,-1/0],[a,s]=[NaN,NaN],[l,c]=[NaN,NaN];const u=(e,t)=>{n=Math.min(t,n),i=Math.min(e,i),r=Math.max(e,r),o=Math.max(t,o),a=e,s=t};let d=0;for(const h of e)switch(h){case 0:u(t[d++],t[d++]),l=a,c=s;break;case 1:u(t[d++],t[d++]);break;case 2:{const e=a,n=s,i=t[d++],r=t[d++],o=t[d++],l=t[d++],c=t[d++],h=t[d++];sM(e,n,i,r,o,l,c,h).forEach(t=>{const a=iM(e,i,o,c,t),s=iM(n,r,l,h,t);u(a,s)}),u(c,h);break}case 3:u(l,c),l=NaN,c=NaN}return new Sx(i,n,r-i,o-n)}};function hM(e,t,n){const i=Math.round(t*e)/e;return null==n?i:0===n?0:n<1?Math.ceil(n*e)/e:Math.round((n+t)*e)/e-i}function pM(e,t){return Math.floor(t*e)/e}function gM(e,t,n){const{width:i,height:r,padding:o,strokeWidth:a}=t,s=i/2,l=r/2,c=Math.max(1,i-o-a/2),u=Math.max(1,r-o-a/2);let d=!1;for(const[h,p]of n){const t=s+(h-.5)*c,n=l+(p-.5)*u;d?e.lineTo(t,n):e.moveTo(t,n),d=!0}e.closePath()}var fM={circles(e,t){let{width:n,strokeWidth:i,padding:r}=t;const o=n/2,a=Math.max(1,o-r-i/2);e.arc(o,o,a,0,2*Math.PI)},squares(e,t){let{width:n,height:i,pixelRatio:r,padding:o,strokeWidth:a}=t;const s=o+a/2;e.moveTo(hM(r,s),hM(r,s)),e.lineTo(hM(r,n-s),hM(r,s)),e.lineTo(hM(r,n-s),hM(r,i-s)),e.lineTo(hM(r,s),hM(r,i-s)),e.closePath()},triangles(e,t){gM(e,t,[[.5,0],[1,1],[0,1]])},diamonds(e,t){gM(e,t,[[.5,0],[1,.5],[.5,1],[0,.5]])},stars(e,t){let{width:n,height:i,padding:r}=t;const o=Math.max(1,(n-r)/2),a=o/2,s=Math.PI/2;for(let l=0;l<10;l++){const t=l%2===0?o:a,r=l*Math.PI/5-s,c=n/2+Math.cos(r)*t,u=i/2+Math.sin(r)*t;e.lineTo(c,u)}e.closePath()},hearts(e,t){let{width:n,height:i,padding:r}=t;const o=Math.max(1,n/4-r/2),a=n/2,s=i/2+o/2;e.arc(a-o,s-o,o,fS(130),fS(330)),e.arc(a+o,s-o,o,fS(220),fS(50)),e.lineTo(a,s+o),e.closePath()},crosses(e,t){gM(e,t,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},"vertical-lines"(e,t){let{width:n,height:i,pixelRatio:r,strokeWidth:o}=t;const a=hM(r,n/2)-o%2/2;e.moveTo(a,0),e.lineTo(a,i)},"horizontal-lines"(e,t){let{width:n,height:i,pixelRatio:r,strokeWidth:o}=t;const a=hM(r,i/2)-o%2/2;e.moveTo(0,a),e.lineTo(n,a)},"forward-slanted-lines"(e,t){let{width:n,height:i,strokeWidth:r}=t;const o=Math.atan2(i,n),a=r*Math.cos(o),s=r*Math.sin(o);e.moveTo(-a,s),e.lineTo(a,-s),e.moveTo(-a,i+s),e.lineTo(n+a,-s),e.moveTo(n-a,i+s),e.lineTo(n+a,i-s)},"backward-slanted-lines"(e,t){let{width:n,height:i,strokeWidth:r}=t;const o=Math.atan2(i,n),a=r*Math.cos(o),s=r*Math.sin(o);e.moveTo(n-a,-s),e.lineTo(n+a,s),e.moveTo(-a,-s),e.lineTo(n+a,i+s),e.moveTo(-a,i-s),e.lineTo(a,i+s)}},mM=class{constructor(e){this._cache=void 0,this.width=Math.max(e?.width??10,1),this.height=Math.max(e?.height??10,1),this.fill=e.fill??"none",this.fillOpacity=e.fillOpacity??1,this.backgroundFill=e.backgroundFill??"none",this.backgroundFillOpacity=e.backgroundFillOpacity??1,this.stroke=e.stroke??"black",this.strokeOpacity=e.strokeOpacity??1,this.strokeWidth=e.strokeWidth??1,this.padding=e.padding??1,this.pattern=e.pattern??"forward-slanted-lines",this.rotation=e.rotation??0,this.scale=e.scale??1,this.path=e.path}getPath(e){const{pattern:t,width:n,height:i,padding:r,strokeWidth:o,path:a}=this,s=new dM;let l=null!=fM[t];return a&&l&&(l=!s.appendSvg(a)),l&&fM[t](s,{width:n,height:i,pixelRatio:e,strokeWidth:o,padding:r}),s}renderStroke(e,t){const{stroke:n,strokeWidth:i,strokeOpacity:r}=this;i&&(t.strokeStyle=n,t.lineWidth=i,t.globalAlpha=r,t.stroke(e))}renderFill(e,t){const{fill:n,fillOpacity:i}=this;"none"!==n&&(t.fillStyle=n,t.globalAlpha=i,t.fill(e))}createCanvasPattern(e,t){const{width:n,height:i,scale:r,backgroundFill:o,backgroundFillOpacity:a}=this;if(n*r<1||i*r<1)return Gm.warnOnce("Pattern fill is too small to render, ignoring."),null;const s=new Dx({width:n,height:i,pixelRatio:t*r}),l=s.context;"none"!==o&&(l.fillStyle=o,l.globalAlpha=a,l.fillRect(0,0,n,i));const c=this.getPath(t).getPath2D();this.renderFill(c,l),this.renderStroke(c,l);const u=e.createPattern(s.canvas,"repeat");return this.setPatternTransform(u,t),s.destroy(),u}setPatternTransform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(null==e)return;const r=xS(this.rotation),o=1/t,a=Math.cos(r)*o,s=Math.sin(r)*o;e.setTransform(new DOMMatrix([a,s,-s,a,n,i]))}createPattern(e,t){if(null!=this._cache&&this._cache.ctx===e&&this._cache.pixelRatio===t)return this._cache.pattern;const n=this.createCanvasPattern(e,t);return null!=n?(this._cache={ctx:e,pattern:n,pixelRatio:t},n):void 0}toSvg(){const{width:e,height:t,fill:n,fillOpacity:i,backgroundFill:r,backgroundFillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:l,rotation:c,scale:u}=this,d=vy("pattern");d.setAttribute("viewBox",`0 0 ${e} ${t}`),d.setAttribute("width",String(e)),d.setAttribute("height",String(t)),d.setAttribute("patternUnits","userSpaceOnUse");const h=vy("rect");h.setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width",String(e)),h.setAttribute("height",String(t)),h.setAttribute("fill",r),h.setAttribute("fill-opacity",String(o)),d.appendChild(h);const p=vy("path");return p.setAttribute("fill",n),p.setAttribute("fill-opacity",String(i)),p.setAttribute("stroke-opacity",String(l)),p.setAttribute("stroke",a),p.setAttribute("stroke-width",String(s)),p.setAttribute("transform",`rotate(${c}) scale(${u})`),p.setAttribute("d",this.getPath(1).toSVG()),d.appendChild(p),d}};function yM(e){return Cy(e)&&"gradient"==e.type}function bM(e){return null!==e&&Cy(e)&&"pattern"==e.type}function vM(e){return null!==e&&Cy(e)&&"image"==e.type}function xM(e){return yM(e)||bM(e)}function SM(e,t){const{fontStyle:n,fontWeight:i,fontSize:r,fontFamily:o}=t;n&&e.setAttribute("font-style",n),i&&e.setAttribute("font-weight",String(i)),null!=r&&e.setAttribute("font-size",String(r)),o&&e.setAttribute("font-family",o)}var MM=class extends lS{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill="black",this.strokeWidth=0,this.lineDashOffset=0,this.opacity=1}getGradient(e){if(yM(e))return this.createGradient(e)}createGradient(e){const{colorSpace:t="rgb",gradient:n="linear",colorStops:i,rotation:r=0,reverse:o=!1}=e;if(null==i)return;let a=GS(i,["black"],[0,1]);switch(o&&(a=a.map(e=>({color:e.color,stop:1-e.stop})).reverse()),n){case"linear":return new PS(t,a,r);case"radial":return new jS(t,a);case"conic":return new RS(t,a,r)}}getPattern(e){if(bM(e))return this.createPattern(e)}createPattern(e){return new mM(e)}getImage(e){if(vM(e))return this.createImage(e)}createImage(e){return new WS(this.imageLoader,e)}onFillChange(){"object"===typeof this.fill&&zx(this._cachedFill??{},this.fill)||(this.fillGradient=this.getGradient(this.fill),this.fillPattern=this.getPattern(this.fill),this.fillImage=this.getImage(this.fill),this._cachedFill=this.fill)}onStrokeChange(){this.strokeGradient=this.getGradient(this.stroke)}align(e,t){return hM(this.layerManager?.canvas?.pixelRatio??1,e,t)}markDirty(e){super.markDirty(e),this.cachedDefaultGradientFillBBox=void 0}fillStroke(e,t){this.renderFill(e,t),this.renderStroke(e,t)}renderFill(e,t){const{fill:n,fillOpacity:i,fillImage:r}=this;if(null!=n&&"none"!==n&&i>0){const{globalAlpha:n}=e;r&&(e.globalAlpha=r.backgroundFillOpacity,e.fillStyle=r.backgroundFill,this.executeFill(e,t),e.globalAlpha=n),this.applyFillAndAlpha(e),this.applyShadow(e),this.executeFill(e,t),e.globalAlpha=n,e.shadowColor="rgba(0, 0, 0, 0)"}}executeFill(e,t){t?e.fill(t):e.fill()}applyFillAndAlpha(e){const{fill:t,fillGradient:n,fillPattern:i,fillImage:r,fillOpacity:o=1,opacity:a=1}=this;if(e.globalAlpha*=a*o,n){const{fillBBox:t=this.getDefaultGradientFillBBox()??this.getBBox(),fillParams:i}=this;e.fillStyle=n.createGradient(e,t,i)??"black"}else if(i){const{x:t,y:n}=this.getBBox(),r=this.layerManager?.canvas?.pixelRatio??1,o=i.createPattern(e,r);i.setPatternTransform(o,r,t,n),o?e.fillStyle=o:(e.fillStyle=i.fill,e.globalAlpha*=i.fillOpacity)}else if(r){const t=this.getBBox(),n=r.createPattern(e,t.width,t.height,this);r.setImageTransform(n,t),e.fillStyle=n??"transparent"}else e.fillStyle="string"===typeof t?t:"black"}applyStrokeAndAlpha(e){const{stroke:t,strokeOpacity:n=1,strokeGradient:i,opacity:r=1}=this;e.strokeStyle=i?.createGradient(e,this.getBBox())??("string"===typeof t?t:void 0)??"black",e.globalAlpha*=r*n}applyShadow(e){const t=this.layerManager?.canvas.pixelRatio??1,n=this.fillShadow;n?.enabled&&(e.shadowColor=n.color,e.shadowOffsetX=n.xOffset*t,e.shadowOffsetY=n.yOffset*t,e.shadowBlur=n.blur*t)}renderStroke(e,t){const{stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:a,lineCap:s,lineJoin:l,miterLimit:c}=this;if(null!=n&&"none"!==n&&i>0&&r>0){const{globalAlpha:n}=e;this.applyStrokeAndAlpha(e),e.lineWidth=i,o&&e.setLineDash(o),a&&(e.lineDashOffset=a),s&&(e.lineCap=s),l&&(e.lineJoin=l),null!=c&&(e.miterLimit=c),this.executeStroke(e,t),e.globalAlpha=n}}executeStroke(e,t){t?e.stroke(t):e.stroke()}getDefaultGradientFillBBox(){return this.cachedDefaultGradientFillBBox??(this.cachedDefaultGradientFillBBox=Object.freeze(this.computeDefaultGradientFillBBox())),this.cachedDefaultGradientFillBBox}computeDefaultGradientFillBBox(){}containsPoint(e,t){return this.isPointInPath(e,t)}applySvgFillAttributes(e,t){const{fill:n,fillOpacity:i}=this;if("string"===typeof n)e.setAttribute("fill",n);else if(yM(n)&&this.fillGradient){t??(t=[]);const n=this.fillGradient.toSvg(this.fillBBox??this.getBBox()),i=Xv();n.setAttribute("id",i),t.push(n),e.setAttribute("fill",`url(#${i})`)}else if(bM(n)&&this.fillPattern){t??(t=[]);const n=this.fillPattern.toSvg(),i=Xv();n.setAttribute("id",i),t.push(n),e.setAttribute("fill",`url(#${i})`)}else if(vM(n)&&this.fillImage){t??(t=[]);const n=this.layerManager?.canvas?.pixelRatio??1,i=this.fillImage.toSvg(this.getBBox(),n),r=Xv();i.setAttribute("id",r),t.push(i),e.setAttribute("fill",`url(#${r})`)}else e.setAttribute("fill","none");return e.setAttribute("fill-opacity",String(i)),t}applySvgStrokeAttributes(e){const{stroke:t,strokeOpacity:n,strokeWidth:i,lineDash:r,lineDashOffset:o}=this;!function(e,t){const{stroke:n,strokeWidth:i,strokeOpacity:r}=t;n&&e.setAttribute("stroke",n),null!=i&&e.setAttribute("stroke-width",String(i)),null!=r&&e.setAttribute("stroke-opacity",String(r))}(e,{stroke:Ly(t)?t:void 0,strokeOpacity:n,strokeWidth:i}),function(e,t){const{lineDash:n,lineDashOffset:i}=t;if(n?.some(e=>0!==e)){const t=n.length%2===1?[...n,...n]:n;e.setAttribute("stroke-dasharray",t.join(" ")),null!=i&&e.setAttribute("stroke-dashoffset",String(i))}}(e,{lineDash:r,lineDashOffset:o})}};px([Jx()],MM.prototype,"fillOpacity",2),px([Jx()],MM.prototype,"strokeOpacity",2),px([tS({equals:zx,changeCb:e=>e.onFillChange()})],MM.prototype,"fill",2),px([tS({equals:zx,changeCb:e=>e.onStrokeChange()})],MM.prototype,"stroke",2),px([Jx()],MM.prototype,"strokeWidth",2),px([nS()],MM.prototype,"lineDash",2),px([Jx()],MM.prototype,"lineDashOffset",2),px([Jx()],MM.prototype,"lineCap",2),px([Jx()],MM.prototype,"lineJoin",2),px([Jx()],MM.prototype,"miterLimit",2),px([Jx({convertor:e=>Ev(0,e??1,1)})],MM.prototype,"opacity",2),px([tS({equals:Qx,checkDirtyOnAssignment:!0})],MM.prototype,"fillShadow",2),px([tS({equals:Dv,changeCb:e=>e.onFillChange()})],MM.prototype,"fillBBox",2),px([tS({equals:zx,changeCb:e=>e.onFillChange()})],MM.prototype,"fillParams",2);var wM=[1,0,0,1,0,0],kM=class e{get e(){return[...this.elements]}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wM;this.elements=[...e]}setElements(e){const t=this.elements;return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],this}get identity(){const e=this.elements;return Ov(e[0],1)&&Ov(e[1],0)&&Ov(e[2],0)&&Ov(e[3],1)&&Ov(e[4],0)&&Ov(e[5],0)}AxB(e,t,n){const i=e[0]*t[0]+e[2]*t[1],r=e[1]*t[0]+e[3]*t[1],o=e[0]*t[2]+e[2]*t[3],a=e[1]*t[2]+e[3]*t[3],s=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];(n=n??e)[0]=i,n[1]=r,n[2]=o,n[3]=a,n[4]=s,n[5]=l}multiplySelf(e){return this.AxB(this.elements,e.elements),this}multiply(t){const n=new Array(6);return t instanceof e?this.AxB(this.elements,t.elements,n):this.AxB(this.elements,[t.a,t.b,t.c,t.d,t.e,t.f],n),new e(n)}preMultiplySelf(e){return this.AxB(e.elements,this.elements,this.elements),this}inverse(){const t=this.elements;let n=t[0],i=t[1],r=t[2],o=t[3];const a=t[4],s=t[5],l=1/(n*o-i*r);return n*=l,i*=l,r*=l,o*=l,new e([o,-i,-r,n,r*s-o*a,i*a-n*s])}invertSelf(){const e=this.elements;let t=e[0],n=e[1],i=e[2],r=e[3];const o=e[4],a=e[5],s=1/(t*r-n*i);return t*=s,n*=s,i*=s,r*=s,e[0]=r,e[1]=-n,e[2]=-i,e[3]=t,e[4]=i*a-r*o,e[5]=n*o-t*a,this}transformPoint(e,t){const n=this.elements;return{x:e*n[0]+t*n[2]+n[4],y:e*n[1]+t*n[3]+n[5]}}transformBBox(e,t){const n=this.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=.5*e.width,l=.5*e.height,c=e.x+s,u=e.y+l,d=Math.abs(s*i)+Math.abs(l*o),h=Math.abs(s*r)+Math.abs(l*a);return t??(t=new Sx(0,0,0,0)),t.x=c*i+u*o+n[4]-d,t.y=c*r+u*a+n[5]-h,t.width=d+d,t.height=h+h,t}toContext(e){if(this.identity)return;const t=this.elements;e.transform(t[0],t[1],t[2],t[3],t[4],t[5])}static updateTransformMatrix(e,t,n,i,r,o,a){const s=t,l=n;let c,u;1===s&&1===l?(c=0,u=0):(c=a?.scalingCenterX??0,u=a?.scalingCenterY??0);const d=i,h=Math.cos(d),p=Math.sin(d);let g,f;0===d?(g=0,f=0):(g=a?.rotationCenterX??0,f=a?.rotationCenterY??0);const m=r,y=o,b=c*(1-s)-g,v=u*(1-l)-f;return e.setElements([h*s,p*s,-p*l,h*l,h*b-p*v+g+m,p*b+h*v+f+y]),e}};function IM(e){return DM(e.constructor)}var CM=Symbol("isMatrixTransform");function DM(e){return!0===e[CM]}function AM(e){var t;const n=e;if(DM(e))return e;const i=Symbol("matrix_combined_transform");class r extends n{constructor(){super(...arguments),this[t]=new kM,this._dirtyTransform=!0}onChangeDetection(e){super.onChangeDetection(e),this._dirtyTransform=!0,this.batchLevel>0||this.markDirty("transform")}updateMatrix(e){}computeTransformMatrix(){this._dirtyTransform&&(this[i].setElements(wM),this.updateMatrix(this[i]),this._dirtyTransform=!1)}toParent(e){return this.computeTransformMatrix(),this[i].identity?e.clone():this[i].transformBBox(e)}toParentPoint(e,t){return this.computeTransformMatrix(),this[i].identity?{x:e,y:t}:this[i].transformPoint(e,t)}fromParent(e){return this.computeTransformMatrix(),this[i].identity?e.clone():this[i].inverse().transformBBox(e)}fromParentPoint(e,t){return this.computeTransformMatrix(),this[i].identity?{x:e,y:t}:this[i].inverse().transformPoint(e,t)}computeBBox(){const e=super.computeBBox();return e?this.toParent(e):e}computeBBoxWithoutTransforms(){return super.computeBBox()}pickNode(e,t){return({x:e,y:t}=this.fromParentPoint(e,t)),super.pickNode(e,t)}pickNodes(e,t,n){return({x:e,y:t}=this.fromParentPoint(e,t)),super.pickNodes(e,t,n)}render(e){this.computeTransformMatrix();const{ctx:t}=e,n=this[i];let r=!1;try{n.identity||(t.save(),r=!0,n.toContext(t)),super.render(e)}finally{r&&t.restore()}}toSVG(){this.computeTransformMatrix();const e=super.toSVG(),t=this[i];if(t.identity||null==e)return e;const n=vy("g");n.append(...e.elements);const[r,o,a,s,l,c]=t.e;return n.setAttribute("transform",`matrix(${r} ${o} ${a} ${s} ${l} ${c})`),{elements:[n],defs:e.defs}}}return t=i,r[CM]=!0,r}function TM(e){var t;const n=e,i=Symbol("matrix_rotation");class r extends(AM(n)){constructor(){super(...arguments),this[t]=new kM,this.rotationCenterX=0,this.rotationCenterY=0,this.rotation=0}updateMatrix(e){super.updateMatrix(e);const{rotation:t,rotationCenterX:n,rotationCenterY:r}=this;0!==t&&(kM.updateTransformMatrix(this[i],1,1,t,0,0,{rotationCenterX:n,rotationCenterY:r}),e.multiplySelf(this[i]))}}return t=i,px([Jx()],r.prototype,"rotationCenterX",2),px([Jx()],r.prototype,"rotationCenterY",2),px([Jx()],r.prototype,"rotation",2),r}function LM(e){var t;const n=e,i=Symbol("matrix_scale");class r extends(AM(n)){constructor(){super(...arguments),this[t]=new kM,this.scalingX=1,this.scalingY=1,this.scalingCenterX=0,this.scalingCenterY=0}updateMatrix(e){super.updateMatrix(e);const{scalingX:t,scalingY:n,scalingCenterX:r,scalingCenterY:o}=this;1===t&&1===n||(kM.updateTransformMatrix(this[i],t,n,0,0,0,{scalingCenterX:r,scalingCenterY:o}),e.multiplySelf(this[i]))}}return t=i,px([Jx()],r.prototype,"scalingX",2),px([Jx()],r.prototype,"scalingY",2),px([Jx()],r.prototype,"scalingCenterX",2),px([Jx()],r.prototype,"scalingCenterY",2),r}function NM(e){var t;const n=e,i=Symbol("matrix_translation");class r extends(AM(n)){constructor(){super(...arguments),this[t]=new kM,this.translationX=0,this.translationY=0}updateMatrix(e){super.updateMatrix(e);const{translationX:t,translationY:n}=this;0===t&&0===n||(kM.updateTransformMatrix(this[i],1,1,0,t,n),e.multiplySelf(this[i]))}}return t=i,px([Jx()],r.prototype,"translationX",2),px([Jx()],r.prototype,"translationY",2),r}var EM,OM=class{static fromCanvas(e,t){const n=[];for(const i of e.traverseUp())IM(i)&&n.unshift(i);for(const i of n)t=i.fromParent(t);return IM(e)&&(t=e.fromParent(t)),t}static toCanvas(e,t){null==t?t=e.getBBox():IM(e)&&(t=e.toParent(t));for(const n of e.traverseUp())IM(n)&&(t=n.toParent(t));return t}static fromCanvasPoint(e,t,n){const i=[];for(const r of e.traverseUp())IM(r)&&i.unshift(r);for(const r of i)({x:t,y:n}=r.fromParentPoint(t,n));return IM(e)&&({x:t,y:n}=e.fromParentPoint(t,n)),{x:t,y:n}}static toCanvasPoint(e,t,n){IM(e)&&({x:t,y:n}=e.toParentPoint(t,n));for(const i of e.traverseUp())IM(i)&&({x:t,y:n}=i.toParentPoint(t,n));return{x:t,y:n}}},RM=class e extends lS{constructor(e){super(e),this.childNodes=new Set,this.dirty=!1,this.dirtyZIndex=!1,this.clipRect=void 0,this.opacity=1,this.renderToOffscreenCanvas=!1,this.optimizeForInfrequentRedraws=!1,this.layer=void 0,this.image=void 0,this._lastWidth=NaN,this._lastHeight=NaN,this._lastDevicePixelRatio=NaN,this.isContainerNode=!0,this.renderToOffscreenCanvas=!0===e?.renderToOffscreenCanvas}static is(t){return t instanceof e}static computeChildrenBBox(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Sx.merge(lS.extractBBoxes(e,t))}static compareChildren(e,t){return oS(e.zIndex,t.zIndex)||e.serialNumber-t.serialNumber}containsPoint(e,t){return!0}computeBBox(){return e.computeChildrenBBox(this.children())}computeSafeClippingBBox(e){const t=this.computeBBox();if(!0!==t?.isFinite())return;let n=0;for(const u of this.descendants())u instanceof MM&&(n=Math.max(n,u.strokeWidth));const i=Math.max(1,n/2*4),{x:r,y:o}=OM.toCanvasPoint(this,0,0),a=pM(e,r+t.x-i)-r,s=pM(e,o+t.y-i)-o,l=Math.ceil(t.x+t.width-a+i),c=Math.ceil(t.y+t.height-s+i);return new Sx(a,s,l,c)}prepareSharedCanvas(e,t,n){return null==EM||EM.pixelRatio!==n?EM=new Dx({width:e,height:t,pixelRatio:n}):EM.resize(e,t,n),EM}setScene(e){super.setScene(e),this.layer&&(this.scene?.layersManager.removeLayer(this.layer),this.layer=void 0);for(const t of this.children())t.setScene(e)}markDirty(e){this.dirty=!0,super.markDirty(e)}markDirtyChildrenOrder(){super.markDirtyChildrenOrder(),this.dirtyZIndex=!0,this.markDirty()}append(e){for(const n of null!=(t=e)&&"object"===typeof t&&Symbol.iterator in t?t:[t])n.parentNode?.removeChild(n),this.childNodes.add(n),n.parentNode=this,n.setScene(this.scene);var t;this.markDirtyChildrenOrder(),this.markDirty()}appendChild(e){return this.append(e),e}removeChild(e){if(!this.childNodes?.delete(e))throw new Error(`AG Charts - internal error, unknown child node ${e.name??e.id} in $${this.name??this.id}`);e.parentNode=void 0,e.setScene(),this.markDirtyChildrenOrder(),this.markDirty()}clear(){for(const e of this.children())delete e.parentNode,e.setScene();this.childNodes?.clear(),this.markDirty()}pickNode(e,t){if(this.visible&&1!==this.pointerEvents&&this.containsPoint(e,t))if(null!=this.childNodes&&0!==this.childNodes.size){const n=[...this.children()];for(let i=n.length-1;i>=0;i--){const r=n[i].pickNode(e,t);if(null!=r)return r}}else if(!this.isContainerNode)return this}pickNodes(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!this.visible||1===this.pointerEvents||!this.containsPoint(e,t))return n;this.isContainerNode||n.push(this);for(const i of this.children())i.pickNodes(e,t,n);return n}isDirty(e){const{width:t,height:n,devicePixelRatio:i}=e,{dirty:r,layer:o}=this,a=null!=o&&(this._lastWidth!==t||this._lastHeight!==n),s=this._lastDevicePixelRatio!==i;return this._lastWidth=t,this._lastHeight=n,this._lastDevicePixelRatio=i,r||a||s}preRender(e){let t;if(this.dirty){t=super.preRender(e,0);for(const n of this.children()){const i=n.preRender(e);t.groups+=i.groups,t.nonGroups+=i.nonGroups,t.complexity+=i.complexity}t.groups+=1,t.nonGroups-=1}else t=this.childNodeCounts;return this.renderToOffscreenCanvas&&!this.optimizeForInfrequentRedraws&&t.nonGroups>0&&this.getVisibility()?this.layer??(this.layer=this.layerManager?.addLayer({name:this.name})):null!=this.layer&&(this.layerManager?.removeLayer(this.layer),this.layer=void 0),t}render(e){var t=this;const{layer:n,renderToOffscreenCanvas:i}=this,r={...e},o=this.isDirty(e);if(this.dirty=!1,!i)return this.renderInContext(r),void super.render(r);const{ctx:a,stats:s,devicePixelRatio:l}=e;let{image:c}=this;if(o){c?.bitmap.close(),c=void 0;const e=n?void 0:this.computeSafeClippingBBox(l),i=function(e){const n=e.context;r.ctx=n,e.clear(),n.save();try{for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];n.setTransform(...o),n.globalAlpha=1,t.renderInContext(r)}finally{n.restore(),n.verifyDepthZero?.()}};if(n)i(n,a.getTransform());else if(e){const{x:t,y:n,width:r,height:o}=e,a=this.prepareSharedCanvas(r,o,l);i(a,l,0,0,l,-t*l,-n*l),c={bitmap:a.transferToImageBitmap(),x:t,y:n,width:r,height:o}}this.image=c,s&&s.layersRendered++}else s&&s.layersSkipped++;const{globalAlpha:u}=a;if(a.globalAlpha=u*this.opacity,n){a.save();try{a.resetTransform(),n.drawImage(a)}finally{a.restore()}}else if(c){const{bitmap:e,x:t,y:n,width:i,height:r}=c;a.drawImage(e,0,0,i*l,r*l,t,n,i,r)}a.globalAlpha=u,super.render(r)}applyClip(e,t){const{x:n,y:i,width:r,height:o}=t;e.beginPath(),e.rect(n,i,r,o),e.clip()}renderInContext(t){const{ctx:n,stats:i}=t;this.dirtyZIndex&&(this.sortChildren(e.compareChildren),this.dirtyZIndex=!1),n.save();try{n.globalAlpha*=this.opacity,null!=this.clipRect&&(this.applyClip(n,this.clipRect),t.clipBBox=OM.toCanvas(this,this.clipRect));for(const e of this.children())e.visible?e.isolatedRender(t):i&&(i.nodesSkipped+=e.childNodeCounts.nonGroups+e.childNodeCounts.groups,i.opsSkipped+=e.childNodeCounts.complexity)}finally{n.restore()}}sortChildren(e){if(!this.childNodes)return;const t=[...this.childNodes].sort(e);this.childNodes.clear();for(const n of t)this.childNodes.add(n)}*children(){yield*this.childNodes}*excludeChildren(e){for(const t of this.children())(e.instance&&!(t instanceof e.instance)||e.name&&t.name!==e.name)&&(yield t)}*descendants(){for(const t of this.children())yield t,t instanceof e&&(yield*t.descendants())}setClipRect(e){this.clipRect=e?OM.fromCanvas(this,e):void 0}setClipRectCanvasSpace(e){this.clipRect=e}getVisibility(){for(const e of this.traverseUp(!0))if(!e.visible)return!1;return!0}toSVG(){if(!this.visible)return;const e=[],t=[];for(const n of this.children()){const i=n.toSVG();null!=i&&(t.push(...i.elements),null!=i.defs&&e.push(...i.defs))}return{elements:t,defs:e}}};RM.className="Group",px([Jx({convertor:e=>Ev(0,e,1)})],RM.prototype,"opacity",2);var PM=RM,jM=class extends(LM(PM)){},zM=class extends(TM(PM)){},_M=class extends(NM(PM)){},BM=class extends(TM(NM(PM))){};function FM(e,t){return!(null==e||!function(e){return"context"in e}(e)||null==t[0]||"object"!==typeof t[0]||void 0!==t[0].context)&&(t[0].context=e.context,!0)}function $M(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(Array.isArray(e)){for(const o of e)if(FM(o,i))break}else FM(e,i);return t(...i)}var VM=class{constructor(){this.cache=new WeakMap}call(e,t){let n,i=this.cache.get(t);for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];try{n=JSON.stringify(o)}catch{return this.invoke(e,t,i,void 0,...o)}return null==i&&(i=new Map,this.cache.set(t,i)),i.has(n)?i.get(n):this.invoke(e,t,i,n,...o)}invoke(e,t,n,i){try{for(var r=arguments.length,o=new Array(r>4?r-4:0),a=4;a<r;a++)o[a-4]=arguments[a];const s=$M(e,t,...o);return n&&null!=i&&n.set(i,s),s}catch(s){return void Gm.warnOnce("User callback errored, ignoring",s)}}invalidateCache(){this.cache=new WeakMap}};function GM(e,t){if(!e)return;const{x:n,y:i,width:r,height:o}=function(e){let{x:t,y:n,width:i,height:r}=e;if((null==i||i>0)&&(null==r||r>0))return e;null!=t&&null!=i&&i<0&&(i=-i,t-=i);null!=n&&null!=r&&r<0&&(r=-r,n-=r);return{x:t,y:n,width:i,height:r}}(t);KM(e.style,"width",r),KM(e.style,"height",o),KM(e.style,"left",n),KM(e.style,"top",i)}function WM(e){const t=parseFloat(e.style.width)||e.offsetWidth,n=parseFloat(e.style.height)||e.offsetHeight;return{x:parseFloat(e.style.left)||e.offsetLeft,y:parseFloat(e.style.top)||e.offsetTop,width:t,height:n}}function HM(e){if(e.focus({preventScroll:!0}),null==e.lastChild?.textContent)return;const t=my().createRange();t.setStart(e.lastChild,e.lastChild.textContent.length),t.setEnd(e.lastChild,e.lastChild.textContent.length);const n=yy().getSelection();n?.removeAllRanges(),n?.addRange(t)}function UM(){const e=yy("navigator");if("scheduling"in e){const t=e.scheduling;if("isInputPending"in t)return t.isInputPending({includeContinuous:!0})}return!1}function YM(e){return`ag-charts-icon ag-charts-icon-${e}`}function KM(e,t,n){null==n?e.removeProperty(t):e.setProperty(t,`${n}px`)}var ZM="class-instance";function XM(e,t,n){if(My(t)){if(!My(e)||e.length!==t.length||t.some((t,i)=>null!=XM(e[i],t,n)))return t}else{if(Ay(t)){if(!Ay(e))return t;const i={},r=new Set([...Object.keys(e),...Object.keys(t)]);for(const o of r)if(e[o]!==t[o])if(n?.has(o))i[o]=t[o];else if(typeof e[o]===typeof t[o]){const r=XM(e[o],t[o],n);null!==r&&(i[o]=r)}else i[o]=t[o];return Object.keys(i).length?i:null}if(e!==t)return t}return null}function qM(e,t){for(const n of Object.keys(e))if(e[n]!==t?.[n])return!1;return!0}function QM(e,t){return My(e)?function(e,t){const n=[],i=t?.seen;for(const r of e)"object"===typeof r&&i?.includes(r)?Gm.warn("cycle detected in array",r):(i?.push(r),n.push(QM(r,t)),i?.pop());return n}(e,t):Ay(e)?function(e,t){const n={};for(const i of Object.keys(e))t?.assign?.has(i)?n[i]=e[i]:t?.shallow?.has(i)?n[i]=JM(e[i]):n[i]=QM(e[i],t);return n}(e,t):e instanceof Map?new Map(QM(Array.from(e))):JM(e)}function JM(e){return My(e)?e.slice(0):Ay(e)?{...e}:wy(e)?new Date(e):e instanceof RegExp?new RegExp(e.source,e.flags):e}function ew(e,t,n,i,r,o){if(My(e)){o=t(e,i,r,o);let a=0;for(const s of e)o=ew(s,t,n,i?.[a],r,o),a++}else if(Ay(e)){o=t(e,i,r,o);for(const a of Object.keys(e)){if(n?.has(a))continue;o=ew(e[a],t,n,i?.[a],r,o)}}return o}function tw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{path:i,matcherPath:r=i?.replace(/(\[[0-9+]+])/i,"[]"),skip:o=[]}=n;if(null==e)throw new Error(`AG Charts - target is uninitialised: ${i??"<root>"}`);if(null==t)return e;if(FS(e))return e.set(t);const a=e,s=nw(e);for(const l of Object.keys(t)){if(Ux.has(l))continue;const c=`${r?r+".":""}${l}`;if(o.includes(c))continue;const u=t[l],d=`${i?i+".":""}${l}`,h=a.constructor,p=a[l];try{const t=nw(p),i=nw(u);if(s===ZM&&!(l in e)&&"context"!==l){if(void 0===u)continue;Gm.warn(`unable to set [${d}] in ${h?.name} - property is unknown`);continue}if(null!=t&&null!=i&&i!==t&&(t!==ZM||"object"!==i)){Gm.warn(`unable to set [${d}] in ${h?.name} - can't apply type of [${i}], allowed types are: [${t}]`);continue}if(FS(p))void 0===u?p.clear():p.set(u);else if("object"===i&&"context"!==l){if(!(l in a)){Gm.warn(`unable to set [${d}] in ${h?.name} - property is unknown`);continue}null==p?a[l]=u:tw(p,u,{...n,path:d,matcherPath:c})}else a[l]=u}catch(Ym){Gm.warn(`unable to set [${d}] in [${h?.name}]; nested error is: ${Ym.message}`)}}return e}function nw(e){return null==e?null:function(e){return"undefined"!==typeof window&&e instanceof HTMLElement}(e)||wy(e)?"primitive":My(e)?"array":Cy(e)?Ay(e)?"object":ZM:Iy(e)?"function":"primitive"}var iw=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(e=>Gm.errorOnce(e))})}async acquireImmediately(e){return!!this.available&&(await this.acquire(e),!0)}async waitForClearAcquireQueue(){return this.acquire(()=>Promise.resolve(void 0))}async dispatchNext(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{await e(),t?.()}catch(Ym){Gm.error("mutex callback error",Ym),t?.()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0}},rw=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if("function"!==typeof t)throw new Error("AG Charts - listener must be a Function");const n=this.eventListeners.get(e);n?n.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){const n=this.eventListeners.get(e);null!=n&&(n.delete(t),0===n.size&&this.eventListeners.delete(e))}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){this.eventListeners.get(e.type)?.forEach(t=>t(e))}},ow=class extends _S{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;super(),this.top=e,this.right=t,this.bottom=n,this.left=i}};function aw(e,t){const n=My(e)?e:e.split(".");if(1===n.length){const[e]=n;return Ex((t,n,i)=>t[e]=i,t=>t[e],t)}return Ex((e,t,i)=>Yx(e,n,i),e=>Hx(e,n),t)}function sw(e){return Ex((t,n,i)=>t[e]=i)}function lw(e,t){return Ex((n,i,r)=>n[e][t??i]=r)}function cw(e){const{newValue:t,oldValue:n,changeValue:i}=e;return Ex((e,r,o,a)=>(o!==a&&(void 0!==a&&n?.call(e,a),void 0!==o&&t?.call(e,o),i?.call(e,o,a)),o))}function uw(e){return Ox(e)}function dw(e,t){let n,i,r=0,o=!1;const a=()=>o,s=()=>{o=!1,i?.(),i=void 0,n=void 0,r>0&&e(l)},l=()=>{const e=r;r=0,o=!0;const n=t({count:e});n?n.then(s,s):s()};return{schedule(t){0!==r||a()||e(l,t),r++},async await(){if(a())for(n??(n=new Promise(e=>{i=e}));a();)await n}}}px([zS],ow.prototype,"top",2),px([zS],ow.prototype,"right",2),px([zS],ow.prototype,"bottom",2),px([zS],ow.prototype,"left",2);var hw=["blur","change","contextmenu","focus","keydown","keyup","click","dblclick","mouseenter","mousemove","mouseleave","wheel","touchstart","touchmove","touchend","touchcancel"];function pw(e,t,n){const{offsetX:i,offsetY:r,clientX:o,clientY:a}=t,{currentX:s,currentY:l}=mw.calcCurrentXY(n,t);return{type:e,device:"mouse",offsetX:i,offsetY:r,clientX:o,clientY:a,currentX:s,currentY:l,sourceEvent:t}}function gw(e,t,n){return{type:e,sourceEvent:t}}var fw={blur:e=>({type:"blur",sourceEvent:e}),change:e=>({type:"change",sourceEvent:e}),contextmenu:(e,t)=>pw("contextmenu",e,t),focus:e=>({type:"focus",sourceEvent:e}),keydown:e=>({type:"keydown",sourceEvent:e}),keyup:e=>({type:"keyup",sourceEvent:e}),click:(e,t)=>pw("click",e,t),dblclick:(e,t)=>pw("dblclick",e,t),mouseenter:(e,t)=>pw("mouseenter",e,t),mousemove:(e,t)=>pw("mousemove",e,t),mouseleave:(e,t)=>pw("mouseleave",e,t),wheel:e=>{const{offsetX:t,offsetY:n,clientX:i,clientY:r}=e,o=0===e.deltaMode?.01:1;return{type:"wheel",offsetX:t,offsetY:n,clientX:i,clientY:r,deltaX:e.deltaX*o,deltaY:e.deltaY*o,sourceEvent:e}},touchstart:(e,t)=>gw("touchstart",e),touchmove:(e,t)=>gw("touchmove",e),touchend:(e,t)=>gw("touchend",e),touchcancel:(e,t)=>gw("touchcancel",e)},mw=class{static alloc(e,t,n){return fw[e](t,n)}static isHTMLEvent(e){return hw.includes(e)}static calcCurrentXY(e,t){const n=e.getBoundingClientRect();return{currentX:t.clientX-n.x,currentY:t.clientY-n.y}}},yw=class{constructor(){this.widgetListeners={},this.sourceListeners={}}initSourceHandler(e,t){this.sourceListeners??(this.sourceListeners={}),this.sourceListeners[e]=t}lazyGetWidgetListeners(e,t){var n;if(!(e in(this.sourceListeners??{}))){const n=n=>{const i=mw.alloc(e,n,t.getElement());this.dispatch(e,t,i)},i={};e.startsWith("touch")&&(i.passive=!1),this.initSourceHandler(e,n),t.getElement().addEventListener(e,n,i)}return this.widgetListeners??(this.widgetListeners={}),(n=this.widgetListeners)[e]??(n[e]=[]),this.widgetListeners[e]}add(e,t,n){this.lazyGetWidgetListeners(e,t).push(n)}remove(e,t,n){const i=this.lazyGetWidgetListeners(e,t),r=i.indexOf(n);r>-1&&i.splice(r,1)}destroy(e){if(this.widgetListeners=void 0,this.sourceListeners){for(const[t,n]of yv(this.sourceListeners))e.getElement().removeEventListener(t,n);this.sourceListeners=void 0}}dispatch(e,t,n){for(const i of this.widgetListeners?.[e]??[])i(n,t)}},bw=class{constructor(e,t,n,i){this.glob=e,this.self=t,this.window=yy(),this.cleanup=new Nv,this.mousegeneral=e=>{e.stopPropagation(),e.stopImmediatePropagation()},this.mousemove=e=>{e.stopPropagation(),e.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mousemove(e)},this.mouseup=e=>{0===e.button&&(e.stopPropagation(),e.stopImmediatePropagation(),this.glob.globalMouseDragCallbacks?.mouseup(e),this.destroy())};const{window:r,mousegeneral:o,mousemove:a,mouseup:s}=this;this.cleanup.register(xy(r,"mousedown",o,{capture:!0}),xy(r,"mouseenter",o,{capture:!0}),xy(r,"mouseleave",o,{capture:!0}),xy(r,"mouseout",o,{capture:!0}),xy(r,"mouseover",o,{capture:!0}),xy(r,"mousemove",a,{capture:!0}),xy(r,"mouseup",s,{capture:!0})),t.mouseDragger=this,e.globalMouseDragCallbacks=n,e.globalMouseDragCallbacks.mousedown(i),i.stopPropagation(),i.stopImmediatePropagation()}destroy(){this.cleanup.flush(),this.glob.globalMouseDragCallbacks=void 0,this.self.mouseDragger=void 0}};var vw=!1,xw=class{constructor(e,t,n,i,r){this.glob=e,this.self=t,this.initialTouch=i,this.target=r,this.cleanup=new Nv,this.longTapInterrupted=!1,this.longtap=()=>{const{target:e,initialTouch:t}=this;if(!this.longTapInterrupted){const n=new Nv;e.dispatchEvent(new TouchEvent("touchcancel",{touches:[t],bubbles:!0})),vw=!0;const i=e=>e.preventDefault(),r=e=>{vw=!1,e.preventDefault(),n.flush()};n.register(xy(e,"touchmove",i,{passive:!1}),xy(e,"touchend",r,{passive:!1}),xy(e,"touchcancel",r,{passive:!1}));const{clientX:o,clientY:a}=t,s=new PointerEvent("contextmenu",{bubbles:!0,cancelable:!0,view:yy(),clientX:o,clientY:a,pointerType:"touch"});e.dispatchEvent(s)}},this.touchmove=e=>{const{glob:t,self:n,initialTouch:i}=this,r=this.findInitialFinger(e.targetTouches);null!=r&&(this.longTapInterrupted=this.longTapInterrupted||function(e,t){const n=e.clientX-t.clientX,i=e.clientY-t.clientY;return n*n+i*i}(i,r)>100,n.dragTouchEnabled&&t.globalTouchDragCallbacks?.touchmove(e,r))},this.touchend=e=>{this.longTapInterrupted=!0;const t=this.findInitialFinger(e.changedTouches,e.touches);null!=t&&this.glob.globalTouchDragCallbacks?.touchend(e,t),this.destroy()},this.longtapTimer=setTimeout(this.longtap,500);const{touchmove:o,touchend:a}=this;this.cleanup.register(xy(r,"touchmove",o,{passive:!1}),xy(r,"touchstart",a,{passive:!1}),xy(r,"touchend",a,{passive:!1}),xy(r,"touchcancel",a,{passive:!1})),t.touchDragger=this,e.globalTouchDragCallbacks=n}destroy(){clearTimeout(this.longtapTimer),this.cleanup.flush(),this.glob.globalTouchDragCallbacks=void 0,this.self.touchDragger=void 0}findInitialFinger(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.map(e=>Array.from(e)).flat();return Array.from(i).find(e=>e.identifier===this.initialTouch.identifier)}};function Sw(e,t,n,i){const{currentX:r,currentY:o}=mw.calcCurrentXY(e.getElement(),i),a=i.pageX-n.pageX,s=i.pageY-n.pageY;return{type:t,device:"mouse",offsetX:n.offsetX+a,offsetY:n.offsetY+s,clientX:i.clientX,clientY:i.clientY,currentX:r,currentY:o,originDeltaX:a,originDeltaY:s,sourceEvent:i}}function Mw(e,t){let{pageX:n,pageY:i}=t;const{x:r,y:o}=e.getElement().getBoundingClientRect();return{offsetX:n-r,offsetY:i-o}}function ww(e,t,n,i,r){const{currentX:o,currentY:a}=mw.calcCurrentXY(e.getElement(),r),s=r.pageX-n.pageX,l=r.pageY-n.pageY;return{type:t,device:"touch",offsetX:n.offsetX+s,offsetY:n.offsetY+l,clientX:r.clientX,clientY:r.clientY,currentX:o,currentY:a,originDeltaX:s,originDeltaY:l,sourceEvent:i}}var kw={},Iw=class{constructor(e){this.dispatchCallback=e,this.dragTouchEnabled=!0}destroy(){this.dragTriggerRemover?.(),this.dragTriggerRemover=void 0,this.listeners?.clear(),this.mouseDragger?.destroy(),this.touchDragger?.destroy()}getListenerSet(e){this.listeners??(this.listeners=new Map);let t=this.listeners.get(e);return void 0===t&&(t=new Set,this.listeners.set(e,t)),t}add(e,t,n){switch(this.getListenerSet(e).add(n),e){case"drag-start":case"drag-move":case"drag-end":this.registerDragTrigger(t)}}remove(e,t,n){this.getListenerSet(e).delete(n)}registerDragTrigger(e){if(null==this.dragTriggerRemover){const t=e.getElement(),n=new Nv;n.register(xy(t,"mousedown",t=>this.triggerMouseDrag(e,t)),xy(t,"touchstart",t=>this.triggerTouchDrag(e,t),{passive:!1})),this.dragTriggerRemover=()=>n.flush()}}triggerMouseDrag(e,t){0===t.button&&this.startMouseDrag(e,t)}startMouseDrag(e,t){const n={pageX:NaN,pageY:NaN,offsetX:NaN,offsetY:NaN};Kx(["pageX","pageY","offsetX","offsetY"],n,t);const i={mousedown:t=>{const i=Sw(e,"drag-start",n,t);this.dispatch("drag-start",e,i)},mousemove:t=>{const i=Sw(e,"drag-move",n,t);this.dispatch("drag-move",e,i)},mouseup:t=>{const i=Sw(e,"drag-end",n,t);this.dispatch("drag-end",e,i),this.endDrag(e,i)}};this.mouseDragger=function(e,t,n,i){if(null==e.globalMouseDragCallbacks)return new bw(e,t,n,i)}(kw,this,i,t)}endDrag(e,t){let{sourceEvent:n,clientX:i,clientY:r}=t;const o=e.getElement();Cv(o.getBoundingClientRect(),i,r)||(o.dispatchEvent(new MouseEvent("mouseleave",n)),n.target?.dispatchEvent(new MouseEvent("mouseenter",n)))}triggerTouchDrag(e,t){const n=t.targetTouches[0];1===t.targetTouches.length&&null!=n&&this.startOneFingerTouch(e,t,n)}startOneFingerTouch(e,t,n){const i={pageX:NaN,pageY:NaN,...Mw(e,n)};Kx(["pageX","pageY"],i,n);const r={touchmove:(t,n)=>{const r=ww(e,"drag-move",i,t,n);this.dispatch("drag-move",e,r)},touchend:(t,n)=>{const r=ww(e,"drag-end",i,t,n);this.dispatch("drag-end",e,r)}},o=e.getElement();this.touchDragger=function(e,t,n,i,r){if(null==e.globalTouchDragCallbacks&&!vw)return new xw(e,t,n,i,r)}(kw,this,r,n,o);const a=ww(e,"drag-start",i,t,n);this.dispatch("drag-start",e,a)}dispatch(e,t,n){for(const i of this.getListenerSet(e))i(n,t);this.dispatchCallback(e,n)}},Cw=class{constructor(e){this.elem=e}setBounds(e){GM(this.elemContainer??this.elem,e)}getBounds(){return WM(this.elemContainer??this.elem)}static setElementContainer(e,t){GM(t,e.getBounds()),function(e,t){for(const[n,i]of yv(t))kv(e,n,i)}(e.elem,{width:"100%",height:"100%"}),e.elem.remove(),e.elemContainer=t,e.elemContainer.replaceChildren(e.elem)}},Dw=class extends Cw{constructor(){super(...arguments),this.index=NaN,this.children=[]}set id(e){Sv(this.elem,"id",e)}get id(){return wv(this.elem,"id")}getElement(){return this.elem}getBoundingClientRect(){return this.elem.getBoundingClientRect()}get clientWidth(){return this.elem.clientWidth}get clientHeight(){return this.elem.clientHeight}destroy(){this.destroyListener?.(),this.destroyListener=void 0,this.parent?.removeChild(this),this.children.forEach(e=>{e.parent=void 0,e.destroy()}),this.children.length=0,this.destructor(),this.remove(),this.internalListener?.destroy(),this.htmlListener?.destroy(this)}remove(){this.elem.remove(),this.elemContainer?.remove()}setHidden(e){kv(this.elem,"display",e?"none":void 0)}isHidden(){return"none"===yy()?.getComputedStyle?.(this.elem).display}setCursor(e){kv(this.elem,"cursor",e)}setTextContent(e){this.elem.textContent=e??null}setAriaDescribedBy(e){Sv(this.elem,"aria-describedby",e)}setAriaHidden(e){Sv(this.elem,"aria-hidden",e)}setAriaLabel(e){Sv(this.elem,"aria-label",e)}setAriaExpanded(e){Sv(this.elem,"aria-expanded",e)}setAriaControls(e){Sv(this.elem,"aria-controls",e)}setAriaHasPopup(e){Sv(this.elem,"aria-haspopup",e)}setInnerHTML(e){this.elem.innerHTML=e}setPointerEvents(e){kv(this.elem,"pointer-events",e)}isDisabled(){return wv(this.elem,"aria-disabled",!1)}hasPopup(){const e=wv(this.elem,"aria-haspopup");return void 0!==e&&"false"!==e}parseFloat(e){return""===e?0:parseFloat(e)}cssLeft(){return this.parseFloat(this.elem.style.left)}cssTop(){return this.parseFloat(this.elem.style.top)}cssWidth(){return this.parseFloat(this.elem.style.width)}cssHeight(){return this.parseFloat(this.elem.style.height)}focus(e){this.elem.focus(e)}setFocusOverride(e){Sv(this.elem,"data-focus-override",e)}setPreventsDefault(e){Sv(this.elem,"data-preventdefault",e)}setTabIndex(e){Sv(this.elem,"tabindex",e)}addChild(e){this.addChildToDOM(e,this.getBefore(e)),this.children.push(e),e.index=this.children.length-1,e.parent=this,this.onChildAdded(e)}removeChild(e){const t=this.children.findIndex(t=>t===e);this.children.splice(t,1),this.removeChildFromDOM(e),this.onChildRemoved(e)}moveChild(e,t){e.domIndex!==t&&(e.domIndex=t,this.removeChildFromDOM(e),this.addChildToDOM(e,this.getBefore(e)))}addClass(){this.elem.classList.add(...arguments)}removeClass(){this.elem.classList.remove(...arguments)}toggleClass(e,t){this.elem.classList.toggle(e,t)}appendOrInsert(e,t){t?t.getElement().insertAdjacentElement("beforebegin",e):this.elem.appendChild(e)}addChildToDOM(e,t){this.appendOrInsert(e.getElement(),t)}removeChildFromDOM(e){this.elem.removeChild(e.getElement())}onChildAdded(e){}onChildRemoved(e){}getBefore(e){let{domIndex:t}=e;if(void 0!==t)return this.children.filter(e=>void 0!==e.domIndex&&e.domIndex>t).reduce((e,t)=>!e||t.domIndex<e.domIndex?t:e,void 0)}addListener(e,t){return mw.isHTMLEvent(e)?(this.htmlListener??(this.htmlListener=new yw),this.htmlListener.add(e,this,t)):(this.internalListener??(this.internalListener=new Iw(this.onDispatch.bind(this))),this.internalListener.add(e,this,t)),()=>this.removeListener(e,t)}removeListener(e,t){mw.isHTMLEvent(e)?this.htmlListener?.remove(e,this,t):null!=this.htmlListener&&this.internalListener?.remove(e,this,t)}setDragTouchEnabled(e){this.internalListener??(this.internalListener=new Iw(this.onDispatch.bind(this))),this.internalListener.dragTouchEnabled=e}onDispatch(e,t){if(!t.sourceEvent?.bubbles)return;let{parent:n}=this;for(;null!=n;){const{internalListener:i}=n;if(null!=i){const r={...t,...mw.calcCurrentXY(n.getElement(),t)};i.dispatch(e,n,r)}n=n.parent}}static addWindowEvent(e,t){return xy(yy(),"pagehide",e=>{e.persisted||t()})}};var Aw=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.maxCacheSize=e,this.store=new Map}get(e){if(!this.store.has(e))return;const t=this.store.get(e);return this.store.delete(e),this.store.set(e,t),t}has(e){return this.store.has(e)}set(e,t){if(this.store.set(e,t),this.store.size>this.maxCacheSize){const e=this.store.keys();let t=this.store.size-this.maxCacheSize;for(;t>0;){const n=e.next();n.done||this.store.delete(n.value),t--}}return t}clear(){this.store.clear()}},Tw=class{static measureText(e,t){return this.getMeasurer(t).measureText(e)}static measureLines(e,t){return this.getMeasurer(t).measureLines(e)}static getMeasurer(e){const t=Nw.toFontString(e.font),n=`${t}-${e.textAlign??"start"}-${e.textBaseline??"top"}`;return this.instanceMap.get(n)??this.createFontMeasurer(t,e,n)}static clear(){this.instanceMap.clear()}static createFontMeasurer(e,t,n){const i=function(){return new OffscreenCanvas(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0).getContext("2d")}();i.font=e,i.textAlign=t.textAlign??"start",i.textBaseline=t.textBaseline??"top";const r=new Lw(i,t);return this.instanceMap.set(n,r),r}};Tw.instanceMap=new Aw(10);var Lw=class{constructor(e,t){this.ctx=e,this.measureMap=new Aw(100),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline),e.font=Nw.toFontString(t.font),this.textMeasurer=new Ew(e=>this.cachedCtxMeasureText(e),t.textBaseline??"alphabetic")}textWidth(e,t){return this.textMeasurer.textWidth(e,t)}measureText(e){return this.textMeasurer.measureText(e)}measureLines(e){return this.textMeasurer.measureLines(e)}cachedCtxMeasureText(e){if(!this.measureMap.has(e)){const t=this.ctx.measureText(e);this.measureMap.set(e,{actualBoundingBoxAscent:t.actualBoundingBoxAscent,emHeightAscent:t.emHeightAscent,emHeightDescent:t.emHeightDescent,actualBoundingBoxDescent:t.actualBoundingBoxDescent,actualBoundingBoxLeft:t.actualBoundingBoxLeft,actualBoundingBoxRight:t.actualBoundingBoxRight,alphabeticBaseline:t.alphabeticBaseline,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent,hangingBaseline:t.hangingBaseline,ideographicBaseline:t.ideographicBaseline,width:t.width})}return this.measureMap.get(e)}},Nw=class{static toFontString(e){let{fontSize:t=10,fontStyle:n,fontWeight:i,fontFamily:r}=e,o="";return n&&"normal"!==n&&(o+=`${n} `),i&&"normal"!==i&&400!==i&&(o+=`${i} `),o+=`${t}px`,o+=` ${r}`,o.trim()}static getLineHeight(e){return Math.ceil(e*this.defaultLineHeight)}static getHorizontalModifier(e){switch(e){case"left":case"start":default:return 0;case"center":return.5;case"right":case"end":return 1}}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return.5;default:return 1}}};Nw.EllipsisChar="\u2026",Nw.defaultLineHeight=1.15,Nw.lineSplitter=/\r?\n/g;var Ew=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"alphabetic";this.measureTextFn=e,this.textBaseline=t,this.charMap=new Map}getMetrics(e){const t=this.measureTextFn(e);return t.fontBoundingBoxAscent??(t.fontBoundingBoxAscent=t.emHeightAscent),t.fontBoundingBoxDescent??(t.fontBoundingBoxDescent=t.emHeightDescent),{width:t.width,height:t.actualBoundingBoxAscent+t.actualBoundingBoxDescent,lineHeight:t.fontBoundingBoxAscent+t.fontBoundingBoxDescent}}getMultilineMetrics(e){let t=0,n=0,i=0,r=0,o=0,a=0;const s=Nw.getVerticalModifier(this.textBaseline),l=[];let c=0;const u=e.length;for(const d of e){const e=this.measureTextFn(d);e.fontBoundingBoxAscent??(e.fontBoundingBoxAscent=e.emHeightAscent),e.fontBoundingBoxDescent??(e.fontBoundingBoxDescent=e.emHeightDescent),t<e.width&&(t=e.width),r<e.actualBoundingBoxLeft&&(r=e.actualBoundingBoxLeft),0===c?(n+=e.actualBoundingBoxAscent,i+=e.actualBoundingBoxAscent,a=e.alphabeticBaseline):o+=e.fontBoundingBoxAscent,c===u-1?n+=e.actualBoundingBoxDescent:o+=e.fontBoundingBoxDescent,l.push({text:d,width:e.width,height:e.actualBoundingBoxAscent+e.actualBoundingBoxDescent,lineHeight:e.fontBoundingBoxAscent+e.fontBoundingBoxDescent,offsetTop:e.actualBoundingBoxAscent,offsetLeft:e.actualBoundingBoxLeft}),c++}return n+=o,i+=o*s,{width:t,height:n,offsetTop:i,offsetLeft:r,alphabeticBaseline:a,lineMetrics:l}}textWidth(e,t){if(t){let t=0;for(let n=0;n<e.length;n++)t+=this.textWidth(e.charAt(n));return t}return e.length>1?this.measureTextFn(e).width:this.charMap.get(e)??this.charWidth(e)}measureText(e){return this.getMetrics(e)}measureLines(e){const t="string"===typeof e?e.split(Nw.lineSplitter):e;return this.getMultilineMetrics(t)}charWidth(e){const{width:t}=this.measureTextFn(e);return this.charMap.set(e,t),t}};function Ow(e){for(const t of["B","KB","MB","GB"]){if(e<1536)return`${e.toFixed(1)}${t}`;e/=1024}return`${e.toFixed(1)}TB}`}function Rw(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Sx.zero;if(!wx.check("scene:stats","scene:stats:verbose"))return;const{layersRendered:a=0,layersSkipped:s=0,nodesRendered:l=0,nodesSkipped:c=0,opsPerformed:u=0,opsSkipped:d=0}=i??{},h=performance.now(),{start:p,...g}=t,f=Object.entries(g).map(e=>{let[t,n]=e;return $w(t,n)}).filter(e=>null!=e).join(" + "),m=Object.entries(r).map(e=>{let[t,n]=e;return`${t}: ${JSON.stringify(n)}`}).join(" ; "),y=wx.check("scene:stats:verbose"),b=function(){if(!("memory"in performance))return;const{totalJSHeapSize:e,usedJSHeapSize:t,jsHeapSizeLimit:n}=performance.memory,i=[];for(const r of[t,e,n])"number"===typeof r&&i.push(Ow(r));return`Heap ${i.join(" / ")}`}(),v=[`${$w("\u23f1\ufe0f",p,h)} (${f})`,`${m}`,`Layers: ${y?Fw(a,s):e.size}`,y?`Nodes: ${Fw(l,c)}`:null,y?`Ops: ${Fw(u,d)}`:null,y&&b?b:null].filter(Ly),x=new Ew(e=>n.measureText(e)),S=new Map(v.map(e=>[e,x.measureLines(e)])),M=Math.max(...Array.from(S.values(),e=>e.width)),w=function(e,t){let n=0;for(const i of e)n+=t(i);return n}(S.values(),e=>e.height),k=2+o.x;n.save();try{n.fillStyle="white",n.fillRect(k,0,M,w),n.fillStyle="black";let e=0;for(const[t,i]of S.entries())e+=i.height,n.fillText(t,k,e)}catch(I){Gm.warnOnce("Error during debug stats rendering",I)}finally{n.restore()}}var Pw=new Set,jw=new Set(["gradient","zIndex","clipRect","cachedBBox","childNodeCounts","path","__zIndex","name","__scalingCenterX","__scalingCenterY","__rotationCenterX","__rotationCenterY","_previousDatum","__fill","__lineDash","borderPath","borderClipPath","_clipPath"]);function zw(e){const{...t}=e;for(const n of Object.keys(t))jw.has(n)||"number"!==typeof t[n]&&"string"!==typeof t[n]&&"boolean"!==typeof t[n]&&(Pw.add(n),delete t[n]);return t}function _w(e,t){if(!wx.check(!0,"scene"))return{};let n=0;return{node:"json"===t?zw(e):e,name:e.name??e.id,dirty:e instanceof PM?e.dirty:void 0,...Array.from(e instanceof PM?e.children():[],e=>_w(e,t)).reduce((e,t)=>{let{name:i}=t;const{node:{visible:r,opacity:o,zIndex:a,translationX:s,translationY:l,rotation:c,scalingX:u,scalingY:d},node:h}=t;(!r||o<=0)&&(i=`(${i})`),PM.is(h)&&h.renderToOffscreenCanvas&&(i=`*${i}*`);const p=Array.isArray(a)?`(${a.join(", ")})`:a,g=[`${(n++).toString().padStart(3,"0")}|`,`${i??"<unknown>"}`,`z: ${p}`,s&&`x: ${s}`,l&&`y: ${l}`,c&&`r: ${c}`,null!=u&&1!==u&&`sx: ${u}`,null!=d&&1!==d&&`sy: ${d}`].filter(e=>!!e).join(" ");let f=g,m=1;for(;null!=e[f]&&m<100;)f=`${g} (${m++})`;return e[f]=t,e},{})}}function Bw(e){const t=e instanceof PM?e.dirty:void 0;if(!t)return{dirtyTree:{},paths:[]};const n=Array.from(e instanceof PM?e.children():[],e=>Bw(e)).filter(e=>e.paths.length>0),i=PM.is(e)?e.name??e.id:e.id,r=n.length?n.flatMap(e=>e.paths).map(e=>`${i}.${e}`):[i];return{dirtyTree:{name:i,node:e,dirty:t,...n.map(e=>e.dirtyTree).filter(e=>null!=e.dirty).reduce((e,t)=>(e[t.name??"<unknown>"]=t,e),{})},paths:r}}function Fw(e,t){const n=e+t;return`${e} / ${n} (${Math.round(100*e/n)}%)`}function $w(e,t,n){const i=null!=n?n-t:t;return`${e}: ${Math.round(100*i)/100}ms`}var Vw=(e,t,n,i)=>{let{x0:r,y0:o,x1:a,y1:s,cx:l,cy:c}=t;if(i&&e.moveTo(r,o),r!==a||o!==s){const t=Math.atan2(o-c,r-l),i=Math.atan2(s-c,a-l);e.arc(l,c,n,t,i)}else e.lineTo(r,o)},Gw=class extends MM{constructor(){super(...arguments),this.path=new dM,this._clipX=NaN,this._clipY=NaN,this.clip=!1,this._dirtyPath=!0,this.lastPixelRatio=NaN}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty("path"))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}resetPathDirty(){this.path.clear(!0),this._dirtyPath=!1}isPathDirty(){return this.path.isDirty()}onChangeDetection(e){this._dirtyPath||(this._dirtyPath=!0,super.onChangeDetection(e))}computeBBox(){return this.updatePathIfDirty(),this.path.computeBBox()}isPointInPath(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)}distanceSquared(e,t){return this.distanceSquaredTransformedPoint(e,t)}svgPathData(e){return this.updatePathIfDirty(),this.path.toSVG(e)}distanceSquaredTransformedPoint(e,t){return this.updatePathIfDirty(),this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}updatePathIfDirty(){(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1)}preRender(e){return e.devicePixelRatio!==this.lastPixelRatio&&(this.dirtyPath=!0),this.lastPixelRatio=e.devicePixelRatio,this.updatePathIfDirty(),super.preRender(e,this.path.commands.length)}render(e){const{ctx:t}=e;if(!this.clip||isNaN(this._clipX)||isNaN(this._clipY))this._clipPath=void 0,this.drawPath(t);else{t.save();try{const e=this.strokeWidth/2;this._clipPath??(this._clipPath=new dM),this._clipPath.clear(),this._clipPath.rect(-e,-e,this._clipX+e,this._clipY+e+e),t.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t)}finally{t.restore()}}this.fillShadow?.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}toSVG(){if(!this.visible)return;const e=vy("path");e.setAttribute("d",this.svgPathData());const t=this.applySvgFillAttributes(e,[]);return this.applySvgStrokeAttributes(e),{elements:[e],defs:t}}};Gw.className="Path",px([Jx()],Gw.prototype,"clip",2),px([Jx()],Gw.prototype,"clipX",1),px([Jx()],Gw.prototype,"clipY",1);var Ww=1e-6,Hw=(e,t,n,i,r)=>{let o=!1,a=!1,s=i-Math.sqrt(Math.max(r**2-n**2,0)),l=0,c=0,u=n-Math.sqrt(Math.max(r**2-i**2,0));return s>e?(o=!0,s=e,l=n-Math.sqrt(Math.max(r**2-(i-e)**2))):s<Ww&&(s=0),u>t?(a=!0,c=i-Math.sqrt(Math.max(r**2-(n-t)**2)),u=t):u<Ww&&(u=0),{leading0:s,leading1:l,trailing0:c,trailing1:u,leadingClipped:o,trailingClipped:a}},Uw=(e,t,n,i,r,o,a)=>{let{topLeft:s,topRight:l,bottomRight:c,bottomLeft:u}=o;const d=Math.max(s+u,l+c),h=Math.max(s+l,u+c);if(d<=0&&h<=0)return void(null==a?e.rect(t,n,i,r):e.rect(a.x,a.y,a.width,a.height));if(null==a&&s===l&&s===c&&s===u)return void e.roundRect(t,n,i,r,s);if(i<0&&(t+=i,i=Math.abs(i)),r<0&&(n+=r,r=Math.abs(r)),i<=0||r<=0)return;if(null==a)a=new Sx(t,n,i,r);else{const e=Math.max(t,a.x),o=Math.min(t+i,a.x+a.width),s=Math.max(n,a.y),l=Math.min(n+r,a.y+a.height);a=new Sx(e,s,o-e,l-s)}const p=Math.max(d/r,h/i,1);p>1&&(s/=p,l/=p,c/=p,u/=p);let g,f,m,y,b=!0,v=!0,x=!0,S=!0;if(b){const e=Hw(a.height,a.width,Math.max(t+s-a.x,0),Math.max(n+s-a.y,0),s);e.leadingClipped&&(S=!1),e.trailingClipped&&(v=!1);g={x0:Math.max(a.x+e.leading1,a.x),y0:Math.max(a.y+e.leading0,a.y),x1:Math.max(a.x+e.trailing1,a.x),y1:Math.max(a.y+e.trailing0,a.y),cx:t+s,cy:n+s}}if(v){const e=Hw(a.width,a.height,Math.max(n+l-a.y,0),Math.max(a.x+a.width-(t+i-l),0),l);e.leadingClipped&&(b=!1),e.trailingClipped&&(x=!1);f={x0:Math.min(a.x+a.width-e.leading0,a.x+a.width),y0:Math.max(a.y+e.leading1,a.y),x1:Math.min(a.x+a.width-e.trailing0,a.x+a.width),y1:Math.max(a.y+e.trailing1,a.y),cx:t+i-l,cy:n+l}}if(x){const e=Hw(a.height,a.width,Math.max(a.x+a.width-(t+i-c),0),Math.max(a.y+a.height-(n+r-c),0),c);e.leadingClipped&&(v=!1),e.trailingClipped&&(S=!1);m={x0:Math.min(a.x+a.width-e.leading1,a.x+a.width),y0:Math.min(a.y+a.height-e.leading0,a.y+a.height),x1:Math.min(a.x+a.width-e.trailing1,a.x+a.width),y1:Math.min(a.y+a.height-e.trailing0,a.y+a.height),cx:t+i-c,cy:n+r-c}}if(S){const e=Hw(a.width,a.height,Math.max(a.y+a.height-(n+r-u),0),Math.max(t+u-a.x,0),u);e.leadingClipped&&(x=!1),e.trailingClipped&&(b=!1);y={x0:Math.max(a.x+e.leading0,a.x),y0:Math.min(a.y+a.height-e.leading1,a.y+a.height),x1:Math.max(a.x+e.trailing0,a.x),y1:Math.min(a.y+a.height-e.trailing1,a.y+a.height),cx:t+u,cy:n+r-u}}let M=!1;b&&null!=g&&(Vw(e,g,s,!M),M||(M=!0)),v&&null!=f&&(Vw(e,f,l,!M),M||(M=!0)),x&&null!=m&&(Vw(e,m,c,!M),M||(M=!0)),S&&null!=y&&Vw(e,y,u,!M),e.closePath()},Yw=class extends Gw{constructor(){super(...arguments),this.borderPath=new dM,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=this.strokeWidth,this.effectiveStrokeWidth=this.strokeWidth,this.hittester=super.isPointInPath.bind(this),this.distanceCalculator=super.distanceSquaredTransformedPoint.bind(this),this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||Boolean(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){const{path:e,borderPath:t,crisp:n,topLeftCornerRadius:i,topRightCornerRadius:r,bottomRightCornerRadius:o,bottomLeftCornerRadius:a}=this;let{x:s,y:l,width:c,height:u,strokeWidth:d,clipBBox:h}=this;const p=1/(this.layerManager?.canvas.pixelRatio??1);let g=1;if(e.clear(!0),t.clear(!0),0===c||0===u)return this.effectiveStrokeWidth=0,this.lastUpdatePathStrokeWidth=0,void(this.microPixelEffectOpacity=0);if(n&&(c<=p&&(g*=c/p),u<=p&&(g*=u/p),c=this.align(s,c),u=this.align(l,u),s=this.align(s),l=this.align(l),h=null!=h?new Sx(this.align(h.x),this.align(h.y),this.align(h.x,h.width),this.align(h.y,h.height)):void 0),d)if(c<p){const e=s+p/2;t.moveTo(e,l),t.lineTo(e,l+u),d=p,this.borderClipPath=void 0}else if(u<p){const e=l+p/2;t.moveTo(s,e),t.lineTo(s+c,e),d=p,this.borderClipPath=void 0}else if(d<c&&d<u){const n=d/2;s+=n,l+=n,c-=d,u-=d;const p=h?.clone().shrink(n),g={topLeft:i>0?i-d:0,topRight:r>0?r-d:0,bottomRight:o>0?o-d:0,bottomLeft:a>0?a-d:0};this.borderClipPath=void 0,c>0&&u>0&&(null==p||p?.width>0&&p?.height>0)&&(Uw(e,s,l,c,u,g,p),Uw(t,s,l,c,u,g,p))}else this.borderClipPath=this.borderClipPath??new dM,this.borderClipPath.clear(!0),this.borderClipPath.rect(s,l,c,u),t.rect(s,l,c,u);else{const t={topLeft:i,topRight:r,bottomRight:o,bottomLeft:a};this.borderClipPath=void 0,Uw(e,s,l,c,u,t,h)}if([i,r,o,a].every(e=>0===e)){const e=this.getBBox();this.hittester=e.containsPoint.bind(e),this.distanceSquared=(e,t)=>this.getBBox().distanceSquared(e,t)}else this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint;this.effectiveStrokeWidth=d,this.lastUpdatePathStrokeWidth=d,this.microPixelEffectOpacity=g}computeBBox(){const{x:e,y:t,width:n,height:i,clipBBox:r}=this;return r?.clone()??new Sx(e,t,n,i)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAndAlpha(e){super.applyFillAndAlpha(e),e.globalAlpha*=this.microPixelEffectOpacity}applyStrokeAndAlpha(e){super.applyStrokeAndAlpha(e),e.globalAlpha*=this.microPixelEffectOpacity}renderStroke(e){const{stroke:t,effectiveStrokeWidth:n}=this;if(t&&n){const{globalAlpha:t}=e,{lineDash:i,lineDashOffset:r,lineCap:o,lineJoin:a,borderPath:s,borderClipPath:l}=this;l&&e.clip(l.getPath2D()),this.applyStrokeAndAlpha(e),e.lineWidth=n,i&&e.setLineDash(i),r&&(e.lineDashOffset=r),o&&(e.lineCap=o),a&&(e.lineJoin=a),e.stroke(s.getPath2D()),e.globalAlpha=t}}};Yw.className="Rect",px([Jx()],Yw.prototype,"x",2),px([Jx()],Yw.prototype,"y",2),px([Jx()],Yw.prototype,"width",2),px([Jx()],Yw.prototype,"height",2),px([Jx()],Yw.prototype,"topLeftCornerRadius",2),px([Jx()],Yw.prototype,"topRightCornerRadius",2),px([Jx()],Yw.prototype,"bottomRightCornerRadius",2),px([Jx()],Yw.prototype,"bottomLeftCornerRadius",2),px([tS({equals:Dv})],Yw.prototype,"clipBBox",2),px([Jx()],Yw.prototype,"crisp",2);var Kw=!1,Zw=class e extends MM{constructor(t){super(t),this.x=0,this.y=0,this.lines=[],this.text=void 0,this.fontSize=e.defaultFontSize,this.fontFamily="sans-serif",this.textAlign="start",this.textBaseline="alphabetic",this.boxPadding=0,this.trimText=t?.trimText??!0}onTextChange(){if(this.richText?.clear(),this.textMap?.clear(),My(this.text))this.lines=[],this.richText??(this.richText=new PM),this.richText.setScene(this.scene),this.richText.append(this.text.map(()=>new e({trimText:!1})));else{const e=this.text?.split("\n")??[];this.lines=this.trimText?e.map(e=>e.trim()):e}}static computeBBox(e,t,n,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const{font:o,font:{fontSize:a},textAlign:s,textBaseline:l,lineHeight:c=(r?Nw.getLineHeight(a):void 0)}=i,{width:u,alphabeticBaseline:d,offsetLeft:h,offsetTop:p,height:g}=Tw.measureLines(e,r?{font:o,lineHeight:c,textAlign:"start",textBaseline:"top"}:i),f=null==c?g:c*e.length;let m;if(null==c)m=p;else if("alphabetic"===l){m=(c-a)/2-d}else m=Nw.getVerticalModifier(l)*f;const y=r?u*Nw.getHorizontalModifier(s):h;return new Sx(t-y,n-m,u,f)}computeBBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kw;if(this.generateTextMap(),this.textMap?.size){const e=Sx.merge(this.textMap.values());return e.x=this.x,e.y=this.y,e}const{x:n,y:i,lines:r,textBaseline:o,textAlign:a,lineHeight:s}=this,l=e.computeBBox(r,n,i,{font:this,textBaseline:o,textAlign:a,lineHeight:s},t);return null!=this.boxing&&l.grow(this.boxPadding),l}getBBox(){if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){Kw=!0;const e=this.computeBBox(!0);return Kw=!1,e}return super.getBBox()}getPlainText(){return $y(this.text)}getTextMeasureBBox(){return this.computeBBox()}isPointInPath(e,t){return this.getBBox()?.containsPoint(e,t)??!1}setScene(e){this.richText?.setScene(e),super.setScene(e)}generateTextMap(){if(!My(this.text)||this.textMap?.size)return;this.textMap??(this.textMap=new Map);let e=0,t=0,n=0;const i={fill:this.fill,fontSize:this.fontSize,fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight};for(const o of this.richText.children()){const{color:r,...a}=this.text[e++];o.x=0,o.y=0,o.setProperties(Bx({fill:r},a,i));const s=o.getBBox();this.textMap.set(o,s),n=Math.max(n,s.y+s.height/2+(o.lineHeight??Nw.getLineHeight(o.fontSize))),t+=s.x+s.width}let r=this.x-t/2;for(const[o,a]of this.textMap)o.x+=r,o.y+=n,r+=a.width}render(t){const{ctx:n,stats:i}=t;if(!this.text||!this.layerManager)return i&&(i.nodesSkipped+=1),super.render(t);if(My(this.text)){this.generateTextMap();const{width:e}=this.richText.getBBox();let i=0;switch(this.textAlign){case"left":case"start":i=e/2;break;case"right":case"end":i=e/-2}n.save(),n.translate(i,this.y),this.richText.render(t),n.restore()}else this.renderText(t);if(e.debug.check()&&!this.textMap?.size){const e=this.getBBox(!0);n.strokeStyle="red",n.lineWidth=1,n.strokeRect(e.x,e.y,e.width,e.height)}super.render(t)}markDirty(e){return this.textMap?.clear(),super.markDirty(e)}renderText(t){const{fill:n,stroke:i,strokeWidth:r}=this;if(!n&&(!i||!r)||!this.layerManager)return super.render(t);const{ctx:o}=t,a=Nw.toFontString(this);o.font!==a&&(o.font=a);const{fontSize:s,lineHeight:l=Nw.getLineHeight(s),textAlign:c,textBaseline:u}=this;if(o.textAlign=c,o.textBaseline=u,this.boxing){const n={font:this,textBaseline:u,textAlign:c,lineHeight:l},i=e.computeBBox(this.lines,this.x,this.y,n);if(0!==i.width&&0!==i.height){const{x:e,y:n,width:r,height:o}=i.grow(this.boxPadding);this.boxing.opacity=this.opacity,this.boxing.x=e,this.boxing.y=n,this.boxing.width=r,this.boxing.height=o,this.boxing.preRender(t),this.boxing.render(t)}}this.fillStroke(o)}executeFill(e){const{fontSize:t,lineHeight:n=Nw.getLineHeight(t),textBaseline:i,lines:r}=this,o="alphabetic"===i?0:Nw.getVerticalModifier(i)*n*(1-r.length);this.renderLines(o,n,(t,n,i)=>e.fillText(t,n,i))}executeStroke(e){const{fontSize:t,lineHeight:n=Nw.getLineHeight(t),textBaseline:i,lines:r}=this,o="alphabetic"===i?0:Nw.getVerticalModifier(i)*n*(1-r.length);this.renderLines(o,n,(t,n,i)=>e.strokeText(t,n,i))}renderLines(e,t,n){const{lines:i,x:r,y:o}=this;if(Number.isFinite(r)&&Number.isFinite(o)&&Number.isFinite(e)&&Number.isFinite(t))for(const a of i)n(a,r,o+e),e+=t}setFont(e){this.fontFamily=e.fontFamily,this.fontSize=e.fontSize,this.fontStyle=e.fontStyle,this.fontWeight=e.fontWeight}setAlign(e){this.textAlign=e.textAlign,this.textBaseline=e.textBaseline}setBoxing(e){const t=e.border?.enabled?e.border?.stroke:void 0;null!=e.fill||null!=t?(this.boxing??(this.boxing=new Yw({scene:this.scene})),this.boxing.fill=e.fill,this.boxing.fillOpacity=e.fillOpacity??1,this.boxing.cornerRadius=e.cornerRadius??0,this.boxing.stroke=t,this.boxing.strokeWidth=e.border?.strokeWidth??0,this.boxing.strokeOpacity=e.border?.strokeOpacity??1,this.boxPadding=e.padding??0):this.boxing&&(this.boxing.destroy(),this.boxing=void 0)}getBoxingProperties(){const{fill:e,fillOpacity:t,cornerRadius:n,stroke:i,strokeWidth:r,strokeOpacity:o}=this.boxing??{};return{border:{enabled:null!=i,stroke:i,strokeWidth:r,strokeOpacity:o},cornerRadius:n,fill:e,fillOpacity:t,padding:this.boxPadding}}toSVG(){if(!this.visible||!this.text)return;const e=vy("text");if(Ly(this.text))this.applySvgFillAttributes(e),SM(e,this),e.setAttribute("text-anchor",{center:"middle",left:"start",right:"end",start:"start",end:"end"}[this.textAlign??"start"]),e.setAttribute("alignment-baseline",this.textBaseline),e.setAttribute("x",String(this.x)),e.setAttribute("y",String(this.y)),e.textContent=this.text;else for(const t of this.text){const n=vy("tspan");SM(n,{fontSize:t.fontSize??this.fontSize,fontFamily:t.fontFamily??this.fontFamily,fontWeight:t.fontWeight??this.fontWeight,fontStyle:t.fontStyle??this.fontStyle}),this.applySvgFillAttributes(n),n.textContent=t.text,e.append(n)}return{elements:[e]}}};Zw.className="Text",Zw.debug=wx.create(!0,"scene:text"),Zw.defaultFontSize=10,px([Jx()],Zw.prototype,"x",2),px([Jx()],Zw.prototype,"y",2),px([eS({changeCb:e=>e.onTextChange()})],Zw.prototype,"text",2),px([Jx()],Zw.prototype,"fontStyle",2),px([Jx()],Zw.prototype,"fontWeight",2),px([Jx()],Zw.prototype,"fontSize",2),px([Jx()],Zw.prototype,"fontFamily",2),px([Jx()],Zw.prototype,"textAlign",2),px([Jx()],Zw.prototype,"textBaseline",2),px([Jx()],Zw.prototype,"lineHeight",2);var Xw=Zw,qw=class extends(TM(Xw)){},Qw=class extends(TM(NM(Xw))){},Jw=class{static wrapText(e,t){return this.wrapLines(e,t).join("\n")}static wrapLines(e,t){const n=this.textWrap(e,t);return"hide"===t.overflow&&n.some(e=>e.endsWith(Nw.EllipsisChar))?[]:n}static appendEllipsis(e){return e.replace(/[.,]{1,5}$/,"")+Nw.EllipsisChar}static truncateLine(e,t,n,i){const r=t.textWidth(Nw.EllipsisChar);let o=0,a=0;for(;a<e.length;a++){const i=t.textWidth(e.charAt(a));if(o+i>n)break;o+=i}if(e.length===a&&(!i||o+r<=n))return i?e+Nw.EllipsisChar:e;for(e=e.slice(0,a).trimEnd();e.length&&t.textWidth(e)+r>n;)e=e.slice(0,-1).trimEnd();return e+Nw.EllipsisChar}static textWrap(e,t){const n=e.split(Nw.lineSplitter),i=Tw.getMeasurer(t);if("never"===t.textWrap)return n.map(e=>this.truncateLine(e.trimEnd(),i,t.maxWidth));const r=[],o="hyphenate"===t.textWrap,a=null==t.textWrap||"on-space"===t.textWrap;for(const s of n){let e=s.trimEnd();if(""===e){r.push(e);continue}let n=0,l=0,c=0;for(;n<e.length;){const s=e.charAt(n);if(l+=i.textWidth(s)," "===s&&(c=n),l>t.maxWidth){if(0===n)break;const s=i.textWidth(e.slice(0,n+1));if(s<=t.maxWidth){l=s,n++;continue}if(c){const o=this.getWordAt(e,c+1),s=i.textWidth(o);if(s<=t.maxWidth){r.push(e.slice(0,c).trimEnd()),e=e.slice(c).trimStart(),n=0,l=0,c=0;continue}a&&s>t.maxWidth&&r.push(e.slice(0,c).trimEnd(),this.truncateLine(e.slice(c).trimStart(),i,t.maxWidth,!0))}else a&&r.push(this.truncateLine(e,i,t.maxWidth,!0));if(a){e="";break}const u=o?"-":"";let d=e.slice(0,n).trim();for(;d.length&&i.textWidth(d+u)>t.maxWidth;)d=d.slice(0,-1).trimEnd();if(r.push(d+u),!d.length){e="";break}e=e.slice(d.length).trimStart(),n=-1,l=0,c=0}n++}e&&r.push(e)}return this.avoidOrphans(r,i,t),this.clipLines(r,i,t)}static getWordAt(e,t){const n=e.indexOf(" ",t);return-1===n?e.slice(t):e.slice(t,n)}static clipLines(e,t,n){if(!n.maxHeight)return e;const{height:i,lineMetrics:r}=t.measureLines(e);if(i<=n.maxHeight)return e;for(let o=0,a=0;o<r.length;o++){const{lineHeight:i}=r[o];if(a+=i,a>n.maxHeight){if("hide"===n.overflow)return[];const i=e.slice(0,o||1),r=i.pop();return i.concat(this.truncateLine(r,t,n.maxWidth,!0))}}return e}static avoidOrphans(e,t,n){if(!1===n.avoidOrphans||e.length<2)return;const{length:i}=e,r=e[i-1],o=e[i-2];if(o.length<r.length)return;const a=o.lastIndexOf(" ");if(-1===a||a===o.indexOf(" ")||r.includes(" "))return;const s=o.slice(a+1);t.textWidth(r+s)<=n.maxWidth&&(e[i-2]=o.slice(0,a),e[i-1]=s+" "+r)}},ek={};hx(ek,{BASE_FONT_SIZE:()=>ik,CARTESIAN_AXIS_TYPE:()=>ak,CARTESIAN_POSITION:()=>ok,FONT_SIZE:()=>nk,FONT_SIZE_RATIO:()=>rk,POLAR_AXIS_SHAPE:()=>lk,POLAR_AXIS_TYPE:()=>sk});var tk,nk=(e=>(e[e.SMALLEST=8]="SMALLEST",e[e.SMALLER=10]="SMALLER",e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=14]="LARGE",e[e.LARGEST=17]="LARGEST",e))(nk||{}),ik=12,rk=((tk=rk||{})[tk.SMALLEST=8/ik]="SMALLEST",tk[tk.SMALLER=10/ik]="SMALLER",tk[tk.SMALL=12/ik]="SMALL",tk[tk.MEDIUM=13/ik]="MEDIUM",tk[tk.LARGE=14/ik]="LARGE",tk[tk.LARGEST=17/ik]="LARGEST",tk),ok=(e=>(e.TOP="top",e.TOP_RIGHT="top-right",e.TOP_LEFT="top-left",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.BOTTOM="bottom",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e))(ok||{}),ak=(e=>(e.CATEGORY="category",e.GROUPED_CATEGORY="grouped-category",e.ORDINAL_TIME="ordinal-time",e.UNIT_TIME="unit-time",e.TIME="time",e.NUMBER="number",e.LOG="log",e))(ak||{}),sk=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(sk||{}),lk=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(lk||{}),ck=class extends _S{constructor(){super(...arguments),this.id=Kv(this),this.node=new qw({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.padding=0,this.layoutStyle="block",this.truncated=!1}registerInteraction(e,t){return e.eventsHub.on("layout:complete",()=>this.updateA11yText(e,t))}computeTextWrap(e,t){const{text:n,padding:i,wrapping:r}=this;if(My(n))return;const o=Math.min(this.maxWidth??1/0,e)-2*i,a=this.maxHeight??t-2*i;if(!isFinite(o)&&!isFinite(a))return void(this.node.text=n);const s=Jw.wrapText(n??"",{maxWidth:o,maxHeight:a,font:this,textWrap:r});this.node.text=s,this.truncated=s.includes(Nw.EllipsisChar)}updateA11yText(e,t){const{proxyInteractionService:n}=e;if(this.enabled&&this.text){const i=OM.toCanvas(this.node);if(i){const{id:r}=this;this.proxyText??(this.proxyText=n.createProxyElement({type:"text",domManagerId:r,where:t})),this.proxyText.textContent=$y(this.text),this.proxyText.setBounds(i),this.proxyText.addListener("mousemove",t=>this.handleMouseMove(e,t)),this.proxyText.addListener("mouseleave",t=>this.handleMouseLeave(e,t))}}else this.proxyText?.destroy(),this.proxyText=void 0}handleMouseMove(e,t){if(null!=t&&this.enabled&&this.truncated){const{x:n,y:i}=OM.toCanvas(this.node),r=t.sourceEvent.offsetX+n,o=t.sourceEvent.offsetY+i;e.tooltipManager.updateTooltip(this.id,{canvasX:r,canvasY:o,showArrow:!1},[{type:"structured",title:$y(this.text)}])}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};ck.SMALL_PADDING=10,px([zS,lw("node","visible")],ck.prototype,"enabled",2),px([zS,lw("node")],ck.prototype,"text",2),px([zS,lw("node")],ck.prototype,"textAlign",2),px([zS,lw("node")],ck.prototype,"fontStyle",2),px([zS,lw("node")],ck.prototype,"fontWeight",2),px([zS,lw("node")],ck.prototype,"fontSize",2),px([zS,lw("node")],ck.prototype,"fontFamily",2),px([zS,lw("node","fill")],ck.prototype,"color",2),px([zS],ck.prototype,"spacing",2),px([zS],ck.prototype,"maxWidth",2),px([zS],ck.prototype,"maxHeight",2),px([zS],ck.prototype,"wrapping",2),px([zS],ck.prototype,"padding",2),px([zS],ck.prototype,"layoutStyle",2);var uk=(e=>(e.X="x",e.Y="y",e.Angle="angle",e.Radius="radius",e))(uk||{});function dk(e){switch(e){case"x":case"y":case"angle":case"radius":return!0;default:return!1}}var hk=class{constructor(){this.title=new ck,this.subtitle=new ck,this.footnote=new ck}positionCaptions(e){const{title:t,subtitle:n,footnote:i}=this,r=e.layoutBox.height/10;t.enabled&&(this.positionCaption("top",t,e.layoutBox,r),this.shrinkLayoutByCaption("top",t,e.layoutBox)),n.enabled&&(this.positionCaption("top",n,e.layoutBox,r),this.shrinkLayoutByCaption("top",n,e.layoutBox)),i.enabled&&(this.positionCaption("bottom",i,e.layoutBox,r),this.shrinkLayoutByCaption("bottom",i,e.layoutBox))}positionAbsoluteCaptions(e){const{title:t,subtitle:n,footnote:i}=this,{rect:r}=e.series;for(const o of[t,n,i])if("overlay"===o.layoutStyle)if("left"===o.textAlign)o.node.x=r.x+o.padding;else if("right"===o.textAlign){const e=o.node.getBBox();o.node.x=r.x+r.width-e.width-o.padding}}computeX(e,t){return"left"===e?t.x:"right"===e?t.x+t.width:t.x+t.width/2}positionCaption(e,t,n,i){const r=Math.max(Nw.getLineHeight(t.fontSize),i);t.node.x=this.computeX(t.textAlign,n)+t.padding,t.node.y=n.y+("top"===e?0:n.height)+t.padding,t.node.textBaseline=e,t.computeTextWrap(n.width,r)}shrinkLayoutByCaption(e,t,n){if("block"===t.layoutStyle){const i=t.node.getBBox(),{spacing:r=0}=t;"bottom"===e&&My(t.text)&&(t.node.y-=i.height,i.y-=i.height),n.shrink("top"===e?Math.ceil(i.y-n.y+i.height+r):Math.ceil(n.y+n.height-i.y+r),e)}}};px([zS],hk.prototype,"title",2),px([zS],hk.prototype,"subtitle",2),px([zS],hk.prototype,"footnote",2);var pk=["candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"],gk=class{constructor(e){this.chartService=e,this.mementoOriginatorKey="chartType"}createMemento(){let e=this.chartService.publicApi?.getOptions()?.chartType;return e??(e="candlestick"),e}guardMemento(e){return null==e||pk.includes(e)}restoreMemento(e,t,n){if(null==n)return;const i={chartType:n};this.chartService.publicApi?.updateDelta(i).catch(e=>Gm.error("error restoring state",e))}},fk="12.1.2",mk=Symbol("previous-memento-not-found"),yk=class{constructor(e){this.history=[],this.historyIndex=-1,this.originators=new Map,this.clearState=new Map,this.maxHistoryLength=100,this.debug=wx.create(!0,"history"),this.cleanup=new Nv,this.cleanup.register(e.on("series:undo",this.undo.bind(this)),e.on("series:redo",this.redo.bind(this)))}destroy(){this.cleanup.flush()}addMementoOriginator(e){this.originators.set(e.mementoOriginatorKey,e),this.clearState.set(e.mementoOriginatorKey,e.createMemento()),this.debugEvent("History add originator:",e.mementoOriginatorKey)}clear(){this.debug("History clear:",Object.keys(this.originators)),this.history=[],this.historyIndex=-1;for(const[e,t]of this.originators.entries())this.clearState.set(e,t.createMemento())}record(e){this.historyIndex<this.history.length-1&&(this.history=this.history.slice(0,this.historyIndex+1)),this.history.length>this.maxHistoryLength&&(this.history=this.history.slice(-this.maxHistoryLength));const t=new Map;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(const o of i){if(!this.originators.has(o.mementoOriginatorKey))throw new Error(`Originator [${o.mementoOriginatorKey}] has not been added to the HistoryManager.`);t.set(o.mementoOriginatorKey,o.createMemento())}this.history.push({label:e,mementos:t}),this.historyIndex=this.history.length-1,this.debugEvent(`History record: [${e}]`)}undo(){const e=this.history[this.historyIndex];if(e){for(const t of e.mementos.keys()){const e=this.findPreviousMemento(t);if(e===mk)throw new Error(`Could not find previous memento for [${t}].`);this.restoreMemento(t,e)}this.historyIndex-=1,this.debugEvent(`History undo: [${e.label}]`)}}redo(){const e=this.history[this.historyIndex+1];if(e){for(const[t,n]of e.mementos.entries())this.restoreMemento(t,n);this.historyIndex+=1,this.debugEvent(`History redo: [${e.label}]`)}}findPreviousMemento(e){for(let t=this.historyIndex-1;t>=0;t--)if(this.history[t].mementos.has(e))return this.history[t].mementos.get(e);return this.clearState.has(e)?this.clearState.get(e):mk}restoreMemento(e,t){this.originators.get(e)?.restoreMemento(fk,fk,t)}debugEvent(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.debug(...t,this.history.map((e,t)=>t===this.historyIndex?`** ${e.label} **`:e.label))}},bk=class e{constructor(e){this.version=e.split("-")[0]}save(){const e={version:this.version};for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of Object.values(n))e[r.mementoOriginatorKey]=this.encode(r,r.createMemento());return e}restore(e){if("object"===typeof e)if(null!=e)if("version"in e&&"string"===typeof e.version){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const t of n){const n=this.decode(t,e[t.mementoOriginatorKey]),i=[];if(!t.guardMemento(n,i)){const e=i.length>0?`\n\n${i.join("\n\n")}\n\n`:"";return void Gm.warnOnce(`Could not restore [${t.mementoOriginatorKey}] data, value was invalid, ignoring.${e}`,n)}t.restoreMemento(this.version,e.version,n)}}else Gm.warnOnce("Could not restore data, missing [version] string in object, ignoring.");else Gm.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");else Gm.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`)}encode(t,n){try{return JSON.parse(JSON.stringify(n,e.encodeTypes))}catch(Ym){throw new Error(`Failed to encode [${t.mementoOriginatorKey}] value [${Ym}].`,{cause:Ym})}}decode(t,n){if(null==n)return n;try{return JSON.parse(JSON.stringify(n),e.decodeTypes)}catch(Ym){throw new Error(`Failed to decode [${t.mementoOriginatorKey}] value [${Ym}].`,{cause:Ym})}}static encodeTypes(e,t){return wy(this[e])?{__type:"date",value:this[e].toISOString()}:t}static decodeTypes(e,t){return Cy(this[e])&&"__type"in this[e]&&"date"===this[e].__type?new Date(this[e].value):t}},vk=class{constructor(){this.caretaker=new bk(fk),this.state=new Map}setState(e,t){zx(this.state.get(e.mementoOriginatorKey),t)||this.setStateAndRestore(e,t)}setStateAndRestore(e,t){this.state.set(e.mementoOriginatorKey,t),this.restoreState(e)}restoreState(e){const{caretaker:t,state:n}=this;if(!n.has(e.mementoOriginatorKey))return;const i=n.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:i},e)}},xk=class{constructor(){this.cleanup=new Nv,this.destroyed=!1}destroy(){this.cleanup.flush(),this.destroyed=!0}},Sk=class e{constructor(e,t,n){this.element=e,this.topTabGuard=t,this.bottomTabGuard=n,this.cleanup=new Nv,this.guardTabIndex=0,this.hasFocus=!1,this.initTabGuard(this.topTabGuard,!1),this.initTabGuard(this.bottomTabGuard,!0),this.element.addEventListener("focus",()=>this.onFocus(),{capture:!0}),this.element.addEventListener("blur",e=>this.onBlur(e),{capture:!0})}set tabIndex(e){this.guardTabIndex=e,0===this.guardTabIndex?this.setGuardIndices(void 0):this.hasFocus||this.setGuardIndices(this.guardTabIndex)}destroy(){this.cleanup.flush()}initTabGuard(e,t){this.cleanup.register(xy(e,"focus",()=>this.onTab(e,t)))}setGuardIndices(e){const t=e;Sv(this.topTabGuard,"tabindex",t),Sv(this.bottomTabGuard,"tabindex",t)}onFocus(){this.hasFocus=!0,0!==this.guardTabIndex&&this.setGuardIndices(0)}onBlur(e){let{relatedTarget:t}=e;const{topTabGuard:n,bottomTabGuard:i}=this;this.hasFocus=!1,0!==this.guardTabIndex&&t!==n&&t!==i&&this.setGuardIndices(this.guardTabIndex)}onTab(e,t){if(0!==this.guardTabIndex){let n;0===e.tabIndex?(n=this.findExitTarget(!t),this.setGuardIndices(this.guardTabIndex)):n=this.findEnterTarget(t),n?.focus()}}static queryFocusable(e,t){const n=yy();return Array.from(e.querySelectorAll(t)).filter(e=>{if(e instanceof HTMLElement){const t=n.getComputedStyle(e);return"none"!==t.display&&"none"!==t.visibility}return!1})}findEnterTarget(t){const n=e.queryFocusable(this.element,'[tabindex="0"]');return n[t?n.length-1:0]}findExitTarget(t){const n=e.queryFocusable(my(),"[tabindex]").filter(e=>e.tabIndex>0).sort((e,t)=>e.tabIndex-t.tabIndex),{before:i,after:r}=e.findBeforeAndAfter(n,this.guardTabIndex);return t?i:r}static findBeforeAndAfter(e,t){let n,i,r=0,o=e.length-1;for(;r<=o;){const a=Math.floor((r+o)/2),s=e[a].tabIndex;if(s===t){n=e[a-1]||void 0,i=e[a+1]||void 0;break}s<t?(n=e[a],r=a+1):(i=e[a],o=a-1)}return{before:n,after:i}}};function Mk(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["Escape"];return xy(e,"keydown",e=>{Ak(e,...n)&&t(e)})}function wk(e,t){const n=xy(yy(),"mousedown",i=>{[0,2].includes(i.button)&&!Ik(e,i)&&(t(),n())});return n}function kk(e,t){const n=xy(yy(),"touchstart",i=>{Array.from(i.targetTouches).some(t=>!Ik(e,t))&&(t(),n())});return n}function Ik(e,t){return t.target instanceof Element&&null!=t.target.shadowRoot||t.target instanceof Node&&e.contains(t.target)}function Ck(e,t,n){const i=e=>{for(const n of t)Sv(n,"data-focus-visible-override",e)};return i(n),xy(e,"keydown",()=>i(!0),{once:!0})}function Dk(e){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)}function Ak(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Dk(e)&&n.some(t=>e.key===t)}function Tk(e,t,n){return xy(e,"keydown",e=>{Ak(e,n)&&t.focus()})}var Lk={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function Nk(e){const{orientation:t,buttons:n,wrapAround:i=!1,onEscape:r,onFocus:o,onBlur:a}=e,{nextKey:s,prevKey:l}=Lk[t],c=e=>{e.target&&"tabIndex"in e.target&&(n.forEach(e=>e.tabIndex=-1),e.target.tabIndex=0)},[u,d]=i?[n.length,n.length]:[0,1/0],h=new Nv;for(let p=0;p<n.length;p++){const e=n[(u+p-1)%d],t=n[p],i=n[(u+p+1)%d];h.register(xy(t,"focus",c),o&&xy(t,"focus",o),a&&xy(t,"blur",a),r&&Mk(t,r),e&&Tk(t,e,l),i&&Tk(t,i,s),xy(t,"keydown",e=>{Ak(e,s,l)&&e.preventDefault()})),t.tabIndex=0===p?0:-1}return h}var Ek=class{constructor(e,t,n){this.lastFocus=t,this.closeCallback=n,this.cleanup=new Nv,this.cleanup.register(wk(e,()=>this.close(!0)),kk(e,()=>this.close(!0)))}close(e){this.cleanup.flush(),this.closeCallback(),this.finishClosing(e)}finishClosing(e){this.cleanup.flush(),Sv(this.lastFocus,"aria-expanded",!1),e||this.lastFocus?.focus({preventScroll:!0}),this.lastFocus=void 0}};function Ok(e){const{sourceEvent:t,orientation:n,menu:i,buttons:r,closeCallback:o,overrideFocusVisible:a}=e,{nextKey:s,prevKey:l}=Lk[n],c=jk(t);Sv(c,"aria-expanded",!0);const u=new Ek(i,c,o),d=()=>u.close(),{cleanup:h}=u;return i.role="menu",i.ariaOrientation=n,h.merge(Nk({orientation:n,buttons:r,onEscape:d,wrapAround:!0})),i.tabIndex=-1,h.register(Mk(i,d),xy(i,"keydown",e=>{e.target!==i||e.key!==s&&e.key!==l||(e.preventDefault(),r[0]?.focus())})),r[0]?.focus({preventScroll:!0}),void 0!==a&&h.register(Ck(i,r,a)),u}function Rk(e,t){return n=>{if("true"===e.ariaDisabled)return n.preventDefault();t(n)}}function Pk(e){return"button"in e?0===e.button:Dk(e)&&("Space"===e.code||"Enter"===e.key)}function jk(e){if(e?.target instanceof HTMLElement&&"tabindex"in e.target.attributes)return e.target}function zk(e){return xy(e,"keydown",e=>{if(e.defaultPrevented)return;wv(e.target,"data-preventdefault",!0)&&Ak(e,"ArrowRight","ArrowLeft","ArrowDown","ArrowUp")&&e.preventDefault()})}var _k=class{constructor(e){this.callback=e,this.devicePixelRatio=yy("devicePixelRatio")??1,this.devicePixelRatioMediaQuery=void 0,this.devicePixelRatioListener=e=>{e.matches||(this.devicePixelRatio=yy("devicePixelRatio")??1,this.unregisterDevicePixelRatioListener(),this.registerDevicePixelRatioListener(),this.callback(this.pixelRatio))}}get pixelRatio(){return this.devicePixelRatio}observe(){this.registerDevicePixelRatioListener()}disconnect(){this.unregisterDevicePixelRatioListener()}unregisterDevicePixelRatioListener(){this.devicePixelRatioMediaQuery?.removeEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=void 0}registerDevicePixelRatioListener(){const e=yy("matchMedia")?.(`(resolution: ${this.pixelRatio}dppx)`);e?.addEventListener("change",this.devicePixelRatioListener),this.devicePixelRatioMediaQuery=e}},Bk=class{constructor(){let e;this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(e=>{let[t,n]=e;return this.observe(t,n)}),this.queuedObserveRequests=[],this.observeWindow()},"undefined"!==typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(e=>{for(const{target:t,contentRect:{width:n,height:i}}of e){const e=this.elements.get(t);this.checkSize(e,t,n,i)}})),this.pixelRatioObserver=new _k(()=>{clearTimeout(e),e=setTimeout(()=>this.checkPixelRatio(),0)}),this.documentReady="complete"===my("readyState"),this.documentReady?this.observeWindow():yy()?.addEventListener("load",this.onLoad)}destroy(){yy()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=void 0,this.pixelRatioObserver?.disconnect(),this.pixelRatioObserver=void 0}observeWindow(){this.pixelRatioObserver?.observe()}checkPixelRatio(){const e=this.pixelRatioObserver?.pixelRatio??1;for(const[t,n]of this.elements)if(null!=n.size&&n.size.pixelRatio!==e){const{width:i,height:r}=n.size;n.size={width:i,height:r,pixelRatio:e},n.cb(n.size,t)}}checkSize(e,t,n,i){if(e&&(n!==e.size?.width||i!==e.size?.height)){const r=this.pixelRatioObserver?.pixelRatio??1;e.size={width:n,height:i,pixelRatio:r},e.cb(e.size,t)}}observe(e,t){if(!this.documentReady)return void this.queuedObserveRequests.push([e,t]);this.elements.has(e)?this.removeFromQueue(e):this.resizeObserver?.observe(e);const n={cb:t};this.elements.set(e,n)}unobserve(e){this.resizeObserver?.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(t=>{let[n]=t;return n!==e})}},Fk=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),"undefined"!==typeof t&&super.set(e,t),delete this.cachedState,delete this.cachedValue,this}stateId(){return this.cachedState??(this.cachedState=Array.from(this.keys()).pop()??this.defaultState),this.cachedState}stateValue(){return this.cachedValue??(this.cachedValue=Array.from(this.values()).pop()??this.defaultValue),this.cachedValue}},$k=["styles","canvas","canvas-center","canvas-container","canvas-overlay","canvas-proxy","series-area","tooltip-container"],Vk=new Set(["styles","canvas-container","canvas","tooltip-container"]),Gk="ag-charts-wrapper--safe-horizontal",Wk="ag-charts-wrapper--safe-vertical",Hk=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas"}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],["canvas-center",{childElementType:"div"}],["series-area",{childElementType:"div"}],["tooltip-container",{childElementType:"div"}]]);var Uk={x:0,y:0,width:0,height:0,top:0,bottom:0,left:0,right:0,toJSON:()=>Uk};function Yk(e,t){const n=by("div");return n.className="ag-charts-tab-guard",e.insertAdjacentElement(t,n),n}var Kk=class e extends xk{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"normal";super(),this.eventsHub=e,this.chart=t,this.styleContainer=i,this.mode=r,this.anchorName=`--${Kv(this)}`,this.styles=new Map,this.pendingContainer=void 0,this.container=void 0,this.documentRoot=void 0,this.initiallyConnected=void 0,this.containerSize=void 0,this.sizeMonitor=new Bk,this.cursorState=new Fk("default"),this.minWidth=0,this.minHeight=0,this.element=this.initDOM(),this.rootElements=this.initRootElements(),this.rootElements.canvas.element.style.setProperty("anchor-name",this.anchorName);let o=!1;if(this.observer=function(e,t){if("undefined"===typeof IntersectionObserver)return;const n=new IntersectionObserver(n=>{for(const i of n)i.target===e&&t(i.intersectionRatio)},{root:e});return n.observe(e),n}(this.element,e=>{0!==e||o||this.eventsHub.emit("dom:hidden",null),o=0===e}),this.setSizeOptions(),this.updateContainerSize(),this.addStyles("ag-charts-community",'.ag-charts-wrapper,.ag-charts-wrapper:after,.ag-charts-wrapper:before,.ag-charts-wrapper *,.ag-charts-wrapper *:after,.ag-charts-wrapper *:before{box-sizing:border-box}.ag-charts-wrapper{--align-items: center;--justify-content: center;position:relative;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.ag-charts-wrapper--safe-horizontal{--justify-content: flex-start}.ag-charts-wrapper--safe-vertical{--align-items: flex-start}.ag-charts-tab-guard{width:0%;height:0%;position:absolute;pointer-events:none}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;pointer-events:auto;display:flex;align-items:var(--align-items);justify-content:var(--justify-content)}.ag-charts-canvas-container,.ag-charts-canvas{position:relative;user-select:none;-webkit-user-select:none}.ag-charts-canvas-container>*,.ag-charts-canvas>*{pointer-events:none}.ag-charts-canvas canvas{display:block}.ag-charts-series-area{outline:none;pointer-events:auto;position:absolute}.ag-charts-swapchain{top:0;left:0;outline:none;opacity:0;pointer-events:none;position:absolute;width:100%;height:100%}.ag-charts-swapchain:focus-visible{opacity:1}.ag-charts-canvas-proxy,.ag-charts-canvas-overlay{inset:0;pointer-events:none;position:absolute;user-select:none;-webkit-user-select:none}.ag-charts-canvas-overlay>*{position:absolute;pointer-events:auto}.ag-charts-theme-default,.ag-charts-theme-default-dark{--ag-charts-accent-color: #2196f3;--ag-charts-background-color: #fff;--ag-charts-border-color: #dddddd;--ag-charts-border-radius: 4px;--ag-charts-chart-background-color: #fff;--ag-charts-chart-padding: 20px;--ag-charts-focus-shadow: 0 0 0 3px #2196f3;--ag-charts-foreground-color: #181d1f;--ag-charts-font-family: Verdana, sans-serif;--ag-charts-font-size: 12px;--ag-charts-font-weight: 400;--ag-charts-popup-shadow: 0 0 16px rgba(0, 0, 0, .15);--ag-charts-subtle-text-color: #8c8c8c;--ag-charts-text-color: #181d1f;--ag-charts-chrome-background-color: #fafafa;--ag-charts-chrome-font-family: Verdana, sans-serif;--ag-charts-chrome-font-size: 12px;--ag-charts-chrome-font-weight: 400;--ag-charts-chrome-subtle-text-color: #8c8c8c;--ag-charts-chrome-text-color: #181d1f;--ag-charts-button-background-color: #fff;--ag-charts-button-border: 1px solid #dddddd;--ag-charts-button-font-weight: normal;--ag-charts-button-text-color: inherit;--ag-charts-input-background-color: #fff;--ag-charts-input-border: 1px solid #dddddd;--ag-charts-input-text-color: #181d1f;--ag-charts-menu-background-color: #fafafa;--ag-charts-menu-border: 1px solid #dddddd;--ag-charts-menu-text-color: #181d1f;--ag-charts-panel-background-color: #fafafa;--ag-charts-panel-text-color: #181d1f;--ag-charts-tooltip-background-color: #fafafa;--ag-charts-tooltip-border: 1px solid #dddddd;--ag-charts-tooltip-text-color: #181d1f;--ag-charts-tooltip-subtle-text-color: #8c8c8c;--ag-charts-crosshair-label-background-color: #fafafa;--ag-charts-crosshair-label-text-color: #181d1f;--ag-charts-spacing: 4px;--ag-charts-icon-size: 16px;--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 12%);--ag-charts-input-border-radius: var(--ag-charts-border-radius);--ag-charts-input-focus-border-color: var(--ag-charts-accent-color);--ag-charts-input-focus-text-color: var(--ag-charts-accent-color);--ag-charts-input-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-input-disabled-border-color: var(--ag-charts-border-color);--ag-charts-input-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-input-text-color) 50% );--ag-charts-input-placeholder-text-color: color-mix( in srgb, var(--ag-charts-input-background-color), var(--ag-charts-input-text-color) 60% );--ag-charts-button-border-radius: var(--ag-charts-border-radius);--ag-charts-button-focus-background-color: color-mix( in srgb, var(--ag-charts-button-background-color), var(--ag-charts-accent-color) 12% );--ag-charts-button-focus-border-color: var(--ag-charts-accent-color);--ag-charts-button-focus-text-color: var(--ag-charts-accent-color);--ag-charts-button-disabled-background-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-foreground-color) 6% );--ag-charts-button-disabled-border-color: var(--ag-charts-border-color);--ag-charts-button-disabled-text-color: color-mix( in srgb, var(--ag-charts-chrome-background-color), var(--ag-charts-chrome-text-color) 50% );--ag-charts-checkbox-background-color: color-mix( in srgb, var(--ag-charts-background-color), var(--ag-charts-foreground-color) 35% );--ag-charts-checkbox-checked-background-color: var(--ag-charts-accent-color);--ag-charts-tooltip-border-radius: var(--ag-charts-border-radius);--ag-charts-menu-border-radius: var(--ag-charts-border-radius);--ag-charts-chrome-font-size-small: var(--ag-charts-chrome-font-size);--ag-charts-chrome-font-size-medium: calc(var(--ag-charts-chrome-font-size) * (13 / 12));--ag-charts-chrome-font-size-large: calc(var(--ag-charts-chrome-font-size) * (14 / 12));--ag-charts-border: 1px solid var(--ag-charts-border-color);--ag-charts-focus-border: 1px solid var(--ag-charts-accent-color);--ag-charts-focus-border-shadow: 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%);--ag-charts-layer-menu: 6;--ag-charts-layer-ui-overlay: 5;--ag-charts-layer-tooltip: 4;--ag-charts-layer-toolbar: 3;--ag-charts-layer-crosshair: 2;--ag-charts-layer-annotations: 1}.ag-charts-theme-default-dark{--ag-charts-focus-color: color-mix(in srgb, var(--ag-charts-background-color), var(--ag-charts-accent-color) 22%)}.ag-chart-canvas-wrapper .ag-charts-theme-default{--ag-charts-border-radius: var(--ag-border-radius, 4px);--ag-charts-border: var(--ag-borders-critical, solid 1px) var(--ag-charts-border-color);--ag-charts-focus-shadow: var(--ag-focus-shadow, 0 0 0 3px var(--ag-charts-accent-color));--ag-charts-focus-border-shadow: var( --ag-focus-shadow, 0 0 0 3px color-mix(in srgb, transparent, var(--ag-charts-accent-color) 20%) )}.ag-charts-icon{display:block;width:20px;height:20px;speak:none;speak:never;mask:var(--icon) center / contain no-repeat;background-color:currentColor;transition:background-color .25s ease-in-out}.ag-charts-icon-align-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNyAxMGg2djFIN3pNNCA3aDEydjFINHptMSA2aDEwdjFINXoiLz48L3N2Zz4=)}.ag-charts-icon-align-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNNCAxMGg2djFINHptMC0zaDEydjFINHptMCA2aDEwdjFINHoiLz48L3N2Zz4=)}.ag-charts-icon-align-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTAgMTBoNnYxaC02ek00IDdoMTJ2MUg0em0yIDZoMTB2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-arrow-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1LjI5MyA0LjVIMTIuNXYtMUgxN3Y0aC0xVjUuMjA3bC05LjY0NiA5LjY0Ny0uNzA4LS43MDh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDE2YTIuNSAyLjUgMCAxIDEtNSAwIDIuNSAyLjUgMCAwIDEgNSAwbS0yLjUgMS41YTEuNSAxLjUgMCAxIDAgMC0zIDEuNSAxLjUgMCAwIDAgMCAzIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-arrow-down-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02IDhMMS41IDhMMTAgMThMMTguNSA4TDE0IDhMMTQgM0w2IDNMNiA4Wk03IDRMNyA5SDMuNjYyNDRMMTAgMTYuNDU2TDE2LjMzNzYgOUwxMyA5TDEzIDRMNyA0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-arrow-up-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNCAxMkgxOC41TDEwIDJMMS41IDEySDZMNi4wMDAwMiAxN0gxNFYxMlpNMTMgMTZWMTFIMTYuMzM3NkwxMCAzLjU0NDA1TDMuNjYyNDQgMTFIN0w3LjAwMDAyIDE2SDEzWiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-callout-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNC41MTRhMjYgMjYgMCAwIDAtMi4wMTcgMS41NGwtLjMxNC4yNmMtLjU1LjQ1Ny0xLjExNS45MjYtMS43NiAxLjQtLjY2OS40OTEtMS41NjItLjAxMi0xLjU2Mi0uOFYxNEg0LjVBMS41IDEuNSAwIDAgMSAzIDEyLjV6TTQuNSA0YS41LjUgMCAwIDAtLjUuNXY4YS41LjUgMCAwIDAgLjUuNWgxLjgzM3YzLjM3MmEzNiAzNiAwIDAgMCAxLjY3OC0xLjMzOGwuMzItLjI2NWEyNiAyNiAwIDAgMSAyLjIyNS0xLjY4NWwuMTI2LS4wODRIMTUuNWEuNS41IDAgMCAwIC41LS41di04YS41LjUgMCAwIDAtLjUtLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyAxdjNoMnYxMkg3djNINnYtM0g0VjRoMlYxek01IDVoM3YxMEg1ek0xMSAxNFY2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6bTEtN2gzdjZoLTN6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-close{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtNSA1IDEwIDEwTTUgMTUgMTUgNSIgc3Ryb2tlPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-comment-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy41MTMgMy45OTVhNi41IDYuNSAwIDAgMSA2LjA5OCAxMS40MWMtLjU4OC4zOTMtMS4yMTcuNTM2LTEuODI5LjU4NWExMyAxMyAwIDAgMS0xLjI3LjAxN0EyNyAyNyAwIDAgMCAxMCAxNkg0LjVhLjUuNSAwIDAgMS0uNS0uNVYxMHEwLS4yNDctLjAwNy0uNTEzYy0uMDA4LS40MTYtLjAxNi0uODU3LjAxNy0xLjI2OS4wNS0uNjEyLjE5Mi0xLjI0LjU4NS0xLjgzYTYuNSA2LjUgMCAwIDEgMi45MTgtMi4zOTNtMy41Ni42MWE1LjUgNS41IDAgMCAwLTUuNjQ2IDIuMzRjLS4yNjYuMzk3LS4zNzkuODQyLS40MiAxLjM1NC0uMDMuMzYtLjAyMi43MTgtLjAxNSAxLjEwOFE1IDkuNjg5IDUgMTB2NWg1cS4zMTEuMDAxLjU5My4wMDhjLjM5LjAwNy43NDcuMDE1IDEuMTA4LS4wMTUuNTEyLS4wNDEuOTU3LS4xNTQgMS4zNTUtLjQyYTUuNSA1LjUgMCAwIDAtMS45ODMtOS45NjciIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-crosshair-add-line{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-date-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMiAyaDF2MTZIMnptMTUgMGgxdjE2aC0xeiIgZmlsbD0iIzE4MUQxRiIvPjxwYXRoIGQ9Ik0xMy4xNTcgMTFINXYtMWg3Ljc5M0wxMSA4LjIwN2wuNzA3LS43MDcgMy4xODIgMy4xODItMy4xODIgMy4xODItLjcwNy0uNzA3eiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-date-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMyAySDJ2MTZoMXptMy41MDcgNC44OUw4LjUgNC44OTVWMTBINXYxaDMuNXY3aDF2LTdoNS4wODhsLTEuOTU3IDEuOTU3LjcwNy43MDcgMy4xODItMy4xODJMMTMuMzM4IDcuM2wtLjcwNy43MDdMMTQuNjI0IDEwSDkuNVY0LjkzMmwxLjk1NyAxLjk1Ny43MDctLjcwN0w4Ljk4MiAzIDUuOCA2LjE4MnoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-delete{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTguNDk2IDguOTk2QS41LjUgMCAwIDEgOSA5LjQ5MnY0YS41LjUgMCAxIDEtMSAuMDA4di00YS41LjUgMCAwIDEgLjQ5Ni0uNTA0TTEyIDkuNWEuNS41IDAgMCAwLTEgMHY0YS41LjUgMCAwIDAgMSAweiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTYgNVYzLjVBMi41IDIuNSAwIDAgMSA4LjUgMWgzQTIuNSAyLjUgMCAwIDEgMTQgMy41VjVoMi44MzNhLjUuNSAwIDAgMSAwIDFIMTV2MTAuMjVjMCAuNDE1LS4wNjYuODYzLS4zIDEuMjIxLS4yNTcuMzk0LS42NzIuNjEyLTEuMi42MTJoLTdjLS41MjggMC0uOTQzLS4yMTgtMS4yLS42MTItLjIzNC0uMzU4LS4zLS44MDYtLjMtMS4yMjFWNkgzLjMzM2EuNS41IDAgMCAxIDAtMXptMS0xLjVBMS41IDEuNSAwIDAgMSA4LjUgMmgzQTEuNSAxLjUgMCAwIDEgMTMgMy41VjVIN3pNNiAxNi4yNVY2aDh2MTAuMjVjMCAuMzM1LS4wNTkuNTU0LS4xMzguNjc1LS4wNTUuMDg1LS4xNC4xNTgtLjM2Mi4xNThoLTdjLS4yMjIgMC0uMzA3LS4wNzMtLjM2Mi0uMTU4LS4wOC0uMTIxLS4xMzgtLjM0LS4xMzgtLjY3NSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-disjoint-channel,.ag-charts-icon-disjoint-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTkuMDI4IDE3LjQ2YTIuMjUgMi4yNSAwIDAgMC00LjA5Mi0xLjg1bC05LjUxMS0yLjM3OGEyLjI1IDIuMjUgMCAxIDAtLjIyNS45NzRsOS40NzUgMi4zNjlhMi4yNTEgMi4yNTEgMCAwIDAgNC4zNTMuODg2bS0xLjY2Mi0xLjk2NWExLjI1IDEuMjUgMCAxIDEtLjg4NSAyLjMzOCAxLjI1IDEuMjUgMCAwIDEgLjg4NS0yLjMzOE00LjM0MyAxMy42NjlhMS4yNSAxLjI1IDAgMSAwLTIuMzM4LS44ODUgMS4yNSAxLjI1IDAgMCAwIDIuMzM4Ljg4NU0zLjk3IDguNzY5YTIuMjUgMi4yNSAwIDAgMCAxLjQ1NS0yLjExbDkuNTExLTIuMzc4YTIuMjUgMi4yNSAwIDEgMC0uMjYtLjk2NUw1LjIgNS42ODVhMi4yNSAyLjI1IDAgMSAwLTEuMjMgMy4wODRtLjM3My0yLjU0N2ExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjc1LTMuNDM4YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-drag-handle{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjcuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjxjaXJjbGUgY3g9IjEzLjc1IiBjeT0iNy43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iMTMuNzUiIGN5PSIxMS43NSIgcj0iLjc1IiBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii41Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjExLjc1IiByPSIuNzUiIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjUiLz48Y2lyY2xlIGN4PSI1Ljc1IiBjeT0iMTEuNzUiIHI9Ii43NSIgZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuNSIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA1aDEydjFIMnoiLz48Y2lyY2xlIGN4PSIxNS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4yNSIgY3k9IjE0LjUiIHI9IjEuNzUiIHN0cm9rZT0iIzAwMCIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik0xOCAxNUg2di0xaDEyem0wLTQuNUgydi0xaDE2eiIvPjwvc3ZnPg==)}.ag-charts-icon-fibonacci-retracement-trend-based-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJtNC45OTYgMTIuNjc0IDMuMjkxLTUuNzQzLjg2OC40OTctMy4yOTEgNS43NDN6Ii8+PGNpcmNsZSBjeD0iOS43NSIgY3k9IjUuNSIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC4zNTEiIGN5PSIxNC41IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiLz48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMTggNmgtN1Y1aDd6bTAgNC41aC03di0xaDd6bTAgNC41SDZ2LTFoMTJ6Ii8+PC9zdmc+)}.ag-charts-icon-fill-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtOC4wNzEgNC4wNi0uOTI0LS45MjQuNzA3LS43MDcgNy4yODggNy4yODgtNC45NSA0Ljk1YTMuNSAzLjUgMCAwIDEtNC45NSAwbC0xLjQxNC0xLjQxNGEzLjUgMy41IDAgMCAxIDAtNC45NXptLjcwNy43MDhMNC41MzYgOS4wMWEyLjUgMi41IDAgMCAwIDAgMy41MzZMNS45NSAxMy45NmEyLjUgMi41IDAgMCAwIDMuNTM1IDBsNC4yNDMtNC4yNDN6bTYuOSA3LjIwMi0uMzQ1LjM2My0uMzQ0LS4zNjNhLjUuNSAwIDAgMSAuNjg4IDBtLS4zNDUgMS4wOGE4IDggMCAwIDAtLjI4LjMyMyA0LjMgNC4zIDAgMCAwLS40MDkuNTgyYy0uMTEzLjIwMS0uMTQ0LjMyNi0uMTQ0LjM3OGEuODMzLjgzMyAwIDAgMCAxLjY2NyAwYzAtLjA1Mi0uMDMxLS4xNzctLjE0NC0uMzc4YTQuMyA0LjMgMCAwIDAtLjQxLS41ODIgOCA4IDAgMCAwLS4yOC0uMzIybS0uMzQ0LTEuMDguMzQ0LjM2My4zNDQtLjM2My4wMDIuMDAyLjAwNC4wMDQuMDEzLjAxMmE2IDYgMCAwIDEgLjIwNi4yMDhjLjEzMS4xMzYuMzA4LjMyNy40ODUuNTQ1LjE3Ni4yMTUuMzYzLjQ2Ny41MDcuNzI0LjEzNy4yNDMuMjczLjU1My4yNzMuODY4YTEuODMzIDEuODMzIDAgMSAxLTMuNjY3IDBjMC0uMzE1LjEzNi0uNjI1LjI3My0uODY4LjE0NC0uMjU3LjMzLS41MDkuNTA3LS43MjRhOSA5IDAgMCAxIC42NDUtLjcwOGwuMDQ2LS4wNDUuMDEzLS4wMTIuMDA0LS4wMDR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-hollow-candlestick-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1vcGFjaXR5PSIuMTUiIGQ9Ik01IDVoM3YxMEg1eiIvPjxwYXRoIGZpbGw9IiMxMzE3MjIiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTcgMXYzaDJ2MTJIN3YzSDZ2LTNINFY0aDJWMXpNNSA1aDN2MTBINXptNyAyaDN2NmgtM3ptLTEgN1Y2aDJWMy4yNWgxVjZoMnY4aC0ydjIuNzVoLTFWMTR6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-horizontal-line,.ag-charts-icon-horizontal-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNLjUgOS41aDcuMzA2YTIuMjUgMi4yNSAwIDAgMSA0LjM4OCAwSDE5LjV2MWgtNy4zMDZhMi4yNSAyLjI1IDAgMCAxLTQuMzg4IDBILjV6bTkuNSAxLjc1YTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTQuMjQyIDIuNzIyYy0uNjEyIDAtMS4yLjI0My0xLjYzMi42NzVsLTEuMzQzIDEuMzQ0YS41LjUgMCAwIDAtLjExMi4xMTJMNC4wNSAxMS45NTljLS4yMDcuMjA3LS4zNi40Ni0uNDQ2Ljc0di4wMDFsLS42OSAyLjc2N3YuMDAyYS44Mi44MiAwIDAgMCAxLjAyMiAxLjAyMWguMDAybDIuNjM0LS44MjJjLjI4LS4wODUuNTM0LS4yMzcuNzQtLjQ0M2w3LjEwNy03LjEwOGEuNS41IDAgMCAwIC4xMTItLjExMmwxLjM0My0xLjM0M2EyLjMwOCAyLjMwOCAwIDAgMC0xLjYzMi0zLjk0TTE0LjEyMiA3bDEuMDQ0LTEuMDQ1YTEuMzA4IDEuMzA4IDAgMSAwLTEuODQ5LTEuODVMMTIuMjcxIDUuMTV6bS0yLjU1OC0xLjE0Mi02LjgwNyA2LjgwOWEuOC44IDAgMCAwLS4xOTYuMzI1bC0uNzUgMi40NjggMi40Ny0uNzQ5YS44LjggMCAwIDAgLjMyNS0uMTk0bDYuODA4LTYuODF6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTcuMzYyIDQuODczLTQuNTk0IDYuNjU0LTQuODUtMy4zMTctNC4yNTEgNi45NzctLjg1NC0uNTJMNy42MTIgNi43OWw0Ljg5OSAzLjM1IDQuMDI4LTUuODM2eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-line-style-dashed{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDR2MUgyem0xMiAwaDR2MWgtNHpNOCA5aDR2MUg4eiIvPjwvc3ZnPg==)}.ag-charts-icon-line-style-dotted{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIyLjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iNC41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSI4LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTAuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48Y2lyY2xlIGN4PSIxMi41IiBjeT0iOS41IiByPSIuNSIgZmlsbD0iIzAwMCIvPjxjaXJjbGUgY3g9IjE0LjUiIGN5PSI5LjUiIHI9Ii41IiBmaWxsPSIjMDAwIi8+PGNpcmNsZSBjeD0iMTYuNSIgY3k9IjkuNSIgcj0iLjUiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-line-style-solid{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMiA5aDE2djFIMnoiLz48L3N2Zz4=)}.ag-charts-icon-line-with-markers-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTk4IDQuODg4LTMuNTU2IDQuOTE4YTIuMjUgMi4yNSAwIDEgMS0zLjg2Ni43NWwtMS40MzItLjlhMi4yNCAyLjI0IDAgMCAxLTIuMDA5LjQzNWwtMy44MjggNi40MjgtLjg2LS41MTJMNi40NSA5LjYyM2EyLjI1IDIuMjUgMCAxIDEgMy41MS0uNzYxbDEuMzI5LjgzNWEyLjI0IDIuMjQgMCAwIDEgMi41NTctLjQ5N2wzLjU0Mi00Ljg5OHptLTQuOTYgNS4xNTNhMS4yNSAxLjI1IDAgMSAwLS42NCAyLjQxOSAxLjI1IDEuMjUgMCAwIDAgLjY0LTIuNDE5TTkuMSA4LjMyMXEuMDY2LS4xOTIuMDY3LS40MDRhMS4yNSAxLjI1IDAgMSAwLS4wNjcuNDA0IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-lock,.ag-charts-icon-locked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuMjA3IDMuNzY0YTIuODk0IDIuODk0IDAgMCAwLTIuODk1IDIuODk0VjloNS43ODlWNi42NThhMi44OTQgMi44OTQgMCAwIDAtMi44OTUtMi44OTRNMTQuMSA5VjYuNjU4YTMuODk0IDMuODk0IDAgMSAwLTcuNzg5IDB2Mi4zNDlBMi41IDIuNSAwIDAgMCA0IDExLjV2M0EyLjUgMi41IDAgMCAwIDYuNSAxN2g4YTIuNSAyLjUgMCAwIDAgMi41LTIuNXYtM0EyLjUgMi41IDAgMCAwIDE0LjUgOXpNNi41IDEwQTEuNSAxLjUgMCAwIDAgNSAxMS41djNBMS41IDEuNSAwIDAgMCA2LjUgMTZoOGExLjUgMS41IDAgMCAwIDEuNS0xLjV2LTNhMS41IDEuNSAwIDAgMC0xLjUtMS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-measurer-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibTQuNDYxIDEyLjcxIDEuNTMyLTEuNTMxIDEuNDE0IDEuNDE0LjcwNy0uNzA3TDYuNyAxMC40NzJsMS41MzItMS41MzMgMiAyIC43MDctLjcwNy0yLTIgNi4wMS02LjAxIDIuODMgMi44MjhMNS4wNSAxNy43NzggMi4yMjIgMTQuOTVsMS41MzItMS41MzIgMS40MTQgMS40MTQuNzA3LS43MDd6TS44MDggMTQuOTVsLjcwNy0uNzA3TDE0LjI0MyAxLjUxNWwuNzA3LS43MDcuNzA3LjcwNyAyLjgyOCAyLjgyOC43MDcuNzA3LS43MDcuNzA3TDUuNzU3IDE4LjQ4NWwtLjcwNy43MDctLjcwNy0uNzA3LTIuODI4LTIuODI4em0xMS4wNzgtNi44MzVMMTAuNDcgNi43bC43MDctLjcwNyAxLjQxNSAxLjQxNHptLjgyNC0zLjY1NCAxIDEgLjcwOC0uNzA3LTEtMXoiIGZpbGw9IiMxODFEMUYiLz48L3N2Zz4=)}.ag-charts-icon-note-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMyA0LjVBMS41IDEuNSAwIDAgMSA0LjUgM2gxMUExLjUgMS41IDAgMCAxIDE3IDQuNXY4YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMy4yMWwtMS40NjkgMi41N2ExIDEgMCAwIDEtMS42ODIuMDg1TDcuMjQzIDE0SDQuNUExLjUgMS41IDAgMCAxIDMgMTIuNXpNNC41IDRhLjUuNSAwIDAgMC0uNS41djhhLjUuNSAwIDAgMCAuNS41aDMuMjU3bDIuMTk2IDMuMDc0TDExLjcxIDEzaDMuNzlhLjUuNSAwIDAgMCAuNS0uNXYtOGEuNS41IDAgMCAwLS41LS41eiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNi41IDYuNUEuNS41IDAgMCAxIDcgNmg2YS41LjUgMCAwIDEgMCAxSDdhLjUuNSAwIDAgMS0uNS0uNU02LjUgOS41QS41LjUgMCAwIDEgNyA5aDZhLjUuNSAwIDAgMSAwIDFIN2EuNS41IDAgMCAxLS41LS41IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-ohlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZD0iTTEzIDExaC0zdi0xaDNWM2gxdjJoNHYxaC00djExaC0xek02IDE3di0yaDN2LTFINlY0SDV2MUgydjFoM3YxMXoiLz48L3N2Zz4=)}.ag-charts-icon-pan-end{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0ibTYuNjQ2IDEzLjgxMy0uMzUzLjM1NC43MDcuNzA3LjM1NC0uMzU0ek0xMS4xNjYgMTBsLjM1NC4zNTQuMzU0LS4zNTQtLjM1NC0uMzU0ek03LjM1NSA1LjQ4IDcgNS4xMjZsLS43MDcuNzA3LjM1My4zNTR6bTAgOS4wNCA0LjE2Ni00LjE2Ni0uNzA3LS43MDgtNC4xNjcgNC4xNjd6bTQuMTY2LTQuODc0TDcuMzU0IDUuNDhsLS43MDguNzA3IDQuMTY3IDQuMTY3ek0xMy4wODMgNXYxMGgxVjV6Ii8+PC9zdmc+)}.ag-charts-icon-pan-left{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuNzkgNS44MzMgOC42MjUgMTBsNC4xNjYgNC4xNjctLjcwNy43MDdMNy4yMSAxMGw0Ljg3My00Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNy4yMSAxNC4xNjcgMTEuMzc2IDEwIDcuMjEgNS44MzNsLjcwNy0uNzA3TDEyLjc5IDEwbC00Ljg3MyA0Ljg3NHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-start{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgNXYxMGgxVjV6TTkuNjI0IDEwbDQuMTY2LTQuMTY3LS43MDctLjcwN0w4LjIxIDEwbDQuODc0IDQuODc0LjcwNy0uNzA3eiIvPjwvc3ZnPg==)}.ag-charts-icon-parallel-channel,.ag-charts-icon-parallel-channel-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTcuNzIgNS4zMzFBMi4yNSAyLjI1IDAgMSAwIDE0LjcwNSAzLjZsLTkuNDkgNC41NjJhMi4yNSAyLjI1IDAgMSAwIC4yMDkgMS4wMWw5LjY2Mi00LjY0NmEyLjI1IDIuMjUgMCAwIDAgMi42MzQuODA1bS4zNzMtMi41NDdhMS4yNSAxLjI1IDAgMSAxLTIuMzM4Ljg4NSAxLjI1IDEuMjUgMCAwIDEgMi4zMzgtLjg4NU00LjM0MyA4LjY3YTEuMjUgMS4yNSAwIDEgMS0yLjMzOC44ODUgMS4yNSAxLjI1IDAgMCAxIDIuMzM4LS44ODVNNS4zMDcgMTYuNzI4YTIuMjUgMi4yNSAwIDEgMS0uNTI1LS44NThsOS45MjMtNC43N2EyLjI1IDIuMjUgMCAxIDEgLjM4MS45MjZ6bS0uOTY0LjI3NGExLjI1IDEuMjUgMCAxIDEtMi4zMzguODg1IDEuMjUgMS4yNSAwIDAgMSAyLjMzOC0uODg1bTEzLjAyMy01LjEwNmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-position-bottom{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzem0zLTNoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTYgMTNoOHYxSDZ6Ii8+PC9zdmc+)}.ag-charts-icon-position-center{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBkPSJNMyAxMGgxNHYxSDN6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDdoOHYxSDZ6bTAgNmg4djFINnoiLz48L3N2Zz4=)}.ag-charts-icon-position-top{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsPSIjMDAwIiBmaWxsLW9wYWNpdHk9Ii4yNSIgZD0iTTMgMTBoMTR2MUgzeiIvPjxwYXRoIGZpbGw9IiMwMDAiIGQ9Ik02IDdoOHYxSDZ6Ii8+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1vcGFjaXR5PSIuMjUiIGQ9Ik02IDEzaDh2MUg2eiIvPjwvc3ZnPg==)}.ag-charts-icon-price-label-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNC41IDNBMS41IDEuNSAwIDAgMCAzIDQuNVYxM2ExLjUgMS41IDAgMCAwIDEuNSAxLjVoLjgzM3YuMDU3Yy4yNDItLjI5OS41OTctLjUwMyAxLS41NDhWMTMuNUg0LjVBLjUuNSAwIDAgMSA0IDEzVjQuNWEuNS41IDAgMCAxIC41LS41aDExYS41LjUgMCAwIDEgLjUuNXY4YS41LjUgMCAwIDEtLjUuNWgtNC44MThsLS4xMjYuMDg0YTI2IDI2IDAgMCAwLTIuMjI1IDEuNjg1bC0uMzIuMjY1LS4wNjguMDU2YTEuNSAxLjUgMCAwIDEtMi42MDkgMS4zNTRjLjAzMy43NjMuOTA1IDEuMjM4IDEuNTYuNzU2LjY0Ni0uNDc0IDEuMjEtLjk0MyAxLjc2MS0xLjRsLjMxMy0uMjZBMjYgMjYgMCAwIDEgMTAuOTg2IDE0SDE1LjVhMS41IDEuNSAwIDAgMCAxLjUtMS41di04QTEuNSAxLjUgMCAwIDAgMTUuNSAzeiIgY2xpcC1ydWxlPSJldmVub2RkIi8+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43MTYgMTQuODE1YTIuMjUgMi4yNSAwIDEgMS00LjIxIDEuNTkzIDIuMjUgMi4yNSAwIDAgMSA0LjIxLTEuNTkzbS0xLjY2MiAxLjk2NmExLjI1IDEuMjUgMCAxIDAtLjg4NS0yLjMzOSAxLjI1IDEuMjUgMCAwIDAgLjg4NSAyLjMzOSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-price-range-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS4wNDYgMTVWNS44NzdoLjk0MlYxNXoiIGZpbGw9IiMxODFEMUYiLz48cGF0aCBkPSJNOS41IDYuMjI4IDcuMTY3IDguMzc2IDYuNSA3Ljc2MiA5LjUgNWwzIDIuNzYyLS42NjcuNjE0eiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yIDE4di0xaDE2djF6TTIgM1YyaDE2djF6IiBmaWxsPSIjMTgxRDFGIi8+PC9zdmc+)}.ag-charts-icon-reset{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTIuMDQgNC40NDVhNS44MSA1LjgxIDAgMCAwLTcuMjU3IDIuNDUzLjUuNSAwIDAgMS0uODY1LS41MDJBNi44MSA2LjgxIDAgMSAxIDMgOS44MTNhLjUuNSAwIDAgMSAxIDAgNS44MSA1LjgxIDAgMSAwIDguMDQtNS4zNjgiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTQuMjg5IDMuMDAyYS41LjUgMCAwIDEgLjUuNXYyLjY1NWgyLjY1NWEuNS41IDAgMCAxIDAgMUg0LjI5YS41LjUgMCAwIDEtLjUtLjVWMy41MDJhLjUuNSAwIDAgMSAuNS0uNSIgY2xpcC1ydWxlPSJldmVub2RkIi8+PC9zdmc+)}.ag-charts-icon-settings{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkIj48cGF0aCBkPSJNMTAgMTNhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2bTAtMWEyIDIgMCAxIDEtLjAwMS0zLjk5OUEyIDIgMCAwIDEgMTAgMTIiLz48cGF0aCBkPSJNMi4zMSAxNC4zNDVjLS44MTctMS40OTEuMDI3LTIuNDk5LjQ3NC0yLjg2NS41MzEtLjQzNC45NjktLjM2NS45NzItMS40OC0uMDAzLTEuMTE1LS40NDEtMS4wNDYtLjk3Mi0xLjQ4MS0uNDU0LS4zNzEtMS4zMTctMS40MDUtLjQzNC0yLjkzNmwuMDA1LS4wMDljLjg4NC0xLjUyIDIuMjA3LTEuMjkgMi43NTUtMS4wODMuNjQxLjI0My44MDEuNjU2IDEuNzY4LjEwMS45NjQtLjU2LjY4Ni0uOTA0Ljc5Ni0xLjU4Mi4wOTQtLjU3OC41NTktMS44NDMgMi4zMjYtMS44NDNoLjAxYzEuNzU5LjAwNSAyLjIyMiAxLjI2NiAyLjMxNiAxLjg0My4xMS42NzgtLjE2OCAxLjAyMi43OTYgMS41ODIuOTY3LjU1NSAxLjEyNy4xNDIgMS43NjgtLjEwMS41NDktLjIwOCAxLjg3Ni0uNDM4IDIuNzYgMS4wOTJzLjAyIDIuNTY1LS40MzQgMi45MzZjLS41MzEuNDM1LS45NjkuMzY2LS45NzIgMS40ODEuMDAzIDEuMTE1LjQ0MSAxLjA0Ni45NzIgMS40OC40NTQuMzcyIDEuMzE3IDEuNDA2LjQzNCAyLjkzN2wtLjAwNS4wMDljLS44ODQgMS41Mi0yLjIwNyAxLjI5LTIuNzU1IDEuMDgzLS42NDEtLjI0My0uODAxLS42NTYtMS43NjgtLjEwMS0uOTY0LjU2LS42ODYuOTA0LS43OTYgMS41ODEtLjA5NC41NzktLjU1OSAxLjg0NC0yLjMyNiAxLjg0NGgtLjAxYy0xLjc1OS0uMDA1LTIuMjIyLTEuMjY2LTIuMzE2LTEuODQ0LS4xMS0uNjc3LjE2OC0xLjAyMS0uNzk2LTEuNTgxLS45NjctLjU1NS0xLjEyNy0uMTQyLTEuNzY4LjEwMS0uNTQ5LjIwOC0xLjg3Ni40MzgtMi43Ni0xLjA5MmwtLjAyLS4wMzZ6TTkuOTg0IDIuMTYySDEwYzEuMzU1IDAgMS4zNDIgMS4wMzkgMS4zNTMgMS40MjUuMDA4LjMxMi4wNCAxLjE2IDEuMjU5IDEuODcybC4wMTUuMDA4YzEuMjI1LjcgMS45NzYuMzA0IDIuMjUxLjE1NS4zMzctLjE4MyAxLjIyNi0uNzExIDEuOTAyLjQ0NWwuMDA4LjAxNGMuNjc4IDEuMTczLS4yMjkgMS42ODItLjU1OCAxLjg4NC0uMjY2LjE2My0uOTg0LjYxNS0uOTkxIDIuMDI3di4wMTZjLjAwNyAxLjQxMi43MjUgMS44NjQuOTkxIDIuMDI3LjMyOC4yMDEgMS4yMjkuNzA3LjU2NiAxLjg3bC0uMDA4LjAxNGMtLjY3NyAxLjE3NC0xLjU3MS42NDMtMS45MS40NTktLjI3NS0uMTQ5LTEuMDI2LS41NDUtMi4yNTEuMTU0bC0uMDE1LjAwOWMtMS4yMTkuNzEyLTEuMjUxIDEuNTYtMS4yNTkgMS44NzItLjAxMS4zODYuMDAyIDEuNDI1LTEuMzUzIDEuNDI1cy0xLjM0Mi0xLjAzOS0xLjM1My0xLjQyNWMtLjAwOC0uMzEyLS4wNC0xLjE2LTEuMjU5LTEuODcybC0uMDE1LS4wMDljLTEuMjI1LS42OTktMS45NzYtLjMwMy0yLjI1MS0uMTU0LS4zMzYuMTgzLTEuMjE5LjcwNi0xLjg5NC0uNDMybC0uMDE2LS4wMjdjLS42NzgtMS4xNzQuMjI5LTEuNjgyLjU1OC0xLjg4NC4yNjYtLjE2My45ODQtLjYxNS45OTEtMi4wMjd2LS4wMTZjLS4wMDctMS40MTItLjcyNS0xLjg2NC0uOTkxLTIuMDI3LS4zMjgtLjIwMS0xLjIyOS0uNzA3LS41NjYtMS44N2wuMDA4LS4wMTRjLjY3Ny0xLjE3NCAxLjU3MS0uNjQzIDEuOTEtLjQ1OS4yNzUuMTQ5IDEuMDI2LjU0NSAyLjI1MS0uMTU1bC4wMTUtLjAwOGMxLjIxOS0uNzEyIDEuMjUxLTEuNTYgMS4yNTktMS44NzIuMDEtLjM4NC0uMDAyLTEuNDE3IDEuMzM3LTEuNDI1Ii8+PC9zdmc+)}.ag-charts-icon-step-line-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzE4MUQxRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNiA0aDV2OGgzVjhoNXYxaC00djRoLTVWNUg3djEwSDJ2LTFoNHoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-text-annotation{--icon: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00IDRIMTZWN0gxNVY1SDEwLjVWMTVIMTRWMTZINlYxNUg5LjVWNUg1VjdINFY0WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==)}.ag-charts-icon-trend-line,.ag-charts-icon-trend-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS4zMTQgMTAuOTM4YTIuMjUgMi4yNSAwIDEgMSAuMDEtMWg5LjM1MmEyLjI1IDIuMjUgMCAxIDEgLjAxIDF6bS0yLjE4OS43MjlhMS4yNSAxLjI1IDAgMSAwIDAtMi41IDEuMjUgMS4yNSAwIDAgMCAwIDIuNW0xMy43NSAwYTEuMjUgMS4yNSAwIDEgMCAwLTIuNSAxLjI1IDEuMjUgMCAwIDAgMCAyLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock,.ag-charts-icon-unlocked{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNjUxIDMuNWEyLjg5NCAyLjg5NCAwIDAgMC0yLjg5NCAyLjg5NFY5SDE0LjVhMi41IDIuNSAwIDAgMSAyLjUgMi41djNhMi41IDIuNSAwIDAgMS0yLjUgMi41aC04QTIuNSAyLjUgMCAwIDEgNCAxNC41di0zQTIuNSAyLjUgMCAwIDEgNi41IDloLjI1N1Y2LjM5NGEzLjg5NCAzLjg5NCAwIDEgMSA3Ljc4OSAwIC41LjUgMCAwIDEtMSAwQTIuODk0IDIuODk0IDAgMCAwIDEwLjY1IDMuNU02LjUgMTBBMS41IDEuNSAwIDAgMCA1IDExLjV2M0ExLjUgMS41IDAgMCAwIDYuNSAxNmg4YTEuNSAxLjUgMCAwIDAgMS41LTEuNXYtM2ExLjUgMS41IDAgMCAwLTEuNS0xLjV6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-vertical-line,.ag-charts-icon-vertical-line-drawing{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMTAuNSA3LjgwNmEyLjI1IDIuMjUgMCAwIDEgMCA0LjM4OFYxOS41aC0xdi03LjMwNmEyLjI1IDIuMjUgMCAwIDEgMC00LjM4OFYuNWgxem0tLjUuOTQ0YTEuMjUgMS4yNSAwIDEgMSAwIDIuNSAxLjI1IDEuMjUgMCAwIDEgMC0yLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-zoom-in{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTEwIDUuNWEuNS41IDAgMCAxIC41LjV2My41aDMuODc1YS41LjUgMCAwIDEgMCAxSDEwLjV2NC4yNWEuNS41IDAgMSAxLTEgMFYxMC41SDUuNjI1YS41LjUgMCAxIDEgMC0xSDkuNVY2YS41LjUgMCAwIDEgLjUtLjUiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNS41IDEwYS41LjUgMCAwIDEgLjUtLjVoOGEuNS41IDAgMCAxIDAgMUg2YS41LjUgMCAwIDEtLjUtLjUiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-high-low-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNNyA0aDJ2MTJINFY0aDNNNSA1aDN2MTBINXpNMTEgMTRWNmg1djhoLTVtMS03aDN2NmgtM3oiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}.ag-charts-icon-hlc-series{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzEzMTcyMiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJtMTguMTYzIDEuODM3LTUuMzM0IDExLjYyMUw2Ljk1NyA4LjEybC00LjE5OSA5LjYyMi0uOTE2LS40IDQuNzU2LTEwLjlMMTIuNDkgMTEuOCAxNy4yNTQgMS40MnoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjxwYXRoIGZpbGw9IiMwMDAiIGZpbGwtb3BhY2l0eT0iLjQiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTUuODI1IDIuNzA0LjU1IDEzLjc4NWwuOTAyLjQzIDQuNzI0LTkuOTE5IDYuMDM0IDUuMDI5IDMuMjU1LTguMTQtLjkyOC0uMzctMi43NDUgNi44NnptNy44NTIgMTQuNjM2IDUuNzgtMTMuMTM5LS45MTUtLjQwMi01LjIxOSAxMS44Ni02LjAwNS01LjUwNC0zLjI3OCA3LjY0OC45Mi4zOTQgMi43MjItNi4zNTJ6IiBjbGlwLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ag-charts-icon-chevron-right{--icon: url(data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03LjQ3IDUuNDdhLjc1Ljc1IDAgMCAxIDEuMDYgMGw0IDRhLjc1Ljc1IDAgMCAxIDAgMS4wNmwtNCA0YS43NS43NSAwIDAgMS0xLjA2LTEuMDZMMTAuOTQgMTAgNy40NyA2LjUzYS43NS43NSAwIDAgMSAwLTEuMDYiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{--icon: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-input{--input-layer-active: 1;--input-layer-focus: 2;--input-padding: calc(var(--ag-charts-spacing) * 2);--input-padding-large: calc(var(--ag-charts-spacing) * 2.5);color:var(--ag-charts-input-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);transition-duration:.25s;transition-property:none;transition-timing-function:ease-out}.ag-charts-input:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--input-layer-focus)}.ag-charts-button{background:var(--ag-charts-button-background-color);border:var(--ag-charts-button-border);border-radius:var(--ag-charts-button-border-radius);color:var(--ag-charts-button-text-color);cursor:pointer;padding:var(--input-padding);transition-property:background,border-color}.ag-charts-button:hover{background:var(--ag-charts-focus-color)}.ag-charts-button:has(.ag-charts-icon){padding:2px}.ag-charts-checkbox{--checkbox-transition-duration: .1s;appearance:none;background:var(--ag-charts-checkbox-background-color);border-radius:calc(var(--ag-charts-border-radius) * 9);cursor:pointer;height:18px;margin:0;transition-duration:var(--checkbox-transition-duration);transition-property:margin;width:29px}.ag-charts-checkbox:before{display:block;background:var(--ag-charts-input-background-color);border-radius:calc(var(--ag-charts-border-radius) * 7);content:" ";height:14px;margin:2px;transition-duration:var(--checkbox-transition-duration);transition-property:margin;transition-timing-function:var(--ag-charts-input-transition-easing);width:14px}.ag-charts-checkbox:checked{background:var(--ag-charts-checkbox-checked-background-color)}.ag-charts-checkbox:checked:before{margin-left:13px}.ag-charts-select{background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);padding:3px 2px 4px;font-size:inherit}.ag-charts-textarea{--textarea-line-height: 1.38;background:var(--ag-charts-input-background-color);border:var(--ag-charts-input-border);border-radius:var(--ag-charts-input-border-radius);line-height:var(--textarea-line-height);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-large);padding:var(--input-padding-large) var(--input-padding)}.ag-charts-textarea::placeholder{color:var(--ag-charts-input-placeholder-text-color)}.ag-charts-proxy-container{pointer-events:none;position:absolute}.ag-charts-proxy-legend-toolbar{pointer-events:auto}.ag-charts-proxy-legend-toolbar>div[role=listitem]{pointer-events:none}.ag-charts-proxy-elem{-webkit-appearance:none;appearance:none;background:none;border:none;color:#0000;overflow:hidden;pointer-events:auto;position:absolute}.ag-charts-proxy-elem::-moz-range-thumb,.ag-charts-proxy-elem::-moz-range-track{opacity:0}.ag-charts-proxy-elem::-webkit-slider-runnable-track,.ag-charts-proxy-elem::-webkit-slider-thumb{opacity:0}.ag-charts-proxy-elem:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus-indicator{position:absolute;display:block;pointer-events:none;user-select:none;-webkit-user-select:none;width:100%;height:100%}.ag-charts-focus-indicator>div{position:absolute;outline:solid 1px var(--ag-charts-chrome-background-color);box-shadow:var(--ag-charts-focus-shadow)}.ag-charts-focus-indicator>svg{width:100%;height:100%;fill:none;overflow:visible}.ag-charts-focus-svg-outer-path{stroke:var(--ag-charts-chrome-background-color);stroke-width:4px}.ag-charts-focus-svg-inner-path{stroke:var(--ag-charts-accent-color);stroke-width:2px}.ag-charts-overlay{color:#181d1f;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay{color:#fff}.ag-charts-overlay--loading{color:#8c8c8c}.ag-charts-overlay__loading-background{background:#fff;pointer-events:none}.ag-charts-overlay.ag-charts-dark-overlay .ag-charts-overlay__loading-background{background:#192232}.ag-charts-tooltip{--tooltip-arrow-size: 8px;--tooltip-row-spacing: 8px;--tooltip-column-spacing: 16px;position:fixed;inset:unset;margin:0;padding:0;overflow:visible;top:var(--top, 0px);left:var(--left, 0px);width:max-content;max-width:100%;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);color:var(--ag-charts-tooltip-text-color);background:var(--ag-charts-tooltip-background-color);border:var(--ag-charts-tooltip-border);border-radius:var(--ag-charts-tooltip-border-radius);box-shadow:var(--ag-charts-popup-shadow)}.ag-charts-tooltip--compact .ag-charts-tooltip-content{--tooltip-row-spacing: 2px;--tooltip-column-spacing: 8px;padding:3px 6px}.ag-charts-tooltip--arrow-top:before,.ag-charts-tooltip--arrow-right:before,.ag-charts-tooltip--arrow-bottom:before,.ag-charts-tooltip--arrow-left:before{content:"";position:absolute;display:block;width:var(--tooltip-arrow-size);height:var(--tooltip-arrow-size);border:inherit;border-bottom-color:transparent;border-right-color:transparent;background:inherit;clip-path:polygon(0 0,100% 0,100% 1px,1px 100%,0 100%)}.ag-charts-tooltip--arrow-top:before{bottom:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * .5)) rotate(45deg)}.ag-charts-tooltip--arrow-bottom:before{top:100%;left:50%;transform:translate(-50%) translateY(calc(var(--tooltip-arrow-size) * -.5)) rotate(225deg)}.ag-charts-tooltip--arrow-left:before{right:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * .5)) rotate(315deg)}.ag-charts-tooltip--arrow-right:before{left:100%;top:50%;transform:translateY(-50%) translate(calc(var(--tooltip-arrow-size) * -.5)) rotate(135deg)}.ag-charts-tooltip--no-interaction{pointer-events:none;user-select:none;-webkit-user-select:none}.ag-charts-tooltip--wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-charts-tooltip--wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-charts-tooltip--wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-charts-tooltip--wrap-never{white-space:nowrap}.ag-charts-tooltip-heading,.ag-charts-tooltip-title,.ag-charts-tooltip-label,.ag-charts-tooltip-value{overflow:hidden;text-overflow:ellipsis}.ag-charts-tooltip-content{display:grid;grid:auto-flow minmax(1em,auto) / 1fr;padding:8px 12px;gap:var(--tooltip-row-spacing)}.ag-charts-tooltip-content:has(.ag-charts-tooltip-symbol){grid:auto-flow minmax(1em,auto) / auto 1fr}.ag-charts-tooltip-heading{grid-column:1 / -1}.ag-charts-tooltip-symbol{grid-column:1 / 2;place-self:center}.ag-charts-tooltip-symbol svg{display:block}.ag-charts-tooltip-title{grid-column:-2 / -1}.ag-charts-tooltip-row{grid-column:1 / -1;display:flex;gap:var(--tooltip-column-spacing);align-items:baseline;justify-content:space-between;overflow:hidden}.ag-charts-tooltip-row--inline{grid-column:-2 / -1}.ag-charts-tooltip-label{flex:1;min-width:0}.ag-charts-tooltip-value{min-width:0}.ag-charts-tooltip-footer{grid-column:1 / -1;color:var(--ag-charts-tooltip-subtle-text-color);text-align:center}.ag-charts-popover{position:absolute;border:var(--ag-charts-border);border-radius:var(--ag-charts-border-radius);background:var(--ag-charts-panel-background-color);color:var(--ag-charts-chrome-text-color);font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size);font-weight:var(--ag-charts-chrome-font-weight);box-shadow:var(--ag-charts-popup-shadow);z-index:var(--ag-charts-layer-ui-overlay)}.ag-charts-menu{--item-padding: 6px 12px;--icon-color: var(--ag-charts-menu-text-color);display:grid;grid:auto-flow auto / 1fr;column-gap:12px;font-size:var(--ag-charts-chrome-font-size)}.ag-charts-menu:has(.ag-charts-menu__icon,.ag-charts-menu__row--stroke-width-visible){grid:auto-flow auto / auto 1fr}.ag-charts-menu__row--stroke-width-visible:before{content:"";height:var(--strokeWidth);width:12px;background:var(--icon-color)}.ag-charts-menu__row--stroke-width-visible[aria-disabled=true]:before{filter:grayscale(1);opacity:.5}.ag-charts-menu__row{display:grid;grid-column:1 / -1;grid-template-columns:subgrid;align-items:center;padding:var(--item-padding)}.ag-charts-menu__row:not(.ag-charts-menu__row--active){cursor:pointer}.ag-charts-menu__row:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.ag-charts-menu__row:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.ag-charts-menu__row:focus{background:var(--ag-charts-focus-color)}.ag-charts-menu__row:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:var(--ag-charts-layer-menu)}.ag-charts-menu__row--active{--icon-color: var(--ag-charts-accent-color);background:var(--ag-charts-focus-color);color:var(--ag-charts-accent-color)}.ag-charts-menu__label{grid-column:-1 / span 1}.ag-charts-toolbar{--toolbar-gap: calc(var(--ag-charts-spacing) * 2);--toolbar-size: 34px;--toolbar-button-padding: 6px;align-items:center;display:flex;flex-wrap:nowrap;position:absolute}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-button-border);color:var(--ag-charts-button-text-color);cursor:pointer;display:flex;font-family:var(--ag-charts-chrome-font-family);font-size:var(--ag-charts-chrome-font-size-medium);font-weight:var(--ag-charts-chrome-font-weight);justify-content:center;min-height:var(--toolbar-size);min-width:var(--toolbar-size);padding:var(--toolbar-button-padding);position:relative;transition:background-color .25s ease-in-out,border-color .25s ease-in-out,color .25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:hover{background:var(--ag-charts-focus-color);z-index:1}.ag-charts-toolbar__button:focus-visible{outline:var(--ag-charts-focus-border);box-shadow:var(--ag-charts-focus-border-shadow);z-index:calc(var(--ag-charts-layer-ui-overlay) + 1)}.ag-charts-toolbar__button--active{background:var(--ag-charts-focus-color);border-color:var(--ag-charts-accent-color);color:var(--ag-charts-accent-color);z-index:2}.ag-charts-toolbar__button[aria-disabled=true]{background:var(--ag-charts-button-disabled-background-color);color:var(--ag-charts-button-disabled-text-color);cursor:default}.ag-charts-toolbar--horizontal{flex-direction:row;.ag-charts-toolbar__button{margin:0 0 0 -1px}.ag-charts-toolbar__button--first{border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-right-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar--vertical{flex-direction:column;.ag-charts-toolbar__button{margin:-1px 0 0;max-width:100%}.ag-charts-toolbar__button--first{border-top-left-radius:var(--ag-charts-border-radius);border-top-right-radius:var(--ag-charts-border-radius);margin:0}.ag-charts-toolbar__button--last{border-bottom-left-radius:var(--ag-charts-border-radius);border-bottom-right-radius:var(--ag-charts-border-radius)}}.ag-charts-toolbar__icon+.ag-charts-toolbar__label{margin-left:var(--toolbar-gap)}.ag-charts-toolbar__icon,.ag-charts-toolbar__label{pointer-events:none}.ag-charts-floating-toolbar{border:none;display:flex;.ag-charts-toolbar{align-items:unset;position:unset}}.ag-charts-floating-toolbar__drag-handle{align-items:center;background:var(--ag-charts-chrome-background-color);border:var(--ag-charts-border);border-bottom-left-radius:var(--ag-charts-border-radius);border-top-left-radius:var(--ag-charts-border-radius);cursor:grab;display:flex;justify-content:center;min-width:24px;padding-left:0;padding-right:0}.ag-charts-floating-toolbar__drag-handle--dragging{cursor:grabbing}\n'),this.setContainer(n),this.cleanup.register(zk(this.element)),"normal"===this.mode){const e=this.rootElements["canvas-center"].element;if(null==e)throw new Error("Error initializing tab guards");const t=Yk(e,"beforebegin"),n=Yk(e,"afterend");this.tabGuards=new Sk(e,t,n)}}initDOM(){if("normal"===this.mode){const e=by("div");return e.innerHTML='<div role="presentation" class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div role="presentation" class="ag-charts-canvas-center"><div role="presentation" class="ag-charts-canvas-container"><div role="presentation" class="ag-charts-canvas" aria-hidden="true"></div><div role="figure" class="ag-charts-canvas-proxy"><div role="presentation" class="ag-charts-series-area"></div></div><div role="presentation" class="ag-charts-canvas-overlay ag-charts-tooltip-container"></div></div></div></div>',e.firstChild}const e=by("div");e.role="presentation",e.dataset.agCharts="",e.classList.add("ag-charts-wrapper");const t=by("div");return e.appendChild(t),t.role="presentation",t.classList.add("ag-charts-series-area"),e}initRootElements(){const{mode:e,element:t}=this,n={};for(const i of $k){const r=`ag-charts-${i}`;let o;if(o="normal"===e?t.classList.contains(r)?t:t.getElementsByClassName(r)[0]:Vk.has(i)?t:t.getElementsByClassName(r)[0]??by("div"),null==o)throw new Error(`AG Charts - unable to find DOM element ${r}`);n[i]={element:o,children:new Map,listeners:[]}}return n}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),this.pendingContainer=void 0,Object.values(this.rootElements).forEach(e=>{e.children.forEach(e=>e.remove()),e.element.remove()}),this.element.remove()}postRenderUpdate(){"minimal"!==this.mode&&null!=this.pendingContainer&&this.pendingContainer!==this.container&&(0===e.batchedUpdateContainer.length&&yy().setTimeout(this.applyBatchedUpdateContainer.bind(this),0),e.batchedUpdateContainer.push(this))}applyBatchedUpdateContainer(){for(const t of e.batchedUpdateContainer)t.destroyed||t.updateContainer();e.batchedUpdateContainer.splice(0)}setSizeOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;const{style:r}=this.element;r.width=`${n??e}px`,r.height=`${i??t}px`,this.minWidth=n??e,this.minHeight=i??t,this.updateContainerClassName()}updateContainerSize(){const{style:e}=this.rootElements["canvas-center"].element;e.visibility=null==this.containerSize?"hidden":"",this.containerSize?(e.width=`${this.containerSize.width??0}px`,e.height=`${this.containerSize.height??0}px`):(e.width="",e.height=""),this.updateContainerClassName()}setTabGuardIndex(e){this.tabGuards&&(this.tabGuards.tabIndex=e)}setContainer(e){e!==this.container&&(this.pendingContainer=e,"minimal"!==this.mode&&null!=this.container||this.updateContainer())}updateContainer(){const{pendingContainer:e}=this;if(null!=e&&e!==this.container){if(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),null!=this.documentRoot)for(const e of this.rootElements.styles.children.keys())this.removeChild("styles",e);this.container=e,this.pendingContainer=void 0,this.documentRoot=this.getShadowDocumentRoot(e),this.initiallyConnected=e.isConnected;for(const[e,t]of this.styles)this.addStyles(e,t);e.appendChild(this.element),this.sizeMonitor.observe(e,e=>{this.containerSize=e,this.updateContainerSize(),this.eventsHub.emit("dom:resize",null)}),this.eventsHub.emit("dom:container-change",null)}}setThemeClass(e){this.element.classList.forEach(t=>{t.startsWith("ag-charts-theme-")&&t!==e&&this.element.classList.remove(t)}),this.element.classList.add(e)}setThemeParameters(e){for(const[t,n]of yv(e)){let e=`${n}`;t.endsWith("Size")||t.endsWith("Radius")?e=`${n}px`:t.endsWith("Border")&&"boolean"===typeof n&&(e=n?"var(--ag-charts-border)":"none"),this.element.style.setProperty(`--ag-charts-${By(t)}`,e)}}updateCanvasLabel(e){Sv(this.rootElements["canvas-proxy"].element,"aria-label",e)}getEventElement(e,t){return["focus","blur","keydown","keyup"].includes(t)?this.rootElements["series-area"].element:e}addEventListener(e,t,n){return xy(this.getEventElement(this.element,e),e,t,n)}removeEventListener(e,t,n){this.getEventElement(this.element,e).removeEventListener(e,t,n)}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getOverlayClientRect(){const e=yy(),t=new Sx(0,0,e.innerWidth,e.innerHeight),n=this.getRawOverlayClientRect();return t.intersection(n)?.toDOMRect()??Uk}getRawOverlayClientRect(){let e=this.element;const t=this.element.getRootNode()?.fullscreenElement;for(;null!=e;){let n;if(null!=t&&e===t)n=!0;else{const t=e.computedStyleMap?.(),i=t?.get("overflow-y")?.toString();n="auto"===i||"scroll"===i}if(n)return Sx.fromDOMRect(e.getBoundingClientRect());e=e.parentElement}if(null!=this.documentRoot)return Sx.fromDOMRect(this.documentRoot.getBoundingClientRect());const{innerWidth:n,innerHeight:i}=yy();return new Sx(0,0,n,i)}getShadowDocumentRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;const t=e?.ownerDocument?.body??my("body");for(;null!=e;){if(e===t)return;if(e.parentNode instanceof DocumentFragment)return e;e=e.parentNode}}getParent(e){return this.rootElements[e].element}getChildBoundingClientRect(e){const{children:t}=this.rootElements[e],n=[];for(const i of t.values())n.push(Sx.fromDOMRect(i.getBoundingClientRect()));return Sx.merge(n)}isManagedChildDOMElement(e,t,n){const{children:i}=this.rootElements[t],r=i?.get(n);return null!=r&&e.contains(r)}contains(e,t){return null==t?this.element.contains(e):this.rootElements[t].element.contains(e)}addStyles(t,n){const i="data-ag-charts";if(this.styles.set(t,n),null==this.container)return;const r=e=>e.getAttribute(i)===t,o=e=>{const t=new Set(["TITLE","META"]);let n,o=!0;for(const s of e.children)if(o&&t.has(s.tagName))n=s;else{if(o=!1,r(s))return;s.hasAttribute(i)&&(n=s)}const a=by("style");return null!=this.chart.styleNonce&&(a.nonce=this.chart.styleNonce),null==n?e.prepend(a):e.insertBefore(a,n.nextSibling),a};let a;this.styleContainer?a=o(this.styleContainer):!1===this.initiallyConnected?a=this.addChild("styles",t):null!=this.documentRoot||e.headStyles.has(t)?null!=this.documentRoot&&(a=this.addChild("styles",t)):(a=o(my("head")),e.headStyles.add(t)),null==a||r(a)||(a.setAttribute(i,t),a.innerHTML=n)}removeStyles(e){this.removeChild("styles",e)}updateCursor(e,t){this.cursorState.set(e,t),this.element.style.cursor=this.cursorState.stateValue()}getCursor(){return this.element.style.cursor}addChild(e,t,n,i){const{element:r,children:o,listeners:a}=this.rootElements[e];if(!o)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(o.has(t))return o.get(t);const{childElementType:s="div"}=Hk.get(e)??{};if(n&&n.tagName.toLowerCase()!==s.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");const l=n??by(s);for(const[c,u,d]of a)l.addEventListener(c,u,d);if(o.set(t,l),"style"===s&&null!=this.chart.styleNonce&&(l.nonce=this.chart.styleNonce),i){const e=r.querySelector(i.query);if(null==e)throw new Error(`AG Charts - addChild query failed ${i.query}`);e.insertAdjacentElement(i.where,l)}else r?.appendChild(l);return l}removeChild(e,t){const{children:n}=this.rootElements[e];n&&(n.get(t)?.remove(),n.delete(t))}incrementDataCounter(e){const{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}setDataBoolean(e,t){this.element.dataset[e]=String(t)}updateContainerClassName(){const{element:e,containerSize:t,minWidth:n,minHeight:i}=this;e.classList.toggle(Gk,n>=(t?.width??1/0)),e.classList.toggle(Wk,i>=(t?.height??1/0))}};Kk.batchedUpdateContainer=[],Kk.headStyles=new Set;var Zk=Kk,Xk=class extends Dw{constructor(){super(by("div")),this.textElement=vy("text"),this.textElement.role="presentation",this.svgElement=vy("svg"),this.svgElement.appendChild(this.textElement),this.svgElement.style.width="100%",this.svgElement.style.opacity="0",this.svgElement.role="presentation",this.elem.appendChild(this.svgElement),this.elem.role="presentation"}set textContent(e){this.textElement.textContent=e;const t=this.textElement,n=t.getBBox?.();n&&this.svgElement.setAttribute("viewBox",`${n.x} ${n.y} ${n.width} ${n.height}`)}get textContent(){return this.textElement.textContent}destructor(){}},qk=class extends Dw{constructor(e,t){super(e),Sv(this.elem,"role",t),this.setEnabled(!0),this.addListener("keydown",e=>{let{sourceEvent:t}=e;Pk(t)&&(t.preventDefault(),this.htmlListener?.dispatch("click",this,{type:"click",device:"keyboard",sourceEvent:t}))})}destructor(){}setEnabled(e){Sv(this.elem,"aria-disabled",!e)}addListener(e,t){return super.addListener(e,(n,i)=>{("click"!==e&&"dblclick"!==e||!this.isDisabled())&&t(n,i)})}},Qk=class extends qk{constructor(){super(by("button"))}},Jk=class extends Dw{constructor(){super(by("div")),Sv(this.elem,"role","group")}destructor(){}},eI=class extends Dw{constructor(e,t){super(by("div")),this.focusedChildIndex=0,this.onChildFocus=(e,t)=>{const n=this.children[this.focusedChildIndex];this.focusedChildIndex=t.index,n?.setTabIndex(-1),t.setTabIndex(0)},this.onChildKeyDown=(e,t)=>{const n=this.orientation,[i,r]="both"===n?[Lk.horizontal,Lk.vertical]:[Lk[n],void 0];let o=-1;if(Dk(e.sourceEvent)){const n=e.sourceEvent.key;n===i.nextKey||n===r?.nextKey?o=t.index+1:n!==i.prevKey&&n!==r?.prevKey||(o=t.index-1)}this.children[o]?.focus()},Sv(this.elem,"role",t),this.orientation=e}get orientation(){return wv(this.elem,"aria-orientation")??"both"}set orientation(e){Sv(this.elem,"aria-orientation","both"!==e?e:void 0)}focus(){this.children[this.focusedChildIndex]?.focus()}clear(){this.focusedChildIndex=0;for(const e of this.children)this.removeChildListeners(e),e.parent=void 0;this.elem.textContent="",this.children.length=0}addChildListeners(e){e.addListener("focus",this.onChildFocus),e.addListener("keydown",this.onChildKeyDown)}removeChildListeners(e){e.removeListener("focus",this.onChildFocus),e.removeListener("keydown",this.onChildKeyDown)}onChildAdded(e){this.addChildListeners(e),e.setTabIndex(1===this.children.length?0:-1)}onChildRemoved(e){this.removeChildListeners(e);const{focusedChildIndex:t,children:n}=this,i=t===e.index;for(let r=0;r<n.length;r++){const e=n[r];e.index===t&&(this.focusedChildIndex=r),e.index=r}if(i){const e=n[t]??n[t-1];e?(this.focusedChildIndex=e.index,e.setTabIndex(0)):this.focusedChildIndex=0}}},tI=class extends eI{constructor(){super("both","list"),this.setHidden(!0)}destructor(){this.children.forEach(e=>e.getElement().parentElement.remove())}addChildToDOM(e,t){const n=by("div");Sv(n,"role","listitem"),kv(n,"position","absolute"),Dw.setElementContainer(e,n),this.appendOrInsert(n,t),this.setHidden(!1)}removeChildFromDOM(e){e.getElement().parentElement.remove(),this.setHidden(0===this.children.length)}setHidden(e){0===this.children.length&&(e=!0),super.setHidden(e)}},nI=class extends Dw{constructor(e){super(e)}destructor(){}},iI=new Intl.NumberFormat("en-US",{style:"percent"});function rI(e){return"number"===typeof e?sI(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:2):"string"===typeof e?e:String(e??"")}function oI(e){return iI.format(e)}var aI=(new Map).set(2,new Intl.NumberFormat("en-US",{maximumFractionDigits:2,useGrouping:!1}));function sI(e,t){let n=aI.get(t);return n||(n=new Intl.NumberFormat("en-US",{maximumFractionDigits:t,useGrouping:!1}),aI.set(t,n)),n.format(e)}var lI=class e extends Dw{constructor(){super(by("input")),this._step=e.STEP_ONE,this.orientation="both"}get step(){return this._step}set step(e){this._step=e,this.getElement().step=e.attributeValue}get keyboardStep(){return this._keyboardStep?.step??this._step}set keyboardStep(e){if(e!==this._keyboardStep?.step&&(void 0!==this._keyboardStep&&(this.removeListener("keydown",this._keyboardStep.onKeyDown),this.removeListener("keyup",this._keyboardStep.onKeyUp),this.removeListener("blur",this._keyboardStep.onBlur),this._keyboardStep=void 0),void 0!==e)){const t=()=>this.getElement().step=e.attributeValue,n=()=>this.getElement().step=this._step.attributeValue;this._keyboardStep={step:e,onKeyDown:t,onKeyUp:n,onBlur:n},this.addListener("keydown",this._keyboardStep.onKeyDown),this.addListener("keyup",this._keyboardStep.onKeyUp),this.addListener("blur",this._keyboardStep.onBlur)}}get orientation(){return wv(this.elem,"aria-orientation")??"both"}set orientation(t){Sv(this.elem,"aria-orientation","both"!==t?t:void 0),e.registerDefaultPreventers(this,t)}destructor(){}clampValueRatio(e,t){const n=this.getValueRatio(),i=Ev(e,n,t);return i!==n&&this.setValueRatio(i),i}setValueRatio(e,t){const{divider:n}=this.step,i=Math.round(1e4*e)/n,{ariaValueText:r=oI(i/n)}=t??{},o=this.getElement();o.value=`${i}`,o.ariaValueText=r}getValueRatio(){return this.getElement().valueAsNumber/this.step.divider}static registerDefaultPreventers(t,n){"both"===n?t.removeListener("keydown",e.onKeyDown):t.addListener("keydown",e.onKeyDown)}static onKeyDown(e,t){let n=[];const{orientation:i}=t;"horizontal"===i?n=["ArrowUp","ArrowDown"]:"vertical"===i&&(n=["ArrowLeft","ArrowRight"]),n.includes(e.sourceEvent.code)&&e.sourceEvent.preventDefault()}};lI.STEP_ONE={attributeValue:"1",divider:1},lI.STEP_HUNDRETH={attributeValue:"0.01",divider:100};var cI=lI,uI=class extends Qk{constructor(){super(),Sv(this.elem,"role","switch"),this.setChecked(!1)}setChecked(e){Sv(this.elem,"aria-checked",e)}},dI=class extends eI{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"horizontal","toolbar")}destructor(){}};function hI(e,t){return t.params?.type===e}function pI(e){const t={params:e,result:void 0};return t.result=function(e){if("button"===e)return new Qk;if("slider"===e)return new cI;if("toolbar"===e)return new dI;if("group"===e)return new Jk;if("list"===e)return new tI;if("region"===e)return new nI(by("div"));if("text"===e)return new Xk;if("listswitch"===e)return new uI;throw Error("AG Charts - error allocating meta")}(t.params.type),t}var gI=class{constructor(e,t,n){this.eventsHub=e,this.localeManager=t,this.domManager=n,this.cleanup=new Nv}destroy(){this.cleanup.flush()}addLocalisation(e){e(),this.cleanup.register(this.eventsHub.on("locale:change",e))}createProxyContainer(e){const t=pI(e),{params:n,result:i}=t,r=i.getElement();return this.domManager.addChild("canvas-proxy",n.domManagerId,r),r.classList.add(...n.classList,"ag-charts-proxy-container"),r.role=n.type,hI("toolbar",t)&&(t.result.orientation=t.params.orientation),this.addLocalisation(()=>{r.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),i}createProxyElement(e){const t=pI(e);if(hI("button",t)){const{params:e,result:n}=t,i=n.getElement();if(this.initInteract(e,n),"string"===typeof e.textContent)i.textContent=e.textContent;else{const{textContent:t}=e;this.addLocalisation(()=>{i.textContent=this.localeManager.t(t.id,t.params)})}this.setParent(t.params,t.result)}if(hI("slider",t)){const{params:e,result:n}=t,i=n.getElement();this.initInteract(e,n),i.type="range",i.role="presentation",i.style.margin="0px",this.addLocalisation(()=>{i.ariaLabel=this.localeManager.t(e.ariaLabel.id,e.ariaLabel.params)}),this.setParent(t.params,t.result)}if(hI("text",t)){const{params:e,result:n}=t;this.initElement(e,n),this.setParent(t.params,t.result)}if(hI("listswitch",t)){const{params:e,result:n}=t;this.initInteract(e,n),n.setTextContent(e.textContent),n.setChecked(e.ariaChecked),n.setAriaDescribedBy(e.ariaDescribedBy),this.setParent(t.params,t.result)}if(hI("region",t)){const{params:e,result:n}=t,i=n.getElement();this.initInteract(e,n),i.role="region",this.setParent(t.params,t.result)}return t.result}initElement(e,t){const n=t.getElement();return kv(n,"cursor",e.cursor),n.classList.toggle("ag-charts-proxy-elem",!0),n}initInteract(e,t){const{tabIndex:n,domIndex:i}=e,r=this.initElement(e,t);void 0!==n&&(r.tabIndex=n),void 0!==i&&(t.domIndex=i)}setParent(e,t){if("parent"in e)e.parent?.addChild(t);else{const n={where:e.where,query:".ag-charts-series-area"};this.domManager.addChild("canvas-proxy",e.domManagerId,t.getElement(),n),t.destroyListener=()=>{this.domManager.removeChild("canvas-proxy",e.domManagerId)}}}},fI={ariaInitSeriesArea:"interactive chart",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series",ariaAnnounceStandaloneChart:"chart, ${caption}",ariaAnnounceHierarchyChart:"hierarchy chart, ${caption}",ariaAnnounceGaugeChart:"gauge chart, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaDescriptionLegendItem:"Press Space or Enter to toggle visibility",ariaLabelAddHorizontalLine:"Add Horizontal Line",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelAnnotationSettingsDialog:"Annotation Settings",ariaLabelColor:"Color",ariaLabelColorPicker:"Color picker",ariaLabelColorPickerAlpha:"Transparency",ariaLabelColorPickerHue:"Hue",ariaLabelColorPickerMultiColor:"Multi Color",ariaLabelColorPickerPalette:"Palette",ariaLabelFinancialCharts:"Financial Charts",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number]",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelSettingsTabBar:"Settings",ariaLabelZoomToolbar:"Zoom",ariaRoleDescription2DSlider:"2D slider",ariaValueColorPalette:"s ${s}[percent0to2dp], v ${v}[percent0to2dp]",ariaValueColorPaletteFirstV:"v ${v}[percent0to2dp], s ${s}[percent0to2dp]",ariaValuePanRange:"${min}[percent0to2dp] to ${max}[percent0to2dp]",iconAltTextLineStyleSolid:"Solid",iconAltTextLineStyleDashed:"Long-dashed",iconAltTextLineStyleDotted:"Short-dashed",iconAltTextPositionTop:"Top",iconAltTextPositionCenter:"Center",iconAltTextPositionBottom:"Bottom",iconAltTextAlignLeft:"Left",iconAltTextAlignCenter:"Center",iconAltTextAlignRight:"Right",iconAltTextClose:"Close",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",overlayUnsupportedBrowser:"Incompatible browser version. Please upgrade your browser.",seriesHistogramTooltipFrequency:"Frequency",seriesHistogramTooltipSum:"${yName} (sum)",seriesHistogramTooltipCount:"${yName} (count)",seriesHistogramTooltipMean:"${yName} (mean)",toolbarSeriesTypeDropdown:"Chart Type",toolbarSeriesTypeOHLC:"OHLC",toolbarSeriesTypeHLC:"HLC",toolbarSeriesTypeHighLow:"High Low",toolbarSeriesTypeCandles:"Candles",toolbarSeriesTypeHollowCandles:"Hollow Candles",toolbarSeriesTypeLine:"Line",toolbarSeriesTypeLineWithMarkers:"Line with Markers",toolbarSeriesTypeStepLine:"Step Line",toolbarAnnotationsTrendLine:"Trend Line",toolbarAnnotationsFibonacciRetracement:"Fib Retracement",toolbarAnnotationsFibonacciRetracementTrendBased:"Fib Trend Based",toolbarAnnotationsHorizontalLine:"Horizontal Line",toolbarAnnotationsVerticalLine:"Vertical Line",toolbarAnnotationsParallelChannel:"Parallel Channel",toolbarAnnotationsDisjointChannel:"Disjoint Channel",toolbarAnnotationsClearAll:"Clear All",toolbarAnnotationsFillColor:"Fill Color",toolbarAnnotationsLineColor:"Line Color",toolbarAnnotationsLineStyle:"Line Style",toolbarAnnotationsLineStrokeWidth:"Line Stroke Width",toolbarAnnotationsSettings:"Settings",toolbarAnnotationsTextColor:"Text Color",toolbarAnnotationsTextSize:"Text Size",toolbarAnnotationsLock:"Lock",toolbarAnnotationsUnlock:"Unlock",toolbarAnnotationsDelete:"Delete",toolbarAnnotationsDragHandle:"Drag Toolbar",toolbarAnnotationsLineAnnotations:"Trend Lines",toolbarAnnotationsFibonacciAnnotations:"Fibonacci",toolbarAnnotationsTextAnnotations:"Text Annotations",toolbarAnnotationsShapeAnnotations:"Arrows",toolbarAnnotationsMeasurerAnnotations:"Measurers",toolbarAnnotationsCallout:"Callout",toolbarAnnotationsComment:"Comment",toolbarAnnotationsNote:"Note",toolbarAnnotationsText:"Text",toolbarAnnotationsArrow:"Arrow",toolbarAnnotationsArrowUp:"Arrow Up",toolbarAnnotationsArrowDown:"Arrow Down",toolbarAnnotationsDateRange:"Date Range",toolbarAnnotationsPriceRange:"Price Range",toolbarAnnotationsDatePriceRange:"Date and Price",toolbarAnnotationsQuickDatePriceRange:"Measure",toolbarRange1Month:"1M",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3M",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6M",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1Y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here",contextMenuResetZoom:"Reset zoom",dialogHeaderChannel:"Channel",dialogHeaderLine:"Line",dialogHeaderFibonacciRange:"Fib Retracement",dialogHeaderDateRange:"Date Range",dialogHeaderPriceRange:"Price Range",dialogHeaderDatePriceRange:"Date and Price",dialogHeaderText:"Text",dialogInputAlign:"Align",dialogInputColorPicker:"Color",dialogInputColorPickerAltText:"Text Color",dialogInputFillColorPicker:"Fill",dialogInputFillColorPickerAltText:"Fill Color",dialogInputExtendChannelStart:"Extend channel start",dialogInputExtendChannelEnd:"Extend channel end",dialogInputExtendLineStart:"Extend line start",dialogInputExtendLineEnd:"Extend line end",dialogInputExtendAbove:"Extend above",dialogInputExtendBelow:"Extend below",dialogInputExtendLeft:"Extend left",dialogInputExtendRight:"Extend right",dialogInputReverse:"Reverse",dialogInputShowFill:"Show Fill",dialogInputFontSize:"Size",dialogInputFontSizeAltText:"Font Size",dialogInputLineStyle:"Dash",dialogInputPosition:"Position",dialogInputStrokeWidth:"Weight",dialogInputStrokeWidthAltText:"Line Weight",dialogInputFibonacciBands:"Bands",dialogInputFibonacciBandsAltText:"Fibonacci Bands",inputTextareaPlaceholder:"Add Text",measurerDateRangeBars:"${value}[number] bars",measurerPriceRangeValue:"${value}[number]",measurerPriceRangePercent:"${value}[percent]",measurerVolume:"Vol ${value}",tooltipPaginationStatus:"${index}[number] of ${count}[number]"},mI=/\$\{(\w+)}(?:\[(\w+)])?/gi,yI={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}),percent0to2dp:new Intl.NumberFormat("en-US",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:2}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},bI=class{constructor(e){this.eventsHub=e,this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.eventsHub.emit("locale:change",null))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.eventsHub.emit("locale:change",null))}t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{localeText:n=fI,getLocaleText:i}=this,r=n[e];return i?.({key:e,defaultValue:r,variables:t})??(e=>{let{defaultValue:t,variables:n}=e;return t?.replaceAll(mI,(e,t,i)=>{const r=n[t],o=null!=i?yI[i]:null;return null!=i&&null==o&&Gm.warnOnce(`Format style [${i}] is not supported`),null!=o?o.format(r):"number"===typeof r?yI.number.format(r):r instanceof Date?yI.datetime.format(r):String(r)})})({key:e,defaultValue:r,variables:t})??e}},vI=class{constructor(e){this.enabled=!0,this.width=600,this.height=300;const{width:t,height:n,canvasElement:i,willReadFrequently:r=!1}=e;this.pixelRatio=e.pixelRatio??yy("devicePixelRatio")??1,this.element=i??by("canvas"),this.element.style.display="block",this.element.style.width=(t??this.width)+"px",this.element.style.height=(n??this.height)+"px",this.element.width=Math.round((t??this.width)*this.pixelRatio),this.element.height=Math.round((n??this.height)*this.pixelRatio),this.context=this.element.getContext("2d",{willReadFrequently:r}),this.onEnabledChange(),this.resize(t??0,n??0,this.pixelRatio),Ix(this.context)}drawImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.drawImage(this.context.canvas,t,n)}toDataURL(e){return this.element.toDataURL(e)}resize(e,t,n){if(!(e>0&&t>0))return;const{element:i,context:r}=this;i.width=Math.round(e*n),i.height=Math.round(t*n),r.setTransform(n,0,0,n,0,0),i.style.width=e+"px",i.style.height=t+"px",this.width=e,this.height=t,this.pixelRatio=n}clear(){kx(this)}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}reset(){this.context.reset(),this.context.verifyDepthZero?.()}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}};px([uw(e=>e.onEnabledChange())],vI.prototype,"enabled",2);var xI=class extends gy{constructor(){super(...arguments),this.cache=new Map,this.imageLoadingCount=0}loadImage(e,t){const n=this.cache.get(e);if(n?.image)return n.image;if(null!=n&&t)return void n.nodes.add(t);if(!t)return;const i={image:void 0,nodes:new Set([t])},r=new Image;return this.imageLoadingCount++,r.onload=()=>{i.image=r;for(const e of i.nodes)e.markDirty();i.nodes.clear(),this.imageLoadingCount--,this.emit("image-loaded",{uri:e})},r.onerror=()=>{this.imageLoadingCount--,i.nodes.clear(),this.emit("image-error",{uri:e})},r.src=e,this.cache.set(e,i),i.image}waitingToLoad(){return this.imageLoadingCount>0}destroy(){this.cache.forEach(e=>{e.nodes.clear()}),this.cache.clear()}},SI=class{constructor(e){this.canvas=e,this.debug=wx.create(!0,"scene"),this.layersMap=new Map,this.nextLayerId=0}get size(){return this.layersMap.size}resize(e,t,n){this.canvas.resize(e,t,n),this.layersMap.forEach(i=>{let{canvas:r}=i;return r.resize(e,t,n)})}addLayer(e){const{width:t,height:n,pixelRatio:i}=this.canvas,{name:r}=e,o=new Dx({width:t,height:n,pixelRatio:i});return this.layersMap.set(o,{id:this.nextLayerId++,name:r,canvas:o}),this.debug("Scene.addLayer() - layers",this.layersMap),o}removeLayer(e){this.layersMap.has(e)&&(this.layersMap.delete(e),e.destroy(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}clear(){for(const e of this.layersMap.values())e.canvas.destroy();this.layersMap.clear()}},MI=class extends gy{constructor(e){super(),this.debug=wx.create(!0,"scene"),this.id=Kv(this),this.imageLoader=new xI,this.root=null,this.pendingSize=null,this.isDirty=!1,this.cleanup=new Nv,this.updateDebugFlags(),this.canvas=new vI(e),this.layersManager=new SI(this.canvas),this.cleanup.register(this.imageLoader.on("image-loaded",()=>{this.emit("scene-changed",{})}),this.imageLoader.on("image-error",e=>{let{uri:t}=e;Gm.warnOnce(`Unable to load image ${t}`)}))}waitingForUpdate(){return this.imageLoader?.waitingToLoad()??!1}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}get pixelRatio(){return this.pendingSize?.[2]??this.canvas.pixelRatio}setContainer(e){const{element:t}=this.canvas;return t.parentElement?.removeChild(t),e.appendChild(t),this}setRoot(e){return this.root===e||(this.isDirty=!0,this.root?.setScene(),this.root=e,e&&(e.visible=!0,e.setScene(this))),this}updateDebugFlags(){wx.inDevelopmentMode(()=>lS._debugEnabled=!0)}clearCanvas(){this.canvas.clear()}attachNode(e){return this.appendChild(e),()=>this.removeChild(e)}appendChild(e){return this.root?.appendChild(e),this}removeChild(e){return this.root?.removeChild(e),this}download(e,t){!function(e,t){const n=my("body"),i=by("a",{display:"none"});i.href=e,i.download=t,n.appendChild(i),i.click(),setTimeout(()=>n.removeChild(i))}(this.canvas.toDataURL(t),e?.trim()??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t,n){return e=Math.round(e),t=Math.round(t),n??(n=this.pixelRatio),e>0&&t>0&&(e!==this.width||t!==this.height||n!==this.pixelRatio)&&(this.pendingSize=[e,t,n],this.isDirty=!0,!0)}render(e){const{debugSplitTimes:t={start:performance.now()},extraDebugStats:n,seriesRect:i}=e??{},{canvas:r,canvas:{context:o}={},root:a,pendingSize:s,width:l,height:c,pixelRatio:u}=this;if(!o)return;const d=performance.now();let h,p=!1;if(s&&(p=!0,this.layersManager.resize(...s),this.pendingSize=null),a&&!a.visible)return void(this.isDirty=!1);if(a instanceof PM&&(h=a.dirty),null!=a&&!1===h&&!this.isDirty)return this.debug.check()&&this.debug("Scene.render() - no-op",{tree:_w(a,"console")}),void Rw(this.layersManager,t,o,void 0,n,i);const g={ctx:o,width:l,height:c,devicePixelRatio:u,debugNodes:{}};wx.check("scene:stats:verbose")&&(g.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0,opsPerformed:0,opsSkipped:0}),function(e){const t=sv(yy("agChartsSceneDebug")),n=[];for(const i of t)"layout"===i?n.push("seriesRoot","legend","root",/.*Axis-\d+-axis.*/):n.push(i);e.debugNodeSearch=n}(g);let f=!1;if((!1!==h||p)&&(f=!0,r.clear()),a&&wx.check("scene:dirtyTree")){const{dirtyTree:e,paths:t}=Bw(a);wx.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:e,paths:t})}if(a&&f){if(a.visible&&a.preRender(g),this.debug.check()){const e=_w(a,"console");this.debug("Scene.render() - before",{canvasCleared:f,tree:e})}if(a.visible)try{o.save(),a.render(g),o.restore()}catch(m){throw this.canvas.reset(),m}}t["\u270d\ufe0f"]=performance.now()-d,o.verifyDepthZero?.(),this.isDirty=!1,Rw(this.layersManager,t,o,g.stats,n,i),function(e,t){e.save();try{for(const[n,i]of Object.entries(t)){const t=OM.toCanvas(i);t?(e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(t.x,t.y,t.width,t.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(n,t.x,t.y,t.width),e.fillText(n,t.x,t.y,t.width)):Gm.log(`Scene.render() - no bbox for debugged node [${n}].`)}}catch(m){Gm.warnOnce("Error during debug rendering",m)}finally{e.restore()}}(o,g.debugNodes),a&&this.debug.check()&&this.debug("Scene.render() - after",{tree:_w(a,"console"),canvasCleared:f})}toSVG(){const{root:e,width:t,height:n}=this;if(null!=e)return lS.toSVG(e,t,n)}strip(){const{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1,this.clear()}destroy(){this.strip(),this.canvas.destroy(),this.imageLoader.destroy(),this.cleanup.flush(),Object.assign(this,{canvas:void 0})}};MI.className="Scene";var wI=class{constructor(e,t,n){this.eventsHub=e,this.annotationRoot=t,this.fireChartEvent=n,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return null==e||My(e)}restoreMemento(e,t,n){this.annotations=this.cleanData(n??[]).map(e=>Bx(e,this.getAnnotationTypeStyles(e.type))),this.eventsHub.emit("annotations:restore",{annotations:this.annotations})}updateData(e){this.annotations=this.cleanData(e??[])}fireChangedEvent(){this.fireChartEvent({type:"annotations",annotations:QM([...this.annotations])})}attachNode(e){return this.annotationRoot.append(e),()=>(this.annotationRoot?.removeChild(e),this)}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){return this.styles?.[e]}cleanData(e){for(const t of e)"textAlign"in t&&delete t.textAlign;return e}},kI=(e=>(e[e.CHART_BACKGROUND=0]="CHART_BACKGROUND",e[e.AXIS_BAND_HIGHLIGHT=1]="AXIS_BAND_HIGHLIGHT",e[e.AXIS_GRID=2]="AXIS_GRID",e[e.AXIS=3]="AXIS",e[e.SERIES_AREA_CONTAINER=4]="SERIES_AREA_CONTAINER",e[e.ZOOM_SELECTION=5]="ZOOM_SELECTION",e[e.SERIES_CROSSLINE_RANGE=6]="SERIES_CROSSLINE_RANGE",e[e.SERIES_LAYER=7]="SERIES_LAYER",e[e.AXIS_FOREGROUND=8]="AXIS_FOREGROUND",e[e.SERIES_CROSSHAIR=9]="SERIES_CROSSHAIR",e[e.SERIES_CROSSLINE_LINE=10]="SERIES_CROSSLINE_LINE",e[e.SERIES_ANNOTATION=11]="SERIES_ANNOTATION",e[e.CHART_ANNOTATION=12]="CHART_ANNOTATION",e[e.CHART_ANNOTATION_FOCUSED=13]="CHART_ANNOTATION_FOCUSED",e[e.STATUS_BAR=14]="STATUS_BAR",e[e.SERIES_LABEL=15]="SERIES_LABEL",e[e.LEGEND=16]="LEGEND",e[e.NAVIGATOR=17]="NAVIGATOR",e[e.FOREGROUND=18]="FOREGROUND",e))(kI||{}),II=class{constructor(e,t){this.eventsHub=e,this.sceneRoot=t,this.axes=new Map,this.axisGridGroup=new PM({name:"Axes-Grids",zIndex:2}),this.axisGroup=new PM({name:"Axes",zIndex:3}),this.axisLabelGroup=new PM({name:"Axes-Labels",zIndex:15}),this.axisCrosslineRangeGroup=new PM({name:"Axes-Crosslines-Range",zIndex:6}),this.axisCrosslineLineGroup=new PM({name:"Axes-Crosslines-Line",zIndex:10}),this.axisCrosslineLabelGroup=new PM({name:"Axes-Crosslines-Label",zIndex:15}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup),this.sceneRoot.appendChild(this.axisLabelGroup),this.sceneRoot.appendChild(this.axisCrosslineRangeGroup),this.sceneRoot.appendChild(this.axisCrosslineLineGroup),this.sceneRoot.appendChild(this.axisCrosslineLabelGroup)}updateAxes(e,t){const n={axisNode:this.axisGroup,gridNode:this.axisGridGroup,labelNode:this.axisLabelGroup,crossLineRangeNode:this.axisCrosslineRangeGroup,crossLineLineNode:this.axisCrosslineLineGroup,crossLineLabelNode:this.axisCrosslineLabelGroup};for(const i of e)t.includes(i)||(i.detachAxis(n),i.destroy());for(const i of t)e?.includes(i)||i.attachAxis(n);this.axes.clear();for(const i of t){const e=i.createAxisContext();this.axes.has(e.direction)?this.axes.get(e.direction)?.push(e):this.axes.set(e.direction,[e])}this.eventsHub.emit("axis:change",null)}getAxisContext(e){return this.axes.get(e)??[]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},CI=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PROCESS_DOMAIN=3]="PROCESS_DOMAIN",e[e.PERFORM_LAYOUT=4]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=5]="SERIES_UPDATE",e[e.PRE_SCENE_RENDER=6]="PRE_SCENE_RENDER",e[e.SCENE_RENDER=7]="SCENE_RENDER",e[e.NONE=8]="NONE",e))(CI||{}),DI=class{constructor(e,t,n){this.eventsHub=e,this.caller=t,this.animationManager=n,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.pendingData=void 0,this.debug=wx.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){"function"===typeof e&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.eventsHub.emit("data:source-change",null))}clearCallback(){this.dataSourceCallback=void 0}load(e){const{pendingData:t}=this;if(null!=t&&t.params.windowStart?.valueOf()===e.windowStart?.valueOf()&&t.params.windowEnd?.valueOf()===e.windowEnd?.valueOf()){const e=this.requestCounter++;return this.isLoadingInitialData=!1,void this.dispatch(e,t.data)}this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return null!=this.dataSourceCallback}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}async getData(){const{latestRequest:e}=this;if(!e)return;const{params:t,fetchRequest:n}=e;return{params:t,data:await n}}restoreData(e){this.pendingData=e}createThrottledFetch(e){return Ry(e=>this.fetch(e).catch(e=>Gm.error("callback failed",e)),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return Ry((e,t)=>this.dispatch(e,t),e,{leading:!0,trailing:!0})}dispatch(e,t){this.debug(`DataService - dispatching 'data-load' | ${e}`),this.eventsHub.emit("data:load",{data:t})}async fetch(e){"context"in this.caller&&(e.context=this.caller.context);const t=Promise.resolve().then(async()=>{if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");const n=performance.now(),i=this.requestCounter++;let r;this.debug(`DataService - requesting | ${i}`);try{r=await this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-n}ms | ${i}`)}catch(Ym){this.debug(`DataService - request failed | ${i}`),Gm.errorOnce(`DataService - request failed | [${Ym}]`)}this.isLoadingInitialData=!1;const o=this.freshRequests.indexOf(t);return-1===o||this.dispatchOnlyLatest&&o!==this.freshRequests.length-1?(this.debug(`DataService - discarding stale request | ${i}`),r):(this.freshRequests=this.freshRequests.slice(o+1),0===this.freshRequests.length&&(this.isLoadingData=!1),Array.isArray(r)?this.throttledDispatch(i,r):this.eventsHub.emit("data:error",null),r)});this.latestRequest={params:e,fetchRequest:t},this.freshRequests.push(t),await t}};px([cw({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],DI.prototype,"dispatchThrottle",2),px([cw({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],DI.prototype,"requestThrottle",2);var AI=class{constructor(e,t){this.domManager=e,this.updateService=t,this.observers=[]}updateFonts(e){e&&0!==e.size&&(this.loadFonts(e),e.forEach(e=>{this.observeFontStatus(e)}))}destroy(){for(const e of this.observers)e.disconnect();this.observers=[]}loadFonts(e){const t=Array.from(e).map(e=>encodeURIComponent(e)),n=":wght@100;200;300;400;500;600;700;800;900",i=`${n}&family=`,r=`@import url('https://fonts.googleapis.com/css2?family=${t.join(i)}${n}&display=swap');\n`;this.domManager.addStyles(`google-font-${t.join("-")}`,r)}observeFontStatus(e){const t=window.document.createElement("div");t.style.setProperty("position","absolute"),t.style.setProperty("top","0"),t.style.setProperty("margin","0"),t.style.setProperty("padding","0"),t.style.setProperty("overflow","hidden"),t.style.setProperty("visibility","hidden"),t.style.setProperty("width","auto"),t.style.setProperty("max-width","none"),t.style.setProperty("font-synthesis","none"),t.style.setProperty("font-family",e),t.style.setProperty("font-size","16px"),t.style.setProperty("white-space","nowrap"),t.textContent="UVWxyz",this.domManager.addChild("canvas-container",`font-check-${encodeURIComponent(e)}`,t);const n=new ResizeObserver(e=>{const t=e?.at(0)?.contentBoxSize.at(0)?.inlineSize;null!=t&&t>0&&(Tw.clear(),this.updateService.update(4))});n.observe(t),this.observers.push(n)}};var TI=class{constructor(){this.registeredListeners=new Map}addListener(e,t){const n={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(const[t,n]of this.registeredListeners.entries()){const i=n.findIndex(t=>t.symbol===e);if(i>=0){n.splice(i,1),0===n.length&&this.registeredListeners.delete(t);break}}}dispatch(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const o of this.getListenersByType(e))try{o.handler(...n)}catch(r){Gm.errorOnce(r)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},LI=new WeakMap;function NI(e,t){const n=JSON.stringify(e,null,0);return LI.has(t)||LI.set(t,new Map),LI.get(t)?.has(n)||LI.get(t)?.set(n,t(e)),LI.get(t)?.get(n)}var EI=class{constructor(){this.weak=new WeakMap,this.strong=new Map,this.set=!1,this.value=void 0}};function OI(e,t){let n=new EI;const i=function(){let i=n;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];for(const e of o){const t="object"===typeof e||"symbol"===typeof e?i.weak:i.strong;let n=t.get(e);null==n&&(n=new EI,t.set(e,n)),i=n}if(i.set)return t?.("hit",e,o),i.value;{const n=e(...o);return i.set=!0,i.value=n,t?.("miss",e,o),n}};return i.reset=()=>{n=new EI},i}function RI(e,t){const n=new Map,i={},r=new WeakMap;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];const l=0===a.length?[i]:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.map(e=>"object"===typeof e||"symbol"===typeof e?e:(n.has(e)||n.set(e,{v:e}),n.get(e)))}(...a);let c=r;for(const e of l.slice(0,-1))c.has(e)||c.set(e,new WeakMap),c=c.get(e);const u=l.at(-1);let d=c.get(u);return d?t?.("hit",e,a):(d=e(...a),c.set(u,d),t?.("miss",e,a)),d}}var PI={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function jI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date(e.getFullYear(),0,1);const n=e.getTimezoneOffset()-t.getTimezoneOffset(),i=e.getTime()-t.getTime()+6e4*n;return Math.floor(i/864e5)}function zI(e,t){const n=(t-new Date(e.getFullYear(),0,1).getDay()+7)%7,i=new Date(e.getFullYear(),0,n+1);return i<=e?Math.floor(jI(e,i)/7)+1:0}function _I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getFullYear();const n=new Date(t,0,1).getDay(),i=new Date(t,0,(4-n+7)%7-3+1);return i<=e?Math.floor(jI(e,i)/7)+1:_I(e,t-1)}var BI={a:e=>PI.shortDays[e.getDay()],A:e=>PI.days[e.getDay()],b:e=>PI.shortMonths[e.getMonth()],B:e=>PI.months[e.getMonth()],c:"%x, %X",d:(e,t)=>$I(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>$I(1e3*e.getMilliseconds(),6,t??"0"),H:(e,t)=>$I(e.getHours(),2,t??"0"),I:(e,t)=>{const n=e.getHours()%12;return 0===n?"12":$I(n,2,t??"0")},j:(e,t)=>$I(jI(e)+1,3,t??"0"),m:(e,t)=>$I(e.getMonth()+1,2,t??"0"),M:(e,t)=>$I(e.getMinutes(),2,t??"0"),L:(e,t)=>$I(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>$I(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>$I(zI(e,0),2,t??"0"),V:(e,t)=>$I(_I(e),2,t??"0"),w:(e,t)=>$I(e.getDay(),2,t??"0"),W:(e,t)=>$I(zI(e,1),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>$I(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>$I(e.getFullYear(),4,t??"0"),Z:e=>function(e){const t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${$I(Math.floor(n/60),2,"0")}${$I(Math.floor(n%60),2,"0")}`}(e),"%":()=>"%"},FI={_:" ",0:"0","-":""};function $I(e,t,n){const i=String(Math.floor(e));return i.length>=t?i:`${n.repeat(t-i.length)}${i}`}function VI(e){const t=[];for(;e.length>0;){let n=e.indexOf("%");if(0!==n){const i=n>0?e.substring(0,n):e;t.push(i)}if(n<0)break;const i=e[n+1],r=FI[i];null!=r&&n++;const o=e[n+1],a=BI[o];if("function"===typeof a)t.push([a,r]);else if("string"===typeof a){const e=VI(a);t.push([e,r])}else t.push(`${r??""}${o}`);e=e.substring(n+2)}return e=>{const n="number"===typeof e?new Date(e):e;return t.map(e=>"string"===typeof e?e:e[0](n,e[1])).join("")}}var GI={millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e",month:"%b",year:"%Y"},WI={millisecond:"%Y %b %e %H:%M:%S.%L",second:"%Y %b %e %H:%M:%S",minute:"%Y %b %e %H:%M",hour:"%Y %b %e %H:%M",day:"%Y %b %e",month:"%Y %b",year:"%Y"},HI={year:0,month:1,day:2,hour:3,minute:4,second:5,millisecond:6},UI=/%[-_0]?L/,YI=/%[-_0]?S/,KI=/%[-_0]?M/,ZI=/%[-_0]?[HI]/,XI=/^%[-_0]?[de]$/,qI=/^%[-_0]?[Bbm]$/,QI=/^%[-_0]?[Yy]$/;function JI(e,t,n){if("string"===typeof e)return e;e??(e=GI);const{millisecond:i=GI.millisecond,second:r=GI.second,minute:o=GI.minute,hour:a=GI.hour,day:s=GI.day,month:l=GI.month,year:c=GI.year}=e,u=HI[t],d=WI[t],h=n?HI[n]:-1;if(h<HI.year&&u>=HI.year&&!QI.test(c)||h<HI.month&&u>=HI.month&&!qI.test(l)||h<HI.day&&u>=HI.day&&!XI.test(s))return d;let p,g;switch(t){case"year":return c;case"month":return h<HI.year?`${l} ${c}`:l;case"day":return h<HI.year?`${l} ${s} ${c}`:`${l} ${s}`;case"hour":p=a;break;case"minute":p=o;break;case"second":p=r;break;case"millisecond":p=i;break;default:return d}return u>=HI.hour&&!ZI.test(p)||u>=HI.minute&&!KI.test(p)||u>=HI.second&&!YI.test(p)||u>=HI.millisecond&&!UI.test(p)?d:(h<HI.year?g=`${l} ${s} ${c}`:h<HI.month&&(g=`${l} ${s}`),g?`${p} ${g}`:p)}var eC=class e extends TI{constructor(){super(...arguments),this.formats=new Map,this.dateFormatter=OI((t,n,i,r,o)=>{const a=e.mergeSpecifiers(t,n)??GI;return e.getFormatter("date",a,i,r,{truncateDate:o})}),this.formatter=void 0}static mergeSpecifiers(){let e;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)"string"===typeof r?e=r:Ay(r)&&(e=Ay(e)?{...e,...r}:r);return e}static getFormatter(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"long",{truncateDate:r}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(Ay(t)){if("date"!==e)return void Gm.warn("Date formatter configuration is not supported for non-date types.");n??(n="millisecond");return VI("component"===i?t?.[n]??GI[n]:JI(t,n,r))}switch(e){case"number":{const e=ex(t);if(null==e)return;return tx(e)}case"date":return VI(t);case"category":return e=>t.replace("%s",String(e))}}setFormatter(e){this.formatter!==e&&(this.formatter=e,this.formats.clear(),this.dateFormatter.reset(),this.dispatch("format-changed"))}format(t,n){let{specifier:i,truncateDate:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==n.value)return;const{formatter:o}=this;if(null==o)return;if("function"===typeof o){const e=t(o,n);return null!=e?String(e):void 0}const a=o[n.property];if(null==a)return;if("function"===typeof a){const e=t(a,n);return null!=e?String(e):void 0}if("date"===n.type){const{unit:e,style:t}=n,o=this.dateFormatter(a,i,e,t,r);return o?.(n.value)}const s=i??a;if("string"!==typeof s)return;let l=this.formats.get(s);return null==l&&(l=e.getFormatter(n.type,s),this.formats.set(s,l)),l?.(n.value,"number"===n.type?n.fractionDigits:void 0)}defaultFormat(e){let{specifier:t,truncateDate:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{formatter:i}=this,r="function"===typeof i?void 0:i?.[e.property];switch(e.type){case"date":{const{unit:i,style:o}=e,a=null!=r&&"function"!==typeof r?r:void 0,s=this.dateFormatter(a,t,i,o,n);return s?.(e.value)??String(e.value)}case"number":return rI(e.value,e.fractionDigits);case"category":return Array.isArray(e.value)?e.value.join(" - "):"string"===typeof e.value?e.value:"number"===typeof e.value?rI(e.value):String(e.value)}}};function tC(e,t){if("string"===typeof e)try{e=IS.fromString(e)}catch{e=IS.fromArray([0,0,0])}if("string"===typeof t)try{t=IS.fromString(t)}catch{t=IS.fromArray([0,0,0])}return n=>IS.mix(e,t,n).toRgbaString()}var nC={};hx(nC,{easeIn:()=>rC,easeInOut:()=>aC,easeInOutQuad:()=>cC,easeInQuad:()=>sC,easeOut:()=>oC,easeOutQuad:()=>lC,inverseEaseOut:()=>uC,linear:()=>iC});var iC=e=>e,rC=e=>1-Math.cos(e*Math.PI/2),oC=e=>Math.sin(e*Math.PI/2),aC=e=>-(Math.cos(e*Math.PI)-1)/2,sC=e=>e*e,lC=e=>1-(1-e)**2,cC=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,uC=e=>2*Math.asin(e)/Math.PI,dC=.2,hC=["initial","remove","update","add","trailing","end","none"],pC={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:dC,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1.2,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},gC=(e=>(e.Loop="loop",e.Reverse="reverse",e))(gC||{});function fC(e){return e.every(e=>e instanceof lS)?{nodes:e,selections:[]}:{nodes:[],selections:e}}function mC(e,t){return e===t||(Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((e,n)=>mC(e,t[n])):yx(e)&&yx(t)?e.equals(t):!(!Ay(e)||!Ay(t))&&_x(e,t,mC))}var yC=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??iC,this.phase=e.phase;const t=e.duration??pC[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,!0===e.skip&&(this.onUpdate?.(e.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),!1!==e.collapsable&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return mC(e.from,e.to)?0:t}play(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,e&&this.onUpdate?.(this.from,!0,this)))}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(e){if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);const t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;const n=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(n,!1,this);const i=this.delay+this.duration;return this.elapsed>=i?(this.stop(),this.isComplete=!0,this.onComplete?.(this),e-(i-t)):0}get delta(){return this.ease(Ev(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if("object"!==typeof t||yx(t))return this.interpolateValue(e,t);const n=[];for(const i of Object.keys(t)){const r=this.interpolateValue(e[i],t[i]);null!=r&&n.push([i,r])}return e=>{const t={};for(const[i,r]of n)t[i]=r(e);return t}}interpolateValue(e,t){if(null!=e&&null!=t){if(yx(e))return n=>e[mx](t,n);try{switch(typeof e){case"number":return function(e,t){return n=>Number(e)*(1-n)+Number(t)*n}(e,t);case"string":return tC(e,t);case"boolean":if(e===t)return()=>e;break;case"object":return()=>e;default:throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},bC=class{constructor(e){this.maxAnimationTime=e,this.debug=wx.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(hC.map(e=>[e,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(hC[this.currentPhase])??[]}checkOverlappingId(e){null!=e&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){if(e.isComplete)return;if(hC.indexOf(e.phase)<this.currentPhase)return this.debug("Skipping animation due to being for an earlier phase",e.id),void e.stop();this.controllers.set(e.id,e),this.phases.get(e.phase)?.push(e)}removeAnimation(e){this.controllers.delete(e.id);const t=this.phases.get(e.phase),n=t?.indexOf(e);null!=n&&n>=0&&t?.splice(n,1)}progress(e){if(!this.isReady)return;let t=0===e?.01:e;const n=()=>{const e=hC[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:e,phaseMeta:pC[e]}};let{phase:i,phaseControllers:r,phaseMeta:o}=n();const a=()=>null==hC[this.currentPhase],s=()=>{for(({phase:i,phaseControllers:r,phaseMeta:o}=n());!a()&&0===r.length;)this.currentPhase++,({phase:i,phaseControllers:r,phaseMeta:o}=n()),this.debug(`AnimationBatch - phase changing to ${i}`,{unusedTime:t},r)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${i} with ${r?.length} of ${l}`);do{const e=t,n=o.skipIfNoEarlierAnimations&&0===this.animationTimeConsumed;let i=0;for(const o of r)n?o.stop():t=Math.min(o.update(e),t),o.isComplete&&(i++,this.removeAnimation(o));this.animationTimeConsumed+=e-t,this.debug(`AnimationBatch - updated ${r.length} controllers; ${i} completed`,r),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),s()}while(t>0&&!a());this.animationTimeConsumed>this.maxAnimationTime&&(this.debug("Animation batch exceeded max animation time, skipping",[...this.controllers]),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(const[,t]of this.controllers)if(t.duration>0&&!0!==pC[t.phase].skipIfNoEarlierAnimations){e=!1;break}if(!e)for(const[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===this.skipAnimations&&!0===e){for(const e of this.controllers.values())e.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(const e of this.controllers.values())e.play()}stop(){for(const e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(Ym){Gm.error("Error during animation stop",Ym)}this.dispatchStopped()}stopByAnimationId(e){if(null!=e&&this.controllers.has(e)){const t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(const t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}getRemainingTime(e){if(!this.isActive())return 0;let t=0;for(const[n,i]of this.phases)0!==i.length&&(null!=e&&e!==n||(t+=Math.max(...i.map(e=>e.isComplete?0:e.delay+e.duration-(e.elapsed??0)))));return t}destroy(){this.stop(),this.controllers.clear()}},vC=(e=>(e[e.Default=32]="Default",e[e.ZoomDrag=16]="ZoomDrag",e[e.Annotations=8]="Annotations",e[e.ContextMenu=4]="ContextMenu",e[e.Animation=2]="Animation",e[e.AnnotationsSelected=1]="AnnotationsSelected",e[e.Clickable=41]="Clickable",e[e.Focusable=34]="Focusable",e[e.Keyable=43]="Keyable",e[e.ContextMenuable=36]="ContextMenuable",e[e.AnnotationsMoveable=9]="AnnotationsMoveable",e[e.AnnotationsDraggable=57]="AnnotationsDraggable",e[e.ZoomDraggable=50]="ZoomDraggable",e[e.ZoomClickable=34]="ZoomClickable",e[e.ZoomWheelable=59]="ZoomWheelable",e[e.All=63]="All",e))(vC||{}),xC=class{constructor(){this.stateQueue=34}pushState(e){this.stateQueue|=e}popState(e){this.stateQueue&=~e}isState(e){return!!(this.stateQueue&-this.stateQueue&e)}};function SC(e){return null==e||!isNaN(e)&&e>=0&&e<=2}var MC=class{constructor(e,t){this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new bC(1.5*this.defaultDuration),this.debug=wx.create(!0,"animation"),this.events=new gy,this.rafAvailable="undefined"!==typeof requestAnimationFrame,this.isPlaying=!0,this.requestId=null,this.skipAnimations=!0,this.currentAnonymousAnimationId=0}addListener(e,t){return this.events.on(e,t)}animate(e){const t=this.batch;try{t.checkOverlappingId(e.id)}catch(Ym){return void this.failsafeOnError(Ym)}let{id:n}=e;null==n&&(n=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);const i=this.isSkipped()||"none"===e.phase;i&&this.debug("AnimationManager - skipping animation");const{delay:r,duration:o}=e;if(!SC(r))throw new Error(`Animation delay of ${r} is unsupported (${n})`);if(!SC(o))throw new Error(`Animation duration of ${o} is unsupported (${n})`);const a=new yC({...e,id:n,skip:i,autoplay:!!this.isPlaying&&e.autoplay,phase:e.phase,defaultDuration:this.defaultDuration});if(!this.forceTimeJump(a,this.defaultDuration))return this.batch.addAnimation(a),a}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(Ym){this.failsafeOnError(Ym)}this.requestAnimation()}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(Ym){this.failsafeOnError(Ym)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(Ym){this.failsafeOnError(Ym)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}getRemainingTime(e){return this.batch.getRemainingTime(e)}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:(new Error).stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=yy().requestAnimationFrame(t=>{e(t).catch(e=>Gm.error(e))})}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable)return;if(!this.batch.isActive()||null!==this.requestId)return;let e;const t=async n=>{await this.debug.group("AnimationManager.onAnimationFrame()",async()=>{const i=()=>{const t=n-(e??n);e=n,this.debug("AnimationManager",{controllersCount:this.batch.size,deltaTime:t}),this.interactionManager.pushState(2);try{this.batch.progress(t)}catch(Ym){this.failsafeOnError(Ym)}this.events.emit("animation-frame",{type:"animation-frame",deltaMs:t})};this.isSkippingFrames()?await this.chartUpdateMutex.acquireImmediately(i):await this.chartUpdateMutex.acquire(i),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))})};this.events.emit("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.events.emit("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}),this.requestId=null,this.startBatch())}failsafeOnError(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Gm.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.destroy(),this.batch=new bC(1.5*this.defaultDuration),!0===e&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(2),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}destroy(){this.stop(),this.events.clear()}},wC=class{constructor(){this.download={type:"action",showOn:"always",label:"contextMenuDownload",enabled:!0,action:void 0,items:void 0},this["zoom-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuZoomToCursor",enabled:!0,action:void 0,items:void 0},this["pan-to-cursor"]={type:"action",showOn:"series-area",label:"contextMenuPanToCursor",enabled:!0,action:void 0,items:void 0},this["reset-zoom"]={type:"action",showOn:"series-area",label:"contextMenuResetZoom",enabled:!0,action:void 0,items:void 0},this["toggle-series-visibility"]={type:"action",showOn:"legend-item",label:"contextMenuToggleSeriesVisibility",enabled:!0,action:void 0,items:void 0},this["toggle-other-series"]={type:"action",showOn:"legend-item",label:"contextMenuToggleOtherSeries",enabled:!0,action:void 0,items:void 0},this.separator={type:"separator",showOn:"always",label:"separator",enabled:!0,action:void 0,items:void 0}}},kC=class{constructor(){this.defaults=["download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series"]}},IC=class{constructor(){this.items=new wC,this.lists=new kC}},CC=class{constructor(e){this.eventsHub=e,this.builtins=new IC,this.hiddenActions=new Set,this.setVisible("zoom-to-cursor",!1),this.setVisible("pan-to-cursor",!1),this.setVisible("reset-zoom",!1)}static check(e,t){return t.showOn==e}static checkCallback(e,t,n){return e===t}dispatchContext(e,t,n,i){const{widgetEvent:r}=t;if(r.sourceEvent.defaultPrevented)return;const o={showOn:e,x:i?.x??t.canvasX,y:i?.y??t.canvasY,context:n,widgetEvent:r};this.eventsHub.emit("context-menu:setup",o),this.eventsHub.emit("context-menu:complete",o)}isVisible(e){return!this.hiddenActions.has(e)}setVisible(e,t){t?this.hiddenActions.delete(e):this.hiddenActions.add(e)}},DC=class{constructor(e){this.eventsHub=e,this.highlightStates=new Fk}updateHighlight(e,t){const n=this.getActiveHighlight();this.highlightStates.set(e,t);const i=this.getActiveHighlight();this.isEqual(i,n)||this.eventsHub.emit("highlight:change",{callerId:e,currentHighlight:i,previousHighlight:n})}getActiveHighlight(){return this.highlightStates.stateValue()}isEqual(e,t){return e===t||null!=e&&null!=t&&e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}};function AC(e,t){if(null==e||0===t.length)return[!1,!1];const n=e.valueOf(),i=t[0],r=t[t.length-1];if("string"===typeof i)return[n===i,n===r];let o=i.valueOf(),a=r.valueOf();return o>a&&([o,a]=[a,o]),[n===o,n===a]}function TC(e,t,n,i,r,o){const[a,s]=AC(t,o),[l,c]=AC(e,r);return{xKey:n,yKey:i,xValue:e,yValue:t,first:l,last:c,min:a,max:s}}function LC(e,t,n,i){let[r,o]=n,a=Tv(0,t-1,n=>{const o=1===e?n:t-n,a=i(o)?.[1]??NaN;return!Number.isFinite(a)||a>r})??0,s=Av(0,t-1,n=>{const r=1===e?n:t-n,a=i(r)?.[0]??NaN;return!Number.isFinite(a)||a<o})??t-1;return-1===e&&([a,s]=[t-s,t-a]),a=Math.max(a,0),s=Math.min(s+1,t),[a,s]}function NC(e,t,n){if(n){const{x:e,y:t,width:i,height:r}=n;return{canvasX:e+i/2,canvasY:t+r/2}}const i=t.yBar?.upperPoint??t.midPoint??e.datumMidPoint?.(t);if(i){const{x:t,y:n}=OM.toCanvasPoint(e.contentGroup,i.x,i.y);return{canvasX:Math.round(t),canvasY:Math.round(n)}}}function EC(e,t,n,i,r){let o=-1,a=0,s=0,l=!1;for(;a<i&&o<=t-e;){o+=1;const i=n+s;l||(s*=-1),s>=0&&(s+=1),l&&s<0&&(s-=1),i<e||i>t?l=!0:r(i)&&(a+=1)}return a}var OC=class{constructor(e,t,n,i){this.domManager=n,this.tooltip=i,this.stateTracker=new Fk,this.suppressState=new Fk(!1),this.appliedState=null,this.cleanup=new Nv,this.cleanup.register(i.setup(t,n),e.on("dom:hidden",()=>this.tooltip.hide()))}destroy(){this.cleanup.flush()}updateTooltip(e,t,n,i){n??(n=this.stateTracker.get(e)?.content),this.stateTracker.set(e,{meta:t,content:n,pagination:i}),this.applyStates()}removeTooltip(e){this.stateTracker.delete(e),this.applyStates()}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}applyStates(){const e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):void 0;if(this.suppressState.stateValue()||null==t?.meta||null==t?.content)return this.appliedState=null,void this.tooltip.hide();const n=this.domManager.getBoundingClientRect(),i="extended"===this.tooltip.bounds?this.domManager.getOverlayClientRect():n;if(zx(this.appliedState?.content,t?.content)&&zx(this.appliedState?.pagination,t?.pagination)){const e=this.tooltip.isVisible();this.tooltip.show(i,n,t?.meta,null,void 0,e)}else this.tooltip.show(i,n,t?.meta,t?.content,t?.pagination);this.appliedState=t}static makeTooltipMeta(e,t,n,i){const{canvasX:r,canvasY:o}=e,a=t.properties.tooltip,{placement:s,anchorTo:l,xOffset:c,yOffset:u}=a.position,d=NC(t,n,i);return{canvasX:r,canvasY:o,nodeCanvasX:d?.canvasX??r,nodeCanvasY:d?.canvasY??o,enableInteraction:a.interaction?.enabled??!1,showArrow:a.showArrow,position:{placement:s,anchorTo:l,xOffset:c,yOffset:u}}}};function RC(e,t){const{device:n,offsetX:i,offsetY:r,clientX:o,clientY:a,currentX:s,currentY:l,sourceEvent:c}=t;return{type:e,device:n,offsetX:i,offsetY:r,clientX:o,clientY:a,currentX:s,currentY:l,sourceEvent:c}}function PC(e,t){return e*e+t*t>=9}var jC=class{constructor(e){this.cleanup=new Nv,this.events=new gy,this.isDragging=!1,this.touch={distanceTravelledX:0,distanceTravelledY:0,clientX:0,clientY:0},this.cleanup.register(e.addListener("touchstart",this.onTouchStart.bind(this)),e.addListener("touchmove",this.onTouchMove.bind(this)),e.addListener("touchend",this.onTouchEnd.bind(this)),e.addListener("mousemove",this.onMouseMove.bind(this)),e.addListener("dblclick",this.onDblClick.bind(this)),e.addListener("drag-start",this.onDragStart.bind(this)),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",this.onDragEnd.bind(this)))}destroy(){this.cleanup.flush()}onTouchStart(e){const{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX=0,this.touch.distanceTravelledY=0,this.touch.clientX=t,this.touch.clientY=n}onTouchMove(e){const{clientX:t,clientY:n}=e.sourceEvent.targetTouches[0]??{clientX:1/0,clientY:1/0};this.touch.distanceTravelledX+=Math.abs(this.touch.clientX-t),this.touch.distanceTravelledY+=Math.abs(this.touch.clientY-n),this.touch.clientX=t,this.touch.clientY=n}onTouchEnd(e){e.sourceEvent.preventDefault()}onMouseMove(e){this.events.emit("mousemove",e)}onDblClick(e){this.events.emit("dblclick",e)}onDragStart(e){this.dragStartEvent=e}onDragMove(e){null!=this.dragStartEvent&&PC(e.originDeltaX,e.originDeltaY)&&(this.events.emit("drag-start",this.dragStartEvent),this.events.emit("drag-move",{...this.dragStartEvent,type:"drag-move"}),this.dragStartEvent=void 0,this.isDragging=!0),this.isDragging&&this.events.emit("drag-move",e)}onDragEnd(e){if(this.isDragging)return this.events.emit("drag-end",e),void(this.isDragging=!1);if("mouse"===e.device){const t=RC("click",e);this.events.emit("click",t)}else if("touchend"===e.sourceEvent.type){if(PC(this.touch.distanceTravelledX,this.touch.distanceTravelledY))return;const t=RC("click",e);this.events.emit("click",t);const n=Date.now();if(void 0!==this.lastClick&&n-this.lastClick.time<=505&&function(e,t){const n=e.clientX-t.clientX,i=e.clientY-t.clientY;return n*n+i*i<900}(this.lastClick,e)){const t=RC("dblclick",e);this.events.emit("dblclick",t),this.lastClick=void 0}else this.lastClick={time:n,clientX:e.clientX,clientY:e.clientY}}}},zC=class extends nI{constructor(e){super(e)}addChildToDOM(){}removeChildFromDOM(){}},_C=class{constructor(e,t){this.seriesWidget=new zC(e.getParent("series-area")),this.chartWidget=new zC(e.getParent("canvas-proxy")),this.containerWidget=new zC(e.getParent("canvas-container")),this.containerWidget.addChild(this.chartWidget),this.chartWidget.addChild(this.seriesWidget),t.withDragInterpretation&&(this.seriesDragInterpreter=new jC(this.seriesWidget))}destroy(){this.seriesDragInterpreter?.destroy(),this.seriesWidget.destroy(),this.chartWidget.destroy(),this.containerWidget.destroy()}};function BC(e,t){const[n,i]=FC(t);return Ev(n,e,i)}function FC(e){if(0===e.length)return[];const t=[1/0,-1/0];for(const n of e)n<t[0]&&(t[0]=n),n>t[1]&&(t[1]=n);return t}function $C(e){const[t,n]=FC(e);return n-t}function VC(e){return(e|=0)<=0?1:1===e?2:1<<32-Math.clz32(e-1)}function GC(e){return(e|=0)<=0?0:1===e?1:1<<31-Math.clz32(e)}var WC=class e extends DS{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];super(),this.domain=t,this.range=n,this.defaultTickCount=e.defaultTickCount,this.defaultClamp=!1}static is(t){return t instanceof e}normalizeDomains(){return UC(...arguments)}calcBandwidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const{domain:n}=this,i=this.getPixelRange();if(0===n.length)return i;let r=Math.abs(n[1].valueOf()-n[0].valueOf())/e+1;if(0!==t){const e=Math.floor(i);r=Math.min(r,e)}return i/Math.max(1,r)}convert(e,t){const{domain:n}=this;if(!n||n.length<2||null==e)return NaN;const{range:i}=this,r=t?.clamp??this.defaultClamp;let o=n[0].valueOf(),a=n[1].valueOf(),s=e.valueOf();if(this.transform&&(o=this.transform(o),a=this.transform(a),s=this.transform(s)),r){const[e,t]=FC([o,a]);if(s<e)return i[0];if(s>t)return i[1]}if(o===a)return(i[0]+i[1])/2;if(s===o)return i[0];if(s===a)return i[1];const l=i[0];return l+(s-o)/(a-o)*(i[1]-l)}invert(e,t){const{domain:n}=this;if(n.length<2)return;let i=n[0].valueOf(),r=n[1].valueOf();this.transform&&(i=this.transform(i),r=this.transform(r));const{range:o}=this,[a,s]=o;let l;return l=a===s?this.toDomain((i+r)/2):this.toDomain(i+(e-a)/(s-a)*(r-i)),this.transformInvert?this.transformInvert(l):l}getPixelRange(){const[e,t]=this.range;return Math.abs(t-e)}};WC.defaultTickCount=5;var HC=WC;function UC(){let e,t,n=1/0,i=-1/0;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];for(const s of o)for(const r of s){const o=r.valueOf();o<n&&(n=o,e=r),o>i&&(i=o,t=r)}if(null!=e&&null!=t){return{domain:[e,t],animatable:!0}}return{domain:[],animatable:!1}}var YC=class e extends DS{constructor(){super(...arguments),this.invalid=!0,this.range=[0,1],this.round=!1,this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof e}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(e){e=Ev(0,e,1),this._paddingInner=e,this._paddingOuter=e}get padding(){return this._paddingInner}set paddingInner(e){this.invalid=!0,this._paddingInner=Ev(0,e,1)}get paddingInner(){return this._paddingInner}set paddingOuter(e){this.invalid=!0,this._paddingOuter=Ev(0,e,1)}get paddingOuter(){return this._paddingOuter}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&Gm.warnOnce("Expected update to not invalidate scale"))}convert(e,t){this.refresh();const n=this.findIndex(e,t?.alignment);return null==n||n<0||n>=this.bands.length?NaN:this.ordinalRange(n)}invertNearestIndex(e){this.refresh();const t=this.bands.length;if(0===t)return-1;let n=0,i=t-1,r=1/0,o=0;for(;n<=i;){const t=(i+n)/2|0,a=this.ordinalRange(t),s=Math.abs(a-e);if(0===s)return t;s<r&&(r=s,o=t),a<e?n=t+1:i=t-1}return o}update(){const[e,t]=this.range;let{_paddingInner:n}=this;const{_paddingOuter:i,round:r,bands:o}=this,a=o.length;if(0===a)return;const s=t-e;let l;1===a?(n=0,l=s*(1-2*i)):l=s/Math.max(1,a-n+2*i);const c=r?Math.floor(l):l;let u=e+(s-c*(a-n))/2,d=c*(1-n);r&&(u=Math.round(u),d=Math.round(d)),this._step=c,this._inset=u,this._bandwidth=d,this._rawBandwidth=l*(1-n)}ordinalRange(e){const{_inset:t,_step:n,range:i}=this;return Ev(Math.min(i[0],i[1]),t+n*e,Math.max(i[0],i[1]))}};px([AS],YC.prototype,"range",2),px([AS],YC.prototype,"round",2);var KC=YC,ZC=class e extends KC{static is(t){return t instanceof e}toDomain(e){return new Date(e)}convert(e,t){e instanceof Date||(e=new Date(e));const{domain:n,bands:i}=this;if(n.length<=0)return NaN;const r=this.ordinalRange(0),o=this.ordinalRange(i.length-1);if(0===i.length)return r;if(!0===t?.clamp){const{range:t}=this;if(e<i[0])return t[0];if(e>i[i.length-1])return t[1]}const a=t?.alignment??0,s=n[0].valueOf()>n[n.length-1].valueOf();if(2!==a){const n=super.convert(e,t);return s?o-(n-r):n}const l=e.valueOf();let c,u=this.findIndex(e)??0;s?(u=Math.min(Math.max(u,1),i.length-1),c=-1):(u=Math.min(Math.max(u,0),i.length-2),c=1);const d=i[u].valueOf(),h=i[u+c].valueOf(),p=this.ordinalRange(u),g=(l-d)/(h-d)*(this.ordinalRange(u+c)-p)+p;return s?o-(g-r):g}invert(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.refresh();const{domain:n,bands:i}=this;if(n.length<=0)return;const r=n[0].valueOf()>n[n.length-1].valueOf();let o;if(t)o=this.invertNearestIndex(e-this.bandwidth/2);else{o=Tv(0,i.length-1,t=>this.ordinalRange(t)>=e)??i.length-1}return i[r?i.length-1-o:o]}findIndex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{bands:n}=this,i=e.valueOf();return 1===t?Tv(0,n.length-1,e=>n[e].valueOf()>=i):Av(0,n.length-1,e=>n[e].valueOf()<=i)}},XC={bottomCenter:function(e){return{x:(e.x1+e.x2)/2,y:Math.max(e.y1,e.y2)}},center:function(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}},clone:function(e){return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}},collides:function(e,t){const n=qC(e),i=qC(t);return n.x1<=i.x2&&n.x2>=i.x1&&n.y1<=i.y2&&n.y2>=i.y1},end:function(e){return{x:e.x2,y:e.y2}},from:function(e,t,n,i){if("number"===typeof e)return{x1:e,y1:t,x2:n,y2:i};if("width"in e)return qC({x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y+e.height});throw new Error(`Values can not be converted into a vector4: [${JSON.stringify(e)}] [${t}] [${n}] [${i}]`)},height:function(e){return Math.abs(e.y2-e.y1)},round:function(e){return{x1:Math.round(e.x1),y1:Math.round(e.y1),x2:Math.round(e.x2),y2:Math.round(e.y2)}},start:function(e){return{x:e.x1,y:e.y1}},topCenter:function(e){return{x:(e.x1+e.x2)/2,y:Math.min(e.y1,e.y2)}},origin:function(){return{x1:0,y1:0,x2:0,y2:0}},width:function(e){return Math.abs(e.x2-e.x1)}};function qC(e){return{x1:Math.min(e.x1,e.x2),x2:Math.max(e.x1,e.x2),y1:Math.min(e.y1,e.y2),y2:Math.max(e.y1,e.y2)}}function QC(e,t,n,i,r){return t+(r-e)/(n-e)*(i-t)}function JC(e,t,n,i,r){return e+(n-e)/(i-t)*(r-t)}function eD(e,t,n){return[JC(e,n.min,t,n.max,0),JC(e,n.min,t,n.max,1)]}function tD(e,t,n,i,r,o){if(n<=r&&o<=i)return n;const a=r-n,s=o-i;return Ev(e,n+(Math.abs(a)<Math.abs(s)?a:s),t)}function nD(e,t,n){const{x:i={min:0,max:1},y:r={min:0,max:1}}=t,o=XC.from(n),a=XC.from(e),s=function(e,t,n){const[i,r]=eD(e.x1,e.x2,t),[o,a]=eD(e.y1,e.y2,n);return{x1:i,x2:r,y1:o,y2:a}}(a,i,r),l=tD(s.x1,s.x2,a.x1,a.x2,o.x1,o.x2),c=tD(s.y1,s.y2,a.y1,a.y2,o.y1,o.y2),u={x:{min:QC(a.x1,i.min,a.x2,i.max,l),max:QC(a.x1,i.min,a.x2,i.max,l+e.width)},y:{min:QC(a.y1,r.min,a.y2,r.max,c),max:QC(a.y1,r.min,a.y2,r.max,c+e.height)}},d=u.x.max-u.x.min,h=u.y.max-u.y.min;return u.x.min=Ev(0,u.x.min,1-d),u.x.max=u.x.min+d,u.y.min=Ev(0,u.y.min,1-h),u.y.max=u.y.min+h,u}function iD(e,t){const n=e?.valueOf(),i=t?.valueOf();return"number"!==typeof n||"number"!==typeof i?[void 0,void 0]:n<i?[0,1]:[1,0]}var rD=class{constructor(){this.enabled=!1,this.padding=0,this.manuallyAdjusted=!1}},oD=e=>Jy((t,n)=>{let{options:i}=n;return!HC.is(e?.scale)&&!ZC.is(e?.scale)||(null==t||null==i.end||t<i.end)},"to be less than end"),aD=class extends xk{constructor(e,t){super(),this.eventsHub=e,this.fireChartEvent=t,this.mementoOriginatorKey="zoom",this.axisZoomManagers=new Map,this.state=new Fk(void 0,"initial"),this.axes=[],this.didLayoutAxes=!1,this.autoScaleYAxis=new rD,this.lastRestoredState=void 0,this.independentAxes=!1,this.navigatorModule=!1,this.zoomModule=!1,this.pendingMemento=void 0,this.boundFireOnceChartEvent=this.fireOnceChartEvent.bind(this),this.cleanup.register(e.on("layout:complete",()=>{this.didLayoutAxes=!0;const{pendingMemento:e}=this;e&&this.restoreMemento(e.version,e.mementoVersion,e.memento),this.autoScaleYZoom("zoom-manager")}))}createMemento(){return this.getMementoRanges()}guardMemento(e,t){if(null==e)return!0;if(!Cy(e))return!1;const n=this.getPrimaryAxis("x"),i=this.getPrimaryAxis("y"),r={rangeX:{start:oD(n),end:gb},rangeY:{start:oD(i),end:gb},ratioX:{start:gb,end:gb},ratioY:{start:gb,end:gb},autoScaledAxes:gb},{invalid:o}=Qy(e,r);return!(o.length>0)||(t.push(...o.map(String)),!1)}restoreMemento(e,t,n){const{independentAxes:i}=this;if(!this.axes||!this.didLayoutAxes)return void(this.pendingMemento={version:e,mementoVersion:t,memento:n});this.pendingMemento=void 0;const r=this.getDefinedZoom();if(r.x=n?.rangeX?this.rangeToRatio(n.rangeX,"x")??{min:0,max:1}:n?.ratioX?{min:n.ratioX.start??0,max:n.ratioX.end??1}:{min:0,max:1},!this.navigatorModule||this.zoomModule){let e=n?.autoScaledAxes?.includes("y");if(n?.rangeY)e??(e=!1),r.y=this.rangeToRatio(n.rangeY,"y")??{min:0,max:1};else if(n?.ratioY)e??(e=!1),r.y={min:n.ratioY.start??0,max:n.ratioY.end??1};else{e??(e=!0);const t=e?this.getAutoScaleYZoom(r.x):void 0;r.y=t??{min:0,max:1}}r.autoScaleYAxis=e}if(this.lastRestoredState=r,!0!==i)return void this.updateZoom("zoom-manager",r);const o=this.getPrimaryAxis("x"),a=this.getPrimaryAxis("y");for(const s of[o,a])s&&this.updateAxisZoom("zoom-manager",s.id,r[s.direction])}updateAxes(e){this.axes=e;const t=new Map(e.map(e=>[e.id,this.axisZoomManagers.get(e.id)]));this.axisZoomManagers.clear();for(const n of e)this.axisZoomManagers.set(n.id,t.get(n.id)??new sD(n));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}setIndependentAxes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.independentAxes=e}setAutoScaleYAxis(e,t){this.autoScaleYAxis.enabled=e,this.autoScaleYAxis.padding=t,e&&this.autoScaleYZoom("toggle-auto-scale")}setNavigatorEnabled(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.navigatorModule=e}setZoomModuleEnabled(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.zoomModule=e}isNavigatorEnabled(){return this.navigatorModule}isZoomEnabled(){return this.zoomModule}updateZoom(e,t){if(t?.x&&(t.x.min<0||t.x.max>1)&&(Gm.warnOnce(`Attempted to update x-axis zoom to an invalid ratio of [{ min: ${t.x.min}, max: ${t.x.max} }], expecting a ratio of 0 to 1, ignoring.`),t.x=void 0),t?.y&&(t.y.min<0||t.y.max>1)&&(Gm.warnOnce(`Attempted to update y-axis zoom to an invalid ratio of [{ min: ${t.y.min}, max: ${t.y.max} }], expecting a ratio of 0 to 1, ignoring.`),t.y=void 0),0===this.axisZoomManagers.size){const n=this.state.stateId();return void("initial"!==n&&n!==e||this.state.set(e,t))}this.state.set(e,t);const n=t?.autoScaleYAxis;null!=n&&(this.autoScaleYAxis.manuallyAdjusted=!n),this.axisZoomManagers.forEach(n=>{n.updateZoom(e,t?.[n.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,n){this.axisZoomManagers.get(t)?.updateZoom(e,n),this.applyChanges(e)}resetZoom(e){this.autoScaleYAxis.manuallyAdjusted=!1;const t=this.getRestoredZoom();this.updateZoom(e,{x:{min:t?.x?.min??0,max:t?.x?.max??1},y:{min:t?.y?.min??0,max:t?.y?.max??1},autoScaleYAxis:t?.autoScaleYAxis??!0})}resetAxisZoom(e,t){const n=this.axisZoomManagers.get(t),i=n?.getDirection();if(null==i)return;const r=this.getRestoredZoom();if("y"===i){const e=r?.autoScaleYAxis??!0;this.autoScaleYAxis.manuallyAdjusted=!e}for(const o of this.axes)o.direction===i&&this.updateAxisZoom(e,o.id,r?.[i]??{min:0,max:1})}setAxisManuallyAdjusted(e,t){const n=this.axisZoomManagers.get(t)?.getDirection();"y"===n&&(this.autoScaleYAxis.manuallyAdjusted=!0)}updatePrimaryAxisZoom(e,t,n){const i=this.getPrimaryAxis(t);i&&this.updateAxisZoom(e,i.id,n)}panToBBox(e,t,n){if(!this.isZoomEnabled()&&!this.isNavigatorEnabled())return!1;const i=this.getZoom();if(void 0===i||!i.x&&!i.y)return!1;if(!(t.width>0&&t.height>0&&Math.abs(n.width)<=Math.abs(t.width)&&Math.abs(n.height)<=Math.abs(t.height)))return Gm.warnOnce("cannot pan to target BBox - chart too small?"),!1;const r=nD(t,i,n);return this.independentAxes?(this.updatePrimaryAxisZoom(e,"x",r.x),this.updatePrimaryAxisZoom(e,"y",r.y)):this.updateZoom(e,r),!0}fireZoomPanStartEvent(e){this.eventsHub.emit("zoom:pan-start",{callerId:e})}extendToEnd(e,t,n){return this.extendWith(e,t,e=>Number(e)-n)}extendWith(e,t,n){const i=this.getPrimaryAxis(t);if(!i)return;const r=this.getDomainExtents(i);if(!r)return;const[,o]=r,a=n(o),s=this.rangeToRatio({start:a,end:o},t);s&&this.updateZoom(e,{[t]:s})}updateWith(e,t,n){const i=this.getPrimaryAxis(t);if(!i)return;const r=this.getDomainExtents(i);if(!r)return;let[o,a]=r;[o,a]=n(o,a);const s=this.rangeToRatio({start:o,end:a},t);s&&this.updateZoom(e,{[t]:s})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(n=>{"x"===n.getDirection()?e??(e=n.getZoom()):"y"===n.getDirection()&&(t??(t=n.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){return this.axisZoomManagers.get(e)?.getZoom()??{min:0,max:1}}getAxisZooms(){const e={};for(const[t,n]of this.axisZoomManagers.entries())e[t]={direction:n.getDirection(),zoom:n.getZoom()};return e}getRestoredZoom(){return this.lastRestoredState}getPrimaryAxisId(e){return this.getPrimaryAxis(e)?.id}isVisibleItemsCountAtLeast(e,t){const{autoScaleYAxis:n}=this,i=this.getPrimaryAxis("x"),r=this.getPrimaryAxis("y");let o;if(this.independentAxes){const e=new Set(i?.boundSeries??[]),t=new Set(r?.boundSeries??[]);o=new Set;for(const n of e)t.has(n)&&o.add(n)}else o=new Set([...i?.boundSeries??[],...r?.boundSeries??[]]);const a=[e.x.min,e.x.max],s=n.enabled&&!n.manuallyAdjusted?void 0:[e.y.min,e.y.max];let l=0;for(const c of o){const e=t-(l??0);if(l+=c.getVisibleItems(a,s,e),l>=t)return!0}return 0===o.size}getMementoRanges(){const e=this.getDefinedZoom();let t;this.autoScaleYAxis.enabled&&(t=this.autoScaleYAxis.manuallyAdjusted?[]:["y"]);return{rangeX:this.getRangeDirection(e.x,"x"),rangeY:this.getRangeDirection(e.y,"y"),ratioX:{start:e.x.min,end:e.x.max},ratioY:{start:e.y.min,end:e.y.max},autoScaledAxes:t}}getAutoScaleYZoom(e){if(!this.isZoomEnabled())return;const{independentAxes:t,autoScaleYAxis:n}=this;if(!n.enabled||n.manuallyAdjusted)return;const{padding:i}=n;return 0===e?.min&&1===e?.max?{min:0,max:1}:t?this.primaryAxisZoom("y",e,{padding:i}):this.combinedAxisZoom("y",e,{padding:i})}autoScaleYZoom(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{independentAxes:n}=this,i=this.getZoom();if(null==i?.x)return;const r=this.getAutoScaleYZoom(i.x);if(null!=r&&!zx(i.y,r)){if(n){const e=this.getPrimaryAxis("y"),t=null==e?void 0:this.axisZoomManagers.get(e.id);t?.updateZoom("zoom-manager",r)}else for(const e of this.axisZoomManagers.values())"y"===e.getDirection()&&e.updateZoom("zoom-manager",r);t&&this.applyChanges(e)}}applyChanges(e){this.autoScaleYZoom(e,!1);if(!Array.from(this.axisZoomManagers.values(),e=>e.applyChanges()).includes(!0))return;const t={};for(const[n,i]of this.axisZoomManagers.entries())t[n]=i.getZoom();this.eventsHub.emit("zoom:change",{...this.getZoom(),axes:t,callerId:e}),this.eventsHub.on("layout:complete",this.boundFireOnceChartEvent)}fireOnceChartEvent(){this.fireChartEvent({type:"zoom",...this.getMementoRanges()}),this.eventsHub.off("layout:complete",this.boundFireOnceChartEvent)}getRangeDirection(e,t){const n=this.getPrimaryAxis(t);if(!n||!HC.is(n.scale)&&!ZC.is(n.scale))return;const i=this.getDomainPixelExtents(n);if(!i)return;const[r,o]=i;let a,s;return r<=o?(a=n.scale.invert(0),s=n.scale.invert(r+(o-r)*e.max)):(a=n.scale.invert(r-(r-o)*e.min),s=n.scale.invert(0)),{start:a,end:s}}rangeToRatio(e,t){const n=this.getPrimaryAxis(t);if(!n)return;const i=this.getDomainPixelExtents(n);if(!i)return;const[r,o]=i,{scale:a}=n,{start:s,end:l}=e,[c=0,u=1]=iD(s,l);let d=null==e.start?r:a.convert(e.start,{alignment:c}),h=null==e.end?o:a.convert(e.end,{alignment:u})+(a.bandwidth??0);if(!Ey(d)||!Ey(h))return;const[p,g]=[Math.min(r,o),Math.max(r,o)];if(d<p||d>g)return void Gm.warnOnce(`Invalid range start [${e.start}], expecting a value between [${a.invert(r)}] and [${a.invert?.(o)}], ignoring.`);if(h<p||h>g)return void Gm.warnOnce(`Invalid range end [${e.end}], expecting a value between [${a.invert(r)}] and [${a.invert?.(o)}], ignoring.`);d=Math.min(g,Math.max(p,d)),h=Math.min(g,Math.max(p,h));const f=o-r;return{min:Math.abs((d-r)/f),max:Math.abs((h-r)/f)}}getPrimaryAxis(e){return this.axes?.find(t=>t.direction===e)}getDomainExtents(e){const{domain:t}=e.scale,n=t.at(0),i=t.at(-1);if(null!=n&&null!=i)return[n,i]}getDomainPixelExtents(e){const[t,n]=e.scale.range;if(Ey(t)&&Ey(n))return[t,n]}getDefinedZoom(){const e=this.getZoom();return{x:{min:e?.x?.min??0,max:e?.x?.max??1},y:{min:e?.y?.min??0,max:e?.y?.max??1}}}zoomBounds(e,t,n,i){const r=e.scale,o=r.range;r.range=[0,1];const a=t.scale,s=a.range;a.range=[0,1];let l=1,c=!1,u=0,d=!1;for(const g of t.boundSeries){if(!g.visible)continue;const{connectsToYAxis:e}=g,t=g.getRange("y",[n.min,n.max]);for(const n of t){const t=a.convert(n);Number.isFinite(t)&&(t<l&&(l=t,c=!e||n<0),t>u&&(u=t,d=!e||n>0))}}if(Ey(t.min)&&(l=0),Ey(t.max)&&(u=1),r.range=o,a.range=s,l>=u)return;const h=(c?i:0)+(d?i:0),p=Math.min((u-l)*(1+h),1);if(!(p<=0)){if(c&&d){const e=(u+l)/2;l=e-p/2,u=e+p/2}else!c&&d?u=l+p:c&&!d&&(l=u-p);return l<0?(u+=-l,l=0):u>1&&(l-=u-1,u=1),{min:l,max:u}}}primaryAxisZoom(e,t){let{padding:n=0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="x"===e?"y":"x",r=this.getPrimaryAxis(i),o=this.getPrimaryAxis(e);if(null!=r&&null!=o)return this.zoomBounds(r,o,t,n)}combinedAxisZoom(e,t){let{padding:n=0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="x"===e?"y":"x",r=new Map;for(const l of this.axes)if(l.direction===i)for(const e of l.boundSeries)r.set(e,l);let o=1,a=0;for(const l of this.axes)if(l.direction===e)for(const e of l.boundSeries){const i=r.get(e);if(null==i)continue;const s=this.zoomBounds(i,l,t,n);if(null==s)return;o=Math.min(o,s.min),a=Math.max(a,s.max)}const s=1e-6;if(o<s&&(o=0),a>.999999&&(a=1),!(o>a))return{min:o,max:a}}},sD=class{constructor(e){this.axis=e;const[t=0,n=1]=e.visibleRange;this.state=new Fk({min:t,max:n}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return QM(this.state.stateValue())}hasChanges(){const e=this.currentZoom,t=this.state.stateValue();return e.min!==t.min||e.max!==t.max}applyChanges(){const e=this.hasChanges();return this.currentZoom=this.state.stateValue(),e}},lD=(e=>(e[e.Caption=0]="Caption",e[e.Legend=1]="Legend",e[e.ToolbarLeft=2]="ToolbarLeft",e[e.ToolbarBottom=3]="ToolbarBottom",e[e.Navigator=4]="Navigator",e[e.Overlay=5]="Overlay",e))(lD||{}),cD=class{constructor(e){this.eventsHub=e,this.elements=new Map}registerElement(e,t){return this.elements.has(e)?this.elements.get(e).add(t):this.elements.set(e,new Set([t])),()=>this.elements.get(e)?.delete(t)}createContext(e,t){const n=new uD(e,t);for(const i of Object.values(lD))"number"===typeof i&&this.elements.get(i)?.forEach(e=>e(n));return n}emitLayoutComplete(e,t){const{width:n,height:i}=e;this.eventsHub.emit("layout:complete",{axes:t.axes??[],chart:{width:n,height:i},clipSeries:t.clipSeries??!1,series:t.series})}},uD=class{constructor(e,t){this.width=e,this.height=t,this.layoutBox=new Sx(0,0,e,t)}};function dD(e,t,n,i,r){let{point:o,anchor:a}=e;if(0===o.size)return!1;let s=o.x,l=o.y;null!=a&&(s-=(a.x-.5)*o.size,l-=(a.y-.5)*o.size);let c=s;s<t?c=t:s>t+i&&(c=t+i);let u=l;l<n?u=n:l>n+r&&(u=n+r);const d=s-c,h=l-u;return Math.sqrt(d*d+h*h)<=.5*o.size}function hD(e){return null!=e&&"object"===typeof e.point&&"object"===typeof e.label}var pD={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0},"top-left":{x:-1,y:-1},"top-right":{x:1,y:-1},"bottom-left":{x:-1,y:1},"bottom-right":{x:1,y:1}};var gD=class{constructor(){this.labelData=new Map}updateLabels(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sx.zero;const i={x:-t.left,y:-t.top,width:n.width+t.left+t.right,height:n.height+t.top+t.bottom},r=new Set(e.map(e=>e.id));for(const a of this.labelData.keys())r.has(a)||this.labelData.delete(a);for(const a of e){const e=a.getLabelData();e.every(hD)&&this.labelData.set(a.id,e)}const o=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const i=new Map,r=[],o=new Map([...e.entries()].map(e=>{let[t,n]=e;return[t,n.toSorted((e,t)=>t.point.size-e.point.size)]})),a=[...o.values()].flat();for(const[s,l]of o.entries()){const e=[];if(l[0]?.label){for(let i=0,o=l.length;i<o;i++){const o=l[i],{point:s,label:c,anchor:u}=o,{text:d,width:h,height:p}=c,g=.5*s.size;let f=0,m=0;if(g>0&&null!=o.placement){const e=pD[o.placement];f=(.5*h+g+n)*e.x,m=(.5*p+g+n)*e.y}const y=s.x-.5*h+f-((u?.x??.5)-.5)*s.size,b=s.y-.5*p+m-((u?.y??.5)-.5)*s.size;if(!Cv(t,y,b,h,p))continue;if(a.some(e=>dD(e,y,b,h,p)))continue;if(r.some(e=>Iv(e,y,b,h,p)))continue;const v={index:i,text:d,x:y,y:b,width:h,height:p,datum:o};e.push(v),r.push(v)}i.set(s,e)}}return i}(this.labelData,i,5);for(const a of e)a.updatePlacedLabelData?.(o.get(a.id)??[])}},fD=class{constructor(e){this.eventsHub=e,this.mementoOriginatorKey="legend",this.legendDataMap=new Map}createMemento(){return this.getData().filter(e=>{let{hideInLegend:t,isFixed:n}=e;return!t&&!n}).map(e=>{let{enabled:t,seriesId:n,itemId:i,legendItemName:r}=e;return{visible:t,seriesId:n,itemId:i,legendItemName:r}})}guardMemento(e){return null==e||My(e)}restoreMemento(e,t,n){n?.forEach(e=>{const{seriesId:t,data:n}=this.getRestoredData(e)??{};t&&n&&this.updateData(t,n)}),this.update()}getRestoredData(e){const{seriesId:t,itemId:n,legendItemName:i,visible:r}=e;if(t){const e=(this.legendDataMap.get(t)??[]).map(e=>{const i=e.seriesId===t&&(!n||e.itemId===n);return i&&e.isFixed&&this.warnFixed(e.seriesId,e.itemId),!e.isFixed&&i?{...e,enabled:r}:e});return{seriesId:t,data:e}}if(null!=n||null!=i)for(const o of this.getData()){if(null!=n&&o.itemId!==n||null!=i&&o.legendItemName!==i)continue;if(o.isFixed)return void this.warnFixed(o.seriesId,n);const e=(this.legendDataMap.get(o.seriesId)??[]).map(e=>e.itemId===n||e.legendItemName===i?{...e,enabled:r}:e);return{seriesId:o.seriesId,data:e}}}warnFixed(e,t){Gm.warnOnce(`The legend item with seriesId [${e}] and itemId [${t}] is not configurable, this series item cannot be toggled through the legend.`)}update(e){this.eventsHub.emit("legend:change",{legendData:e??this.getData()})}updateData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.legendDataMap.set(e,t)}clearData(){this.legendDataMap.clear()}toggleItem(e,t,n,i){if(i)return void this.getData().forEach(t=>{const n=(this.legendDataMap.get(t.seriesId)??[]).map(t=>t.legendItemName===i?{...t,enabled:e}:t);this.updateData(t.seriesId,n)});const r=this.getData(t),o=1===r.length,a=r.map(t=>null==n&&o||t.itemId===n?{...t,enabled:e}:t);this.updateData(t,a)}getData(e){return e?this.legendDataMap.get(e)??[]:[...this.legendDataMap].reduce((e,t)=>{let[n,i]=t;return e.concat(i)},[])}getDatum(){let{seriesId:e,itemId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getData(e).find(e=>e.itemId===t)}getSeriesEnabled(e){const t=this.getData(e);if(t.length>0)return t.some(e=>e.enabled)}getItemEnabled(){let{seriesId:e,itemId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getDatum({seriesId:e,itemId:t})?.enabled??!0}},mD=class{constructor(){this.groups=new Map}registerSeries(e){let{internalId:t,seriesGrouping:n,visible:i,type:r}=e;if(!n)return;let o=this.groups.get(r);null==o&&(o=new Map,this.groups.set(r,o)),o.set(t,{grouping:n,visible:i})}updateSeries(e){let{internalId:t,seriesGrouping:n,visible:i,type:r}=e;if(!n)return;const o=this.groups.get(r)?.get(t);o&&(o.grouping=n,o.visible=i)}deregisterSeries(e){let{internalId:t,type:n}=e;const i=this.groups.get(n);null!=i&&(i.delete(t),0===i.size&&this.groups.delete(n))}getVisiblePeerGroupIndex(e){let{type:t,seriesGrouping:n,visible:i}=e;if(!n)return{visibleGroupCount:i?1:0,visibleSameStackCount:i?1:0,index:0};const r=new Set,o=new Set,a=this.groups.get(t);for(const l of a?.values()??[])l.visible&&(r.add(l.grouping.groupIndex),l.grouping.groupIndex===n.groupIndex&&o.add(l.grouping.stackIndex));const s=Array.from(r);return s.sort((e,t)=>e-t),{visibleGroupCount:s.length,visibleSameStackCount:o.size,index:s.indexOf(n.groupIndex)}}},yD=class{constructor(e){this.updateCallback=e,this.events=new gy}addListener(e,t){return this.events.on(e,t)}destroy(){this.events.clear()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this.updateCallback(e,t)}dispatchUpdateComplete(e){this.events.emit("update-complete",{type:"update-complete",apiUpdate:e})}dispatchPreDomUpdate(){this.events.emit("pre-dom-update",{type:"pre-dom-update"})}dispatchPreSceneRender(){this.events.emit("pre-scene-render",{type:"pre-scene-render"})}dispatchProcessData(e){let{series:t}=e;this.events.emit("process-data",{type:"process-data",series:t})}},bD=class{constructor(e,t){this.eventsHub=new gy,this.callbackCache=new VM,this.highlightManager=new DC(this.eventsHub),this.formatManager=new eC,this.layoutManager=new cD(this.eventsHub),this.localeManager=new bI(this.eventsHub),this.seriesStateManager=new mD,this.stateManager=new vk,this.seriesLabelLayoutManager=new gD,this.cleanup=new Nv,this.contextModules=[];const{scene:n,root:i,syncManager:r,container:o,fireEvent:a,updateCallback:s,updateMutex:l,styleContainer:c,chartType:u,domMode:d,withDragInterpretation:h}=t;this.chartService=e,this.syncManager=r,this.domManager=new Zk(this.eventsHub,this.chartService,o,c,d),this.widgets=new _C(this.domManager,{withDragInterpretation:h});const p=this.domManager.addChild("canvas","scene-canvas",n?.canvas.element);this.scene=n??new MI({canvasElement:p}),this.scene.setRoot(i),this.cleanup.register(this.scene.on("scene-changed",()=>{this.updateService.update(7)})),this.axisManager=new II(this.eventsHub,i),this.legendManager=new fD(this.eventsHub),this.annotationManager=new wI(this.eventsHub,e.annotationRoot,a),this.chartTypeOriginator=new gk(e),this.interactionManager=new xC,this.contextMenuRegistry=new CC(this.eventsHub),this.updateService=new yD(s),this.proxyInteractionService=new gI(this.eventsHub,this.localeManager,this.domManager),this.fontManager=new AI(this.domManager,this.updateService),this.historyManager=new yk(this.eventsHub),this.animationManager=new MC(this.interactionManager,l),this.dataService=new DI(this.eventsHub,e,this.animationManager),this.tooltipManager=new OC(this.eventsHub,this.localeManager,this.domManager,e.tooltip),this.zoomManager=new aD(this.eventsHub,a);for(const g of fx.byType("context")){if(!g.chartTypes.includes(u))continue;const e=g.moduleFactory(this);this.contextModules.push(e),this[g.contextKey]=e}}destroy(){this.animationManager.destroy(),this.axisManager.destroy(),this.callbackCache.invalidateCache(),this.domManager.destroy(),this.fontManager.destroy(),this.proxyInteractionService.destroy(),this.tooltipManager.destroy(),this.zoomManager.destroy(),this.widgets.destroy(),this.contextModules.forEach(e=>e.destroy()),this.cleanup.flush()}},vD=class extends _S{constructor(){super(...arguments),this.range="tooltip"}};function xD(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function SD(e,t){if(null==e||null==t)return e===t;if(e.size!==t.size)return!1;for(const[n,i]of e){const e=t.get(n);if(null==e)return!1;if(!xD(i,e))return!1}return!0}function MD(e,t){const{props:n,...i}=e,{props:r,...o}=t;return zx(i,o)&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){const{type:i,idsMap:r,scopes:o,data:a,...s}=e[n],{type:l,idsMap:c,scopes:u,data:d,...h}=t[n];if(i!==l)return!1;if(o&&u&&!cv(o,u))return!1;if(a&&d&&a!==d)return!1;if(!zx(s,h)||!SD(r,c))return!1}return!0}(n,r)}function wD(e,t,n,i){return t===e.data&&cv(n,e.ids)&&MD(i,e.opts)}px([zS],vD.prototype,"range",2);var kD=class e{constructor(){this.domain=new Set}static is(t){return t instanceof e}extend(e){this.domain.add(e)}getDomain(){return Array.from(this.domain)}},ID=class e{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof e}static extendDomain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1/0,-1/0];for(const n of e)"number"===typeof n&&(t[0]>n&&(t[0]=n),t[1]<n&&(t[1]=n));return t}extend(e){this.domain[0]>e&&(this.domain[0]=e),this.domain[1]<e&&(this.domain[1]=e)}getDomain(){return[...this.domain]}},CD=class{constructor(e){const t=e.reduce((e,t)=>Math.max(e,t.length),0);let n=1<<32-Math.clz32(t);t===n/2&&(n>>>=1),this.maxLevelSize=n;const i=new Float64Array(2*(2*n-1)).fill(NaN);for(const r of e)for(let e=0;e<r.length;e+=1){const t=Number(r[e]),o=n+e-1,a=0+(2*o|0),s=1+(2*o|0),l=i[a],c=i[s];(!Number.isFinite(l)||t<l)&&(i[a]=t),(!Number.isFinite(c)||t>c)&&(i[s]=t)}for(let r=n/2|0;r>=1;r=r/2|0){const e=r-1|0,t=e+r|0;for(let n=0;n<r;n+=1){const r=e+n,o=t+2*n,a=o+1,s=i[0+(2*o|0)],l=i[0+(2*a|0)];i[0+(2*r|0)]=!Number.isFinite(l)||s<l?s:l;const c=i[1+(2*o|0)],u=i[1+(2*a|0)];i[1+(2*r|0)]=!Number.isFinite(u)||c>u?c:u}}this.buffer=i}computeRangeInto(e,t,n,i,r,o,a){const s=r+o-1;if(s<t||r>=n)return a;if(r>=t&&s<n){const t=e[0+(2*i|0)],n=e[1+(2*i|0)];Number.isFinite(t)&&(a[0]=Math.min(a[0],t)),Number.isFinite(n)&&(a[1]=Math.max(a[1],n))}else o>1&&(i=2*i|0,o=o/2|0,this.computeRangeInto(e,t,n,i+1|0,r,o,a),this.computeRangeInto(e,t,n,i+2|0,r+o,o,a));return a}rangeBetween(e,t){if(e>t)return[NaN,NaN];const{maxLevelSize:n,buffer:i}=this,r=[1/0,-1/0];return this.computeRangeInto(i,e,t,0,0,n,r),r}get range(){const{buffer:e}=this;return[e[0],e[1]]}};function DD(e){if(e.length<=1)return 1;let t=0,n=e[0];for(let i=1;i<e.length;i++){const r=e[i];if(null==r)continue;if("number"!==typeof r.valueOf())return;const o=Math.sign(r-n);if(0!==o){if(0!==t&&t!==o)return;t=o}n=r}return 0===t?1:t}var AD=Symbol("key-sort-orders"),TD=Symbol("column-sort-orders"),LD=Symbol("domain-ranges");function ND(e){return e.map(e=>Cy(e)?JSON.stringify(e):e).join("-")}function ED(e){const t=e?.map(Number);return t?.every(Number.isFinite)?t:[]}function OD(e,t){return t?.get(e.id)??0}function RD(e){return"scopes"in e&&Array.isArray(e.scopes)}function PD(e,t){const n=[];for(let i=0;i<e;i+=1)n[i]=t;return n}function jD(e,t,n){const i=[];for(const r of e){const e=r.get(t)?.[n];if(null==e)return;i.push(e)}return i}function zD(e){const t=[];let n,i=0;const r=/((?:(?:^|\.)\s*\w+|\[\s*(?:'(?:[^']|(?<!\\)\\')*'|"(?:[^"]|(?<!\\)\\")*"|-?\d+)\s*\])\s*)/g;for(;n=r.exec(e);){if(n.index!==i)return;i=n.index+n[0].length;const e=n[1].trim();if(e.startsWith("."))t.push(e.slice(1).trim());else if(e.startsWith("[")){const n=e.slice(1,-1).trim();n.startsWith("'")?t.push(n.slice(1,-1).replace(/(?<!\\)\\'/g,"'")):n.startsWith('"')?t.push(n.slice(1,-1).replace(/(?<!\\)\\"/g,'"')):t.push(n)}else t.push(e)}if(i===e.length)return t}function _D(e){return t=>{let n=t;for(const i of e)n=n[i];return n}}var BD=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standalone",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.opts=e,this.mode=t,this.suppressFieldDotNotation=n,this.debug=wx.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[],this.markScopeDatumInvalid=function(e,t,n,i){for(const r of e)i.has(r)||i.set(r,PD(t.length,!1)),i.get(r)[n]=!0};let i=!0;for(const s of e.props){if("key"===s.type&&!i)throw new Error("AG Charts - internal config error: keys must come before values.");"value"===s.type&&i&&(i=!1)}const r=e=>{let{matchGroupIds:t=[]}=e;for(const n of t)if(this.values.every(e=>e.groupId!==n))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${n}).`)},o=new Set,a=new Set;for(const s of e.props){const e="key"===s.type?o:a;switch(RD(s)&&s.scopes?.forEach(t=>e.add(t)),s.type){case"key":this.keys.push({...s,index:this.keys.length,missing:new Map});break;case"value":if(null==s.property)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(s)}`);this.values.push({...s,index:this.values.length,missing:new Map});break;case"aggregate":r(s),this.aggregates.push({...s,index:this.aggregates.length});break;case"group-value-processor":r(s),this.groupProcessors.push({...s,index:this.groupProcessors.length});break;case"property-value-processor":this.propertyProcessors.push({...s,index:this.propertyProcessors.length});break;case"reducer":this.reducers.push({...s,index:this.reducers.length});break;case"processor":this.processors.push({...s,index:this.processors.length})}}if(this.opts.groupByKeys||null!=this.opts.groupByFn){const e=new Set(a.values());if(o.forEach(t=>e.delete(t)),e.size>0)throw new Error(`AG Charts - scopes missing key for grouping, illegal configuration: ${[...e.values()]}`)}}resolveProcessedDataDefById(e,t){const n=this.scopeCache.get(e.id)?.get(t);if(!n)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:n.index,def:n}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveKeysById(e,t,n){const i=this.resolveProcessedDataIndexById(e,t),r=n.keys[i];if(null==r)throw new Error(`AG Charts - didn't find keys for [${t}, ${e.id}]`);return r.get(e.id)}hasColumnById(e,t){return null!=this.scopeCache.get(e.id)?.get(t)}resolveColumnById(e,t,n){const i=this.resolveProcessedDataIndexById(e,t),r=n.columns?.[i];if(null==r)throw new Error(`AG Charts - didn't find column for [${t}, ${e.id}]`);return r}*forEachDatum(e,t,n){const i=t.columnScopes.findIndex(t=>t.has(e.id));for(const r of n.datumIndices[i]??[])yield t.columns[i][r]}*forEachGroupDatum(e,t){const n=t.columnScopes.findIndex(t=>t.has(e.id)),i={groupIndex:0,columnIndex:n},r=[];for(const o of t.groups){i.group=o;for(const e of o.datumIndices[n]??r)i.datumIndex=e,yield i;i.groupIndex++}}*forEachGroupDatumTuple(e,t){const n={columnIndex:t.columnScopes.findIndex(t=>t.has(e.id)),datumIndexes:[void 0,void 0,void 0]};for(const i of this.forEachGroupDatum(e,t))n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=i.group,n.nextGroupIndex=i.groupIndex,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=i.datumIndex,null!=n.group&&null!=n.datumIndexes[1]&&(yield n);n.group=n.nextGroup,n.groupIndex=n.nextGroupIndex,n.nextGroup=void 0,n.nextGroupIndex=void 0,n.datumIndexes[0]=n.datumIndexes[1],n.datumIndexes[1]=n.datumIndexes[2],n.datumIndexes[2]=void 0,null!=n.group&&null!=n.datumIndexes[1]&&(yield n)}getDomain(e,t,n,i){const r=this.getDomainsByType(n??"value",i);return r?.[this.resolveProcessedDataIndexById(e,t)]??[]}getDomainBetweenRange(e,t,n,i){let[r,o]=n;const a=t.map(t=>this.resolveProcessedDataIndexById(e,t)),s=a.join(":"),l=i[LD];let c=l.get(s);if(null==c){const e=a.map(e=>i.columns[e]);c=new CD(e),l.set(s,c)}return c.rangeBetween(r,o)}getSortOrder(e,t,n){let i=n.get(t);return null==i&&(i={sortOrder:DD(e)},n.set(t,i)),i.sortOrder}getKeySortOrder(e,t,n){const i=this.resolveProcessedDataIndexById(e,t),r=n.keys[i]?.get(e.id);return r?this.getSortOrder(r,i,n[AD]):void 0}getColumnSortOrder(e,t,n){const i=this.resolveProcessedDataIndexById(e,t);return this.getSortOrder(n.columns[i],i,n[TD])}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e){const{opts:{groupByKeys:t,groupByFn:n},aggregates:i,groupProcessors:r,reducers:o,processors:a,propertyProcessors:s}=this,l=performance.now();if(t&&0===this.keys.length)return;let c=this.extractData(e);t?c=this.groupData(c):n&&(c=this.groupData(c,n(c))),r.length>0&&"grouped"===c.type&&this.postProcessGroups(c),i.length>0&&"ungrouped"===c.type?this.aggregateUngroupedData(c):i.length>0&&"grouped"===c.type&&this.aggregateGroupedData(c),s.length>0&&this.postProcessProperties(c),o.length>0&&this.reduceData(c),a.length>0&&this.postProcessData(c),this.warnDataMissingProperties(e);const u=performance.now();return c.time=u-l,this.debug.check()&&function(e){const t=(e,t)=>{t.length>0&&(Gm.log(`DataModel.processData() - ${e}`),Gm.table(t))};Gm.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[])}(c),this.processScopeCache(),c}warnDataMissingProperties(e){if(0!==e.size)for(const t of fv(this.keys,this.values))for(const[n,i]of t.missing){if(i<(e.get(n)?.length??1/0))continue;const r=null==n?"":` for ${n}`;Gm.warnOnce(`the key '${t.property}' was not found in any data element${r}.`)}}processScopeCache(){this.scopeCache.clear();for(const e of fv(this.keys,this.values,this.aggregates))if(e.idsMap)for(const[t,n]of e.idsMap)for(const i of n)if(this.scopeCache.has(t)){if(this.scopeCache.get(t)?.has(i))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(t).set(i,e)}else this.scopeCache.set(t,new Map([[i,e]]))}valueGroupIdxLookup(e){let{matchGroupIds:t}=e;const n=[];for(const[i,r]of this.values.entries())(!t||r.groupId&&t.includes(r.groupId))&&n.push(i);return n}valueIdxLookup(e,t){const n=null==e||0===e.length,i="string"===typeof t?t:t.id,r=this.values.reduce((t,r,o)=>((null==r.scopes||n&&!r.scopes.length||r.scopes.some(t=>e?.includes(t)))&&(r.property===i||r.id===i||(t=>{if(t.idsMap)for(const[n,r]of t.idsMap)if(e?.includes(n)&&r.has(i))return!0;return!1})(r))&&t.push(o),t),[]);if(0===r.length)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return r}extractData(e){const{dataDomain:t,processValue:n,allScopesHaveSameDefs:i}=this.initDataDomainProcessor(),{keys:r,values:o}=this,{invalidData:a,invalidKeys:s,invalidKeyCount:l,allKeyMappings:c}=this.extractKeys(r,e,n),{columns:u,columnScopes:d,partialValidDataCount:h,maxDataLength:p}=this.extractValues(a,o,e,s,n),g=e=>{const n=t.get(e),i=n.getDomain();return ID.is(n)&&i[0]>i[1]?[]:i};return{type:"ungrouped",input:{count:p},scopes:new Set(e.keys()),dataSources:e,aggregation:void 0,keys:[...c.values()],columns:u,columnScopes:d,invalidKeys:s,invalidKeyCount:l,invalidData:a,domain:{keys:r.map(g),values:o.map(g)},defs:{allScopesHaveSameDefs:i,keys:r,values:o},partialValidDataCount:h,time:0,[LD]:new Map,[AD]:new Map,[TD]:new Map}}extractKeys(e,t,n){const i=new Map,r=new Map,o=new Map,a=new Map;let s,l;const c=(e,t)=>{const n=l.get(e);s.set(t,s.get(n)),i.has(n)&&(i.set(t,i.get(n)),r.set(t,r.get(n)))};for(const u of e){const{invalidValue:e,scopes:d}=u;s=new Map,l=new Map,a.set(u,s);for(const a of d??[]){const d=t.get(a)??[];if(l.has(d)){c(d,a);continue}const h=[];let p,g;s.set(a,h),l.set(d,a);let f=0;for(let t=0;t<d.length;t++){if(null==d[t]||"object"!==typeof d[t])continue;const i=n(u,d[t],t,a);i.valid?h.push(i.value):(h.push(e),p??(p=PD(d.length,!1)),g??(g=PD(d.length,!1)),f+=1,p[t]=!0,g[t]=!0)}p&&g&&(i.set(a,p),r.set(a,g),o.set(a,f))}}return{invalidData:r,invalidKeys:i,invalidKeyCount:o,allKeyMappings:a}}extractValues(e,t,n,i,r){let o=0;const a=[],s=[];let l=0;for(const c of t){const{invalidValue:t}=c;if(new Set(c.scopes.map(e=>n.get(e))).size>1)throw new Error(`AG Charts - more than one data source for: ${JSON.stringify(c)}`);const u=new Set(c.scopes),d=mv(c.scopes),h=n.get(d),p=new Array,g=i.get(d);for(let n=0;n<h.length;n++){if(null==h[n]||"object"!==typeof h[n])continue;const i=h[n],a=null!=g&&g[n],s=r(c,i,n,c.scopes);let l=s.value;!a&&s.valid||this.markScopeDatumInvalid(c.scopes,h,n,e),a?l=t:s.valid||(o+=1,l=t),p[n]=l}a.push(p),s.push(u),l=Math.max(l,p.length)}return{columns:a,columnScopes:s,partialValidDataCount:o,maxDataLength:l}}groupData(e,t){var n;const{keys:i,columns:r,columnScopes:o,invalidKeys:a,invalidData:s}=e,l=e.scopes,c=[],u=[],d=new Set,h=1!==l.size||null!=t?new Map:void 0;for(const p of l){const e=r.map((e,t)=>t).filter(e=>!d.has(e)&&o[e].has(p));if(0===e.length)continue;for(const t of e)d.add(t);const g=new Set;for(const t of e)for(const e of o[t])g.add(e);const f=i.map(e=>e.get(p)).filter(e=>null!=e),m=r[mv(e)],y=s?.get(p),b=a?.get(p);for(let i=0;i<m.length;i++){if(!0===b?.[i])continue;const r=f.map(e=>e[i]);if(null==r||0===r.length)throw new Error("AG Charts - no keys found for scope: "+p);const o=t?.(r)??r,a=null!=h?ND(o):void 0;let s=h?.get(a);if(null==s&&(s={keys:o,datumIndices:[],aggregation:[],validScopes:l},h?.set(a,s),c.push(s.keys),u.push(s)),!0===y?.[i]){s.validScopes===l&&(s.validScopes=new Set(l.values()));for(const e of g)s.validScopes.delete(e)}for(const t of e)(n=s.datumIndices)[t]??(n[t]=[]),s.datumIndices[t].push(i)}}return{...e,type:"grouped",domain:{...e.domain,groups:c},groups:u}}aggregateUngroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{keys:n,columns:i,dataSources:r}=e,o=mv(r.keys()),a=r.get(o);e.aggregation=a?.map((e,r)=>{const a=[];for(const[s,l]of this.aggregates.entries()){const e=this.valueGroupIdxLookup(l);let c=l.groupAggregateFunction?.()??[1/0,-1/0];const u=e.map(e=>i[e][r]),d=jD(n,o,r),h=null!=d?l.aggregateFunction(u,d):void 0;h&&(c=l.groupAggregateFunction?.(h,c)??ID.extendDomain(h,c));const p=l.finalFunction?.(c)??c;a[s]=p,ID.extendDomain(p,t[s])}return a})}aggregateGroupedData(e){const t=this.aggregates.map(()=>[1/0,-1/0]);e.domain.aggValues=t;const{columns:n}=e;for(const[i,r]of this.aggregates.entries()){const o=this.valueGroupIdxLookup(r);for(const a of e.groups){a.aggregation??(a.aggregation=[]);const e=a.keys;let s=r.groupAggregateFunction?.()??[1/0,-1/0];const l=Math.max(...o.map(e=>a.datumIndices[e]?.length??0));for(let t=0;t<l;t++){const i=o.map(e=>n[e][a.datumIndices[e]?.[t]]),l=r.aggregateFunction(i,e);l&&(s=r.groupAggregateFunction?.(l,s)??ID.extendDomain(l,s))}const c=r.finalFunction?.(s)??s;a.aggregation[i]=c,ID.extendDomain(c,t[i])}}}postProcessGroups(e){const{groupProcessors:t}=this,{columnScopes:n,columns:i,invalidData:r}=e;for(const o of t){const t=this.valueGroupIdxLookup(o),a=o.adjust()();for(const n of e.groups)a(i,t,n);for(const o of t){const t="category"===this.values[o].valueType,a=i[o],s=mv(n[o]),l=r?.get(s),c=t?new kD:new ID;for(let e=0;e<a.length;e+=1)!0!==l?.[e]&&c.extend(a[e]);e.domain.values[o]=c.getDomain()}}}postProcessProperties(e){for(const{adjust:t,property:n,scopes:i}of this.propertyProcessors)for(const r of this.valueIdxLookup(i,n))t()(e,r)}reduceData(e){e.reduced??(e.reduced={});const{dataSources:t,keys:n}=e;for(const i of this.reducers){const r=i.reducer();let o=i.initialValue;if("grouped"===e.type)for(const t of e.groups)o=r(o,t.keys);else{const e=mv(t.keys()),i=n.map(t=>t.get(e)).filter(e=>null!=e),a=i.map(()=>{}),s=t.get(e);for(let t=0;t<s.length;t+=1){for(let e=0;e<a.length;e++)a[e]=i[e]?.[t];o=r(o,a)}}e.reduced[i.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(const t of this.processors)e.reduced[t.property]=t.calculate(e,e.reduced[t.property])}initDataDomainProcessor(){const{keys:e,values:t}=this,n=new Set;for(const c of t)if(c.scopes)for(const e of c.scopes)n.add(e);const i=new Map,r=new Map;let o=!0;const a=()=>{for(const r of fv(e,t))"category"===r.valueType?i.set(r,new kD):(i.set(r,new ID),o&&(o=(r.scopes?.length??0)===n.size))};a();const s=this.buildAccessors(fv(e,t)),l={value:void 0,missing:!1,valid:!1};return{dataDomain:i,processValue:(e,t,n,o)=>{let c,u;if(s.has(e.property)){try{u=s.get(e.property)(t)}catch{}c=null!=u}else c=e.property in t,u=c?t[e.property]:e.missingValue;if(null!=e.forceValue){u=c&&Rv(u)?-1*e.forceValue:e.forceValue,c=!0}l.missing=!c;if(!c&&!("missingValue"in e))if("string"===typeof o){const t=e.missing.get(o)??0;e.missing.set(o,t+1)}else for(const i of o){const t=e.missing.get(i)??0;e.missing.set(i,t+1)}if(i.has(e)||a(),c&&!1===e.validation?.(u,t,n)){if(l.valid=!1,!("invalidValue"in e))return"integrated"!==this.mode&&Gm.warnOnce(`invalid value of type [${typeof u}] for [${e.scopes} / ${e.id}] ignored:`,`[${u}]`),l.value=void 0,l;u=e.invalidValue}else l.valid=!0;if(e.processor){let t=r.get(e);null==t&&(t=e.processor(),r.set(e,t)),u=t(u,n)}return i.get(e)?.extend(u),l.value=u,l},initDataDomain:a,scopes:n,allScopesHaveSameDefs:o}}buildAccessors(e){const t=new Map;if(this.suppressFieldDotNotation)return t;for(const n of e){if(!(n.property.includes(".")||n.property.includes("[")))continue;const e=zD(n.property);if(null==e){Gm.warnOnce("Invalid property path [%s]",n.property);continue}const i=_D(e);t.set(n.property,i)}return t}};var FD=class e{constructor(e,t){this.mode=e,this.suppressFieldDotNotation=t,this.debug=wx.create(!0,"data-model"),this.requested=[],this.status="setup"}async request(e,t,n){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");return new Promise((i,r)=>{this.requested.push({id:e,opts:n,data:t,resolve:i,reject:r})})}execute(e){if("setup"!==this.status)throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);const t=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",t);const n=this.mergeRequested(t);this.debug("DataController.execute() - merged",n),this.debug.check()&&(yy().processedData=[]);const i=[];for(const{data:r,ids:o,opts:a,resolves:s,rejects:l}of n){const n=e?.find(e=>wD(e,r,o,a));let c,u;if(null==n)try{c=new BD(a,this.mode,this.suppressFieldDotNotation);const e=new Map(t.map(e=>[e.id,e.data]));u=c.processData(e)}catch(Ym){l.forEach(t=>t(Ym));continue}else({dataModel:c,processedData:u}=n);i.push({opts:a,data:r,ids:o,dataModel:c,processedData:u}),this.debug.check()&&yy("processedData").push(u),0===u?.partialValidDataCount?s.forEach(e=>e({dataModel:c,processedData:u})):u?this.splitResult(c,u,o,s):l.forEach(e=>e(new Error("AG Charts - no processed data generated")))}return i}validateRequests(e){const t=[];for(const[n,i]of e.entries())n>0&&i.data.length!==e[0].data.length&&!1===i.opts.groupByData&&!1===i.opts.groupByKeys?i.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):t.push(i);return t}mergeRequested(t){const n=[];for(const i of t){const t=n.find(e.groupMatch(i));t?t.push(i):n.push([i])}return n.map(e.mergeRequests)}splitResult(e,t,n,i){for(let r=0;r<n.length;r++){(0,i[r])({dataModel:e,processedData:t})}}static groupMatch(e){let{data:t,opts:n}=e;function i(e){return e.filter(e=>"key"===e.type).map(e=>e.property).join(";")}const{groupByData:r,groupByKeys:o=!1,groupByFn:a,props:s}=n,l=i(s);return e=>{let[n]=e;return(!1===r||n.data===t)&&(n.opts.groupByKeys??!1)===o&&n.opts.groupByFn===a&&i(n.opts.props)===l}}static mergeRequests(t){const n={ids:[],rejects:[],resolves:[],data:t[0].data,opts:{...t[0].opts,props:[]}},i=new Map,r=new Map;let o=0;for(const a of t){const{id:t,data:s,resolve:l,reject:c,opts:{props:u,...d}}=a;n.ids.push(t),n.rejects.push(c),n.resolves.push(l),n.data??(n.data=s),n.opts??(n.opts={...d,props:[]});for(const a of u){const l={...a,scopes:[t],data:s};let c;e.createIdsMap(t,l),e.crossScopeMergableTypes.has(l.type)?c=-1:r.has(s)?c=r.get(s):(c=o++,r.set(s,c));const u=`${l.type}-${c}-${l.groupId}`,d=i.get(u),h=d?.find(t=>e.deepEqual(t,l));null!=d?null!=h?(null!=l.scopes&&(h.scopes??(h.scopes=[]),h.scopes.push(...l.scopes)),"key"!==h.type&&"value"!==h.type||!l.idsMap?.size||(h.idsMap??(h.idsMap=new Map),e.mergeIdsMap(l.idsMap,h.idsMap))):(n.opts.props.push(l),d.push(l)):(n.opts.props.push(l),i.set(u,[l]))}}return n}static mergeIdsMap(e,t){for(const[n,i]of e){const e=t.get(n);if(null==e)t.set(n,new Set(i));else for(const t of i)e.add(t)}}static createIdsMap(e,t){null!=t.id&&(t.idsMap??(t.idsMap=new Map),t.idsMap.has(e)?t.idsMap.get(e).add(t.id):t.idsMap.set(e,new Set([t.id])))}static deepEqual(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;let i,r;if(Array.isArray(t)){if(r=t.length,r!==n.length)return!1;for(i=r-1;i>=0;i--)if(!e.deepEqual(t[i],n[i]))return!1;return!0}const o=Object.keys(t);if(r=o.length,r!==Object.keys(n).length)return!1;for(i=r-1;i>=0;i--){const r=o[i];if(!e.skipKeys.has(r)&&(!Object.hasOwn(n,r)||!e.deepEqual(t[r],n[r])))return!1}return!0}return!1}};FD.crossScopeMergableTypes=new Set(["key","group-value-processor"]),FD.skipKeys=new Set(["id","idsMap","type","scopes","data"]);var $D=FD,VD=new class{constructor(){this.axesMap=new Map,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.moduleFactory),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate)}create(e,t){const n=this.axesMap.get(e);if(n)return n(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},GD=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"foreground",chartTypes:["cartesian","polar","topology","standalone"],optionsInnerKey:"image"},{type:"root",optionsKey:"chartToolbar",chartTypes:["cartesian"]},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","topology","standalone"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"root",optionsKey:"ranges",chartTypes:["cartesian"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","topology","standalone"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"]},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"axis-option",optionsKey:"bandHighlight",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"cone-funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"funnel"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"pyramid"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"linear-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"radial-gauge"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["standalone"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"},{type:"context",contextKey:"sharedToolbar",chartTypes:["cartesian"]}];function WD(e){return GD.find(t=>"series"===t.type&&t.identifier===e)?.chartTypes}function HD(e){if(!function(e){return"enterprise"===e.packageType}(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");const t=GD.find(t=>t.type===e.type&&(!("optionsKey"in t)||!("optionsKey"in e)||t.optionsKey===e.optionsKey)&&(!("contextKey"in t)||!("contextKey"in e)||t.contextKey===e.contextKey)&&t.identifier===e.identifier&&e.chartTypes.every(e=>t.chartTypes.includes(e)));return t&&(t.useCount??(t.useCount=0),t.useCount++),null!=t}var UD=new class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,t){let{optionsKey:n,moduleFactory:i,themeTemplate:r}=t;this.legendMap.set(e,{optionsKey:n,moduleFactory:i}),this.themeTemplates.set(n,r)}create(e,t){const n=this.legendMap.get(e)?.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,t)=>{let[n,i]=t;return e[n]=i.optionsKey,e},{})}},YD=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return"cartesian"===this.get(e)}isPolar(e){return"polar"===this.get(e)}isTopology(e){return"topology"===this.get(e)}isStandalone(e){return"standalone"===this.get(e)}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get standaloneTypes(){return this.seriesTypes.filter(e=>this.isStandalone(e))}},KD=class extends Map{set(e,t){return super.set(e,Bx(t,this.get(e)))}},ZD=new YD,XD=new YD,qD=new KD,QD=new class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,t){let{chartTypes:[n],moduleFactory:i,defaultAxes:r,themeTemplate:o,solo:a,stackable:s,groupable:l,stackedByDefault:c,hidden:u}=t;this.setThemeTemplate(e,o),this.seriesMap.set(e,{moduleFactory:i,defaultAxes:r,solo:a,stackable:s,groupable:l,stackedByDefault:c}),ZD.set(e,n),u||XD.set(e,n)}create(e,t){const n=this.seriesMap.get(e)?.moduleFactory;if(n)return n(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){const t=this.seriesMap.get(e)?.defaultAxes;return null==t?null:{axes:QM(t)}}setThemeTemplate(e,t){const n=this.themeTemplates.get(e);this.themeTemplates.set(e,Bx(t,n))}getThemeTemplate(e){return this.themeTemplates.get(e)}isSolo(e){return this.seriesMap.get(e)?.solo??!1}isGroupable(e){return this.seriesMap.get(e)?.groupable??!1}isStackable(e){return this.seriesMap.get(e)?.stackable??!1}isStackedByDefault(e){return this.seriesMap.get(e)?.stackedByDefault??!1}},JD=class e{constructor(e){this.chart=e}subscribe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP,n=this.get(t);return n||(n={members:new Set},e.chartsGroups.set(t,n)),n.members.add(this.chart),this}unsubscribe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;const n=this.get(t);return n?.members.delete(this.chart),delete n?.domains?.x?.sources?.[this.chart.id],delete n?.domains?.y?.sources?.[this.chart.id],this}getChart(){return this.chart}getGroupState(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;return this.get(t)}getGroupMembers(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;const n=this.get(t);return n?Array.from(n.members):[]}getGroupSiblings(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;return this.getGroupMembers(t).filter(e=>e!==this.chart)}getGroupSyncMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_GROUP;return this.getGroupMembers(t).some(e=>e.series.length>1)?"multi-series":"single-series"}get(t){return e.chartsGroups.get(t)}};JD.chartsGroups=new Map,JD.DEFAULT_GROUP=Symbol("sync-group-default");var eA=JD,tA=class extends _S{constructor(){super(...arguments),this.enabled=!1}};px([zS],tA.prototype,"enabled",2),px([zS],tA.prototype,"tabIndex",2);var nA={};hx(nA,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>iA,fromToMotion:()=>rA,staticFromToMotion:()=>oA});var iA={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function rA(e,t,n,i,r,o,a){const{fromFn:s,toFn:l,applyFn:c=(e,t)=>e.setProperties(t)}=r,{nodes:u,selections:d}=fC(i),h=(i,r)=>{let u,d=0,h=0;for(const p of r){const g=i[d]===p,f={last:h>=r.length-1,lastLive:d>=i.length-1,prev:r[h-1],prevFromProps:u,prevLive:i[d-1],next:r[h+1],nextLive:i[d+(g?1:0)]},m=`${e}_${t}_${p.id}`;n.stopByAnimationId(m);let y="unknown";g?o&&a&&(y=aA(p,p.datum,o,a)):y="removed",p.transitionOut="removed"===y;const{phase:b,start:v,finish:x,delay:S,duration:M,...w}=s(p,p.datum,y,f),{phase:k,start:I,finish:C,delay:D,duration:A,...T}=l(p,p.datum,y,f),L=null==x;n.animate({id:m,groupId:e,phase:b??k??"update",duration:M??A,delay:S??D,from:w,to:T,ease:oC,collapsable:L,onPlay:()=>{const e={...v,...I,...w};c(p,e,"start")},onUpdate(e){c(p,e,"update")},onStop:()=>{const e={...v,...I,...w,...T,...x,...C};c(p,e,"end")}}),g&&d++,h++,u=w}};let p=0;for(const g of d){const i=g.nodes();h(i.filter(e=>!g.isGarbage(e)),i),n.animate({id:`${e}_${t}_selection_${p}`,groupId:e,phase:"end",from:0,to:1,ease:oC,onStop(){g.cleanup()}}),p++}h(u,u)}function oA(e,t,n,i,r,o,a){const{nodes:s,selections:l}=fC(i),{start:c,finish:u,phase:d}=a;n.animate({id:`${e}_${t}`,groupId:e,phase:d??"update",from:r,to:o,ease:oC,onPlay:()=>{if(c){for(const e of s)e.setProperties(c);for(const e of l)for(const t of e.nodes())t.setProperties(c)}},onUpdate(e){for(const t of s)t.setProperties(e);for(const t of l)for(const n of t.nodes())n.setProperties(e)},onStop:()=>{for(const e of s)e.setProperties({...o,...u});for(const e of l){for(const t of e.nodes())t.setProperties({...o,...u});e.cleanup()}}})}function aA(e,t,n,i){const r=n(e,t);return i.added.has(r)?"added":i.removed.has(r)?"removed":null==e.previousDatum&&null!=e.datum?"added":null!=e.previousDatum&&null==e.datum?"removed":"updated"}var sA={};function lA(e,t){const{nodes:n,selections:i}=fC(e);for(const r of i){for(const e of r.nodes()){const n=t(e,e.datum);e.setProperties(n)}r.cleanup()}for(const r of n){const e=t(r,r.datum);r.setProperties(e)}}hx(sA,{resetMotion:()=>lA});var cA=class e{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.parentNode=e,this.autoCleanup=n,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=wx.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(lS,t)?()=>new t:t}static select(t,n){return new e(t,n,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}static selectAll(e,t){const n=[],i=e=>{if(t(e)&&n.push(e),e instanceof PM)for(const t of e.children())i(t)};return i(e),n}static selectByClass(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e.selectAll(t,e=>i.some(t=>e instanceof t))}static selectByTag(t,n){return e.selectAll(t,e=>e.tag===n)}createNode(e,t,n){const i=this.nodeFactory(e);return i.datum=e,t?.(i),null==n?this._nodes.push(i):this._nodes.splice(n,0,i),this.parentNode.appendChild(i),i}update(e,t,n){if(this.garbageBin.size>0&&this.debug("Selection - update() called with pending garbage",e),n){const i=new Map,r=new Map;for(let t=0;t<e.length;t++){let o=n(e[t]);if(i.has(o)){const e=(r.get(o)??0)+1;r.set(o,e),o=`${o}:${e}`}i.set(o,t)}for(const[t,n]of this._nodesMap.entries()){const r=i.get(n);null==r?this.garbageBin.add(t):(t.datum=e[r],this.garbageBin.delete(t),i.delete(n))}for(const[n,o]of i.entries()){const i=e[o];this._nodesMap.set(this.createNode(i,t,o),n)}}else{const n=Math.max(e.length,this.data.length);for(let i=0;i<n;i++)i>=e.length?this.garbageBin.add(this._nodes[i]):i>=this._nodes.length?this.createNode(e[i],t):(this._nodes[i].datum=e[i],this.garbageBin.delete(this._nodes[i]))}return this.data=e.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return 0===this.garbageBin.size||(this._nodes=this._nodes.filter(e=>!this.garbageBin.has(e)||(this._nodesMap.delete(e),this.garbageBin.delete(e),e.destroy(),!1))),this}clear(){return this.update([]),this}isGarbage(e){return this.garbageBin.has(e)}each(e){for(const t of this._nodes.entries())e(t[1],t[1].datum,t[0]);return this}*[Symbol.iterator](){for(let e=0;e<this._nodes.length;e++){const t=this._nodes[e];yield{node:t,datum:t.datum,index:e}}}select(t){return e.selectAll(this.parentNode,t)}selectByClass(t){return e.selectByClass(this.parentNode,t)}selectByTag(t){return e.selectByTag(this.parentNode,t)}nodes(){return this._nodes}at(e){return this._nodes.at(e)}get length(){return this._nodes.length}},uA=class extends MM{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.fill=void 0,this.strokeWidth=1}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}get midPoint(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}}computeBBox(){return new Sx(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){return(this.x1===this.x2||this.y1===this.y2)&&this.getBBox().clone().grow(this.strokeWidth/2).containsPoint(e,t)}distanceSquared(e,t){const{x1:n,y1:i,x2:r,y2:o}=this;return US(e,t,n,i,r,o,1/0)}render(e){const{ctx:t,devicePixelRatio:n}=e;let{x1:i,y1:r,x2:o,y2:a}=this;if(i===o){const{strokeWidth:e}=this,t=Math.round(i*n)/n+Math.trunc(e*n)%2/(2*n);i=t,o=t}else if(r===a){const{strokeWidth:e}=this,t=Math.round(r*n)/n+Math.trunc(e*n)%2/(2*n);r=t,a=t}t.beginPath(),t.moveTo(i,r),t.lineTo(o,a),this.fillStroke(t),this.fillShadow?.markClean(),super.render(e)}toSVG(){if(!this.visible)return;const e=vy("line");return e.setAttribute("x1",String(this.x1)),e.setAttribute("y1",String(this.y1)),e.setAttribute("x2",String(this.x2)),e.setAttribute("y2",String(this.y2)),this.applySvgStrokeAttributes(e),{elements:[e]}}};uA.className="Line",px([Jx()],uA.prototype,"x1",2),px([Jx()],uA.prototype,"y1",2),px([Jx()],uA.prototype,"x2",2),px([Jx()],uA.prototype,"y2",2);var dA="color: green",hA="color: grey";function pA(){return Ox(()=>{})}function gA(e,t){const n=Px(t);if(0===n.length)return;const i=jx(e);for(const r of n)r in i&&(t[r]=i[r])}var fA=class{transitionRoot(e,t){this.parent?this.parent.transitionRoot(e,t):this.transition(e,t)}},mA=class e extends fA{constructor(e,t,n){super(),this.defaultState=e,this.states=t,this.enterEach=n,this.debug=wx.create(!0,"animation"),this.state=e,this.debug(`%c${this.constructor.name} | init -> ${e}`,dA)}transition(t,n){if(!this.transitionChild(t,n)||this.state===e.child||this.state===e.parent)return;const i=this.state,r=this.states[this.state];let o=r[t];const a=`%c${this.constructor.name} | ${this.state} -> ${t} ->`;if(Array.isArray(o))o=o.find(e=>{if(!e.guard)return!0;const t=e.guard(n);return t||this.debug(`${a} (guarded)`,e.target,hA),t});else if("object"===typeof o&&!(o instanceof e)&&o.guard&&!o.guard(n))return void this.debug(`${a} (guarded)`,o.target,hA);if(!o)return void this.debug(`${a} ${this.state}`,hA);const s=this.getDestinationState(o),l=s===this.state?void 0:r.onExit;this.debug(`${a} ${s}`,dA),this.state=s,"function"===typeof o?o(n):"object"!==typeof o||o instanceof e||o.action?.(n),l?.(),this.enterEach?.(i,s),s!==i&&s!==e.child&&s!==e.parent&&this.states[s].onEnter?.(i,n)}transitionAsync(e,t){setTimeout(()=>{this.transition(e,t)},0)}is(t){return this.state===e.child&&this.childState?this.childState.is(t):this.state===t}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,n){return this.state!==e.child||!this.childState||(gA(this,this.childState),this.childState.transition(t,n),!this.childState.is(e.parent)||(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,dA),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1))}getDestinationState(t){let n=this.state;return"string"===typeof t?n=t:t instanceof e?(this.childState=t,this.childState.parent=this,n=e.child):"object"===typeof t&&(t.target instanceof e?(this.childState=t.target,this.childState.parent=this,n=e.child):null!=t.target&&(n=t.target)),n}};mA.child="__child",mA.parent="__parent";var yA=mA,bA=class extends fA{constructor(){super();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.stateMachines=t;for(const i of t)i.parent=this}transition(e,t){for(const n of this.stateMachines)gA(this,n),n.transition(e,t)}transitionAsync(e,t){for(const n of this.stateMachines)gA(this,n),n.transitionAsync(e,t)}},vA=1e3,xA=6e4,SA=36e5,MA=864e5,wA=6048e5,kA=2592e6,IA=31536e6,CA=(new Date).getTimezoneOffset()*xA,DA={millisecond:{milliseconds:1,hierarchy:"day",encode:e=>e.getTime(),decode:e=>new Date(e)},second:{milliseconds:vA,hierarchy:"day",encode(e,t){const n=t?0:CA;return Math.floor((e.getTime()-n)/vA)},decode:(e,t)=>new Date((t?0:CA)+e*vA)},minute:{milliseconds:xA,hierarchy:"day",encode(e,t){const n=t?0:CA;return Math.floor((e.getTime()-n)/xA)},decode:(e,t)=>new Date((t?0:CA)+e*xA)},hour:{milliseconds:SA,hierarchy:"day",encode(e,t){const n=t?0:CA;return Math.floor((e.getTime()-n)/SA)},decode:(e,t)=>new Date((t?0:CA)+e*SA)},day:{milliseconds:MA,hierarchy:"month",encode(e,t){const n=t?0:e.getTimezoneOffset()*xA;return Math.floor((e.getTime()-n)/MA)},decode(e,t){let n;return t?(n=new Date(0),n.setUTCDate(n.getUTCDate()+e),n.setUTCHours(0,0,0,0)):(n=new Date(1970,0,1),n.setDate(n.getDate()+e)),n}},month:{milliseconds:kA,hierarchy:"year",encode:(e,t)=>t?12*e.getUTCFullYear()+e.getUTCMonth():12*e.getFullYear()+e.getMonth(),decode(e,t){if(t){const t=Math.floor(e/12),n=e-12*t;return new Date(Date.UTC(t,n,1))}{const t=Math.floor(e/12);return new Date(t,e-12*t,1)}}},year:{milliseconds:IA,hierarchy:void 0,encode:(e,t)=>t?e.getUTCFullYear():e.getFullYear(),decode(e,t){let n;return t?(n=new Date,n.setUTCFullYear(e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)):n=new Date(e,0,1,0,0,0,0),n}}};function AA(e){return"string"===typeof e?{unit:e,step:1,epoch:void 0,utc:!1}:{unit:e.unit,step:e.step??1,epoch:e.epoch,utc:e.utc??!1}}function TA(e,t,n,i){if(null==n)return 0;const r=DA[e];return Math.floor(r.encode(new Date(n),i))%t}function LA(e,t,n,i,r){const o=DA[t];return Math.floor((o.encode(new Date(e),i)-r)/n)}function NA(e,t,n,i,r){return DA[t].decode(e*n+r,i)}function EA(e,t,n,i,r){return NA(LA(new Date(e),t,n,i,r),t,n,i,r)}function OA(e,t,n,i,r){return NA(LA(new Date(Number(e)-1),t,n,i,r)+1,t,n,i,r)}function RA(e,t){const{unit:n,step:i,epoch:r,utc:o}=AA(e);return EA(t,n,i,o,TA(n,i,r,o))}function PA(e,t){const{unit:n,step:i,epoch:r,utc:o}=AA(e);return OA(t,n,i,o,TA(n,i,r,o))}function jA(e,t){const{unit:n,step:i,epoch:r,utc:o}=AA(e),a=TA(n,i,r,o);return NA(LA(OA(t,n,i,o,a),n,i,o,a)-1,n,i,o,a)}function zA(e,t){const{unit:n,step:i,epoch:r,utc:o}=AA(e),a=TA(n,i,r,o);return NA(LA(EA(t,n,i,o,a),n,i,o,a)+1,n,i,o,a)}function _A(e,t,n){if(e.valueOf()>t.valueOf()&&([e,t]=[t,e],null!=n&&(n=[1-n[1],1-n[0]])),null!=n){const i=t.valueOf()-e.valueOf(),r=e.valueOf();e=new Date(r+n[0]*i),t=new Date(r+n[1]*i)}return[new Date(e),new Date(t)]}function BA(e,t,n){let{extend:i=!1,visibleRange:r=[0,1],limit:o,defaultAlignment:a="start"}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=AA(e),{unit:l,step:c,utc:u}=s;let d;d=null!=s.epoch?s.epoch:"interval"===a?void 0:t.valueOf()>n.valueOf()?n:t;const h=TA(s.unit,s.step,d,s.utc);let[p,g]=_A(t,n,r);p=i?EA(p,l,c,u,h):OA(p,l,c,u,h),g=i?OA(g,l,c,u,h):EA(g,l,c,u,h);const f=LA(p,l,c,u,h);let m=LA(g,l,c,u,h);return null!=o&&m-f>o&&(m=f+o),{range:[f,m],unit:l,step:c,utc:u,offset:h}}function FA(e,t,n,i){const{range:[r,o]}=BA(e,t,n,i);return Math.abs(o-r)}function $A(e,t,n,i){const{range:[r,o],unit:a,step:s,utc:l,offset:c}=BA(e,t,n,i),u=[];for(let d=r;d<=o;d+=1){const e=NA(d,a,s,l,c);u.push(e)}return u}function VA(e,t,n){let{extend:i,visibleRange:r,limit:o,defaultAlignment:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{range:[s]}=BA(e,t,n,{extend:i,visibleRange:r,limit:o,defaultAlignment:a}),{range:[l]}=BA(e,t,n,{extend:i,limit:o,defaultAlignment:a});return s-l}function GA(e){return"string"===typeof e?e:e.unit}function WA(e){return"string"===typeof e?1:e.step??1}function HA(e){return"string"===typeof e?void 0:e.epoch}function UA(e){return DA[GA(e)].hierarchy}function YA(e){return WA(e)*DA[GA(e)].milliseconds}var KA=class{constructor(){this.enabled=!0}};px([zS],KA.prototype,"enabled",2),px([zS],KA.prototype,"stroke",2),px([zS],KA.prototype,"strokeWidth",2),px([zS],KA.prototype,"strokeOpacity",2);var ZA=class extends _S{constructor(){super(...arguments),this.enabled=!0,this.border=new KA,this._cachedFormatter=void 0}formatValue(e,t,n,i){const{formatter:r,format:o}=this;let a;if(null!=r&&(a??(a=e(r,i))),null!=o){let e=this._cachedFormatter;null!=e&&e.type===t&&e.format===o||(e={type:t,format:o,formatter:eC.getFormatter(t,o)},this._cachedFormatter=e),a??(a=e.formatter?.(n))}return null!=a?String(a):void 0}};function XA(e){const{enabled:t=!1,stroke:n}=e?.border??{},i=null!=e?.fill||t&&null!=n?e?.padding:null;if(null==i)return{bottom:0,left:0,right:0,top:0};if("number"===typeof i)return{bottom:i,left:i,right:i,top:i};{const{bottom:e=0,left:t=0,right:n=0,top:r=0}=i;return{bottom:e,left:t,right:n,top:r}}}function qA(e,t){if(null!=e)return"string"===typeof e?e:Ay(e)&&null!=t?e[GA(t)]:void 0}px([zS],ZA.prototype,"enabled",2),px([zS],ZA.prototype,"border",2),px([zS],ZA.prototype,"color",2),px([zS],ZA.prototype,"cornerRadius",2),px([zS],ZA.prototype,"fill",2),px([zS],ZA.prototype,"fillOpacity",2),px([zS],ZA.prototype,"fontStyle",2),px([zS],ZA.prototype,"fontWeight",2),px([zS],ZA.prototype,"fontSize",2),px([zS],ZA.prototype,"fontFamily",2),px([zS],ZA.prototype,"formatter",2),px([zS],ZA.prototype,"format",2),px([zS],ZA.prototype,"padding",2),px([zS],ZA.prototype,"itemStyler",2);var QA=class{constructor(){this.moduleMap=new Map}*modules(){for(const e of this.moduleMap.values())yield e.moduleInstance}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){const t=Ly(e)?e:e.optionsKey;this.moduleMap.get(t)?.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){return this.moduleMap.get(Ly(e)?e:e.optionsKey)?.moduleInstance}isEnabled(e){return this.moduleMap.has(Ly(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,n)=>e(t.moduleInstance,n))}destroy(){for(const e of this.moduleMap.keys())this.moduleMap.get(e)?.moduleInstance.destroy();this.moduleMap.clear()}},JA=class extends MM{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.horizontal=!1,this.strokeWidth=1}computeBBox(){return new Sx(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){const{ctx:t}=e;let{x1:n,y1:i,x2:r,y2:o}=this;n=this.align(n),i=this.align(i),r=this.align(r),o=this.align(o);const{fill:a,horizontal:s}=this,{globalAlpha:l}=t;null!=a&&(this.applyFillAndAlpha(t),t.beginPath(),t.moveTo(n,i),t.lineTo(r,i),t.lineTo(r,o),t.lineTo(n,o),t.closePath(),t.fill(),t.globalAlpha=l);const{stroke:c,strokeWidth:u,startLine:d,endLine:h}=this;if(!(!d&&!h||!c||!u)){const{lineDash:e,lineDashOffset:a,lineCap:c,lineJoin:p}=this;this.applyStrokeAndAlpha(t),t.lineWidth=u,e&&t.setLineDash([...e]),a&&(t.lineDashOffset=a),c&&(t.lineCap=c),p&&(t.lineJoin=p),t.beginPath(),d&&(t.moveTo(n,i),s?t.lineTo(n,o):t.lineTo(r,i)),h&&(t.moveTo(r,o),s?t.lineTo(r,i):t.lineTo(n,o)),t.stroke(),t.globalAlpha=l}this.fillShadow?.markClean(),super.render(e)}};function eT(e){return Ey(e)||ky(e)||function(e){return null!=e&&Object.hasOwn(e,"valueOf")&&Ey(e.valueOf())}(e)}function tT(e){return function(e){return null!=e&&Object.hasOwn(e,"toString")&&Ly(e.toString())}(e)&&Object.hasOwn(e,"id")?e.id:e}function nT(e){switch(e.type){case"line":return e.value;case"range":return e.range}}function iT(e,t){const n=nT(e);if(null==n)return!1;const i=HC.is(t)||ZC.is(t),r=e=>function(e,t){return null!=e&&(!t||eT(e))}(e,i)&&!isNaN(t.convert(e,{clamp:!0}));if("range"===e.type){const[e,t]=n;return r(e)&&r(t)}return r(n)}JA.className="Range",px([Jx()],JA.prototype,"x1",2),px([Jx()],JA.prototype,"y1",2),px([Jx()],JA.prototype,"x2",2),px([Jx()],JA.prototype,"y2",2),px([Jx()],JA.prototype,"startLine",2),px([Jx()],JA.prototype,"endLine",2),px([Jx()],JA.prototype,"horizontal",2);var rT={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:-1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},oT={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:-1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},aT={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:-1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:-1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},sT={top:{rangeH:0,rangeV:-1,labelH:0,labelV:1},"inside-top":{rangeH:0,rangeV:-1,labelH:0,labelV:-1},"top-left":{rangeH:-1,rangeV:-1,labelH:1,labelV:-1},"inside-top-left":{rangeH:-1,rangeV:-1,labelH:-1,labelV:-1},left:{rangeH:-1,rangeV:0,labelH:1,labelV:0},"inside-left":{rangeH:-1,rangeV:0,labelH:-1,labelV:0},"bottom-left":{rangeH:-1,rangeV:1,labelH:1,labelV:1},"inside-bottom-left":{rangeH:-1,rangeV:1,labelH:-1,labelV:1},bottom:{rangeH:0,rangeV:1,labelH:0,labelV:-1},"inside-bottom":{rangeH:0,rangeV:1,labelH:0,labelV:1},"bottom-right":{rangeH:1,rangeV:1,labelH:-1,labelV:1},"inside-bottom-right":{rangeH:1,rangeV:1,labelH:1,labelV:1},right:{rangeH:1,rangeV:0,labelH:-1,labelV:0},"inside-right":{rangeH:1,rangeV:0,labelH:1,labelV:0},"top-right":{rangeH:1,rangeV:-1,labelH:-1,labelV:-1},"inside-top-right":{rangeH:1,rangeV:-1,labelH:1,labelV:-1},inside:{rangeH:0,rangeV:0,labelH:0,labelV:0}},lT=class extends _S{constructor(){super(...arguments),this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};px([zS],lT.prototype,"enabled",2),px([zS],lT.prototype,"text",2),px([zS],lT.prototype,"fontStyle",2),px([zS],lT.prototype,"fontWeight",2),px([zS],lT.prototype,"fontSize",2),px([zS],lT.prototype,"fontFamily",2),px([zS],lT.prototype,"padding",2),px([zS],lT.prototype,"color",2),px([zS],lT.prototype,"position",2),px([zS],lT.prototype,"rotation",2),px([zS],lT.prototype,"parallel",2);var cT=class extends _S{constructor(){super(),this.id=Kv(this),this.defaultColorRange=[],this.fill="#c16068",this.label=new lT,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.position="top",this.rangeGroup=new PM({name:this.id}),this.lineGroup=new PM({name:this.id}),this.labelGroup=new PM({name:this.id}),this.crossLineRange=new JA,this.crossLineLabel=new Qw,this.data=void 0,this.startLine=!1,this.endLine=!1,this._isRange=void 0,this.lineGroup.append(this.crossLineRange),this.labelGroup.append(this.crossLineLabel),this.crossLineRange.pointerEvents=1}get defaultLabelPosition(){return"top"}update(e){const{enabled:t,type:n,data:i,scale:r}=this;if(!r||!t||!e||!iT(this,r)||null==i)return this.rangeGroup.visible=!1,this.lineGroup.visible=!1,void(this.labelGroup.visible=!1);this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateNodes();const o="range"===n;o!==this._isRange&&(o?this.rangeGroup.appendChild(this.crossLineRange):this.lineGroup.appendChild(this.crossLineRange)),this._isRange=o}calculateLayout(e){if(this.data=void 0,!e)return;const{type:t,range:n,value:i,scale:r,clippedRange:o,strokeWidth:a=0}=this;if(!r)return;const s=r.bandwidth??0,l=r.step??0,c=r instanceof KC?(l-s)/2:0;let u,d,h,p,[g,f]=FC(o);if(g-=s,f+=s,"line"===t){const e=s/2;if(u=r.convert(i)+e,d=NaN,h=r.convert(i,{clamp:!0})+e,p=NaN,h>=f||h<=g)return}else{if(!n)return;{const[e,t]=n,[i,o]=iD(e,t);if(u=r.convert(e,{alignment:i}),d=r.convert(t,{alignment:o}),h=r.convert(e,{clamp:!0,alignment:i}),p=r.convert(t,{clamp:!0,alignment:o}),h>p&&([h,p]=[p,h],[u,d]=[d,u]),h>=f||p<=g)return;Number.isFinite(u)&&(h-=c),Number.isFinite(d)&&(d+=s,p+=s+c)}}h=BC(h,o),p=BC(p,o),u-c>=h&&(u-=c),d+c<=p&&(d+=c),this.startLine=a>0&&u>=h&&u<=h+c,this.endLine=a>0&&d>=p-s-c&&d<=p,this.data=[h,p],!1!==this.label.enabled&&this.label.text}updateNodes(){const{position:e,data:[t,n]=[0,0],gridLength:i}=this,r=Number.isFinite(n)?n-t:0;let o;switch(e){case"top":case"bottom":o=new Sx(t,"top"===e?0:-i,r,i);break;case"left":case"right":o=new Sx("left"===e?0:-i,t,i,r)}this.updateRangeNode(o);const{label:a}=this;!1!==a.enabled&&a.text&&(this.updateLabel(),this.positionLabel(o))}updateRangeNode(e){const{type:t,position:n,crossLineRange:i,startLine:r,endLine:o,fill:a,fillOpacity:s,stroke:l,strokeWidth:c,strokeOpacity:u,lineDash:d}=this;i.x1=e.x,i.x2=e.x+e.width,i.y1=e.y,i.y2=e.y+e.height,i.horizontal="top"===n||"bottom"===n,i.startLine=r,i.endLine=o,i.fill="range"===t?a:void 0,i.fillOpacity=s??1,i.stroke=l,i.strokeWidth=c??1,i.strokeOpacity=u??1,i.lineDash=d}updateLabel(){const{crossLineLabel:e,label:t}=this;t.text&&(e.fontStyle=t.fontStyle,e.fontWeight=t.fontWeight,e.fontSize=t.fontSize,e.fontFamily=t.fontFamily,e.fill=t.color,e.text=t.text)}get anchor(){const e="left"===this.position||"right"===this.position,t="range"===this.type,{position:n=this.defaultLabelPosition}=this.label;if(t){return(e?aT:sT)[n]}return(e?rT:oT)[n]}positionLabel(e){const{crossLineLabel:t,label:n,anchor:i}=this;t.rotation=fS(n.rotation??0),t.textBaseline="middle",t.textAlign="center";const r=t.getBBox();if(!r)return;const{width:o,height:a}=r,s=n.padding+o/2,l=n.padding+a/2,c=e.x+e.width*(i.rangeH+1)/2-s*i.labelH,u=e.y+e.height*(i.rangeV+1)/2-l*i.labelV;t.x=c,t.y=u,t.rotationCenterX=c,t.rotationCenterY=u}computeLabelSize(){const{label:e}=this;if(!1===e.enabled||!e.text)return;const t=new Qw;t.fontFamily=e.fontFamily,t.fontSize=e.fontSize,t.fontStyle=e.fontStyle,t.fontWeight=e.fontWeight,t.text=e.text,t.rotation=fS(e.rotation??0),t.textBaseline="middle",t.textAlign="center";const n=t.getBBox();if(!n)return;const{width:i,height:r}=n;return{width:i,height:r}}calculatePadding(e){const{label:t,anchor:n}=this,i=this.computeLabelSize();if(!i)return;const{width:r,height:o}=i,a=t.padding+r,s=t.padding+o,l="left"===this.position||"right"===this.position;l&&(-1===n.rangeH&&1===n.labelH?e.left=Math.max(e.left??0,a):1===n.rangeH&&-1===n.labelH&&(e.right=Math.max(e.right??0,a))),l||(-1===n.rangeV&&1===n.labelV?e.top=Math.max(e.top??0,s):1===n.rangeV&&-1===n.labelV&&(e.bottom=Math.max(e.bottom??0,s)))}};cT.className="CrossLine",px([zS],cT.prototype,"enabled",2),px([zS],cT.prototype,"type",2),px([zS],cT.prototype,"range",2),px([zS],cT.prototype,"value",2),px([zS],cT.prototype,"defaultColorRange",2),px([zS],cT.prototype,"fill",2),px([zS],cT.prototype,"fillOpacity",2),px([zS],cT.prototype,"stroke",2),px([zS],cT.prototype,"strokeWidth",2),px([zS],cT.prototype,"strokeOpacity",2),px([zS],cT.prototype,"lineDash",2),px([zS],cT.prototype,"label",2);var uT=class{constructor(){this.enabled=!0,this.width=1,this.style=[{fill:void 0,fillOpacity:1,stroke:void 0,strokeWidth:void 0,lineDash:[]}]}};px([zS],uT.prototype,"enabled",2),px([zS],uT.prototype,"width",2),px([zS],uT.prototype,"style",2);var dT=class extends _S{};px([zS],dT.prototype,"placement",2),px([zS],dT.prototype,"step",2),px([zS],dT.prototype,"values",2),px([zS],dT.prototype,"minSpacing",2),px([zS],dT.prototype,"maxSpacing",2);var hT=class extends _S{constructor(){super(...arguments),this.enabled=!0,this.border=new KA,this.wrapping="never",this.truncate=!1,this.spacing=5,this.color="#575757",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1,this._formatters={"component:year":void 0,"component:month":void 0,"component:day":void 0,"component:none":void 0,"long:year":void 0,"long:month":void 0,"long:day":void 0,"long:none":void 0}}getSideFlag(){return this.mirrored?1:-1}formatValue(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{dateStyle:"long",truncateDate:void 0};const{formatter:r,format:o}=this,{type:a,value:s,domain:l,boundSeries:c}=t,u="number"===t.type?t.fractionDigits:void 0,d="date"===t.type?t.unit:void 0;let h;if(null!=r){h=e(r,{value:s,index:n,domain:l,fractionDigits:u,unit:d,step:"date"===t.type?t.step:void 0,boundSeries:c})}if(null!=o&&null==h){const{specifier:e,dateStyle:t,truncateDate:n}=i,r=`${t}:${n??"none"}`;let l=this._formatters[r];const c=eC.mergeSpecifiers(e,o);null!=l&&l.type===a&&l.unit===d&&zx(l.mergedFormat,c)||(l={type:a,mergedFormat:c,unit:d,formatter:eC.getFormatter(a,c,d,t,i)},this._formatters[r]=l),h=l.formatter?.(s,u)}return null!=h?String(h):void 0}};px([zS],hT.prototype,"enabled",2),px([zS],hT.prototype,"border",2),px([zS],hT.prototype,"cornerRadius",2),px([zS],hT.prototype,"fill",2),px([zS],hT.prototype,"fillOpacity",2),px([zS],hT.prototype,"fontStyle",2),px([zS],hT.prototype,"fontWeight",2),px([zS],hT.prototype,"fontSize",2),px([zS],hT.prototype,"fontFamily",2),px([zS],hT.prototype,"wrapping",2),px([zS],hT.prototype,"truncate",2),px([zS],hT.prototype,"spacing",2),px([zS],hT.prototype,"minSpacing",2),px([zS],hT.prototype,"color",2),px([zS],hT.prototype,"rotation",2),px([zS],hT.prototype,"avoidCollisions",2),px([zS],hT.prototype,"mirrored",2),px([zS],hT.prototype,"padding",2),px([zS],hT.prototype,"parallel",2),px([zS],hT.prototype,"itemStyler",2),px([zS],hT.prototype,"formatter",2),px([zS],hT.prototype,"format",2);var pT=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};px([zS],pT.prototype,"enabled",2),px([zS],pT.prototype,"width",2),px([zS],pT.prototype,"stroke",2);var gT=class extends _S{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};px([zS],gT.prototype,"enabled",2),px([zS],gT.prototype,"width",2),px([zS],gT.prototype,"size",2),px([zS],gT.prototype,"stroke",2);var fT=class extends _S{constructor(){super(...arguments),this.caption=new ck,this.enabled=!1,this.spacing=ck.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};px([zS],fT.prototype,"enabled",2),px([zS],fT.prototype,"text",2),px([zS],fT.prototype,"spacing",2),px([zS],fT.prototype,"fontStyle",2),px([zS],fT.prototype,"fontWeight",2),px([zS],fT.prototype,"fontSize",2),px([zS],fT.prototype,"fontFamily",2),px([zS],fT.prototype,"color",2),px([zS],fT.prototype,"wrapping",2),px([zS],fT.prototype,"formatter",2);var mT=(e=>(e[e.TickAndDomain=0]="TickAndDomain",e[e.TicksOnly=1]="TicksOnly",e[e.Off=2]="Off",e))(mT||{});function yT(e){const[t,n]=FC(e.range),i=Math.floor(t),r=Math.ceil(n);return{min:i,max:r,visible:i!==r}}var bT=2*Math.PI,vT=bT/2;function xT(e){const{min:t,max:n}=e,i=e=>e<t||e>n,r={fromFn(e,t,n){let{x1:r,x2:o,y1:a,y2:s}=e,l=e.opacity;return("added"===n||i(t.offset))&&(({x1:r,x2:o,y1:a,y2:s}=t),l=0),{x1:r,x2:o,y1:a,y2:s,opacity:l,phase:iA[n]}},toFn(e,t,n){const{x1:i,x2:r,y1:o,y2:a}=t;let s=1;return"removed"===n&&(s=0),{x1:i,x2:r,y1:o,y2:a,opacity:s}},applyFn(e,t){e.setProperties(t),e.visible=!i(e.y)}},o={fromFn(e,t,n){const r=e.previousDatum??t;let{x:o,y:a,rotationCenterX:s,rotationCenterY:l,rotation:c}=r,u=e.opacity;return"removed"===n||i(r.y)?c=t.rotation:("added"===n||i(e.datum.y))&&(({x:o,y:a,rotationCenterX:s,rotationCenterY:l,rotation:c}=t),u=0),{x:o,y:a,rotationCenterX:s,rotationCenterY:l,rotation:c,opacity:u,phase:iA[n]}},toFn(e,t,n){const{x:i,y:r,rotationCenterX:o,rotationCenterY:a}=t;let s=0,l=1;var c,u;return"added"===n?s=t.rotation:"removed"===n?(l=0,s=t.rotation):(c=e.previousDatum?.rotation??t.rotation,u=t.rotation,s=Math.abs(u-c)<vT?u:c>u?u+bT:u-bT),{x:i,y:r,rotationCenterX:o,rotationCenterY:a,rotation:s,opacity:l,finish:{rotation:t.rotation}}}},a={fromFn(e,t){const{x1:n,x2:i,y1:r,y2:o}=e.previousDatum??t;return{x1:n,x2:i,y1:r,y2:o,phase:iA.updated}},toFn(e,t){const{x1:n,x2:i,y1:r,y2:o}=t;return{x1:n,x2:i,y1:r,y2:o}}},s={fromFn(e,t){const{translationX:n,translationY:i}=e;return{translationX:n,translationY:i,phase:iA.updated}},toFn(e,t){const{translationX:n,translationY:i}=t;return{translationX:n,translationY:i}}};return{tick:r,line:a,label:o,group:s}}function ST(){return(e,t)=>({translationX:t.translationX,translationY:t.translationY})}function MT(){return(e,t)=>({x:t.x,y:t.y,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,rotation:t.rotation})}function wT(){return(e,t)=>{const{x1:n,x2:i,y1:r,y2:o}=t;return{x1:n,x2:i,y1:r,y2:o}}}function kT(){return(e,t)=>{const{x1:n,x2:i,y1:r,y2:o}=t;return{x:n,y:r,width:i-n,height:o-r}}}var IT=(e=>(e[e.TickLines=0]="TickLines",e[e.AxisLine=1]="AxisLine",e[e.TickLabels=2]="TickLabels",e))(IT||{});function CT(e,t){return e.domain===t.domain&&e.rangeExtent===t.rangeExtent&&e.nice===t.nice&&e.gridLength===t.gridLength&&e.visibleRange[0]===t.visibleRange[0]&&e.visibleRange[1]===t.visibleRange[1]&&e.initialPrimaryTickCount?.unzoomed===t.initialPrimaryTickCount?.unzoomed&&e.initialPrimaryTickCount?.zoomed===t.initialPrimaryTickCount?.zoomed}var DT=class e{constructor(t,n){this.moduleCtx=t,this.scale=n,this.id=Kv(this),this._crossLines=[],this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new dT,this.dataDomain={domain:[],clipped:!1},this.title=new fT,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new PM({name:`${this.id}-axis`}),this.tickLineGroup=this.axisGroup.appendChild(new BM({name:`${this.id}-Axis-tick-lines`,zIndex:0})),this.tickLabelGroup=this.axisGroup.appendChild(new BM({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.labelGroup=new PM({name:`${this.id}-Labels`,zIndex:11}),this.gridGroup=new _M({name:`${this.id}-Axis-grid`,zIndex:2}),this.gridFillGroup=this.gridGroup.appendChild(new PM({name:`${this.id}-gridFills`})),this.gridLineGroup=this.gridGroup.appendChild(new PM({name:`${this.id}-gridLines`})),this.crossLineRangeGroup=new BM({name:`${this.id}-CrossLines-Range`,zIndex:6}),this.crossLineLineGroup=new BM({name:`${this.id}-CrossLines-Line`,zIndex:10}),this.crossLineLabelGroup=new BM({name:`${this.id}-CrossLines-Label`,zIndex:15}),this.tickLabelGroupSelection=cA.select(this.tickLabelGroup,Qw,!1),this.line=new pT,this.tick=new gT,this.gridLine=new uT,this.label=this.createLabel(),this.defaultTickMinSpacing=e.defaultTickMinSpacing,this.translation={x:0,y:0},this.layout={label:{fractionDigits:0,spacing:this.label.spacing,format:this.label.format}},this.axisContext=void 0,this.cleanup=new Nv,this.isHovering=!1,this.range=[0,1],this.visibleRange=[0,1],this.animatable=!0,this.tickLayout=void 0,this.formatterBoundSeries=new Lv(()=>{const{direction:e,boundSeries:t}=this;return Zx(t.flatMap(t=>t.getFormatterContext(e)))}),this.moduleMap=new QA,this.range=this.scale.range.slice(),this.crossLines.forEach(e=>this.initCrossLine(e)),this.cleanup.register(this.moduleCtx.widgets.containerWidget.addListener("mousemove",e=>this.onMouseMove(e)))}set crossLines(e){const{CrossLineConstructor:t}=this.constructor;this._crossLines.forEach(e=>this.detachCrossLine(e)),this._crossLines=e.map(e=>{const n=new t;return n.set(e),n}),this._crossLines.forEach(e=>{this.attachCrossLine(e),this.initCrossLine(e)})}get crossLines(){return this._crossLines}get type(){return this.constructor.type??""}get primaryLabel(){}get primaryTick(){}isCategoryLike(){return!1}resetAnimation(e){}onMouseMove(e){const t=this.tickLabelGroup.pickNode(e.currentX,e.currentY),n=t?.datum,{textUntruncated:i}=n??{};null!=i?(this.moduleCtx.tooltipManager.updateTooltip(this.id,{canvasX:e.currentX,canvasY:e.currentY,showArrow:!1},[{type:"structured",title:i}]),this.isHovering=!0):this.isHovering&&(this.moduleCtx.tooltipManager.removeTooltip(this.id),this.isHovering=!1)}attachCrossLine(e){this.crossLineRangeGroup.appendChild(e.rangeGroup),this.crossLineLineGroup.appendChild(e.lineGroup),this.crossLineLabelGroup.appendChild(e.labelGroup)}detachCrossLine(e){this.crossLineRangeGroup.removeChild(e.rangeGroup),this.crossLineLineGroup.removeChild(e.lineGroup),this.crossLineLabelGroup.removeChild(e.labelGroup)}destroy(){this.moduleMap.destroy(),this.cleanup.flush()}setScaleRange(e){const{range:t,scale:n}=this,i=(t[1]-t[0])/(e[1]-e[0]),r=i*e[0],o=t[0]-r;n.range=[o,o+i]}updateScale(){const{range:[e,t]}=this;this.setScaleRange(this.visibleRange),this.crossLines.forEach(n=>{n.clippedRange=[e,t]})}setCrossLinesVisible(e){this.crossLineRangeGroup.visible=e,this.crossLineLineGroup.visible=e,this.crossLineLabelGroup.visible=e}attachAxis(e){e.gridNode.appendChild(this.gridGroup),e.axisNode.appendChild(this.axisGroup),e.labelNode.appendChild(this.labelGroup),e.crossLineRangeNode.appendChild(this.crossLineRangeGroup),e.crossLineLineNode.appendChild(this.crossLineLineGroup),e.crossLineLabelNode.appendChild(this.crossLineLabelGroup)}detachAxis(e){e.gridNode.removeChild(this.gridGroup),e.axisNode.removeChild(this.axisGroup),e.labelNode.removeChild(this.labelGroup),e.crossLineRangeNode.removeChild(this.crossLineRangeGroup),e.crossLineLineNode.removeChild(this.crossLineLineGroup),e.crossLineLabelNode.removeChild(this.crossLineLabelGroup)}attachLabel(e){this.labelGroup.append(e)}inRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const[n,i]=FC(this.range);return e>=n-t&&e<=i+t}getRangeOverflow(e){const{range:t,visibleRange:n}=this,i=(t[1]-t[0])/(n[1]-n[0]),[r,o]=FC([t[0]-i*n[0],t[0]-i*n[0]+i]);return e<r?e-r:e>o?e-o:0}createDatumFormatter(e,t){}onGridLengthChange(e,t){t^e&&this.onGridVisibilityChange(),this.crossLines.forEach(e=>this.initCrossLine(e))}onGridVisibilityChange(){}createLabel(){return new hT}update(){this.formatterBoundSeries.clear(),this.updatePosition(),this.updateSelections(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled,this.updateLabels(),this.updateCrossLines()}getLabelStyles(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.label;const i={border:n.border,color:n.color,cornerRadius:n.cornerRadius,fill:n.fill,fillOpacity:n.fillOpacity,fontFamily:n.fontFamily,fontSize:n.fontSize,fontStyle:n.fontStyle,fontWeight:n.fontWeight,padding:n.padding,spacing:n.spacing};let r;n.itemStyler&&(r=this.cachedCallWithContext(n.itemStyler,{...e,...i}));const o=Bx(r,t,i);return{border:o.border,color:o.color,cornerRadius:o.cornerRadius,fill:o.fill,fillOpacity:o.fillOpacity,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,padding:o.padding,spacing:o.spacing}}getTickSize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tick;return e.enabled?e.size:0}processData(){this.invalidateLayoutCache();const{includeInvisibleDomains:e,boundSeries:t,direction:n}=this,i=(e?t:t.filter(e=>e.isEnabled())).map(e=>e.getDomain(n));this.setDomains(...i)}setDomains(){let e,t;arguments.length>0?({domain:e,animatable:t}=this.scale.normalizeDomains(...arguments)):(e=[],t=!0),this.dataDomain=this.normaliseDataDomain(e),this.reverse&&this.dataDomain.domain.reverse(),this.animatable=t}calculateDomain(e){const{dataDomain:{domain:t},range:n,nice:i,scale:r,gridLength:o}=this,a=$C(n),s=[0,1];this.updateScale();const{unzoomedTickLayoutCache:l}=this;let c;if(null!=l&&CT(l,{domain:t,rangeExtent:a,nice:i,gridLength:o,visibleRange:s,initialPrimaryTickCount:e}))c=l.tickLayout;else{const n=r.range;this.setScaleRange([0,1]);const l=i?0:2;c=this.calculateTickLayout(t,l,[0,1],e),r.range=n,this.unzoomedTickLayoutCache={domain:t,rangeExtent:a,nice:i,gridLength:o,visibleRange:s,initialPrimaryTickCount:e,tickLayout:c}}return this.updateScale(),r.domain=c.niceDomain,{unzoomedTickLayout:c,domain:r.domain}}calculateLayout(e,t){this.chartLayout=t;const{visibleRange:n,nice:i}=this,r=0===n[0]&&1===n[1],{unzoomedTickLayout:o,domain:a}=this.calculateDomain(e);let s;if(r)s=o;else{const{range:t,gridLength:r}=this,o=$C(t),l=i?1:2,{tickLayoutCache:c}=this;null!=c&&CT(c,{domain:a,rangeExtent:o,nice:i,gridLength:r,visibleRange:n,initialPrimaryTickCount:e})?s=c.tickLayout:(s=this.calculateTickLayout(a,l,n,e),this.tickLayoutCache={domain:a,rangeExtent:o,nice:i,gridLength:r,visibleRange:n,initialPrimaryTickCount:e,tickLayout:s})}const{rawTickCount:l=0,fractionDigits:c,bbox:u}=s,d=o.rawTickCount??0,h=0!==l&&0!==d?{zoomed:l,unzoomed:d}:void 0;return this.tickLayout=s.layout,this.layout.label={fractionDigits:c,spacing:this.label.spacing,format:this.label.format},this.layoutCrossLines(),{primaryTickCount:h,bbox:u}}invalidateLayoutCache(){this.unzoomedTickLayoutCache=void 0,this.tickLayoutCache=void 0,this.tickLayout=void 0}updateCrossLines(){const e=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(t=>{t.update(e)})}updatePosition(){const{crossLineRangeGroup:e,crossLineLineGroup:t,crossLineLabelGroup:n,gridGroup:i,translation:r}=this,o=Math.floor(r.x),a=Math.floor(r.y);i.setProperties({translationX:o,translationY:a}),e.setProperties({translationX:o,translationY:a}),t.setProperties({translationX:o,translationY:a}),n.setProperties({translationX:o,translationY:a})}tickFormatter(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"long";const{moduleCtx:a,label:s}=this,{formatManager:l}=a,c=n?this.primaryLabel:void 0,u=this.tickFormatParams(e,t,i,r),d=this.formatterBoundSeries.get();let h,p,g;if("number"===u.type)h=u.fractionDigits;else if("date"===u.type){const{unit:e,step:t,epoch:n}=u;p={unit:e,step:t,epoch:n},g=u.truncateDate}const f=this.uncachedCallWithContext.bind(this),m={datum:void 0,seriesId:void 0,legendItemName:void 0,key:void 0,source:"axis-label",property:this.direction,domain:e,boundSeries:d},y=c??s,b=n?s.format:void 0,v={specifier:eC.mergeSpecifiers(c?.format,s.format),truncateDate:g};return(e,t)=>{const n=this.datumFormatParams(e,m,h,p,o);return n.value=e,y.formatValue(f,n,t,{specifier:b,dateStyle:o,truncateDate:g})??l.format(f,n,v)??l.defaultFormat(n,v)}}formatDatum(e,t,n,i,r,o,a,s,l,c){if(null==t)return"";const{moduleCtx:u,direction:d,dataDomain:h}=this;s??(s=h.domain);const{formatManager:p}=u,g=this.formatterBoundSeries.get();let f;switch(n){case"crosshair":case"annotation-label":f=this.layout.label.fractionDigits+1;break;case"series-label":f=2;break;case"tooltip":f=3;break;case"legend-label":f=void 0}const m=this.datumFormatParams(t,{source:n,datum:o,seriesId:i,legendItemName:r,key:a,property:d,domain:s,boundSeries:g},f,void 0,"long"),{type:y,value:b}=m,v=this.createCallWithContext(e),x=l?.formatValue(v,y,b,c??m)??p.format(v,m)??this.label.formatValue(v,m,NaN)??p.defaultFormat(m);return String(x)}getBBox(){return this.axisGroup.getBBox()}initCrossLine(e){e.scale=this.scale,e.gridLength=this.gridLength}hasVisibleSeries(){return this.boundSeries.some(e=>e.isEnabled())}clipTickLines(e,t,n,i){this.tickLineGroup.setClipRect(new Sx(e,t,n,i))}clipGrid(e,t,n,i){this.gridGroup.setClipRect(new Sx(e,t,n,i))}getTitleFormatterParams(e){const{direction:t}=this;return{domain:e,direction:t,boundSeries:this.formatterBoundSeries.get(),defaultValue:this.title?.text}}normaliseDataDomain(e){return{domain:[...e],clipped:!1}}getLayoutState(){return{id:this.id,rect:this.getBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale,...this.layout}}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),{...this.moduleCtx,parent:this.axisContext}}createAxisContext(){const{scale:e}=this;return{axisId:this.id,scale:this.scale,direction:this.direction,continuous:HC.is(e)||ZC.is(e),getCanvasBounds:()=>OM.toCanvas(this.axisGroup),seriesKeyProperties:()=>this.boundSeries.reduce((e,t)=>(t.getKeyProperties(this.direction).forEach(t=>e.add(t)),e),new Set),seriesIds:()=>this.boundSeries.map(e=>e.id),scaleInvert:t=>e.invert(t,!0),scaleInvertNearest:t=>e.invert(t,!0),formatScaleValue:(e,t,n)=>this.formatDatum(void 0,e,t,void 0,void 0,void 0,void 0,void 0,n),attachLabel:e=>this.attachLabel(e),inRange:(e,t)=>this.inRange(e,t),getRangeOverflow:e=>this.getRangeOverflow(e),pickBand:e=>this.pickBand(e)}}pickBand(e){if(!KC.is(this.scale))return;const{scale:t,range:n}=this,i=t.invert(this.isVertical()?e.y:e.x,!0),r=t.bandwidth??0,o=((t.step??0)-r)/2,a=t.convert(i),s=a-o,l=a+r+o;return{id:this.id,value:i,band:[BC(s,n),BC(l,n)],position:a}}isVertical(){return"y"===this.direction}isReversed(){return this.reverse}cachedCallWithContext(e){const{callbackCache:t,chartService:n}=this.moduleCtx;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return t.call([this,n],e,...r)}uncachedCallWithContext(e){const{chartService:t}=this.moduleCtx;for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return $M([this,t],e,...i)}createCallWithContext(e){var t=this;const{chartService:n}=this.moduleCtx;return function(i){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return $M([e,t,n],i,...o)}}};DT.defaultTickMinSpacing=50,DT.CrossLineConstructor=cT,px([zS],DT.prototype,"nice",2),px([zS],DT.prototype,"reverse",2),px([zS],DT.prototype,"keys",2),px([zS],DT.prototype,"interval",2),px([zS],DT.prototype,"title",2),px([uw((e,t,n)=>e.onGridLengthChange(t,n))],DT.prototype,"gridLength",2);var AT=DT;function TT(e){return e instanceof Date?e.getTime():e}function LT(e){return e<vA?"millisecond":e<xA?"second":e<SA?"minute":e<828e5?"hour":e<24192e5?"day":e<IA?"month":"year"}function NT(e){if(0===e.length)return"millisecond";if(1===e.length)return ET(e[0]);let t=1/0;for(let n=1;n<e.length;n++)t=Math.min(t,Math.abs(e[n].valueOf()-e[n-1].valueOf()));return LT(t)}function ET(e){return RA("second",e)<e?"millisecond":RA("minute",e)<e?"second":RA("hour",e)<e?"minute":RA("day",e)<e?"hour":RA("month",e)<e?"day":RA("year",e)<e?"month":"year"}function OT(e){const[t,n]=0===e.length?[0,0]:FC([e[0].valueOf(),e[e.length-1].valueOf()]);if(new Date(t).getFullYear()!==new Date(n).getFullYear())return;if(new Date(t).getMonth()!==new Date(n).getMonth())return"year";return new Date(t).getDate()!==new Date(n).getDate()?"month":"day"}function RT(e,t,n){if(null==n||0===n[0]&&1===n[1])return{ticks:e,count:e.length,firstTickIndex:0};const i=Ev(0,Math.floor(n[0]*e.length),e.length),r=Ev(0,Math.ceil(n[1]*e.length),e.length),o=t?e.length-r:i,a=t?e.length-i:r;return{ticks:e.slice(o,a),count:e.length,firstTickIndex:o}}var PT=class e extends KC{constructor(){super(...arguments),this.type="category",this.defaultTickCount=0,this.index=new Map,this.indexInitialized=!1,this._domain=[]}static is(t){return t instanceof e}set domain(e){this._domain!==e&&(this.invalid=!0,this._domain=e,this.index.clear(),this.indexInitialized=!1)}get domain(){return this._domain}get bands(){return this._domain}normalizeDomains(){let e;const t=new Set;let n=!0;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];for(const a of r)t.has(a)||(t.add(a),null==e?e=jT(a):(n&&(n=zT(a,e)),e=jT([...e,...a])));return e??(e=[]),{domain:e,animatable:n}}toDomain(e){}invert(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.refresh();const n=t?this.bandwidth/2:0,i=this.invertNearestIndex(Math.max(0,e-n));return t||e===this.ordinalRange(i)?this.domain[i]:void 0}ticks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.domain,n=arguments.length>2?arguments[2]:void 0;const{bands:i}=this;let{tickCount:r}=e;if(0===r){const e=i.length>1?1:0;return{ticks:[i[e]],count:void 0,firstTickIndex:e}}let o=null!=r&&0!==r?i.length/r|0:1;if(o=GC(o),o<=1)return RT(t,!1,n);r=i.length/o|0;const a=o*r,s=GC((i.length-a)/2|0),l=Ev(0,Math.floor((n?.[0]??0)*i.length),i.length),c=Ev(0,Math.ceil((n?.[1]??1)*i.length),i.length),u=Math.floor((l-s)/o)*o+s,d=Math.ceil((c-s)/o)*o+s,h=[];for(let g=u;g<d;g+=o)g>=0&&g<i.length&&h.push(i[g]);let p=h.length>0?this.findIndex(h[0]):void 0;return null!=p&&(p=Math.floor((p-s)/o)),{ticks:h,count:void 0,firstTickIndex:p}}findIndex(e){const{index:t,indexInitialized:n}=this;if(!n){const{domain:e}=this;for(let n=0;n<e.length;n++)t.set(TT(e[n]),n);this.indexInitialized=!0}return t.get(TT(e))}};function jT(e){let t;const n=new Set;for(const i of e){const r=TT(i),o=n.size;n.add(r);n.size!==o?t?.push(i):t??(t=e.slice(0,n.size))}return t??e}function zT(e,t){let n=-1;for(const i of e){const e=t.indexOf(i);if(-1===e)n=1/0;else{if(e<=n)return!1;n=e}}return!0}function _T(e,t){return e.valueOf()-t.valueOf()}function BT(e){const t=e.slice().sort(_T);return null==FT(t)?function(e){let t=NaN;const n=[];for(const i of e){const e=i.valueOf();t!==e&&n.push(i),t=e}return n}(t):t}function FT(e){if(0===e.length)return 1;const t=Number(e[e.length-1])>Number(e[0])?1:-1;let n=-1/0*t;for(const i of e){const e=i.valueOf();if(Math.sign(e-n)!==t)return;n=e}return t}var $T=(e,t)=>({duration:YA(e)*t,timeInterval:e,step:t}),VT=[$T({unit:"second"},1),$T({unit:"second"},5),$T({unit:"second"},15),$T({unit:"second"},30),$T({unit:"minute"},1),$T({unit:"minute"},5),$T({unit:"minute"},15),$T({unit:"minute"},30),$T({unit:"hour"},1),$T({unit:"hour"},3),$T({unit:"hour"},6),$T({unit:"hour"},12),$T({unit:"day"},1),$T({unit:"day"},2),$T({unit:"day",step:7},1),$T({unit:"day",step:7},2),$T({unit:"day",step:7},3),$T({unit:"month"},1),$T({unit:"month"},2),$T({unit:"month"},3),$T({unit:"month"},4),$T({unit:"month"},6),$T({unit:"year"},1)],GT=[1,2,5,10];function WT(e,t){return Math.abs(Math.round(e)-e)<t}function HT(e,t,n){return Math.abs(t-e)>=n?Math.abs(t-e)/n+1:1}function UT(e,t,n,i,r,o){if(e===t)return{ticks:[e],count:1,firstTickIndex:0};if(n<2)return{ticks:[e,t],count:2,firstTickIndex:0};const a=qT(e,t,n,i,r);if(!Number.isFinite(a))return{ticks:[],count:0,firstTickIndex:void 0};let s=e,l=t;if(WT(s/a,1e-12)||(s=Math.ceil(s/a)*a),WT(l/a,1e-12)||(l=Math.floor(l/a)*a),null!=o){const n=l-s,i=t-e;o=[(e+i*o[0]-s)/n,(e+i*o[1]-s)/n]}const{ticks:c}=eL(s,l,a,o),u=c.at(0);return{ticks:c,count:HT(s,l,a),firstTickIndex:null==u?void 0:Math.round((u-s)/a)}}var YT=Math.floor(4.666666666666667)/10;function KT(e){let{timeInterval:t,step:n}=e;const i=YA(t)*n,r=UA(t);return i<=((r?YA(r):void 0)??1/0)*YT}function ZT(e,t){let{weekStart:n}=t;if("day"===e.unit&&7===e.step)return n}function XT(e,t,n,i,r,o){let{weekStart:a,primaryOnly:s=!1,targetInterval:l}=o;if(n<=0)return;const c=l??Math.abs(t-e)/Math.max(n,1),u=VT.findLast(e=>(!s||KT(e))&&c>e.duration),d=VT.find(e=>(!s||KT(e))&&c<=e.duration);if(null==u){return{unit:"millisecond",step:Math.max(qT(e,t,n,i,r),1)}}if(null==d){return{unit:"year",step:null==l?qT(e/IA,t/IA,n,i,r):1}}const{timeInterval:h,step:p}=c-u.duration<d.duration-c?u:d;return{unit:h.unit,step:WA(h)*p,epoch:ZT(h,{weekStart:a})}}function qT(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1/0;if(e===t)return Ev(1,i,r);if(n<1)return NaN;const o=Math.abs(t-e),a=10**Math.floor(Math.log10(o/n));let s=NaN,l=1/0,c=!1;for(const u of GT){const e=Math.ceil(o/(u*a)),t=e>=i&&e<=r;if(c&&!t)continue;const d=Math.abs(e-n);(l>d||c!==t)&&(c||(c=t),l=d,s=u)}return s*a}function QT(e){for(let t=e.length-1;t>=0;t-=1)if("0"!==e[t])return t+1;return 0}function JT(e,t){const n=ex(t??",f");if(null==n)return;(null==n.precision||isNaN(n.precision))&&(!n.type||"eEFgGnprs".includes(n.type)?n.precision=Math.max(...e.map(e=>{if(!Number.isFinite(e))return 0;const[t,i]=e.toExponential((n.type?6:12)-1).split(/[.e]/g);return("1"!==t&&"-1"!==t?1:0)+QT(i)+1})):"f%".includes(n.type)&&(n.precision=Math.max(...e.map(e=>{if(!Number.isFinite(e)||0===e)return 0;const t=Math.floor(Math.log10(Math.abs(e))),i=n.type?6:12,r=QT(e.toExponential(i-1).split(/[.e]/g)[1]);return Math.max(0,r-t)}))));const i=tx(n);return e=>i(Number(e))}function eL(e,t,n,i){if(!Number.isFinite(n)||n<=0)return{ticks:[],count:0,firstTickIndex:void 0};if(e===t)return{ticks:[e],count:1,firstTickIndex:0};const r=10**jv(n),o=Math.min(e,t),a=Math.max(e,t);let s,l;if(null==i||0===i[0]&&1===i[1])s=o,l=a;else{const n=t-e,r=e+n*i[0],o=t-n*(1-i[1]);s=Math.min(r,o),l=Math.max(r,o)}s=Math.floor(s*r)/r,l=Math.ceil(l*r)/r;const c=[];for(let d=0;;d+=1){const e=Math.round((o+n*d)*r)/r;if(e>a)break;e>=s&&e<=l&&c.push(e)}const u=c.at(0);return{ticks:c,count:HT(o,a,n),firstTickIndex:null==u?void 0:Math.round((u-o)/n)}}function tL(e,t){return e>=t&&(Gm.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0)}function nL(e,t){const n=Math.abs(t-e),i=10**Math.floor(Math.log10(n));let r=1/0,o=[e,t];for(const a of GT){const s=a*i,l=Math.floor(e/s)*s,c=Math.ceil(t/s)*s,u=1-n/Math.abs(c-l);r>u&&(r=u,o=[l,c])}return o}function iL(e,t,n,i,r,o){if(e<=0)return{minTickCount:0,maxTickCount:0,tickCount:0};o=Math.max(o,e/(r+1)),n??(n=o),i??(i=e),n>i&&(n===o?n=i:i=n),n=Math.max(n,1);const a=Math.max(1,Math.floor(e/(t*n))),s=Math.min(a,Math.ceil(e/(t*i)));return{minTickCount:s,maxTickCount:a,tickCount:Ev(s,Math.floor(r/t),a)}}var rL=new Date(1970,0,4),oL=class e extends HC{constructor(){super([],[0,1]),this.type="time"}static is(t){return t instanceof e}toDomain(e){return new Date(e)}convert(e,t){return super.convert(e?.valueOf()??NaN,t)}invert(e){return new Date(super.invert(e))}niceDomain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.domain;if(t.length<2)return[];let[n,i]=t;const r=this.getPixelRange();for(let o=0;o<4;o++){const[t,o]=lL(n,i,e,r);if(TT(n)===TT(t)&&TT(i)===TT(o))break;n=t,i=o}return[n,i]}ticks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.domain,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1],{extend:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{nice:r,interval:o,tickCount:a=HC.defaultTickCount,minTickCount:s,maxTickCount:l}=e;if(t.length<2)return;const c=t.map(TT),u=c[0],d=c[c.length-1];if(null!=o){return{ticks:sL({start:u,stop:d,interval:o,availableRange:this.getPixelRange(),visibleRange:n,extend:i})??aL({start:u,stop:d,tickCount:a,minTickCount:s,maxTickCount:l,visibleRange:n,extend:i}),count:void 0}}if(r&&2===a)return{ticks:t,count:void 0};if(r&&1===a)return{ticks:t.slice(0,1),count:void 0};const h=XT(u,d,a,s,l,{weekStart:rL});if(null==h)return;return{ticks:$A(h,new Date(u),new Date(d),{visibleRange:n,extend:i}),count:void 0,firstTickIndex:VA(h,new Date(u),new Date(d),{visibleRange:n,extend:i}),timeInterval:h}}};function aL(e){let{start:t,stop:n,tickCount:i,minTickCount:r,maxTickCount:o,visibleRange:a,extend:s}=e;const l=XT(t,n,i,r,o,{weekStart:rL});return l?$A(l,new Date(t),new Date(n),{visibleRange:a,extend:s}):[]}function sL(e){let{start:t,stop:n,interval:i,availableRange:r,visibleRange:o,extend:a}=e;if(!i)return[];if(Ay(i)||"string"===typeof i){const e=$A(i,new Date(t),new Date(n),{visibleRange:o,extend:a});if(tL(e.length,r))return;return e}const s=Math.abs(i);if(tL(Math.abs(n-t)/s,r))return;const l=VT.findLast(e=>s%e.duration===0);if(l){const{timeInterval:e,step:i,duration:r}=l;return $A({...e,step:i*WA(e)*Math.round(s/r),epoch:ZT(e,{weekStart:rL})},new Date(t),new Date(n),{visibleRange:o,extend:a})}let c=new Date(Math.min(t,n));const u=new Date(Math.max(t,n)),d=[];for(;c<=u;)d.push(c),c=new Date(c),c.setMilliseconds(c.getMilliseconds()+s);return d}function lL(e,t,n,i){const{interval:r}=n,o=Math.min(TT(e),TT(t)),a=Math.max(TT(e),TT(t));let s;if(Ay(r)||"string"===typeof r)s=r;else{let e;"number"===typeof r&&(e=(a-o)/Math.max(r,1),tL(e,i)&&(e=void 0)),e??(e=n.tickCount??HC.defaultTickCount),s=XT(o,a,e,n.minTickCount,n.maxTickCount,{weekStart:rL})}if(null==s)return[e,t];const l=$A(s,new Date(o),new Date(a),{extend:!0});if(null==l||l.length<2)return[e,t];const c=l[0],u=l[l.length-1];return e<=t?[c,u]:[u,c]}var cL=class e extends ZC{constructor(){super(...arguments),this.type="ordinal-time",this.defaultTickCount=HC.defaultTickCount,this._domain=[],this.isReversed=!1}static is(t){return t instanceof e}set domain(e){e!==this._domain&&(this.invalid=!0,this._domain=e,this._bands=void 0,this.isReversed=uL(e))}get domain(){return this._domain}get bands(){return this._bands??(this._bands=this.isReversed?this.domain.slice().reverse():this.domain),this._bands}normalizeDomains(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.filter(e=>e.length>0);if(0===i.length)return{domain:[],animatable:!1};if(1===i.length){let e=i[0];const t=FT(e);return-1===t?e=e.slice().reverse():null==t&&(e=BT(e.slice())),{domain:e,animatable:!0}}return{domain:BT(i.flat()),animatable:!0}}ticks(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1],{extend:i=!1,dropInitial:r=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{interval:o,maxTickCount:a,tickCount:s=a}=e,{bands:l}=this;if(!l.length)return;if(this.refresh(),null==o){const{ticks:e,tickOffset:r,tickEvery:o}=this.getDefaultTicks(t,s,n,i);let a=e.length>0?this.findIndex(e[0]):void 0;return a=null!=a?Math.floor((a-r)/o):void 0,{ticks:e,count:void 0,firstTickIndex:a}}let c,u;t&&t.length>=2?(c=t[0].valueOf(),u=t[t.length-1].valueOf()):(c=l[0].valueOf(),u=l[l.length-1].valueOf());const[d,h]=this.range,p=sL({start:c,stop:u,interval:o,availableRange:Math.abs(h-d),visibleRange:n,extend:i})??this.getDefaultTicks(t,s,n,i).ticks,g=[];let f=-1;for(const m of p){const e=this.findIndex(m,1)??-1,t=e===f;f=e,r&&0===e||-1===e||t||g.push(l[e])}return{ticks:g,count:void 0,firstTickIndex:void 0}}stepTicks(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=t?this.bandDomainIndices(t):void 0,o=this.ticksEvery(r,n,e,0,!1),a=o.at(-1),s=i&&e>1?r?.[1]:void 0,l=null!=s&&null!=a?this.findIndex(a):void 0;return null!=l&&null!=s&&s-l<e&&o.pop(),o}bandCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,1];const{domain:t}=this,n=Math.floor(e[0]*t.length);return Math.ceil(e[1]*t.length)-n}getDefaultTicks(e,t,n,i){const{bands:r}=this,o=Math.ceil(r.length/t),a=Math.floor(o/2),s=e?this.bandDomainIndices(e):void 0;return{ticks:this.ticksEvery(s,n,o,a,i),tickOffset:a,tickEvery:o}}bandDomainIndices(e){const t=uL(e);return[this.findIndex(e[t?e.length-1:0],1)??0,this.findIndex(e[t?0:e.length-1],1)??this.bands.length-1]}ticksEvery(){let[e,t]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,this.bands.length],n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const{bands:a}=this,s=e,l=t-e+1;let c,u=s+Math.floor(n[0]*l),d=s+Math.ceil(n[1]*l);if(o&&(u-=i,d+=i),u=Math.max(u,0),d=Math.min(d,a.length),i<=1)c=a.slice(u,d);else{c=[];for(let e=u;e<d;e+=1)(e-s+r)%i===0&&c.push(a[e])}return c}};function uL(e){return e.length>0&&e[0]>e[e.length-1]}var dL=5e7,hL=class e extends ZC{constructor(){super(...arguments),this.type="unit-time",this.defaultTickCount=12,this._domain=[],this._bands=void 0}static is(t){return t instanceof e}static supportsInterval(e,t){return pL(e,t)}set domain(e){e!==this._domain&&(this._domain=e,this._bands=void 0)}get domain(){return this._domain}get interval(){return this._interval}set interval(e){this._interval!==e&&(this._interval=e,this._bands=void 0)}get bands(){return this._bands??(this._bands=this.calculateBands(this._domain,[0,1]).bands),this._bands}normalizeDomains(){return UC(...arguments)}convert(e,t){e instanceof Date||(e=new Date(e));const{domain:n,interval:i}=this;if(n.length<2)return NaN;if(!0!==t?.clamp&&null!=i){const t=e.valueOf(),[r,o]=gL(n,i),a=Math.min(r.valueOf(),o.valueOf()),s=Math.max(r.valueOf(),o.valueOf());if(t<a||t>=s+YA(i))return NaN}return super.convert(e,t)}calculateBands(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===this.domain&&0===t[0]&&1===t[1]&&!n&&null!=this._bands)return{bands:this._bands,firstBandIndex:0};if(e.length<2)return{bands:[],firstBandIndex:void 0};const{interval:i}=this;if(null==i)return{bands:[],firstBandIndex:void 0};const r={visibleRange:t,extend:n};if(!pL(e,i,r))return{bands:[],firstBandIndex:void 0};const[o,a]=gL(e,i);if(FA(i,o,a,r)>dL)return Gm.warnOnce("the configured unit results in too many bands, ignoring. Supply a larger unit."),{bands:[],firstBandIndex:void 0};return{bands:$A(i,o,a,r),firstBandIndex:VA(i,o,a,r)}}ticks(e){let{interval:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.domain,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1],{extend:r=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n.length<2)return;const{bands:o,firstBandIndex:a}=this.calculateBands(n,i,r),s=this.interval?YA(this.interval):1/0;if(null==t)return{ticks:o,count:void 0,firstTickIndex:a};const l=Math.min(n[0].valueOf(),n[1].valueOf()),c=Math.max(n[0].valueOf(),n[1].valueOf());let u,d,h;Ay(t)||"string"===typeof t?(u=$A(t,n[0],n[1],{extend:!0,visibleRange:i}),d=0,h=u.length-1):(u=o,d=Av(0,o.length-1,e=>o[e].valueOf()<=l)??0,h=Av(0,o.length-1,e=>o[e].valueOf()<=c)??o.length-1);const p=[];let g,f,m;for(let v=d;v<=h;v++){const e=u[v].valueOf(),t=Av(0,o.length-1,t=>o[t].valueOf()<=e),n=null!=t&&t!=g?o[t]:void 0;g=t,null!=n&&e-n.getTime()<=s&&p.push(n)}if(this.interval){const e=gL([new Date(l),new Date(c)],this.interval);f=e[0].valueOf(),m=e[1].valueOf()}else f=l,m=c;let y=Tv(0,p.length-1,e=>p[e].valueOf()>=f)??0,b=Av(0,p.length-1,e=>p[e].valueOf()<=m)??p.length-1;return r&&(y=Math.max(y-1,0),b=Math.min(b+1,p.length-1)),{ticks:p.slice(y,b+1),count:p.length,firstTickIndex:a}}};function pL(e,t,n){const[i,r]=gL(e,t);return FA(t,i,r,n)<=dL}function gL(e,t){return[RA(t,e[0]),RA(t,e[1])]}function fL(e,t,n,i,r){let[o,a]=FC(t.map(Number));const s=Math.floor(n.unzoomed);if(s<=1){const[t,n]=function(e,t){let n=e,i=t,r=0;do{[n,i]=nL(n,i);const{ticks:e}=UT(n,i,5);if(e.length%2===1)return[n,i];n-=1,i+=1}while(r++<10);return[e,t]}(o,a),s=5*Math.pow(2,-Math.ceil(Math.log2(r[1]-r[0]))),{ticks:l}=UT(t,n,s,void 0,void 0,r),c=[e.toDomain(t),e.toDomain(n)];return i&&c.reverse(),{domain:c,ticks:l}}if(o===a){const e=Math.floor(Math.log10(o)),t=Math.pow(10,e),n=Math.min(t,1),i=s-1;o-=n*Math.floor(i/2),a=o+n*i}let l=o,c=a;l=function(e,t,n){e=Math.floor(e);const i=Math.abs(t-e)/(n-1),r=Math.floor(Math.log10(i)),o=Math.pow(10,r);return Math.floor(e/o)*o}(l,c,s);const u=function(e,t,n){const i=n-1,r=(t-e)/i;return function(e){const t=Math.floor(Math.log10(e)),n=Math.pow(10,t),i=e/n;return i>0&&i<=1?n:i>1&&i<=2?2*n:i>2&&i<=5?5*n:i>5&&i<=10?10*n:e}(r)}(l,c,s);c=l+(s-1)*u;const d=Math.floor(l/u)*u,h=Math.floor(c/u)*u;d<=o&&h>=a&&(l=d,c=h);const p=[e.toDomain(l),e.toDomain(c)];i&&p.reverse();const g=function(e,t,n){const i=jv(t),r=Math.pow(10,i),o=[];for(let a=0;a<n;a++){const n=e+t*a;o.push(Math.round(n*r)/r)}return o}(l,u*((n.unzoomed-1)/(n.zoomed-1)),Math.floor(n.zoomed));return{domain:p,ticks:g}}function mL(){const e=new Map;return t=>{const n=e.get(t);return n?(e.set(t,n+1),`${t}_${n}`):(e.set(t,1),t)}}var yL=[1,2,3,4,6,8,9,10,12],bL=new Date(1970,0,4),vL=class{constructor(e){this.axis=e}estimateTickCount(e,t,n,i,r,o){const{scale:a,label:s}=this.axis,{defaultTickCount:l}=a,c=$C(t),u=$C(n);if(PT.is(a)){const t=e.length;let n=Math.ceil(c/(u*s.fontSize));return n=Math.min(n,t),{minTickCount:0,maxTickCount:t,tickCount:n}}return iL(c,u,r,o,l,i)}generateTicks(e){let{range:t,domain:n,reverse:i,primaryTickCount:r,defaultTickMinSpacing:o,visibleRange:a,niceMode:s,parallelFlipRotation:l,regularFlipRotation:c,labelX:u,sideFlag:d,removeOverflowLabels:h,removeOverflowThreshold:p=0,sizeLimit:g}=e;const{label:f,primaryLabel:m,interval:{minSpacing:y,maxSpacing:b}}=this.axis,{parallel:v,fontFamily:x,fontSize:S,fontStyle:M,fontWeight:w}=f,k=void 0!==r,{defaultRotation:I,configuredRotation:C,parallelFlipFlag:D,regularFlipFlag:A}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=xS(e),o=!r&&i>=0&&i<=Math.PI?-1:1,a=!r&&n>=0&&n<=Math.PI?-1:1;let s=0;return t?s=o*Math.PI/2:-1===a&&(s=Math.PI),{configuredRotation:r,defaultRotation:s,parallelFlipFlag:o,regularFlipFlag:a}}(f.rotation,v,c,l),{maxTickCount:T}=this.estimateTickCount(n,t,a,o,y,b),L=Number.isFinite(T)?T:10,N=function(e,t,n,i){return e&&!t?n*i===-1?"top":"bottom":"middle"}(v,C,d,D),E={fontFamily:x,fontSize:S,fontStyle:M,fontWeight:w},O=Tw.getMeasurer({font:E}),R=f.enabled&&f.avoidCollisions,P=C+I,j=new kM,z=e=>{const t=P+e;kM.updateTransformMatrix(j,1,1,t,0,0)},_=(e,t)=>{let{ticks:n}=e;return z(t),function(e,t,n,i,r){const o=XA(r),a=o.left+o.right,s=o.top+o.bottom,l=[];for(const{tickLabel:c,translation:u}of e){if(!c)continue;const{x:e,y:r}=n.transformBBox(new Sx(t,u,0,0)),o=i.measureLines(c),d=o.width+a,h=o.height+s;l.push({point:{x:e,y:r},label:{text:c,width:d,height:h}})}return l}(n,u,j,O,f)},B=(e,t)=>{const{niceDomain:i,ticks:r,timeInterval:o}=e;if(null==o)return[];z(t);const a=function(e){if(e.length<2)return 1/0;let t=0,n=e[0].translation;for(let i=1;i<e.length;i++){const r=e[i].translation,o=Math.abs(r-n);t=Math.max(t,o),n=r}return t}(r),{width:s,height:l}=function(e,t,n,i,r){const o=qA(e.format,i)??("string"===typeof e.format?e.format:void 0);if(null==o)return{width:0,height:0};const a=VI(o),s=i?UA(i):void 0,l=qA(t?.format,s),c=l?VI(l):a,u=new Date(n[0]),d=new Date(n[n.length-1]),h=s?$A(s,new Date(n[0]),new Date(n[n.length-1]),{extend:!0}):void 0;let p=0,g=0;if(null!=a){const t=XA(e),n=t.left+t.right,o=t.top+t.bottom;let s,l;null!=h&&h.length>1?(s=h[0],l=h[1]):(s=u,l=d);const c=$A(i,s,l,{limit:50});for(const e of c){const t=a(e),{width:i,height:s}=r.measureLines(t);p=Math.max(p,i+n),g=Math.max(g,s+o)}}if(null!=c&&null!=h){const e=XA(t),n=e.left+e.right,i=e.top+e.bottom;for(const t of h){const e=c(t),{width:o,height:a}=r.measureLines(e);p=Math.max(p,o+n),g=Math.max(g,a+i)}}return{width:Math.ceil(p),height:Math.ceil(g)}}(f,m,i??n,o,O);return function(e,t,n){let{width:i,height:r,spacing:o}=e;const a=[];for(const s of[0,o]){const{x:e,y:o}=n.transformBBox(new Sx(t,s,0,0));a.push({point:{x:e,y:o},label:{text:void 0,width:i,height:r}})}return a}({width:s,height:l,spacing:a},u,j)},F=(e,t)=>{if(!R)return!1;const n=0!==C||0!==t,i=function(e,t){return null!=e?e:t?0:10}(f.minSpacing,n);return xL(B(e,t),i)||xL(_(e,t),i)};let $={tickDomain:[],niceDomain:n,ticks:[],rawTicks:[],rawTickCount:void 0,timeInterval:void 0,fractionDigits:0},V=0,G=0,W=!0,H=!1;for(;!H&&W&&V<=L;){G=0;for(const e of this.getTickStrategies({domain:n,range:t,reverse:i,niceMode:s,secondaryAxis:k,sizeLimit:g}))({tickData:$,index:V,autoRotation:G,terminate:H}=e({index:V,tickData:$,terminate:H,primaryTickCount:r,defaultTickMinSpacing:o,visibleRange:a,labelsOverlap:()=>F($,G)}));W=F($,G)}const U=function(e,t,n,i,r){const o=t>0&&t<=Math.PI,a=n>0&&n<=Math.PI;if(e){if(!t&&!n)return"center";if(i*(o||a?-1:1)===-1)return"end"}else if(i*r===-1)return"end";return"start"}(v,C,G,d,A),Y=C+G;if(h&&$.ticks.length>2){const e=_($,G),n=$.ticks.at(-1),i=e.at(-1);null!=n&&null!=i&&n.translation+i.label.width/2>t[1]+p&&(n.tickLabel=void 0,0===a[0]&&1===a[1]&&($.ticks[0].tickLabel=void 0))}return{tickData:$,rotation:Y,textBaseline:N,textAlign:U}}getTickStrategies(e){let{domain:t,range:n,reverse:i,niceMode:r,secondaryAxis:o,sizeLimit:a}=e;const{label:s,interval:l}=this.axis,c=s.enabled&&s.avoidCollisions,u=!0===s.autoRotate&&void 0===s.rotation,d=[];let h;h=l.values?2:o?1:0;if(d.push(e=>{let{index:o,tickData:s,primaryTickCount:l,defaultTickMinSpacing:c,visibleRange:u,terminate:d}=e;return this.createTickData(t,n,i,r,u,l,c,h,o,s,d,a)}),c&&u){const e=e=>{let{index:t,tickData:n,labelsOverlap:i,terminate:r}=e;return{index:t,tickData:n,autoRotation:i()?xS(s.autoRotateAngle):0,terminate:r}};d.push(e)}return d}createTickData(e,t,n,i,r,o,a,s,l,c,u,d){const{interval:h}=this.axis,{step:p,values:g,minSpacing:f,maxSpacing:m}=h,{maxTickCount:y,minTickCount:b,tickCount:v}=this.estimateTickCount(e,t,r,a,f,m),x=v-b,S=e=>Math.max(v-e,b),M=c.rawTicks,w=null==p&&null==g&&S(l)>b,k={domain:e,reverse:n,niceMode:i,visibleRange:r,primaryTickCount:o,tickGenerationType:s,minTickCount:b,maxTickCount:y,tickCount:0};k.tickCount=S(l);let I=this.getTicks(k);if(w&&ML(I.rawTicks,M)){let e=l,t=x;for(;e<=t;){l=(e+t)/2|0,k.tickCount=S(l);const n=this.getTicks(k);ML(n.rawTicks,M)?e=l+1:(I=n,t=l-1)}}const{tickDomain:C,niceDomain:D,rawTicks:A,rawTickCount:T,rawFirstTickIndex:L,generatePrimaryTicks:N,primaryTicksIndices:E,alignment:O,fractionDigits:R,timeInterval:P}=I;return u||(u=null!=p||null!=g),{tickData:{tickDomain:C,niceDomain:D,rawTicks:A,rawTickCount:T,timeInterval:P,fractionDigits:R,ticks:this.formatTicks({range:t,niceDomain:D,rawTicks:A,rawFirstTickIndex:L,generatePrimaryTicks:N,primaryTicksIndices:E,alignment:O,fractionDigits:R,timeInterval:P,sizeLimit:d})},index:l+=1,autoRotation:0,terminate:u}}getTimeIntervalTicks(e,t,n,i,r,o){const a=UA(r);if(null==a)return;const{scale:s}=this.axis;if(!oL.is(s)&&!ZC.is(s))return;o&&(e=[1-e[1],1-e[0]]);const l=Math.min(s.domain[0].valueOf(),s.domain[s.domain.length-1].valueOf()),c=Math.max(s.domain[0].valueOf(),s.domain[s.domain.length-1].valueOf());let[u,d]=_A(new Date(l),new Date(c),e);u=RA(a,u),u.valueOf()>=l&&(u=jA(a,u)),d=PA(a,d),d.valueOf()<=c&&(d=zA(a,d));const h=$A(a,u,d),p=YA(r);let g=new Set;const f=cL.is(s),m=[],y={...i,interval:r};let b,v,x=0;if(cL.is(s)){const i=this.axis.minimumTimeGranularity,o=GA(r);b=null!=i&&YA(i)>=YA(o)?2:3,v=1;const a=t/n,l=s.bandCount(e)/(18*a);x=yL.findLast(e=>l>=e)??1}else hL.is(s)&&(null==s.interval||YA(s.interval)>=p)?b=1:(b=0,v=2);for(let S=0;S<h.length-1;S+=1){const e=h[S],t=h[S+1],n=0===S,i=S===h.length-2,r=t.valueOf()-e.valueOf(),o=[Math.max((l-e.valueOf())/r,0),Math.min((c-e.valueOf())/r,1)];let a;switch(b){case 0:a=SL(y.interval,[e,t],o,!0).ticks;break;case 1:case 3:const n=s.ticks(y,[e,t],o,{extend:!0,dropInitial:!0});a=n?.ticks??[];break;case 2:a=s.stepTicks(x,[e,t],void 0,!i)}if(dv(a,t=>t.valueOf()<e.valueOf()),i||hv(a,e=>{switch(b){case 0:case 3:return e.valueOf()+p>t.valueOf();case 1:case 2:return e.valueOf()>=t.valueOf()}}),0===a.length)continue;const u=_T(a[0],e);!(0===b?0===u:u<=p)||f&&n||g.add(m.length),m.push(...a)}return(0===g.size||1===g.size&&g.has(0))&&(g=void 0),{ticks:m,tickCount:void 0,firstTickIndex:undefined,primaryTicksIndices:g,alignment:v}}getTicks(e){let{domain:t,reverse:n,niceMode:i,visibleRange:r,tickGenerationType:o,tickCount:a,minTickCount:s,maxTickCount:l,primaryTickCount:c}=e;const{axis:u}=this,{primaryLabel:d,scale:h,interval:p}=u,g={nice:0===i,interval:p.step,tickCount:a,minTickCount:s,maxTickCount:l},f={...g,nice:0===i||1===i};let m;1===o&&null!=c&&HC.is(h)&&(m=fL(h,t,c,n,r));const y=0===i?m?.domain??h.niceDomain(g,t):t;let b,v,x,S,M,w,k=y;const I=!0===d?.enabled&&null==f.interval,C=h.domain;switch(h.domain=y,o){case 2:if(k=p.values,b=p.values,v=b.length,cL.is(h)?w=1:hL.is(h)&&(w=2),HC.is(h)){const[e,t]=FC(y.map(Number));b=b.filter(n=>Number(n)>=e&&Number(n)<=t).sort((e,t)=>Number(e)-Number(t))}break;case 1:if(m)b=m.ticks,v=m.ticks.length;else{const e=h.ticks(f,y,r);b=e?.ticks??[],v=e?.count}break;default:{if(y.length>0&&null==f.interval&&(hL.is(h)||I&&(oL.is(h)||cL.is(h)))){const e=y;S=XT(Math.min(e[0].valueOf(),e[e.length-1].valueOf()),Math.max(e[0].valueOf(),e[e.length-1].valueOf()),a,s,l,{weekStart:null==d?bL:void 0,primaryOnly:!0})}let e;cL.is(h)?e=u.minimumTimeGranularity:hL.is(h)&&(e=h.interval),null!=e&&null!=S&&YA(e)>=YA(S)&&(S=e);const t=S?this.getTimeIntervalTicks(r,a,l,f,S,n):void 0;if(t)({ticks:b,tickCount:v,firstTickIndex:x,primaryTicksIndices:M,alignment:w}=t);else{const e=hL.is(h)&&null==f.interval&&null!=S?{...f,interval:S}:f,t=h.ticks(e,y,r);if(b=t?.ticks??[],v=t?.count,x=t?.firstTickIndex,oL.is(h)||ZC.is(h)){const e=f,n="number"===typeof e.interval?LT(e.interval):e.interval;S??(S=n??t?.timeInterval)}}}}const D=b.reduce((e,t)=>Math.max(e,"number"===typeof t?jv(t):0),0);return I||(M=void 0),h.domain=C,{tickDomain:k,niceDomain:y,rawTicks:b,rawTickCount:v,rawFirstTickIndex:x,generatePrimaryTicks:I,primaryTicksIndices:M,alignment:w,fractionDigits:D,timeInterval:S}}formatTicks(e){let{niceDomain:t,range:n,rawTicks:i,rawFirstTickIndex:r=0,generatePrimaryTicks:o,primaryTicksIndices:a,alignment:s,fractionDigits:l,timeInterval:c,sizeLimit:u=1/0}=e;const{axis:d}=this,{label:h,scale:p}=d,g=p.domain;p.domain=t;const f=o?"component":"long",m=h.enabled?d.tickFormatter(t,i,!1,l,c,f):void 0,y=null!=c?UA(c):void 0,b=o?d.tickFormatter(t,i,!0,l,y,f):void 0,v=(p.bandwidth??0)/2,x=[],S=oL.is(p)||ZC.is(p),M=mL(),w="y"===d.direction,k=(KC.is(p)?p.bandwidth:null)??1/0,I={font:h,maxWidth:w?u:k,maxHeight:w?k:u,overflow:h.truncate?"ellipsis":"hide",textWrap:h.wrapping};for(let C=0;C<i.length;C++){const e=i[C],t=p.convert(e,{alignment:s})+v;if(n.length>0&&!d.inRange(t,.001))continue;const o=a?.has(C)??!1;let l=o?b?.(e,C):m?.(e,C);const c=l??String(e);let u;h.avoidCollisions&&(l=Jw.wrapText(c,I)||l);const g=S?e?.valueOf():void 0;u=Number.isFinite(g)?M(`v:${g}`):M(`l:${l}`),x.push({index:C+r,tick:e,tickId:u,tickLabel:l,textUntruncated:null!=l&&c!==l?c:void 0,translation:Math.floor(t),primary:o})}return p.domain=g,x}};function xL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];for(const i of e){const{x:e,y:r}=i.point;let{width:o,height:a}=i.label;if(o+=t,a+=t,n.some(t=>Iv(t,e,r,o,a)))return!0;n.push({x:e,y:r,width:o,height:a})}return!1}function SL(e,t,n,i){if(null==e)return{ticks:t,firstTickIndex:void 0};const r=t[0].valueOf(),o=t[1].valueOf();if("number"!==typeof e){const r=t[0],o="string"===typeof e?{unit:e,epoch:r}:{...e,epoch:r};return{ticks:$A(o,t[0],t[1],{visibleRange:n,extend:i}),firstTickIndex:VA(o,t[0],t[1],{visibleRange:n,extend:i})}}const a=[];for(let s=r;s<=o;s+=e)a.push(new Date(s));return{ticks:a,firstTickIndex:void 0}}function ML(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1)if(e[n]?.valueOf()!==t[n]?.valueOf())return!1;return!0}var wL=class extends hT{constructor(){super(...arguments),this.autoRotateAngle=335}};px([zS],wL.prototype,"autoRotate",2),px([zS],wL.prototype,"autoRotateAngle",2);var kL=class e extends AT{constructor(e,t){let n;super(e,t),this.maxThicknessRatio=.3,this.headingLabelGroup=this.axisGroup.appendChild(new _M({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new _M({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new uA({zIndex:1})),this.tickLineGroupSelection=cA.select(this.tickLineGroup,uA,!1),this.gridLineGroupSelection=cA.select(this.gridLineGroup,uA,!1),this.gridFillGroupSelection=cA.select(this.gridFillGroup,Yw,!1),this.tempText=new Qw({debugDirty:!1}),this.tempCaption=new ck,this.tickGenerator=new vL(this),this.animationManager=e.animationManager,this.animationState=new yA("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:e=>this.animateReadyUpdate(e),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this.headingLabelGroup.appendChild(this.title.caption.node),this.cleanup.register(e.eventsHub.on("layout:complete",e=>{const t=[e.chart.width,e.chart.height];null==n||cv(t,n)||this.animationState.transition("resize"),n=t}),this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}static is(t){return t instanceof e}get horizontal(){return"top"===this.position||"bottom"===this.position}onGridVisibilityChange(){this.gridLineGroupSelection.clear(),this.gridFillGroupSelection.clear()}resetAnimation(e){"initial"===e&&this.animationState.transition("reset")}get direction(){return"top"===this.position||"bottom"===this.position?"x":"y"}createAxisContext(){return{...super.createAxisContext(),position:this.position}}createLabel(){return new wL}updateDirection(){switch(this.position){case"top":this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.label.mirrored=!1,this.label.parallel=!1}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}calculateLayout(e,t){return this.updateDirection(),super.calculateLayout(e,t)}layoutCrossLines(){const e=this.hasDefinedDomain()||this.hasVisibleSeries();this.crossLines.forEach(t=>{t.calculateLayout?.(e)})}calculateTickLayout(e,t,n,i){const r=this.label.getSideFlag(),o=this.horizontal?-.5*Math.PI:0,a=dS(o),s=dS(o-Math.PI/2),l=r*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding);if(2===t&&!1===this.label.enabled&&!1===this.tick.enabled&&!1===this.gridLine.enabled){const{bbox:t,spacing:n}=this.tickBBox(e,[],[]);return{ticks:[],rawTickCount:0,tickDomain:e,niceDomain:e,fractionDigits:0,timeInterval:void 0,bbox:t,layout:{ticks:[],tickLines:[],gridLines:[],gridFills:[],labels:[],spacing:n}}}const{range:c,reverse:u,defaultTickMinSpacing:d}=this,h=this.label.avoidCollisions&&this.horizontal&&(HC.is(this.scale)||ZC.is(this.scale)),p=this.tickGenerator.generateTicks({domain:e,range:c,reverse:u,niceMode:t,visibleRange:n,primaryTickCount:i,defaultTickMinSpacing:d,parallelFlipRotation:a,regularFlipRotation:s,labelX:l,sideFlag:r,sizeLimit:this.chartLayout?.sizeLimit,removeOverflowLabels:h,removeOverflowThreshold:this.chartLayout?.padding.right}),{tickData:g}=p,{ticks:f,tickDomain:m,rawTicks:y,rawTickCount:b,fractionDigits:v,timeInterval:x,niceDomain:S}=g,M=f.map(e=>this.getTickLabelProps(e,p)),{position:w,gridPadding:k,gridLength:I}=this,C="bottom"===w||"right"===w?-1:1,D=C*k,A=C*(I+k),T=this.calculateGridLines(f,D,A),L=this.calculateGridFills(f,D,A),N=this.calculateTickLines(f,C),{bbox:E,spacing:O}=this.tickBBox(m,f,M);return{ticks:y,rawTickCount:b,tickDomain:m,niceDomain:S,fractionDigits:v,timeInterval:x,bbox:E,layout:{ticks:f,gridLines:T,gridFills:L,tickLines:N,labels:M,spacing:O}}}calculateGridLines(e,t,n){return e.map((i,r)=>this.calculateGridLine(i,r,t,n,e))}calculateGridLine(e,t,n,i,r){let{index:o,tickId:a,translation:s}=e;const{gridLine:l,horizontal:c}=this,[u,d,h,p]=c?[s,n,s,i]:[n,s,i,s],{style:g}=l,{stroke:f,strokeWidth:m=0,lineDash:y}=g[o%g.length]??{};return{tickId:a,offset:s,x1:u,y1:d,x2:h,y2:p,stroke:f,strokeWidth:m,lineDash:y}}calculateGridFills(e,t,n){const{horizontal:i,range:r,type:o}=this,a=[];if(0==e.length)return a;let s=0;const l=!i&&"unit-time"===o;if(l&&e[0].translation<r[0]||!l&&e[0].translation>r[0]){const i={tickId:`before:${e[0].tickId}`,translation:r[0]};a.push(this.calculateGridFill(i,-1,e[0].index,t,n,e)),s=1}return a.push(...e.map((i,r)=>this.calculateGridFill(i,r,i.index+s,t,n,e))),a}calculateGridFill(e,t,n,i,r,o){let{tickId:a,translation:s}=e;const{gridLine:l,horizontal:c,range:u}=this,d=o[t+1],h=s,p=d?d.translation:u[1],[g,f,m,y]=c?[h,Math.max(i,r),p,Math.min(i,r)]:[Math.min(i,r),Math.min(h,p),Math.max(i,r),Math.max(h,p)],{fill:b,fillOpacity:v}=l.style[n%l.style.length]??{};return{tickId:a,x1:g,y1:f,x2:m,y2:y,fill:b,fillOpacity:v}}calculateTickLines(e,t){return e.map(n=>this.calculateTickLine(n,n.index,t,e))}calculateTickLine(e,t,n,i){let{primary:r,tickId:o,translation:a}=e;const{horizontal:s,tick:l,primaryTick:c}=this,u=r&&c?.enabled?c:l,d=-n*this.getTickSize(u),[h,p,g,f]=s?[a,0,a,d]:[0,a,d,a],{stroke:m,width:y}=u;return{tickId:o,offset:a,x1:h,y1:p,x2:g,y2:f,stroke:m,strokeWidth:y,lineDash:void 0}}update(){this.updateDirection();const e=Array.from(this.tickLabelGroupSelection.nodes(),e=>e.datum.tickId);super.update(),this.tickLineGroup.visible=this.tick.enabled||(this.primaryTick?.enabled??!1),this.tickLabelGroup.visible=this.label.enabled||(this.primaryTick?.enabled??!1);const{tickLayout:t}=this;if(this.updateTitle(this.scale.domain,t?.spacing??0),this.animatable||this.moduleCtx.animationManager.skipCurrentBatch(),t){const{ticks:n}=t;if(this.animationManager.isSkipped())this.resetSelectionNodes();else{const t=function(e,t){const n=Math.max(e.length,t.length),i=new Set,r=new Set;for(let o=0;o<n;o++){const n=e[o],a=t[o];n!==a&&(r.has(a)?r.delete(a):a&&i.add(a),i.has(n)?i.delete(n):n&&r.add(n))}return{changed:i.size>0||r.size>0,added:i,removed:r}}(e,n.map(e=>e.tickId));this.animationState.transition("update",t)}}const{enabled:n,stroke:i,width:r}=this.line;this.lineNode.setProperties({stroke:i,strokeWidth:n?r:0}),this.updateTickLines(),this.updateGridLines(),this.updateGridFills()}getAxisTransform(){return{translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){super.updatePosition();const e=this.getAxisTransform();this.tickLineGroup.datum=e,this.tickLabelGroup.datum=e,this.lineNodeGroup.datum=e,this.headingLabelGroup.datum=e}getAxisLineCoordinates(){const{horizontal:e}=this,[t,n]=FC(this.range);return e?{x1:t,x2:n,y1:0,y2:0}:{x1:0,x2:0,y1:t,y2:n}}getTickLineBBox(e){const{translation:t}=e,{position:n,primaryTick:i}=this;let r=this.getTickSize();switch(i?.enabled&&(r=Math.max(r,this.getTickSize(i))),n){case"top":return new Sx(t,-r,t,r);case"bottom":return new Sx(t,0,t,r);case"left":return new Sx(-r,t,r,t);case"right":return new Sx(0,t,r,t)}}lineNodeBBox(){const{position:e,seriesAreaPadding:t}=this,{y1:n,y2:i}=this.getAxisLineCoordinates(),r=i-n;switch(e){case"top":return new Sx(n,-t,r,t);case"bottom":return new Sx(n,0,r,t);case"left":return new Sx(-t,n,t,r);case"right":return new Sx(0,n,t,r)}}titleBBox(e,t){const{tempCaption:n}=this;return n.node.setProperties(this.titleProps(n,e,t)),n.node.getBBox()}tickBBox(e,t,n){const{tick:i,primaryTick:r,label:o,primaryLabel:a,title:s,position:l,horizontal:c,seriesAreaPadding:u}=this,d=[];if(d.push(this.lineNodeBBox()),i.enabled||r?.enabled)for(const g of t)d.push(this.getTickLineBBox(g));const{tempText:h}=this;if(o.enabled)for(const g of n){if(!g.visible)continue;h.setProperties(g);const e=h.getBBox(!1);e&&d.push(e)}if(a?.enabled&&"bottom"===l){const e=2;if(d.push(new Sx(0,Nw.getLineHeight(o.fontSize)+e,1,this.getTickSize(i)+o.spacing+u)),null!=a.format){const{format:t}=a,n=(Ay(t)?Object.values(t):[t]).reduce((e,t)=>Math.max(e,function(e){let t=1;for(let n=0;n<e.length;n++)10===e.charCodeAt(n)&&t++;return t}(t)),0);d.push(new Sx(0,this.getTickSize(r??i)+a.spacing+u,1,n*Nw.getLineHeight(a.fontSize)+e))}}let p=0;if(s.enabled){const t=Sx.merge(d);p=c?t.height:t.width,d.push(this.titleBBox(e,p))}return{bbox:Sx.merge(d),spacing:p}}titleProps(e,t,n){const{title:i}=this;if(!i.enabled)return e.enabled=!1,{visible:!1,text:"",textBaseline:"bottom",x:0,y:0,rotationCenterX:0,rotationCenterY:0,rotation:0};e.enabled=!0,e.color=i.color,e.fontFamily=i.fontFamily,e.fontSize=i.fontSize,e.fontStyle=i.fontStyle,e.fontWeight=i.fontWeight,e.wrapping=i.wrapping;const r=(i.spacing??0)+n,{range:o}=this,a=(o[0]+o[1])/2;let s,l,c,u;switch(this.position){case"top":s=a,l=-r,c=0,u="bottom";break;case"bottom":s=a,l=r,c=0,u="top";break;case"left":s=-r,l=a,c=-.5*Math.PI,u="bottom";break;case"right":s=r,l=a,c=.5*Math.PI,u="bottom"}const{formatter:d=e=>e.defaultValue}=i,h=this.cachedCallWithContext(d,this.getTitleFormatterParams(t));return e.text=h,{visible:!0,text:h,textBaseline:u,x:s,y:l,rotationCenterX:s,rotationCenterY:l,rotation:c}}getLabelBorderOffset(e){const t=XA(e);switch(this.position){case"top":return t.bottom;case"right":return t.left;case"bottom":return t.top;case"left":return t.right;default:this.position}}getTickLabelProps(e,t){const{horizontal:n,primaryLabel:i,primaryTick:r,seriesAreaPadding:o,scale:a}=this,{tickId:s,tickLabel:l="",translation:c,primary:u,textUntruncated:d}=e,h=u&&i?.enabled?i:this.label,p=u&&r?.enabled?r:this.tick,{rotation:g,textBaseline:f,textAlign:m}=t,{range:y}=a,b=this.label.getSideFlag(),v=-this.getLabelBorderOffset(h),x=b*(this.getTickSize(p)+h.spacing+o)+v,S=""!==l,M=n?c:x,w=n?-x:c;return{...this.getLabelStyles({value:l},void 0,h),tickId:s,rotation:g,text:l,textAlign:m,textBaseline:f,textUntruncated:d,visible:S,x:M,y:w,rotationCenterX:M,rotationCenterY:w,range:y}}updateSelections(){if(!this.tickLayout)return;const e=this.getAxisLineCoordinates(),{tickLines:t,gridLines:n,gridFills:i,labels:r}=this.tickLayout,o=e=>e.tickId;this.lineNode.datum=e,this.gridLineGroupSelection.update(this.gridLine.enabled?n:[],void 0,o),this.gridFillGroupSelection.update(this.gridLine.enabled?i:[],void 0,o),this.tickLineGroupSelection.update(t,void 0,o),this.tickLabelGroupSelection.update(r,void 0,o)}updateGridLines(){this.gridLineGroupSelection.each((e,t)=>{e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.lineDash=t.lineDash})}updateGridFills(){this.gridFillGroupSelection.each((e,t)=>{e.fill=t.fill,e.fillOpacity=t.fillOpacity??1})}updateTickLines(){this.tickLineGroupSelection.each((e,t)=>{e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.lineDash=t.lineDash})}updateTitle(e,t){const{caption:n}=this.title,i=this.titleProps(n,e,t);n.node.visible=i.visible,n.node.text=i.text,n.node.textBaseline=i.textBaseline,n.node.datum=i}updateLabels(){this.label.enabled&&this.tickLabelGroupSelection.each((e,t)=>{e.fill=t.color,e.text=t.text,e.textBaseline=t.textBaseline,e.textAlign=t.textAlign??"center",e.pointerEvents=null==t.textUntruncated?1:0,e.setFont(t),e.setBoxing(t)})}animateReadyUpdate(e){const{animationManager:t}=this.moduleCtx,n=xT(yT(this));rA(this.id,"axis-group",t,[this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],n.group),rA(this.id,"line",t,[this.lineNode],n.line),rA(this.id,"line-paths",t,[this.gridLineGroupSelection,this.tickLineGroupSelection],n.tick,(e,t)=>t.tickId,e),rA(this.id,"tick-labels",t,[this.tickLabelGroupSelection],n.label,(e,t)=>t.tickId,e),rA(this.id,"title",t,[this.title.caption.node],n.label,(e,t)=>t.tickId,e)}resetSelectionNodes(){lA([this.lineNodeGroup,this.tickLabelGroup,this.tickLineGroup,this.headingLabelGroup],(e,t)=>({translationX:t.translationX,translationY:t.translationY})),lA([this.gridLineGroupSelection,this.tickLineGroupSelection],(e,t)=>{const{x1:n,x2:i,y1:r,y2:o}=t;return{x1:n,x2:i,y1:r,y2:o}}),lA([this.gridFillGroupSelection],(e,t)=>{const{x1:n,x2:i,y1:r,y2:o}=t;return{x:n,y:r,width:i-n,height:o-r}}),lA([this.tickLabelGroupSelection],(e,t)=>({x:t.x,y:t.y,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,rotation:t.rotation})),lA([this.title.caption.node],(e,t)=>({x:t.x,y:t.y,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,rotation:t.rotation})),lA([this.lineNode],(e,t)=>{const{x1:n,x2:i,y1:r,y2:o}=t;return{x1:n,x2:i,y1:r,y2:o}})}};px([zS],kL.prototype,"thickness",2),px([zS],kL.prototype,"maxThicknessRatio",2),px([zS],kL.prototype,"position",2);var IL=kL,CL=["top","right","bottom","left"];function DL(e){return"string"===typeof e&&CL.includes(e)}var AL=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo"];function TL(e){const{series:t}=e;return t?.[0]?.type??"line"}function LL(e){const t=TL(e);return ZD.isCartesian(t)||function(e){const t=WD(e)?.find(e=>"cartesian"===e);return"cartesian"===t}(t)}function NL(e){const t=TL(e);return ZD.isTopology(t)||function(e){const t=WD(e)?.find(e=>"topology"===e);return"topology"===t}(t)}function EL(e){const t=TL(e);return ZD.isStandalone(t)||function(e){const t=WD(e)?.find(e=>"standalone"===e);return"standalone"===t}(t)}var OL=class extends QA{applyOptions(e){for(const t of this.moduleMap.values())t.module.optionsKey in e&&FS(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(const{module:e,moduleInstance:t}of this.moduleMap.values())"legend"===e.type&&(yield{legendType:e.identifier,legend:t})}},RL="ag-charts-overlay",PL="ag-charts-dark-overlay",jL=class extends _S{constructor(e,t){super(),this.className=e,this.defaultMessageId=t,this.enabled=!0}getText(e){return My(this.text)?this.text.map(e=>e.text).join(""):e.t(this.text??this.defaultMessageId)}getElement(e,t,n,i){if(this.content?.remove(),this.focusBox=i,this.renderer){const t={},n=$M(e,this.renderer,t);if(n instanceof HTMLElement)this.content=n;else{const e=by("div");e.innerHTML=n;const{firstElementChild:t}=e;t instanceof HTMLElement&&1===e.childElementCount?this.content=t:this.content=e}}else{const e=by("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",fontFamily:"var(--ag-charts-font-family)",fontSize:"var(--ag-charts-font-size)",fontWeight:"var(--ag-charts-font-weight)"});if(My(this.text)){const t=by("div");for(const e of this.text){const n=by("span",{color:e.color,fontSize:`${e.fontSize}px`,fontFamily:e.fontFamily??"inherit",fontWeight:String(e.fontWeight),fontStyle:e.fontStyle});n.innerText=e.text,t.appendChild(n)}e.appendChild(t)}else e.innerText=this.getText(n);this.content=e,t?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(t){e.style.opacity=String(t)},onStop(){e.style.opacity="1"}})}return this.content}removeElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>this.content?.remove(),t=arguments.length>1?arguments[1]:void 0;if(this.content){if(t){const{content:n}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(e){n.style.opacity=String(e)},onStop(){e?.()}})}else e?.();this.content=void 0,this.focusBox=void 0}}};px([zS],jL.prototype,"enabled",2),px([zS],jL.prototype,"text",2),px([zS],jL.prototype,"renderer",2);var zL=class extends _S{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new jL("ag-charts-loading-overlay","overlayLoadingData"),this.noData=new jL("ag-charts-no-data-overlay","overlayNoData"),this.noVisibleSeries=new jL("ag-charts-no-visible-series","overlayNoVisibleSeries"),this.unsupportedBrowser=new jL("ag-charts-unsupported-browser","overlayUnsupportedBrowser")}getFocusInfo(e){for(const t of[this.loading,this.noData,this.noVisibleSeries,this.unsupportedBrowser])if(void 0!==t.focusBox)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement(),this.unsupportedBrowser.removeElement()}};px([zS],zL.prototype,"darkTheme",2),px([zS],zL.prototype,"loading",2),px([zS],zL.prototype,"noData",2),px([zS],zL.prototype,"noVisibleSeries",2),px([zS],zL.prototype,"unsupportedBrowser",2);var _L=(e=>(e[e.None=0]="None",e[e.Item=1]="Item",e[e.Series=2]="Series",e[e.OtherSeries=3]="OtherSeries",e[e.OtherItem=4]="OtherItem",e))(_L||{}),BL=class extends _S{};px([zS],BL.prototype,"fill",2),px([zS],BL.prototype,"fillOpacity",2),px([zS],BL.prototype,"stroke",2),px([zS],BL.prototype,"strokeWidth",2),px([zS],BL.prototype,"strokeOpacity",2),px([zS],BL.prototype,"lineDash",2),px([zS],BL.prototype,"lineDashOffset",2);var FL=class extends _S{constructor(){super(...arguments),this.enabled=!0,this.range="tooltip",this.bringToFront=!1,this.highlightedItem={},this.unhighlightedItem={},this.highlightedSeries={},this.unhighlightedSeries={}}getItemHighlightStyle(e){switch(e){case 1:return this.highlightedItem;case 4:return this.unhighlightedItem;case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getSeriesHighlightStyle(e){switch(e){case 1:case 4:case 2:return this.highlightedSeries;case 3:return this.unhighlightedSeries}}getStyle(e){return Bx(this.getItemHighlightStyle(e),this.getSeriesHighlightStyle(e))}};px([zS],FL.prototype,"enabled",2),px([zS],FL.prototype,"range",2),px([zS],FL.prototype,"bringToFront",2),px([zS],FL.prototype,"highlightedItem",2),px([zS],FL.prototype,"unhighlightedItem",2),px([zS],FL.prototype,"highlightedSeries",2),px([zS],FL.prototype,"unhighlightedSeries",2);var $L=class extends _S{};px([zS],$L.prototype,"strokeWidth",2),px([zS],$L.prototype,"dimOpacity",2),px([zS],$L.prototype,"enabled",2);var VL=class extends _S{constructor(){super(...arguments),this.color="black"}};px([zS],VL.prototype,"color",2);var GL=class extends _S{constructor(){super(...arguments),this.type="gradient",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.reverse=!1}};px([zS],GL.prototype,"type",2),px([zS],GL.prototype,"colorStops",2),px([zS],GL.prototype,"bounds",2),px([zS],GL.prototype,"gradient",2),px([zS],GL.prototype,"rotation",2),px([zS],GL.prototype,"reverse",2);var WL=class extends _S{constructor(){super(...arguments),this.type="pattern",this.colorStops=[],this.bounds="item",this.gradient="linear",this.rotation=0,this.scale=1,this.reverse=!1,this.pattern="forward-slanted-lines",this.width=26,this.height=26,this.padding=6,this.fill="black",this.fillOpacity=1,this.backgroundFill="white",this.backgroundFillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0}};px([zS],WL.prototype,"type",2),px([zS],WL.prototype,"colorStops",2),px([zS],WL.prototype,"bounds",2),px([zS],WL.prototype,"gradient",2),px([zS],WL.prototype,"rotation",2),px([zS],WL.prototype,"scale",2),px([zS],WL.prototype,"reverse",2),px([zS],WL.prototype,"path",2),px([zS],WL.prototype,"pattern",2),px([zS],WL.prototype,"width",2),px([zS],WL.prototype,"height",2),px([zS],WL.prototype,"padding",2),px([zS],WL.prototype,"fill",2),px([zS],WL.prototype,"fillOpacity",2),px([zS],WL.prototype,"backgroundFill",2),px([zS],WL.prototype,"backgroundFillOpacity",2),px([zS],WL.prototype,"stroke",2),px([zS],WL.prototype,"strokeOpacity",2),px([zS],WL.prototype,"strokeWidth",2);var HL=class extends _S{constructor(){super(...arguments),this.type="image",this.url="",this.rotation=0,this.scale=1,this.backgroundFill="black",this.backgroundFillOpacity=1,this.repeat="no-repeat",this.fit="contain"}};px([zS],HL.prototype,"type",2),px([zS],HL.prototype,"url",2),px([zS],HL.prototype,"rotation",2),px([zS],HL.prototype,"scale",2),px([zS],HL.prototype,"backgroundFill",2),px([zS],HL.prototype,"backgroundFillOpacity",2),px([zS],HL.prototype,"repeat",2),px([zS],HL.prototype,"fit",2);var UL=class extends _S{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];super(),this.deprecated=e,this.item=new BL,this.series=new $L,this.text=new VL}set(e){return this.deprecated&&Gm.warnOnce("highlightStyle is deprecated, use highlight instead."),super.set(e)}};px([zS],UL.prototype,"item",2),px([zS],UL.prototype,"series",2),px([zS],UL.prototype,"text",2);var YL=class extends _S{constructor(){super(...arguments),this.visible=!0,this.focusPriority=1/0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlight=new FL,this.highlightStyle=new UL}handleUnknownProperties(e,t){"context"in t&&(this.context=t.context,e.delete("context"))}};px([zS],YL.prototype,"id",2),px([zS],YL.prototype,"visible",2),px([zS],YL.prototype,"focusPriority",2),px([zS],YL.prototype,"showInLegend",2),px([zS],YL.prototype,"cursor",2),px([zS],YL.prototype,"nodeClickRange",2),px([zS],YL.prototype,"highlight",2),px([zS],YL.prototype,"highlightStyle",2);var KL=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.ANY_CONTENT=1]="ANY_CONTENT",e))(KL||{}),ZL=(e=>(e[e.FOREGROUND=0]="FOREGROUND",e[e.HIGHLIGHT=1]="HIGHLIGHT",e[e.LABEL=2]="LABEL",e))(ZL||{});function XL(e,t,n,i){if(yM(e))return{type:"gradient",gradient:e.gradient??t.gradient,colorStops:e.colorStops??t.colorStops,bounds:e.bounds??t.bounds,rotation:e.rotation??t.rotation,reverse:e.reverse??t.reverse};if(bM(e)){const t=e.pattern??n.pattern;let i=e.strokeWidth;"backward-slanted-lines"===t||"forward-slanted-lines"===t||"horizontal-lines"===t||"vertical-lines"===t?i??(i=n.strokeWidth):i??(i=0);return{type:"pattern",pattern:t,width:e.width??e.height??n.width,height:e.height??e.width??n.height,path:e.path,padding:e.padding??n.padding,fill:e.fill??n.fill,fillOpacity:e.fillOpacity??n.fillOpacity,backgroundFill:e.backgroundFill??n.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??n.backgroundFillOpacity,stroke:e.stroke??n.stroke,strokeOpacity:e.strokeOpacity??n.strokeOpacity,strokeWidth:i,rotation:e.rotation??n.rotation,scale:e.scale??n.scale}}return vM(e)?{type:"image",url:e.url,width:e.width,height:e.height,backgroundFill:e.backgroundFill??i.backgroundFill,backgroundFillOpacity:e.backgroundFillOpacity??i.backgroundFillOpacity,rotation:e.rotation??i.rotation,repeat:e.repeat??i.repeat,fit:e.fit??i.fit}:e}function qL(e,t,n,i){return yM(e?.fill)||bM(e?.fill)||vM(e?.fill)?{...e,fill:XL(e.fill,t,n,i)}:e}function QL(e,t,n,i){null!=n&&yM(t)&&null!=t.bounds&&"item"!==t.bounds?e.fillBBox=n[t.bounds]:e.fillBBox=void 0,e.fillParams=i}function JL(e,t,n,i){const r=t?.opacity??1;e.fill=t?.fill,QL(e,e.fill,n,i),e.fillOpacity=(t?.fillOpacity??1)*r,e.stroke=t?.stroke,e.strokeOpacity=(t?.strokeOpacity??1)*r,e.strokeWidth=t?.strokeWidth??0,e.lineDash=t?.lineDash,e.lineDashOffset=t?.lineDashOffset??0}var eN=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_NODE=1]="NEAREST_NODE",e[e.AXIS_ALIGNED=2]="AXIS_ALIGNED",e))(eN||{}),tN=class{constructor(e,t,n,i){this.type=e,this.event=t,this.defaultPrevented=!1,this.datum=n.datum,this.seriesId=i.id}preventDefault(){this.defaultPrevented=!0}},nN=class{constructor(e,t){this.series=e,this.seriesGrouping=t,this.type="groupingChanged"}};function iN(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}function rN(e){switch(e){case"x":return"x";case"y":return"y";case"angle":return"angle";case"radius":return"radius"}}var oN=class extends rw{constructor(e){super(),this.cleanup=new Nv,this.usesPlacedLabels=!1,this.hasChangesOnHighlight=!1,this.seriesGrouping=void 0,this.NodeEvent=tN,this.internalId=Kv(this),this.contentGroup=new _M({name:`${this.internalId}-content`,zIndex:1}),this.highlightGroup=new _M({name:`${this.internalId}-highlight`,zIndex:1}),this.annotationGroup=new _M({name:`${this.internalId}-annotation`}),this.labelGroup=new _M({name:`${this.internalId}-series-labels`}),this.axes={},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new QA,this.datumCallbackCache=new Map,this.connectsToYAxis=!1,this.declarationOrder=-1,this._broughtToFront=!1,this.events=new gy,this._pickNodeCache=new Aw,this.fireEventWrapper=e=>super.fireEvent(e);const{moduleCtx:t,pickModes:n,propertyKeys:i={},propertyNames:r={},canHaveAxes:o=!1,usesPlacedLabels:a=!1}=e;this.ctx=t,this.propertyKeys=i,this.propertyNames=r,this.canHaveAxes=o,this.usesPlacedLabels=a,this.pickModes=n,this.cleanup.register(this.ctx?.eventsHub.on("highlight:change",e=>this.onChangeHighlight(e)))}get pickModeAxis(){return"main"}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get focusable(){return!0}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.ctx.legendManager.toggleItem(e,this.id),this.ctx.legendManager.update(),this.visibleMaybeChanged()}get visible(){return this.ctx.legendManager.getSeriesEnabled(this.id)??this.properties.visible}get hasData(){return null!=this.data&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled}onDataChange(){this.nodeDataRefresh=!0,this._pickNodeCache.clear()}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){const{internalId:n,type:i,visible:r}=this;e&&this.ctx.seriesStateManager.deregisterSeries(this),t&&this.ctx.seriesStateManager.registerSeries({internalId:n,type:i,visible:r,seriesGrouping:t}),this.fireEvent(new nN(this,t))}getBandScalePadding(){return{inner:1,outer:0}}attachSeries(e,t,n){e.appendChild(this.contentGroup),t.appendChild(this.highlightGroup),t.appendChild(this.labelGroup),n?.appendChild(this.annotationGroup)}detachSeries(e,t,n){e?.removeChild(this.contentGroup),t.removeChild(this.highlightGroup),t.removeChild(this.labelGroup),n?.removeChild(this.annotationGroup)}setSeriesIndex(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.bringToFront();return!(!t&&e===this.declarationOrder&&n===this._broughtToFront)&&(this.declarationOrder=e,this._broughtToFront=n,this.setZIndex(n?Number.MAX_VALUE:e),this.fireEvent(new nN(this,this.seriesGrouping)),!0)}setZIndex(e){this.contentGroup.zIndex=[1,e,0],this.highlightGroup.zIndex=[1,e,1],this.labelGroup.zIndex=[1,e,2],this.annotationGroup.zIndex=e}renderToOffscreenCanvas(){return!1}addEventListener(e,t){return super.addEventListener(e,t)}removeEventListener(e,t){return super.removeEventListener(e,t)}hasEventListener(e){return super.hasEventListener(e)}addChartEventListeners(){}updatedDomains(){}destroy(){this.cleanup.flush(),this.resetDatumCallbackCache(),this.ctx.seriesStateManager.deregisterSeries(this)}getPropertyValues(e,t){const n=iN(e),i=null!=n?rN(this.resolveKeyDirection(n)):e,r=t?.[i],o=[];if(!r)return o;const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const i of t)Array.isArray(i)?a(...i):"object"===typeof i?a(...Object.values(i)):o.push(i)};return a(...r.map(e=>this.properties[e])),o}getKeys(e){return this.getPropertyValues(rN(e),this.propertyKeys)}getKeyProperties(e){return this.propertyKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getPropertyValues(rN(e),this.propertyNames)}getFormatterContext(e){const{id:t}=this,n=this.getPropertyValues(e,this.propertyKeys),i=this.getPropertyValues(e,this.propertyNames),r=[];for(let o=0;o<n.length;o++)r.push({seriesId:t,key:n[o],name:i[o]});return r}resolveKeyDirection(e){return e}getDomain(e){const t=this.getSeriesDomain(e),n=this.moduleMap.mapModules(t=>t.getDomain(e)).flat();return 0!==n.length?t.concat(n):t}getRange(e,t){return this.getSeriesRange(e,t)}getVisibleItems(e,t,n){return 1/0}markNodeDataDirty(){this.nodeDataRefresh=!0,this._pickNodeCache.clear(),this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.updateSeries(this)}getOpacity(){const e=1;if(!this.properties.highlight)return e;const{opacity:t=e}=this.getHighlightStyle();return t}getHighlightState(e,t,n,i){if(t)return 1;if(null==e?.series)return 0;if(this.isSeriesHighlighted(e,i)){const t=this.isItemHighlighted(e,n);return null==t||t?2:4}return 3}getHighlightStateString(e,t,n,i){switch(this.getHighlightState(e,t,n,i)){case 1:return"highlighted-item";case 4:return"unhighlighted-item";case 2:return"highlighted-series";case 3:return"unhighlighted-series";default:return"none"}}onChangeHighlight(e){const t=e.previousHighlight,n=e.currentHighlight,i=this.getHighlightState(n),r=this.getHighlightState(t);if(this.setSeriesIndex(this.declarationOrder),i===r)return void(this.hasChangesOnHighlight=!1);const{highlightedSeries:o,unhighlightedItem:a,unhighlightedSeries:s}=this.properties.highlight,l=this.hasItemStylers();this.hasChangesOnHighlight=l||!Ty(o)||!Ty(a)||!Ty(s)}bringToFront(){return this.properties.highlight.bringToFront&&this.isSeriesHighlighted(this.ctx.highlightManager.getActiveHighlight())}isSeriesHighlighted(e,t){return e?.series===this}isItemHighlighted(e,t){if(null!=e?.datumIndex&&null!=t)return e.datumIndex===t}getHighlightStyle(e,t,n){const i=this.ctx.highlightManager?.getActiveHighlight(),r=this.getHighlightState(i,e,t,n);return this.properties.highlight.getStyle(r)}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNodes(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{pickModes:i,pickModeAxis:r,visible:o,contentGroup:a}=this;if(!o||!a.visible)return;if("highlight"===t&&!this.properties.highlight.enabled)return;if("highlight-tooltip"===t&&!this.properties.highlight.enabled)return;let s=1/0;if("tooltip"===t||"highlight-tooltip"===t){const{tooltip:e}=this.properties;s="number"===typeof e.range?e.range:1/0,n||(n="exact"===e.range)}else if("event"===t||"context-menu"===t){const{nodeClickRange:e}=this.properties;s="number"===typeof e?e:1/0,n||(n="exact"===e)}const l=i.filter(e=>!n||0===e),{x:c,y:u}=e,d=JSON.stringify({x:c,y:u,maxDistance:s,selectedPickModes:l});if(this._pickNodeCache.has(d))return this._pickNodeCache.get(d);for(const h of l){let t;switch(h){case 0:{const n=this.pickNodesExactShape(e);t=0===n.length?void 0:{datums:n,distance:0};break}case 1:{const n=this.pickNodeClosestDatum(e),i=0===n?.distance?this.pickNodesExactShape(e):void 0;t=null!=i&&0!==i.length?{datums:i,distance:0}:n?{datums:[n.datum],distance:n.distance}:void 0;break}case 2:{const n=null!=r?this.pickNodeMainAxisFirst(e,"main-category"===r):void 0;t=null!=n?{datums:[n.datum],distance:n.distance}:void 0;break}}if(t&&t.distance<=s)return this._pickNodeCache.set(d,{pickMode:h,datums:t.datums,distance:t.distance})}return this._pickNodeCache.set(d,void 0)}pickNodesExactShape(e){const t=[];for(const n of this.contentGroup.pickNodes(e.x,e.y)){const e=n.closestDatum();null!=e&&!0!==e.missing&&t.push(e)}return t}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){const n=bx(e.x,e.y,t),i=n.nearest?.closestDatum();if(null!=i&&!0!==i.missing)return{datum:i,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}getLabelData(){return[]}updatePlacedLabelData(e){}fireEvent(e){$M([this.properties,this.ctx.chartService],this.fireEventWrapper,e)}fireNodeClickEvent(e,t){const n=new this.NodeEvent("seriesNodeClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}fireNodeDoubleClickEvent(e,t){const n=new this.NodeEvent("seriesNodeDoubleClick",e,t,this);return this.fireEvent(n),!n.defaultPrevented}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}onLegendInitialState(e,t){const{visible:n=!0,itemId:i,legendItemName:r}=t??{};this.toggleSeriesItem(n,e,i,r)}onLegendItemClick(e){const{enabled:t,itemId:n,series:i,legendType:r}=e,o="legendItemName"in this.properties?this.properties.legendItemName:void 0,a="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,s=void 0!=o&&o===e.legendItemName;(i.id===this.id||s||void 0!=a)&&this.toggleSeriesItem(t,r,n,o,e)}onLegendItemDoubleClick(e){const{enabled:t,itemId:n,series:i,numVisibleItems:r,legendType:o}=e,a="legendItemName"in this.properties?this.properties.legendItemName:void 0,s="legendItemKey"in this.properties?this.properties.legendItemKey:void 0,l=void 0!=a&&a===e.legendItemName;i.id===this.id||l||void 0!=s?this.toggleSeriesItem(!0,o,n,a,e):t&&1===r?this.toggleSeriesItem(!0,o,void 0,a):this.toggleSeriesItem(!1,o,void 0,a)}toggleSeriesItem(e,t,n,i,r){const o=this.id;(e||"category"!==t)&&(this.visible=e),this.nodeDataRefresh=!0,this._pickNodeCache.clear();const a={type:"seriesVisibilityChange",seriesId:o,itemId:n,legendItemName:r?.legendItemName??i,visible:e};this.fireEvent(a),this.ctx.legendManager.toggleItem(e,o,n,i)}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return{...this.ctx,series:this}}getAxisValueText(e,t,n,i,r,o){const{id:a,properties:s}=this;return e.formatDatum(s,n,t,a,o,i,r)}getLabelText(e,t,n,i,r,o,a){if(null==e)return"";const{axes:s,canHaveAxes:l,ctx:c,id:u,properties:d}=this,h="series-label",p="legendItemName"in d?d.legendItemName:void 0,g={seriesId:this.id,...a},f=l?iN(i):void 0,m=null!=f?s[this.resolveKeyDirection(f)]:void 0;if(null!=m)return m.formatDatum(d,e,h,u,p,t,n,r,o,g);const{formatManager:y}=c,b=this.callWithContext.bind(this),v=t=>o.formatValue(b,t.type,t.value,g)??y.format(b,t)??String(e),x=this.getFormatterContext(i);switch(i){case"y":case"color":case"size":return v({type:"number",value:e,datum:t,seriesId:u,legendItemName:p,key:n,source:h,property:i,domain:r,boundSeries:x,fractionDigits:void 0});case"x":case"radius":case"angle":case"label":case"secondaryLabel":case"calloutLabel":case"sectorLabel":case"legendItem":return v({type:"category",value:e,datum:t,seriesId:u,legendItemName:p,key:n,source:h,property:i,domain:r,boundSeries:x})}}getMarkerStyle(e,t,n){let{datumIndex:i,datum:r,point:o}=t,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{size:o?.size??e.size??0},l=arguments.length>5?arguments[5]:void 0,c=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const{itemStyler:u,fillGradientDefaults:d,fillPatternDefaults:h,fillImageDefaults:p}=e;let g=qL(Bx(c?this.getHighlightStyle(a,i):void 0,s,e.getStyle(),l),d,h,p);if(u&&n){const e=this.ctx.highlightManager?.getActiveHighlight(),t=this.getHighlightStateString(e,a,i);g=qL(Bx(this.cachedCallWithContext(u,{seriesId:this.id,...g,...n,highlighted:a,highlightState:t,datum:r}),g),d,h,p)}return g}applyMarkerStyle(e,t,n,i){let{applyTranslation:r=!0,selected:o=!0}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const{shape:a,size:s=0}=e,l=this.visible&&s>0&&n&&!isNaN(n.x)&&!isNaN(n.y);if(JL(t,e,i),r?t.setProperties({visible:l,shape:a,size:s,x:n?.x,y:n?.y,scalingCenterX:n?.x,scalingCenterY:n?.y}):t.setProperties({visible:l,shape:a,size:s}),o||(t.fillOpacity*=.25,t.strokeOpacity*=.125),"function"===typeof a&&!t.dirtyPath){t.path.clear(!0),t.updatePath(),t.checkPathDirty();const i=t.getBBox();if(null!=n&&i.isFinite()){const t=i.computeCenter(),[r,o]=["x","y"].map(i=>(e.strokeWidth??0)+Math.abs(t[i]-n[i]));n.focusSize=Math.max(i.width+r,i.height+o)}}}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){const{width:t,height:n}=e??{width:NaN,height:NaN},i=e?{seriesRectWidth:t,seriesRectHeight:n}:void 0,r=null!=XM(this.nodeDataDependencies,i);return r&&(this._nodeDataDependencies=i,this.markNodeDataDirty()),r}pickFocus(e){}resetDatumCallbackCache(){this.datumCallbackCache.clear()}cachedDatumCallback(e,t){const{datumCallbackCache:n}=this,i=n.get(e);if(null!=i)return i;try{const i=t();return n.set(e,i),i}catch(Ym){Gm.error(String(Ym))}}cachedCallWithContext(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.ctx.callbackCache.call([this.properties,this.ctx.chartService],e,...n)}callWithContext(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return $M([this.properties,this.ctx.chartService],e,...n)}formatTooltipWithContext(e,t,n){return e.formatTooltip([this.properties,this.ctx.chartService],t,n)}minTimeInterval(){}};px([cw({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],oN.prototype,"seriesGrouping",2);var aN=class{constructor(e){this.swapChain=e,this.hasBeenActivated=!1,this.div=by("div"),this.svg=vy("svg"),this.outerPath=vy("path"),this.innerPath=vy("path"),this.svg.append(this.outerPath),this.svg.append(this.innerPath),this.outerPath.classList.add("ag-charts-focus-svg-outer-path"),this.innerPath.classList.add("ag-charts-focus-svg-inner-path"),this.element=by("div","ag-charts-focus-indicator"),this.element.ariaHidden="true",this.element.append(this.svg),this.swapChain.addListener("swap",e=>this.onSwap(e))}clear(){}update(e,t,n){if(null!=t)if(e instanceof Gw){const n=(n,i)=>{let{x:r,y:o}=OM.toCanvasPoint(e,n,i);return r-=t.x??0,o-=t.y??0,{x:r,y:o}},i=e.svgPathData(n);this.outerPath.setAttribute("d",i),this.innerPath.setAttribute("d",i),this.show(this.svg)}else{let i;if(n){const n=Math.max(e.x-t.x,0),r=Math.max(e.y-t.y,0),o=Math.min(e.x+e.width-t.x,t.width),a=Math.min(e.y+e.height-t.y,t.height);i=new Sx(n,r,o-n,a-r)}else i=new Sx(e.x-t.x,e.y-t.y,e.width,e.height);GM(this.div,i),this.show(this.div)}}onSwap(e){e!==this.element.parentElement&&(this.element.remove(),e.appendChild(this.element),this.overrideFocusVisible(this.focusVisible))}show(e){this.hasBeenActivated=!0,this.element.innerHTML="",this.element.append(e)}overrideFocusVisible(e){this.focusVisible=e;const t=this.element.parentElement;t?.style.setProperty("opacity",{true:"1",false:"0",undefined:""}[`${e}`])}isFocusVisible(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!this.hasBeenActivated)return!1;const e=this.element.parentElement;return null!=e&&"1"===yy().getComputedStyle(e).opacity}},sN=class{constructor(e,t,n,i){this.label1=e,this.label2=t,this.hasFocus=!1,this.skipDispatch=!1,this.listeners={blur:[],focus:[],swap:[]},this.onBlur=e=>(kv(e.target,"pointer-events",void 0),!this.skipDispatch&&this.dispatch("blur",e)),this.onFocus=e=>(kv(e.target,"pointer-events","auto"),!this.skipDispatch&&this.dispatch("focus",e)),Sv(this.label1,"id",Zv()),Sv(this.label2,"id",Zv()),kv(this.label1,"display","none"),kv(this.label2,"display","none"),this.label1.textContent=i,this.label2.textContent=i,this.activeAnnouncer=this.createAnnouncer(n),this.inactiveAnnouncer=this.createAnnouncer(n),Sv(this.activeAnnouncer,"tabindex",0),this.label2.insertAdjacentElement("afterend",this.activeAnnouncer),this.label2.insertAdjacentElement("afterend",this.inactiveAnnouncer),this.swap(i)}createAnnouncer(e){const t=by("div");return t.role=e,t.className="ag-charts-swapchain",t.addEventListener("blur",this.onBlur),t.addEventListener("focus",this.onFocus),t}destroy(){for(const e of[this.activeAnnouncer,this.inactiveAnnouncer])e.removeEventListener("blur",this.onBlur),e.removeEventListener("focus",this.onFocus),e.remove()}focus(e){this.focusOptions=e,this.activeAnnouncer.focus(e),this.focusOptions=void 0}update(e){this.skipDispatch=!0,this.swap(e),this.hasFocus&&this.activeAnnouncer.focus(this.focusOptions),this.skipDispatch=!1}addListener(e,t){if(this.listeners[e].push(t),"swap"===e){t(this.activeAnnouncer)}}dispatch(e,t){"focus"===e?this.hasFocus=!0:"blur"===e&&(this.hasFocus=!1),this.listeners[e].forEach(e=>e(t))}swap(e){const t=this.activeAnnouncer.tabIndex;this.label2.textContent=e,[this.inactiveAnnouncer,this.activeAnnouncer]=[this.activeAnnouncer,this.inactiveAnnouncer],[this.label1,this.label2]=[this.label2,this.label1],Mv(this.inactiveAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!0,tabindex:void 0}),Mv(this.activeAnnouncer,{"aria-labelledby":this.label1.id,"aria-hidden":!1,tabindex:t}),this.dispatch("swap",this.activeAnnouncer)}},lN={arrowdown:{bindings:[{code:"ArrowDown"}]},arrowleft:{bindings:[{code:"ArrowLeft"}]},arrowright:{bindings:[{code:"ArrowRight"}]},arrowup:{bindings:[{code:"ArrowUp"}]},delete:{bindings:[{key:"Backspace"},{key:"Delete"}],activatesFocusIndicator:!1},redo:{bindings:[{key:"y",ctrlOrMeta:!0},{key:"z",ctrlOrMeta:!0,shift:!0}],activatesFocusIndicator:!1},undo:{bindings:[{key:"z",ctrlOrMeta:!0}],activatesFocusIndicator:!1},submit:{bindings:[{key:"Enter"},{code:"Enter"},{code:"Space"}]},zoomin:{bindings:[{key:"+"},{code:"ZoomIn"},{code:"Add"}],activatesFocusIndicator:!1},zoomout:{bindings:[{key:"-"},{code:"ZoomOut"},{code:"Substract"}],activatesFocusIndicator:!1}};function cN(e,t){for(const n of t)if("code"in n){if(n.code===e.code)return!0}else{if(n.key===e.key&&(void 0===n.shift||n.shift===e.shiftKey)&&(void 0===n.ctrlOrMeta||n.ctrlOrMeta===e.ctrlKey||n.ctrlOrMeta===e.metaKey))return!0}return!1}function uN(e,t,n){const{x:i,y:r}=function(e,t,n){const i=NC(e,n.datum,n.movedBounds);if(null!=i)return{x:i.canvasX,y:i.canvasY};const r=n.bounds;if(null!=r){if(r instanceof Sx){const{x:e,y:n}=r.computeCenter();return{x:t.x+e,y:t.y+n}}return OM.toCanvas(r).computeCenter()}}(e,t,n)??{};if(void 0!==i&&void 0!==r)return{type:"keyboard",canvasX:i,canvasY:r}}function dN(e,t,n,i){let{top:r,right:o,bottom:a,left:s,width:l,height:c}=i;return null!=s?null!=l?o=n.width-s+l:null!=o&&(l=n.width-s-o):null!=o&&null!=l&&(s=n.width-o-l),null!=r?null!=c?a=n.height-r-c:null!=a&&(c=n.height-a-r):null!=a&&null!=c&&(r=n.height-a-c),null==l?null==c?(c=t,l=e):l=Math.ceil(e*c/t):c??(c=Math.ceil(t*l/e)),null==s&&(s=null==o?Math.floor((n.width-l)/2):n.width-o-l),null==r&&(r=null==a?Math.floor((n.height-c)/2):n.height-c-a),{x:s,y:r,width:l,height:c}}var hN=class{constructor(){this.events=new gy,this.x1=NaN,this.y1=NaN,this.x=NaN,this.y=NaN,this.vx=0,this.vy=0,this.t0=NaN,this.animationFrameHandle=void 0}reset(){this.x=NaN,this.y=NaN,null!=this.animationFrameHandle&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0)}update(e,t){if(Number.isNaN(this.x)||Number.isNaN(this.y))return this.x=e,this.y=t,this.vx=0,this.vy=0,this.emitUpdate(),void(null!=this.animationFrameHandle&&(cancelAnimationFrame(this.animationFrameHandle),this.animationFrameHandle=void 0));this.x1=e,this.y1=t,this.t0=Date.now(),this.animationFrameHandle??(this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this)))}onFrame(){this.animationFrameHandle=void 0;const{x1:e,y1:t,t0:n}=this,i=Date.now(),r=i-n;this.t0=i;const o=.001,a=0|Math.ceil(r/1);let{x:s,y:l,vx:c,vy:u}=this;for(let d=0;d<a;d+=1){c+=-(200*(s-e)+12*c)/.1*o,u+=-(200*(l-t)+12*u)/.1*o,s+=c*o,l+=u*o}Math.hypot(s-e,l-t)<.5?(this.x=this.x1,this.y=this.y1,this.vx=0,this.vy=0):(this.x=s,this.y=l,this.vx=c,this.vy=u,this.animationFrameHandle=requestAnimationFrame(this.onFrame.bind(this))),this.emitUpdate()}emitUpdate(){this.events.emit("update",{x:this.x,y:this.y})}},pN=null;function gN(e){return""===e?"":(pN??(pN=by("div")),pN.textContent=String(e),pN.innerHTML.replace(/\n/g,"<br>"))}function fN(e,t){const{path:n,size:i}=e,{x:r,y:o}=e;n.clear();let a=!1;for(const[s,l]of t){const e=r+(s-.5)*i,t=o+(l-.5)*i;a?n.lineTo(e,t):n.moveTo(e,t),a=!0}n.closePath()}var mN={circle(e){let{path:t,x:n,y:i,size:r}=e;const o=r/2;t.arc(n,i,o,0,2*Math.PI),t.closePath()},cross(e){fN(e,[[.25,0],[.5,.25],[.75,0],[1,.25],[.75,.5],[1,.75],[.75,1],[.5,.75],[.25,1],[0,.75],[.25,.5],[0,.25]])},diamond(e){fN(e,[[.5,0],[1,.5],[.5,1],[0,.5]])},heart(e){let{path:t,x:n,y:i,size:r}=e;const o=r/4;i+=o/2,t.arc(n-o,i-o,o,fS(130),fS(330)),t.arc(n+o,i-o,o,fS(220),fS(50)),t.lineTo(n,i+o),t.closePath()},pin(e){let{path:t,x:n,y:i,size:r}=e;const o=.5,a=.5;t.moveTo(n+-.34375*r,i+-.15625*r),t.cubicCurveTo(n+-.34375*r,i+-.348509*r,n+-.192259*r,i+-.5*r,n+0*r,i+-.5*r),t.cubicCurveTo(n+(.692259-o)*r,i+-.5*r,n+.34375*r,i+-.348509*r,n+.34375*r,i+-.15625*r),t.cubicCurveTo(n+.34375*r,i+(.493824-a)*r,n+.284625*r,i+(.600181-a)*r,n+(.716461-o)*r,i+(.695393-a)*r),t.cubicCurveTo(n+.199009*r,i+.219769*r,n+(.681271-o)*r,i+.243104*r,n+(.663785-o)*r,i+(.766105-a)*r),t.cubicCurveTo(n+(.611893-o)*r,i+(.834367-a)*r,n+(.562228-o)*r,i+.399699*r,n+(.528896-o)*r,i+(.980648-a)*r),t.cubicCurveTo(n+(.524075-o)*r,i+(.992358-a)*r,n+(.512663-o)*r,i+.5*r,n+0*r,i+.5*r),t.cubicCurveTo(n+(.487337-o)*r,i+.5*r,n+(.475925-o)*r,i+(.992358-a)*r,n+(.471104-o)*r,i+(.980648-a)*r),t.cubicCurveTo(n+(.487337-o)*r,i+.5*r,n+(.475925-o)*r,i+(.992358-a)*r,n+(.471104-o)*r,i+(.980648-a)*r),t.cubicCurveTo(n+(.437772-o)*r,i+.399699*r,n+(.388107-o)*r,i+(.834367-a)*r,n+(.336215-o)*r,i+(.766105-a)*r),t.cubicCurveTo(n+(.318729-o)*r,i+.243104*r,n+-.199009*r,i+.219769*r,n+(.283539-o)*r,i+(.695393-a)*r),t.cubicCurveTo(n+-.284625*r,i+(.600181-a)*r,n+-.34375*r,i+(.493824-a)*r,n+-.34375*r,i+-.15625*r),t.closePath()},plus(e){fN(e,[[1/3,0],[2/3,0],[2/3,1/3],[1,1/3],[1,2/3],[2/3,2/3],[2/3,1],[1/3,1],[1/3,2/3],[0,2/3],[0,1/3],[1/3,1/3]])},square(e){let{path:t,x:n,y:i,size:r,pixelRatio:o}=e;const a=r/2;t.moveTo(hM(o,n-a),hM(o,i-a)),t.lineTo(hM(o,n+a),hM(o,i-a)),t.lineTo(hM(o,n+a),hM(o,i+a)),t.lineTo(hM(o,n-a),hM(o,i+a)),t.closePath()},star(e){let{path:t,x:n,y:i,size:r}=e;const o=r/2,a=o/2,s=Math.PI/2;for(let l=0;l<10;l++){const e=l%2===0?o:a,r=l*Math.PI/5-s,c=n+Math.cos(r)*e,u=i+Math.sin(r)*e;t.lineTo(c,u)}t.closePath()},triangle(e){fN(e,[[.5,0],[1,.87],[0,.87]])}},yN=class extends Gw{constructor(){super(...arguments),this.shape="square",this.x=0,this.y=0,this.size=12}isPointInPath(e,t){return this.distanceSquared(e,t)<=0}distanceSquared(e,t){const n=bN.anchor(this.shape);return Math.max(Math.hypot(e-this.x+(n.x-.5)*this.size,t-this.y+(n.y-.5)*this.size)-this.size/2,0)}updatePath(){const{path:e,shape:t,x:n,y:i,size:r}=this,o=this.layerManager?.canvas?.pixelRatio??1,a=bN.anchor(t),s={path:e,x:n-(a.x-.5)*r,y:i-(a.y-.5)*r,size:r,pixelRatio:o};e.clear(),"string"===typeof t?mN[t](s):"function"===typeof t&&t(s)}computeBBox(){const{x:e,y:t,size:n}=this,i=bN.anchor(this.shape);return new Sx(e-n*i.x,t-n*i.y,n,n)}executeFill(e,t){if(t)return super.executeFill(e,t)}executeStroke(e,t){if(t)return super.executeStroke(e,t)}};px([tS({equals:Qx})],yN.prototype,"shape",2),px([Jx()],yN.prototype,"x",2),px([Jx()],yN.prototype,"y",2),px([Jx({convertor:Math.abs})],yN.prototype,"size",2);var bN=class extends(TM(LM(NM(yN)))){static anchor(e){return"pin"===e?{x:.5,y:1}:"function"===typeof e&&"anchor"in e?e.anchor:{x:.5,y:.5}}constructor(e){super(e),null!=e?.shape&&(this.shape=e.shape)}};function vN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t*(5/3);const i=new PM,r=Math.min(e.marker.strokeWidth??1,2),o=Math.min(e.line?.strokeWidth??0,2),a=Math.max(!1===e.marker.enabled?0:t,null==e.line?0:n),s=Math.max(!1===e.marker.enabled?0:t,o);if(null!=e.line){const{stroke:t,strokeOpacity:n,lineDash:r}=e.line,l=new uA;l.x1=0,l.y1=s/2,l.x2=a,l.y2=s/2,l.stroke=t,l.strokeOpacity=n,l.strokeWidth=o,l.lineDash=r,i.append(l)}if(!1!==e.marker.enabled){const{shape:n,fill:o,fillOpacity:l,stroke:c,strokeOpacity:u,lineDash:d,lineDashOffset:h}=e.marker,p=new bN;p.shape=n??"square",p.size=t,p.fill=o,p.fillOpacity=l??1,p.stroke=c,p.strokeOpacity=u??1,p.strokeWidth=r,p.lineDash=d,p.lineDashOffset=h??0;const g=bN.anchor(n),f=a/2+(g.x-.5)*t,m=s/2+(g.y-.5)*t,y=t/(t+r);p.x=f,p.y=m,p.scalingCenterX=f,p.scalingCenterY=m,p.scalingX=y,p.scalingY=y,i.append(p)}return PM.toSVG(i,a,s)}var xN="ag-charts-tooltip",SN="ag-charts-tooltip--dark";function MN(e){const t=[],n=new Map;for(const i of e)if("structured"===i.type){const{heading:e}=i,r=null!=e?n.get(e):void 0,o={type:"structured",heading:e,items:[i]};null==r?(n.set(e,o),t.push(o)):r.items.push(i)}else t.push(i);return t}function wN(e){const t=MN(e),n=[];return t.forEach(e=>{if("raw"===e.type)return"";null!=e.heading&&n.push(e.heading),e.items.forEach(e=>{null!=e.title&&n.push(e.title),e.data?.forEach(e=>{n.push(e.label??e.fallbackLabel,e.value)})})}),n.join("; ")}function kN(e,t,n){let i="";null==e?i+=`<span class="${xN}-label">${gN(t)}</span>`:(i+=`<span class="${xN}-label">${gN(e)}</span>`,i+=" ",i+=`<span class="${xN}-value">${gN(t)}</span>`);const r=[`${xN}-row`];return n&&r.push(`${xN}-row--inline`),i=`<div class="${r.join(" ")}">${i}</div>`,i}function IN(e,t){if(null==e||1===t.length)return;const n=e?.t("tooltipPaginationStatus",{index:t.index+1,count:t.length});return`<div class="${xN}-footer">${n}</div>`}function CN(e,t,n,i){const r=1===t.items.length?t.items[0]:void 0;let o,a,s;switch(n){case"compact":o=!0,a=r?.title;break;case"single":o=null!=r&&(null==t.heading||null==r.title)&&1===r.data?.length&&null==r.data[0].label&&null!=r.data[0].value,s=t.heading??r?.title;break;case"shared":o=!1}let l="";if(o&&null!=r?(null!=a&&(l+=kN(void 0,a,!1)),r.data?.forEach(e=>{l+=kN(e.label??s,e.value,!1),l+=" "})):(null!=t.heading&&(l+=`<span class="${xN}-heading">${gN(t.heading)}</span>`,l+=" "),t.items.forEach(e=>{l+=function(e){let t="";if(e.data?.length&&e.data.every(e=>null==e.value||""===e.value))return t;const n=null==e.title&&1===e.data?.length,i=null==e.symbol?void 0:vN(e.symbol,12);return null==i||null==e.title&&!e.data?.length||(t+=`<span class="${xN}-symbol">${i}</span>`),null!=e.title&&(t+=`<span class="${xN}-title">${gN(e.title)}</span>`,t+=" "),e.data?.forEach(e=>{t+=kN(e.label??e.fallbackLabel,e.value,n),t+=" "}),t}(e)})),0===l.length)return;const c="compact"!==n&&null!=i?IN(e,i):void 0;return c+null&&(l+=c),l=`<div class="${xN}-content">${l.trimEnd()}</div>`,l}function DN(e,t,n,i){const r=MN(t);if(0!==r.length){if(1===r.length&&"structured"===r[0].type)return CN(e,r[0],n,i);{const t=r.map(t=>"structured"===t.type?CN(e,t,n):t.rawHtmlString);return null!=i&&t.push(function(e,t){const n=null==t?void 0:IN(e,t);return null==n?"":`<div class="${xN}-content">${n}</div>`}(e,i)??""),t.join("")}}}var AN={left:-1,"top-left":-1,"bottom-left":-1,top:0,center:0,bottom:0,right:1,"top-right":1,"bottom-right":1},TN={"top-left":-1,top:-1,"top-right":-1,left:0,center:0,right:0,"bottom-left":1,bottom:1,"bottom-right":1},LN={left:3,"top-left":void 0,"bottom-left":void 0,top:2,center:void 0,bottom:1,right:0,"top-right":void 0,"bottom-right":void 0},NN={top:2,bottom:2,left:1,right:1,"top-right":3,"top-left":3,"bottom-right":3,"bottom-left":3,center:0},EN={pointer:"top",node:"top",chart:"top-left"},ON=class extends _S{constructor(){super(...arguments),this.xOffset=0,this.yOffset=0}};px([zS],ON.prototype,"xOffset",2),px([zS],ON.prototype,"yOffset",2),px([zS],ON.prototype,"anchorTo",2),px([zS],ON.prototype,"placement",2);var RN=class extends _S{constructor(){super(),this.enabled=!0,this.mode="single",this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new ON,this.pagination=!1,this.darkTheme=!1,this.bounds="extended",this.cleanup=new Nv,this.springAnimation=new hN,this.enableInteraction=!1,this.wrapTypes=["always","hyphenate","on-space","never"],this.sizeMonitor=new Bk,this._elementSize=void 0,this._showTimeout=void 0,this.arrowPosition=void 0,this._visible=!1,this.positionParams=void 0,this.localeManager=void 0,this.cleanup.register(this.springAnimation.events.on("update",this.updateTooltipPosition.bind(this)))}get interactive(){return this.enableInteraction}setup(e,t){return"togglePopover"in yy().HTMLElement.prototype&&(this.element=t.addChild("tooltip-container",xN),this.element.setAttribute("popover","manual"),this.element.className=xN,this.element.style.positionAnchor=t.anchorName,this.sizeMonitor.observe(this.element,e=>{this._elementSize=e,this.updateTooltipPosition()})),this.localeManager=e,()=>{t.removeChild("tooltip-container",xN),this.cleanup.flush(),this.element&&this.sizeMonitor.unobserve(this.element)}}isVisible(){return this._visible}contains(e){return this.element?.contains(e)??!1}updateTooltipPosition(){const{element:e,_elementSize:t,positionParams:n}=this;if(null==e||null==t||null==n)return;const{canvasRect:i,relativeRect:r,meta:o}=n,{x:a,y:s}=this.springAnimation,l=o.position?.anchorTo??"pointer";let c=o.position?.placement??EN[l];Array.isArray(c)||(c=[c]);const u=o.position?.xOffset??0,d=o.position?.yOffset??0,h=r.x,p=r.y,g=r.width-t.width-1+h,f=r.height-t.height+p;let m,y,b=0,v=!1;do{m=c[b],b+=1;const e=this.getTooltipBounds({elementSize:t,placement:m,anchorTo:l,canvasX:a,canvasY:s,yOffset:d,xOffset:u,canvasRect:i});y=dN(t.width,t.height,r,e),v=!1,1&NN[m]&&(v||(v=y.x<h||y.x>g)),2&NN[m]&&(v||(v=y.y<p||y.y>f))}while(b<c.length&&v);const x=Ev(h,y.x,g),S=Ev(p,y.y,f);v||(v=x!==y.x||S!==y.y);const M="chart"!==l&&!v&&!u&&!d,w=o.showArrow??this.showArrow??M;this.arrowPosition=w?LN[m]:void 0,this.updateClassModifiers(),e.style.translate=`${x}px ${S}px`}show(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const{element:a}=this;if(null!=a&&null!=i&&0!==i.length){const e=DN(this.localeManager,i,this.mode,this.pagination?r:void 0);if(null==e)return void this.toggle(!1);a.innerHTML=e}else if(null==a||""===a.innerHTML)return void this.toggle(!1);const s={x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height};this.positionParams={canvasRect:t,relativeRect:s,meta:n};switch(n.position?.anchorTo??"pointer"){case"node":this.springAnimation.update(n.nodeCanvasX??n.canvasX,n.nodeCanvasY??n.canvasY);break;case"pointer":this.springAnimation.update(n.canvasX,n.canvasY);break;case"chart":this.springAnimation.reset()}n.enableInteraction?(this.enableInteraction=!0,a.style.pointerEvents="auto",a.removeAttribute("aria-hidden"),a.tabIndex=-1):(this.enableInteraction=!1,a.style.pointerEvents="none",a.setAttribute("aria-hidden","true"),a.removeAttribute("tabindex")),a.style.setProperty("--top",`${t.top}px`),a.style.setProperty("--left",`${t.left}px`),this.updateClassModifiers(),this.toggle(!0,o)}hide(){this.toggle(!1)}maybeEnterInteractiveTooltip(e,t){let{relatedTarget:n}=e;const{interactive:i,interactiveLeave:r,enabled:o,element:a}=this;if(null==a)return!1;if(r)return!0;const s=i&&o&&this.isVisible()&&n instanceof Node&&this.contains(n);return s&&(this.interactiveLeave={callback:t,listener:e=>{(null==e.relatedTarget||e.relatedTarget instanceof Node&&!this.contains(e.relatedTarget))&&this.popInteractiveLeaveCallback()}},a.addEventListener("focusout",this.interactiveLeave.listener),a.addEventListener("mouseout",this.interactiveLeave.listener)),s}popInteractiveLeaveCallback(){const{interactiveLeave:e,element:t}=this;this.interactiveLeave=void 0,e&&(t&&(t.removeEventListener("focusout",e.listener),t.removeEventListener("mouseout",e.listener)),e.callback())}toggle(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{delay:n}=this;e&&n>0&&!t?this._showTimeout??(this._showTimeout=setTimeout(()=>{this._showTimeout=void 0,this.toggleCallback(!0)},n)):(clearTimeout(this._showTimeout),this._showTimeout=void 0,this.toggleCallback(e))}toggleCallback(e){this.element?.isConnected&&this._visible!==e&&(this._visible=e,this.element.togglePopover(e),e?this.updateTooltipPosition():(this.springAnimation.reset(),this.popInteractiveLeaveCallback()))}updateClassModifiers(){if(!this.element?.isConnected)return;const{classList:e}=this.element,t=(t,n)=>e.toggle(`${xN}--${t}`,n);t("no-interaction",!this.enableInteraction),t("arrow-top",1===this.arrowPosition),t("arrow-right",3===this.arrowPosition),t("arrow-bottom",2===this.arrowPosition),t("arrow-left",0===this.arrowPosition),t("compact","compact"===this.mode),e.toggle(SN,this.darkTheme);for(const n of this.wrapTypes)e.toggle(`${xN}--wrap-${n}`,n===this.wrapping)}getTooltipBounds(e){const{elementSize:t,anchorTo:n,placement:i,canvasX:r,canvasY:o,yOffset:a,xOffset:s,canvasRect:l}=e,{width:c,height:u}=t,d={width:c,height:u};if("node"===n||"pointer"===n){const e=AN[i],t=TN[i];return d.top=o+a+u*(t-1)/2+8*t,d.left=r+s+c*(e-1)/2+8*e,d}switch(i){case"top":return d.top=a,d.left=l.width/2-c/2+s,d;case"right":return d.top=l.height/2-u/2+a,d.left=l.width-c/2+s,d;case"left":return d.top=l.height/2-u/2+a,d.left=s,d;case"bottom":return d.top=l.height-u+a,d.left=l.width/2-c/2+s,d;case"top-left":return d.top=a,d.left=s,d;case"top-right":return d.top=a,d.left=l.width-c+s,d;case"bottom-right":return d.top=l.height-u+a,d.left=l.width-c+s,d;case"bottom-left":return d.top=l.height-u+a,d.left=s,d}return d}};function PN(e,t){return e.series===t.series&&zx(e.datumIndex,t.datumIndex)}px([zS],RN.prototype,"enabled",2),px([zS],RN.prototype,"mode",2),px([zS],RN.prototype,"showArrow",2),px([zS],RN.prototype,"delay",2),px([zS],RN.prototype,"range",2),px([zS],RN.prototype,"wrapping",2),px([zS],RN.prototype,"position",2),px([zS],RN.prototype,"pagination",2),px([zS],RN.prototype,"darkTheme",2),px([zS],RN.prototype,"bounds",2);var jN=class{constructor(){this.candidates=[]}get current(){return this.active}reset(){this.candidates.length=0,this.active=void 0}update(e,t){this.candidates=e;let n=null!=t?e.findIndex(e=>PN(e,t)):-1;return-1===n&&(n=0),this.active=e[n],{current:this.active,index:n,length:e.length}}next(){const{candidates:e,active:t}=this,n=null==t?-1:e.findIndex(e=>PN(e,t));if(-1===n)return;let i=n+1;return i>=e.length&&(i=0),this.active=e[i],{current:this.active,index:i,length:this.candidates.length}}},zN=class extends xk{constructor(e){super(),this.chart=e,this.id=Kv(this),this.series=[],this.announceMode="when-changed",this.highlight={pendingHoverEvent:void 0,appliedHoverEvent:void 0,stashedHoverEvent:void 0},this.tooltip={lastHover:void 0},this.hoverDevice="pointer",this.previousInputDevice="keyboard",this.focus={sortedSeries:[],series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.cachedTooltipContent=void 0,this.hoverScheduler=dw((e,t)=>yy().requestAnimationFrame(e),()=>{(this.tooltip.lastHover||this.highlight.pendingHoverEvent)&&(this.chart.getUpdateType()<=5?this.hoverScheduler.schedule():(this.highlight.pendingHoverEvent&&this.handleHoverHighlight(!1),this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!1)))}),this.tooltipCandidates=new jN;const t=e.ctx.localeManager.t("ariaInitSeriesArea"),n=e.ctx.domManager.addChild("series-area","series-area-aria-label1"),i=e.ctx.domManager.addChild("series-area","series-area-aria-label2");this.swapChain=new sN(n,i,"img",t),this.swapChain.addListener("blur",e=>this.onBlur(e)),this.swapChain.addListener("focus",()=>this.onFocus()),"normal"===e.ctx.domManager.mode&&(this.focusIndicator=new aN(this.swapChain),this.focusIndicator.overrideFocusVisible("integrated"!==e.mode&&void 0));const{seriesDragInterpreter:r,seriesWidget:o,containerWidget:a}=e.ctx.widgets;o.setTabIndex(-1),this.cleanup.register(()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label1"),()=>e.ctx.domManager.removeChild("series-area","series-area-aria-label2"),o.addListener("focus",()=>this.swapChain.focus({preventScroll:!0})),o.addListener("mousemove",e=>this.onHover(e,o)),o.addListener("wheel",e=>this.onWheel(e)),o.addListener("mouseleave",e=>this.onLeave(e)),o.addListener("keydown",e=>this.onKeyDown(e)),o.addListener("contextmenu",(e,t)=>this.onContextMenu(e,t)),a.addListener("contextmenu",(e,t)=>this.onContextMenu(e,t)),a.addListener("click",(e,t)=>this.onClick(e,t)),a.addListener("dblclick",(e,t)=>this.onClick(e,t)),e.ctx.animationManager.addListener("animation-start",()=>this.clearAll()),e.ctx.eventsHub.on("dom:resize",()=>this.clearAll()),e.ctx.eventsHub.on("highlight:change",e=>this.changeHighlightDatum(e)),e.ctx.eventsHub.on("layout:complete",e=>this.layoutComplete(e)),e.ctx.updateService.addListener("pre-scene-render",()=>this.preSceneRender()),e.ctx.updateService.addListener("update-complete",()=>this.updateComplete()),e.ctx.eventsHub.on("zoom:change",()=>this.clearAll()),e.ctx.eventsHub.on("zoom:pan-start",()=>this.clearAll())),r&&this.cleanup.register(r.events.on("drag-move",e=>this.onDragMove(e,o)),r.events.on("click",e=>this.onClick(e,o)),r.events.on("dblclick",e=>this.onClick(e,o)))}get bbox(){return(this.seriesRect??Sx.zero).clone()}isState(e){return this.chart.ctx.interactionManager.isState(e)}isIgnoredTouch(e){return"touch"===e.device&&"click"!==e.type&&("hover"!==this.chart.ctx.chartService.touch.dragAction&&("drag"!==this.chart.ctx.chartService.touch.dragAction||!this.isState(9)))}dataChanged(){var e;this.cachedTooltipContent=void 0,this.highlight.appliedHoverEvent&&((e=this.highlight).stashedHoverEvent??(e.stashedHoverEvent=this.highlight.appliedHoverEvent),this.clearHighlight()),this.chart.ctx.tooltipManager.removeTooltip(this.id),this.focusIndicator?.clear()}preSceneRender(){null!=this.highlight.stashedHoverEvent&&(this.highlight.pendingHoverEvent=this.highlight.stashedHoverEvent,this.highlight.stashedHoverEvent=void 0,this.handleHoverHighlight(!0)),null!=this.tooltip.lastHover&&this.handleHoverTooltip(this.tooltip.lastHover,!0)}updateComplete(){this.isState(34)&&this.focusIndicator?.isFocusVisible()&&("always"!==this.announceMode&&(this.announceMode="never"),this.handleFocus(0,0))}update(e,t){this.chart.ctx.updateService.update(e,t)}seriesChanged(e){this.focus.sortedSeries=[...e].sort((e,t)=>{let n=e.properties.focusPriority??1/0,i=t.properties.focusPriority??1/0;return n===i&&([n,i]=[e.declarationOrder,t.declarationOrder]),n<i?-1:n>i?1:0}),this.series=e}layoutComplete(e){this.seriesRect=e.series.rect,this.hoverRect=e.series.rect,this.chart.ctx.widgets.seriesWidget.setBounds(e.series.rect),"normal"===this.chart.ctx.domManager.mode&&this.chart.ctx.widgets.chartWidget.setBounds(e.chart)}onContextMenu(e,t){const{sourceEvent:n}=e;if(n.currentTarget!=t.getElement())return;if(n.target==this.chart.ctx.widgets.containerWidget.getElement()){if(this.isState(36)){const{currentX:t,currentY:n}=e;this.chart.ctx.contextMenuRegistry.dispatchContext("always",{widgetEvent:e,canvasX:t,canvasY:n},void 0)}return}let i,r;if(this.focusIndicator?.isFocusVisible())i=this.chart.ctx.highlightManager.getActiveHighlight(),i&&this.seriesRect&&i.midPoint&&(r=OM.toCanvasPoint(i.series.contentGroup,i.midPoint.x,i.midPoint.y));else if(this.isState(36)){const t=this.pickNodes({x:e.currentX,y:e.currentY},"context-menu");t&&(this.chart.ctx.highlightManager.updateHighlight(this.id),i=t.matches[0].datum)}const o=i?.series;this.clearAll();const a=e.currentX+t.cssLeft(),s=e.currentY+t.cssTop();o&&i?this.chart.ctx.contextMenuRegistry.dispatchContext("series-node",{widgetEvent:e,canvasX:a,canvasY:s},{pickedSeries:o,pickedNode:i},r):this.chart.ctx.contextMenuRegistry.dispatchContext("series-area",{widgetEvent:e,canvasX:a,canvasY:s},void 0,r)}onLeave(e){if(!this.isState(41))return;const t=e.sourceEvent.relatedTarget;"ag-charts-text-input__textarea"!==t?.className&&(this.maybeEnterInteractiveTooltip(e.sourceEvent)||(this.chart.ctx.domManager.updateCursor(this.id),"keyboard"!==this.hoverDevice&&this.clearAll()))}onWheel(e){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.previousInputDevice="pointer")}onDragMove(e,t){this.isState(41)&&(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t))}onHover(e,t){this.isState(41)&&this.onHoverLikeEvent(e,t)}onHoverLikeEvent(e,t){var n;if(!this.isIgnoredTouch(e)&&("touch"===e.device&&"hover"===this.chart.ctx.chartService.touch.dragAction&&e.sourceEvent.preventDefault(),t===this.chart.ctx.widgets.seriesWidget&&("touch"!==e.device&&(n="drag-move",e.type===n)||(this.tooltip.lastHover=e),this.hoverDevice="pointer",this.previousInputDevice="pointer",this.highlight.pendingHoverEvent=e,this.hoverScheduler.schedule(),this.isState(32)))){const{currentX:t,currentY:n}=e,i=this.pickNodes({x:t,y:n},"event")?.matches,r=i?.[0];r?.series.hasEventListener("seriesNodeClick")||r?.series.hasEventListener("seriesNodeDoubleClick")||null!=i&&i.length>1&&this.chart.tooltip.pagination?this.chart.ctx.domManager.updateCursor(this.id,"pointer"):this.chart.ctx.domManager.updateCursor(this.id)}}onClick(e,t){if("keyboard"===e.device)return;if(t===this.chart.ctx.widgets.seriesWidget&&this.chart.ctx.animationManager.isActive()&&this.chart.ctx.animationManager.skipCurrentBatch(),"touch"===e.device&&t===this.chart.ctx.widgets.seriesWidget&&this.swapChain.focus({preventScroll:!0}),!this.isState(41))return;if(t===this.chart.ctx.widgets.seriesWidget){if(!t.getElement().contains(e.sourceEvent.target))return}else if(e.sourceEvent.target!=t.getElement())return;if(this.focusIndicator?.overrideFocusVisible(!1),this.onHoverLikeEvent(e,t),!this.isState(32))return;if(t==this.chart.ctx.widgets.seriesWidget&&this.checkSeriesNodeClick(e))return this.update(5),void e.sourceEvent.preventDefault();const n={type:"click"===e.type?"click":"doubleClick",event:e.sourceEvent};this.chart.fireEvent(n)}onFocus(){this.isState(34)&&(this.hoverDevice=this.focusIndicator?.isFocusVisible(!0)?"keyboard":"pointer",this.handleFocus(0,0))}onBlur(e){this.isState(34)&&(this.hoverDevice="pointer",this.maybeEnterInteractiveTooltip(e)||this.clearAll(),this.focusIndicator?.overrideFocusVisible(void 0))}onKeyDown(e){if(!this.isState(43))return;const t=function(e){for(const[t,{activatesFocusIndicator:n=!0,bindings:i}]of yv(lN))if(cN(e,i))return{name:t,activatesFocusIndicator:n}}(e.sourceEvent);switch(!1===t?.activatesFocusIndicator&&this.focusIndicator?.overrideFocusVisible("keyboard"===this.previousInputDevice),t?.name){case"redo":return this.chart.ctx.eventsHub.emit("series:redo",null);case"undo":return this.chart.ctx.eventsHub.emit("series:undo",null);case"zoomin":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:1,widgetEvent:e});case"zoomout":return this.chart.ctx.eventsHub.emit("series:keynav-zoom",{delta:-1,widgetEvent:e});case"arrowup":return this.onArrow(-1,0,e);case"arrowdown":return this.onArrow(1,0,e);case"arrowleft":return this.onArrow(0,-1,e);case"arrowright":return this.onArrow(0,1,e);case"submit":return this.onSubmit(e)}}onArrow(e,t,n){this.isState(34)&&(this.hoverDevice="keyboard",this.previousInputDevice="keyboard",this.focusIndicator?.overrideFocusVisible(!0),this.focus.seriesIndex+=e,this.focus.datumIndex+=t,this.handleFocus(e,t),n.sourceEvent.preventDefault(),this.chart.ctx.eventsHub.emit("series:focus-change",null))}onSubmit(e){if(!this.isState(34))return;const{series:t,datum:n}=this.focus,i=e.sourceEvent;null!=t&&null!=n?t.fireNodeClickEvent(i,n):this.chart.fireEvent({type:"click",event:i}),i.preventDefault()}checkSeriesNodeClick(e){var t;const n=this.pickNodes({x:e.currentX,y:e.currentY},"event");if(null==n||0===n.matches.length)return;const i=this.chart.tooltip.pagination?this.tooltipCandidates.update(n.matches,this.tooltipCandidates.current)?.current:void 0,{series:r,datum:o}=i??n.matches[0],a=null==i?n.distance:0;if("click"===e.type){const n=r.fireNodeClickEvent(e.sourceEvent,o)&&this.chart.tooltip.pagination?this.tooltipCandidates.next():void 0;if(null!=n){e.sourceEvent.preventDefault();const{currentX:i,currentY:r}=e,o=i+(this.hoverRect?.x??0),a=r+(this.hoverRect?.y??0);(t=this.highlight).pendingHoverEvent??(t.pendingHoverEvent=this.highlight.appliedHoverEvent),this.handleHoverHighlight(!1),this.showTooltip(n.current,o,a,{index:n.index,length:n.length})}return!0}return"dblclick"===e.type&&(e.preventZoomDblClick=0===a,r.fireNodeDoubleClickEvent(e.sourceEvent,o),!0)}handleFocus(e,t){const n=this.chart.overlays.getFocusInfo(this.chart.ctx.localeManager);null==n?0===this.handleSeriesFocus(e,t)?this.announceMode="when-changed":this.announceMode="always":(this.focusIndicator?.update(n.rect,this.seriesRect,!1),this.swapChain.update(n.text),this.announceMode="always")}handleSeriesFocus(e,t){if("standalone"===this.chart.chartType)return this.handleSoloSeriesFocus(e,t);const{focus:n}=this,i=n.sortedSeries.filter(e=>e.visible&&e.focusable);if(0===i.length)return 1;const r=n.datumIndex-t,o=n.seriesIndex-e;n.seriesIndex=Ev(0,n.seriesIndex,i.length-1),n.series=i[n.seriesIndex];const a=this.focus.datumIndex,s=this.focus.seriesIndex;return this.updatePickedFocus(a,t,r,s,e,o)}handleSoloSeriesFocus(e,t){this.focus.series=this.focus.sortedSeries[0];const n=this.focus.datumIndex,i=this.focus.seriesIndex,r=this.focus.datumIndex-t,o=this.focus.seriesIndex-e;return this.updatePickedFocus(n,t,r,i,e,o)}updatePickedFocus(e,t,n,i,r,o){const{focus:a,hoverRect:s,seriesRect:l}=this;if(null==a.series||null==s)return 1;const c=a?.series?.pickFocus({datumIndex:e,datumIndexDelta:t,otherIndex:i,otherIndexDelta:r,seriesRect:l});if(!c)return 2;const{datum:u}=c;if(a.datum=u,a.datumIndex=c.datumIndex,null!=c.otherIndex&&(a.seriesIndex=c.otherIndex),this.focusIndicator?.isFocusVisible()){this.chart.ctx.animationManager.reset();const e=function(e){let{bounds:t}=e;return t instanceof Sx?t:null!=t?OM.toCanvas(t):Sx.NaN}(c),{x:t,y:n}=e.computeCenter();if(!s.containsPoint(t,n)){if(this.chart.ctx.zoomManager.panToBBox(this.id,s,e))return 3}const{x1:i,x2:r,y1:o,y2:a}=XC.from(e),l=s.containsPoint(i,o),u=s.containsPoint(r,o),d=s.containsPoint(i,a),h=s.containsPoint(r,a);if(!(l||u||d||h)){const t=XC.from(s);c.movedBounds=e.clone(),i<t.x1&&r<t.x1?(c.movedBounds.x=t.x1-2,c.movedBounds.width=4):i>t.x2&&r>t.x2&&(c.movedBounds.x=t.x2-2,c.movedBounds.width=4),o<t.y1&&a<t.y1?(c.movedBounds.y=t.y1-2,c.movedBounds.height=4):o>t.y2&&a>t.y2&&(c.movedBounds.y=t.y2-2,c.movedBounds.height=4)}}this.focusIndicator?.update(c.movedBounds??c.bounds,this.seriesRect,c.clipFocusBox);const d=uN(a.series,s,c);if(null!=d&&"keyboard"===this.hoverDevice){this.tooltip.lastHover=void 0,this.highlight.appliedHoverEvent=void 0,this.highlight.pendingHoverEvent=void 0,this.highlight.stashedHoverEvent=void 0;const e=this.getTooltipContent(a.series,u.datumIndex,u,"aria-label"),i=OC.makeTooltipMeta(d,a.series,u,c.movedBounds);this.chart.ctx.highlightManager.updateHighlight(this.id,u),this.isTooltipEnabled(a.series)&&this.chart.ctx.tooltipManager.updateTooltip(this.id,i,e),this.maybeAnnouncePickedFocus(t,n,r,o,c,e)}return 0}maybeAnnouncePickedFocus(e,t,n,i,r,o){const{focus:a}=this;let s;if("when-changed"===this.announceMode){s=0===e&&0===n||t!==r.datumIndex||i!==(r.otherIndex??a.seriesIndex)?"always":"never"}else s=this.announceMode;"always"===s&&this.swapChain.update(this.getDatumAriaText(r.datum,o))}getDatumAriaText(e,t){const n=null==t?"":wN(t);return this.chart.ctx.localeManager.t("ariaAnnounceHoverDatum",{datum:e.series.getDatumAriaText?.(e,n)??n})}clearHighlight(){this.highlight.pendingHoverEvent=void 0,this.highlight.appliedHoverEvent=void 0,this.chart.ctx.highlightManager.updateHighlight(this.id)}clearTooltip(){this.chart.ctx.tooltipManager.removeTooltip(this.id),this.tooltip.lastHover=void 0}clearAll(){this.clearHighlight(),this.clearTooltip(),this.focusIndicator?.clear()}handleHoverHighlight(e){this.highlight.appliedHoverEvent=this.highlight.pendingHoverEvent,this.highlight.pendingHoverEvent=void 0;const t=this.highlight.appliedHoverEvent;if(!t||!this.isState(41))return;const{currentX:n,currentY:i}=t,r=t.currentX+(this.hoverRect?.x??0),o=t.currentY+(this.hoverRect?.y??0);if(e?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(r,o))return void this.clearHighlight();const{range:a}=this.chart.highlight,s="tooltip"===a?"highlight-tooltip":"highlight",l=this.pickNodes({x:n,y:i},s);if(!l||0===l.matches.length)return void this.chart.ctx.highlightManager.updateHighlight(this.id);const{current:c}=this.tooltipCandidates,u=null==c?void 0:l.matches.find(e=>PN(e,c)),d=u?.datum??l.matches[0].datum;this.chart.ctx.highlightManager.updateHighlight(this.id,d),this.hoverDevice="pointer"}handleHoverTooltip(e,t){const{current:n}=this.tooltipCandidates;if(this.tooltipCandidates.reset(),!this.isState(41))return;const{currentX:i,currentY:r}=e,o=i+(this.hoverRect?.x??0),a=r+(this.hoverRect?.y??0),s=e.sourceEvent.target;if(t?this.chart.ctx.animationManager.isActive():!this.hoverRect?.containsPoint(o,a))return void("pointer"==this.hoverDevice&&this.clearTooltip());if(s&&this.chart.tooltip.interactive&&this.chart.ctx.domManager.isManagedChildDOMElement(s,"canvas-overlay",xN))return;const l=this.pickNodes({x:e.currentX,y:e.currentY},"tooltip");if(l&&0!==l.matches.length)if(this.hoverDevice="pointer",0===l.distance){const{current:e,index:t,length:i}=this.tooltipCandidates.update(l.matches,this.chart.tooltip.pagination?n:void 0);this.showTooltip(e,o,a,{index:t,length:i})}else this.showTooltip(l.matches[0],o,a);else"pointer"==this.hoverDevice&&this.clearTooltip()}showTooltip(e,t,n,i){let{series:r,datum:o,datumIndex:a}=e;const s=this.getTooltipContent(r,a,o,"tooltip");if(null!=s){const e=OC.makeTooltipMeta({type:"pointermove",canvasX:t,canvasY:n},r,o,void 0);this.chart.ctx.tooltipManager.updateTooltip(this.id,e,s,i)}else this.chart.ctx.tooltipManager.removeTooltip(this.id)}maybeEnterInteractiveTooltip(e){return this.chart.tooltip.maybeEnterInteractiveTooltip(e,()=>{this.tooltip.lastHover=void 0,this.chart.ctx.tooltipManager.removeTooltip(this.id),this.chart.ctx.highlightManager.updateHighlight(this.id)})}changeHighlightDatum(e){const t=e.previousHighlight?.series,n=e.currentHighlight?.series;t?.properties.cursor&&e.previousHighlight?.datum&&this.chart.ctx.domManager.updateCursor(t.id),n?.properties.cursor&&"default"!==n.properties.cursor&&e.currentHighlight?.datum&&this.chart.ctx.domManager.updateCursor(n.id,n.properties.cursor),null==n||null==t?this.update(5):this.update(5,{seriesToUpdate:new Set([t,n].filter(Boolean))})}pickNodes(e,t,n){const i=[...this.series].reverse();let r;for(const o of i){if(!o.visible||!o.contentGroup.visible)continue;const i=o.pickNodes(e,t,n);if(null==i||0===i.datums.length)continue;const{datums:a,distance:s}=i;if(0!==i.datums.length)if(0===s){0!==r?.distance&&(r={matches:[],distance:0});for(const e of a){const{datumIndex:t}=e;r.matches.push({series:o,datum:e,datumIndex:t})}}else if(null==r||r.distance>s){const[e]=a,{datumIndex:t}=e;r={matches:[{series:o,datum:e,datumIndex:t}],distance:s}}}return r}isTooltipEnabled(e){return e.tooltipEnabled??this.chart.tooltip.enabled}getTooltipContent(e,t,n,i){let r;if("aria-label"===i||this.isTooltipEnabled(e)){const{cachedTooltipContent:i}=this;if(null!=i&&i.series===e&&i.datumIndex===t)r=i.content;else{const i=this.chart.getTooltipContent(e,t,n);this.cachedTooltipContent={series:e,datumIndex:t,content:i},r=i}}else this.cachedTooltipContent=void 0;return r}};var _N=class{constructor(e){this.seriesRoot=e,this.groups=new Map,this.series=new Map,this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}getGroupIndex(e){const{internalId:t,seriesGrouping:n}=e;return n?.groupIndex??t}getGroupType(e,t){return t?"top":e.type}requestGroup(e){const{internalId:t,contentGroup:n}=e,i=e.bringToFront(),r=this.getGroupType(e,i),o=this.getGroupIndex(e),a=this.series.get(t);if(null!=a)throw new Error(`AG Charts - series already has an allocated layer: ${JSON.stringify(a)}`);0===this.series.size&&(this.mode=this.expectedSeriesCount>=30?"aggressive-grouping":"normal");let s=this.groups.get(r);null==s&&(s=new Map,this.groups.set(r,s));const l=this.lookupIdx(o);let c=s.get(l);return null==c&&(c={type:r,id:l,seriesIds:[],group:this.seriesRoot.appendChild(new PM({name:`${e.contentGroup.name??r}-managed-layer`,zIndex:e.contentGroup.zIndex,renderToOffscreenCanvas:!1}))},s.set(l,c)),this.series.set(t,{layerState:c,seriesConfig:e,bringToFront:i}),c.seriesIds.push(t),c.group.appendChild(n),c.group}changeGroup(e){const{internalId:t,contentGroup:n}=e,i=e.bringToFront(),r=this.getGroupType(e,i),o=this.series.get(t),a=o?this.getGroupType(o.seriesConfig,o.bringToFront):void 0,s=this.getGroupIndex(e),l=this.lookupIdx(s),c=this.groups.get(r)?.get(l);if(a!==r||!0!==c?.seriesIds.includes(t))return this.series.has(t)&&this._releaseGroup({internalId:t,contentGroup:n,type:a}),this.requestGroup(e)}releaseGroup(e){const{internalId:t,contentGroup:n}=e,i=this.getGroupType(e,e.bringToFront());this._releaseGroup({internalId:t,contentGroup:n,type:i})}_releaseGroup(e){const{internalId:t,contentGroup:n,type:i}=e;if(!this.series.has(t))throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);const r=this.series.get(t)?.layerState;r&&(r.seriesIds=r.seriesIds.filter(e=>e!==t),r.group.removeChild(n)),0===r?.seriesIds.length?(this.seriesRoot.removeChild(r.group),this.groups.get(r.type)?.delete(r.id),this.groups.get(i)?.delete(t)):null!=r&&r.seriesIds.length>0&&(r.group.zIndex=this.getLowestSeriesZIndex(r.seriesIds)),this.series.delete(t)}updateLayerCompositing(){this.groups.forEach(e=>{e.forEach(e=>{const{group:t,seriesIds:n}=e;let i;if(0===n.length)i=!1;else if(n.length>1)i=!0;else{const e=this.series.get(n[0]);i=!0===e?.seriesConfig.renderToOffscreenCanvas()}t.renderToOffscreenCanvas=i,t.zIndex=this.getLowestSeriesZIndex(n)})})}lookupIdx(e){return"normal"===this.mode?e:"string"!==typeof e||(e=Number(e.split("-").at(-1)),Number.isFinite(e))?Math.floor(30*Ev(0,e/this.expectedSeriesCount,1)):0}destroy(){this.groups.forEach(e=>{e.forEach(e=>{this.seriesRoot.removeChild(e.group)})}),this.groups.clear(),this.series.clear()}getLowestSeriesZIndex(e){let t;for(const n of e){const e=this.series.get(n),i=e?.seriesConfig.contentGroup.zIndex??1;null!=t&&null!=i?t=oS(t,i)<=0?t:i:t=i}return t??1}},BN=class extends _S{constructor(){super(...arguments),this.dragAction="drag"}};px([zS],BN.prototype,"dragAction",2);var FN=class{constructor(e,t,n,i,r,o){this.chart=e,this.eventsHub=t,this.dataService=n,this.updateService=i,this.zoomManager=r,this.animationManager=o,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.cleanup=new Nv,this.cleanup.register(this.eventsHub.on("data:source-change",()=>this.onDataSourceChange()),this.eventsHub.on("data:load",()=>this.onDataLoad()),this.eventsHub.on("data:error",()=>this.onDataError()),this.updateService.addListener("update-complete",e=>this.onUpdateComplete(e)),this.eventsHub.on("zoom:change",()=>this.onZoomChange()))}destroy(){this.cleanup.flush()}onDataLoad(){this.animationManager.skip(),this.updateService.update(1)}onDataError(){this.updateService.update(4)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(e){(e.apiUpdate||this.dirtyZoom||this.dirtyDataSource)&&this.updateWindow(e)}onZoomChange(){this.dirtyZoom=!0}updateWindow(e){if(!this.dataService.isLazy())return;const t=this.getValidAxis();let n,i=!0;if(t){const r=this.zoomManager.getAxisZoom(t.id);0===r.min&&1===r.max||(n=this.getAxisWindow(t,r)),i=this.shouldRefresh(e,t,r)}this.dirtyZoom=!1,this.dirtyDataSource=!1,i&&this.dataService.load({windowStart:n?.min,windowEnd:n?.max})}getValidAxis(){return this.chart.axes.find(e=>"time"===e.type)}shouldRefresh(e,t,n){if(e.apiUpdate)return!0;if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;const i=this.lastAxisZooms.get(t.id);return(!i||n.min!==i.min||n.max!==i.max)&&(this.lastAxisZooms.set(t.id,n),!0)}getAxisWindow(e,t){const{domain:n}=e.scale;if(!t||0===n.length||isNaN(Number(n[0])))return;const i=Number(n[1])-Number(n[0]);return{min:new Date(Number(n[0])+i*t.min),max:new Date(Number(n[0])+i*t.max)}}},$N=/^((?!chrome|android).)*safari/i,VN=/Version\/(\d+(\.\d+)?)/,GN=/Chrome/,WN=/Chrome\/(\d+)/,HN=/Edg/,UN=/OPR/;var YN=new Set(["map-shape-background","map-line-background"]),KN=class{constructor(e,t,n,i,r,o,a){this.chartLike=e,this.overlays=t,this.eventsHub=n,this.dataService=i,this.localeManager=r,this.animationManager=o,this.domManager=a,this.cleanup=new Nv,this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(RL),this.cleanup.register(this.eventsHub.on("layout:complete",e=>this.onLayoutComplete(e)))}destroy(){this.cleanup.flush(),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete(e){let{series:{rect:t}}=e;const n=this.dataService.isLoading(),i=this.chartLike.series.some(e=>e.hasData),r=this.chartLike.series.some(e=>e.visible&&!YN.has(e.type));this.overlays.darkTheme?this.overlayElem.classList.add(PL):this.overlayElem.classList.remove(PL),this.overlayElem.style.left=`${t.x}px`,this.overlayElem.style.top=`${t.y}px`,this.overlayElem.style.width=`${t.width}px`,this.overlayElem.style.height=`${t.height}px`;const o=n,a=!n&&!i,s=i&&!r,l=this.overlays.unsupportedBrowser.enabled&&function(){const{userAgent:e}=yy("navigator");if($N.test(e)){const t=VN.exec(e);if(null==t)return!1;const n=parseFloat(t[1]),i=Math.floor(n)>16;return i||Gm.warnOnce(`Unsupported Safari version: ${n}; ${e}`),!i}if(GN.test(e)&&!HN.test(e)&&!UN.test(e)){const t=WN.exec(e);if(null==t)return!1;const n=parseInt(t[1],10),i=n>126;return i||Gm.warnOnce(`Unsupported Chrome version: ${n}; ${e}`),!i}return!1}();o?this.showOverlay(this.overlays.loading,t):this.hideOverlay(this.overlays.loading),a?this.showOverlay(this.overlays.noData,t):this.hideOverlay(this.overlays.noData),s?this.showOverlay(this.overlays.noVisibleSeries,t):this.hideOverlay(this.overlays.noVisibleSeries),l?this.showOverlay(this.overlays.unsupportedBrowser,t):this.hideOverlay(this.overlays.unsupportedBrowser);const c=o||a||s||l;Sv(this.overlayElem,"aria-hidden",!c)}showOverlay(e,t){if(!e.enabled)return;const n=e.getElement(this.chartLike,this.animationManager,this.localeManager,t);this.overlayElem.appendChild(n)}hideOverlay(e){e.removeElement(()=>{this.overlayElem.innerText="\xa0"},this.animationManager)}},ZN=wx.create(!0,"opts"),XN=class e extends rw{constructor(e,t){var n,i;super(),this.id=Kv(this),this.seriesRoot=new _M({name:`${this.id}-series-root`,zIndex:7}),this.annotationRoot=new _M({name:`${this.id}-annotation-root`,zIndex:11}),this.titleGroup=new PM({name:"titles",zIndex:15}),this.debug=wx.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this._autoSizeNotify=new pv,this.chartCaptions=new hk,this.padding=new ow(20),this.keyboard=new tA,this.touch=new BN,this.mode="standalone",this.styleNonce=void 0,this.formatter=void 0,this.suppressFieldDotNotation=!1,this.loadGoogleFonts=!1,this.destroyed=!1,this.cleanup=new Nv,this.chartAnimationPhase="initial",this.modulesManager=new OL,this.processors=[],this.queuedUserOptions=[],this.queuedChartOptions=[],this.firstApply=!0,this.syncStatus="init",this.fireEventWrapper=e=>super.fireEvent(e),this.apiUpdate=!1,this._pendingFactoryUpdatesCount=0,this._performUpdateSkipAnimations=!1,this._performUpdateNotify=new pv,this.performUpdateType=8,this.runningUpdateType=8,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new iw,this.updateRequestors={},this.performUpdateTrigger=(i=e=>{let{count:t}=e;this.destroyed||this.updateMutex.acquire(async()=>{try{await this.performUpdate(t)}catch(Ym){Gm.error("update error",Ym,Ym.stack)}}).catch(e=>Gm.errorOnce(e))},dw(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;0===t?queueMicrotask(e):setTimeout(e,t)},i)),this._performUpdateSplits={},this.axes=[],this.series=[],this._cachedData=void 0,this.onSeriesNodeClick=e=>{this.fireEvent(e)},this.onSeriesNodeDoubleClick=e=>{this.fireEvent(e)},this.onSeriesVisibilityChange=e=>{this.fireEvent(e)},this.seriesGroupingChanged=e=>{if(!(e instanceof nN))return;const{series:t,seriesGrouping:n}=e;if(t.contentGroup.isRoot())return;const i=this.seriesLayerManager.changeGroup({internalId:t.internalId,type:t.type,contentGroup:t.contentGroup,bringToFront:()=>t.bringToFront(),renderToOffscreenCanvas:()=>t.renderToOffscreenCanvas(),seriesGrouping:n});null!=i&&t.attachSeries(i,this.seriesRoot,this.annotationRoot)},this.chartOptions=e;const r=t?.scene,o=t?.container??e.processedOptions.container??void 0,a=t?.styleContainer??e.specialOverrides.styleContainer;r&&(this._firstAutoSize=!1,this._lastAutoSize=[r.width,r.height,r.pixelRatio]);const s=new PM({name:"root"});s.visible=!1,s.append(this.seriesRoot),s.append(this.annotationRoot),s.append(this.titleGroup),this.titleGroup.append(this.title.node),this.titleGroup.append(this.subtitle.node),this.titleGroup.append(this.footnote.node),this.tooltip=new RN,this.seriesLayerManager=new _N(this.seriesRoot),this.mode=e.userOptions.mode??this.mode,this.styleNonce=e.processedOptions.styleNonce;const l=this.ctx=new bD(this,{chartType:this.getChartType(),scene:r,root:s,container:o,styleContainer:a,domMode:e.optionMetadata.domMode,withDragInterpretation:e.optionMetadata.withDragInterpretation??!0,syncManager:new eA(this),fireEvent:e=>this.fireEvent(e),updateCallback:(e,t)=>this.update(e,t),updateMutex:this.updateMutex});this.cleanup.register(l.eventsHub.on("dom:resize",()=>this.parentResize(l.domManager.containerSize))),this.overlays=new zL,(n=this.overlays.loading).renderer??(n.renderer=()=>function(e,t){const{animationDuration:n}=pC.add,i=by("div",`${RL}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${n*t}ms linear 50ms both`}),r=by("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),o=by("p",{marginTop:"1em"});o.innerText=e;const a=by("div",`${RL}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),s=by("style");return s.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),i.replaceChildren(s,r,o,a),i}(this.overlays.loading.getText(l.localeManager),l.animationManager.defaultDuration)),this.processors=[new FN(this,l.eventsHub,l.dataService,l.updateService,l.zoomManager,l.animationManager),new KN(this,this.overlays,l.eventsHub,l.dataService,l.localeManager,l.animationManager,l.domManager)],this.highlight=new vD,this.container=o;const c=this.getModuleContext();l.domManager.setDataBoolean("animating",!1),this.seriesAreaManager=new zN(this.initSeriesAreaDependencies()),this.cleanup.register(l.layoutManager.registerElement(0,e=>{e.layoutBox.shrink(this.padding.toJson()),this.chartCaptions.positionCaptions(e)}),l.eventsHub.on("layout:complete",e=>this.chartCaptions.positionAbsoluteCaptions(e)),l.eventsHub.on("data:load",e=>{this.data=e.data}),this.title.registerInteraction(c,"beforebegin"),this.subtitle.registerInteraction(c,"beforebegin"),this.footnote.registerInteraction(c,"afterend"),Dw.addWindowEvent("page-left",()=>this.destroy()),l.animationManager.addListener("animation-frame",()=>{this.update(7)}),l.animationManager.addListener("animation-start",()=>l.domManager.setDataBoolean("animating",!0)),l.animationManager.addListener("animation-stop",()=>l.domManager.setDataBoolean("animating",!1)),l.eventsHub.on("zoom:change",()=>{this.series.forEach(e=>e.animationState?.transition("updateData"));const e="initial"!==this.chartAnimationPhase;this.update(4,{forceNodeDataRefresh:!0,skipAnimations:e})})),this.parentResize(l.domManager.containerSize)}static getInstance(t){return e.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(e,t){this.ctx.scene.download(e,t)}getCanvasDataURL(e){return this.ctx.scene.getDataURL(e)}toSVG(){return this.ctx.scene.toSVG()}get seriesAreaBoundingBox(){return this.seriesAreaManager.bbox}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getChartOptions(){return this.queuedChartOptions.at(-1)??this.chartOptions}overrideFocusVisible(e){this.seriesAreaManager.focusIndicator?.overrideFocusVisible(e)}fireEvent(e){$M(this,this.fireEventWrapper,e)}initSeriesAreaDependencies(){const{ctx:e,tooltip:t,highlight:n,overlays:i,seriesRoot:r,mode:o}=this,a=this.getChartType();return{fireEvent:this.fireEvent.bind(this),getUpdateType:()=>this.performUpdateType,getTooltipContent:(e,t,n)=>this.getTooltipContent(e,t,n),chartType:a,ctx:e,tooltip:t,highlight:n,overlays:i,seriesRoot:r,mode:o}}getModuleContext(){return this.ctx}getTooltipContent(e,t,n){const i=!1!==e.properties.tooltip.enabled?e.getTooltipContent(t,n):void 0,r=null==i?[]:[i];if("shared"!==this.tooltip.mode||1===this.series.length)return r;const o=e.getCategoryValue(t);return null==o?r:this.series.flatMap(t=>{if(t===e)return r;if(!t.isEnabled()||!1===t.properties.tooltip.enabled)return[];const n=t.datumIndexForCategoryValue(o),i=null==n?void 0:t.getTooltipContent(n,void 0);return null==i?[]:[i]})}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(e=>e.enabled&&e.text).map(e=>e.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length})}resetAnimations(){this.chartAnimationPhase="initial";for(const e of this.series)e.resetAnimation(this.chartAnimationPhase);for(const e of this.axes)e.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}detachAndClear(){this.container=void 0,this.ctx.scene.clearCanvas()}destroy(e){if(this.destroyed)return;const t=e?.keepTransferableResources;let n;return this.performUpdateType=8,this.cleanup.flush(),this.processors.forEach(e=>e.destroy()),this.overlays.destroy(),this.modulesManager.destroy(),t?(this.ctx.scene.strip(),n={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(e=>e.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.destroyed=!0,Object.freeze(this),n}requestFactoryUpdate(e){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(async()=>{if(!this.destroyed)try{await e(this)}finally{this.destroyed||this._pendingFactoryUpdatesCount--}}).catch(e=>Gm.errorOnce(e)))}clearCallbackCache(){this.ctx.callbackCache.invalidateCache();for(const e of this.series)e.resetDatumCallbackCache()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;if(this.destroyed)return;const{forceNodeDataRefresh:n=!1,skipAnimations:i,seriesToUpdate:r=this.series,newAnimationBatch:o,apiUpdate:a=!1}=t??{};this.apiUpdate=a,this.ctx.widgets.seriesWidget.setDragTouchEnabled("none"!==this.touch.dragAction),n&&this.series.forEach(e=>e.markNodeDataDirty());for(const s of r)this.seriesToUpdate.add(s);if(i&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),o&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this.debug.check()){let t=(new Error).stack??"<unknown>";t=t.replace(/\([^)]*/g,""),this.updateRequestors[t]=e}e<this.performUpdateType&&(this.performUpdateType=e,this.ctx.domManager.setDataBoolean("updatePending",!0),this.performUpdateTrigger.schedule(t?.backOffMs))}async performUpdate(e){const{performUpdateType:t,extraDebugStats:n,_performUpdateSplits:i,ctx:r}=this,o=[...this.seriesToUpdate];this.clearCallbackCache(),this.performUpdateType=8,this.seriesToUpdate.clear(),this.runningUpdateType=t,0===this.updateShortcutCount&&t<7&&(r.animationManager.startBatch(this._performUpdateSkipAnimations),r.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.ctx.scene.updateDebugFlags(),this.debug("Chart.performUpdate() - start",CI[t]);let a=performance.now();i.start??(i.start=a);const s=e=>{i[e]??(i[e]=0),i[e]+=performance.now()-a,a=performance.now()};switch(t){case 0:if(this.checkUpdateShortcut(0))break;this.ctx.updateService.dispatchPreDomUpdate(),this.updateDOM();case 1:if(this.checkUpdateShortcut(1))break;await this.updateData(),s("\u2b07\ufe0f");case 2:if(this.checkUpdateShortcut(2))break;await this.processData(),this.seriesAreaManager.dataChanged(),s("\ud83c\udfed");case 3:if(this.checkUpdateShortcut(3))break;await this.processDomains(),s("\u26f0\ufe0f");case 4:if(await this.checkFirstAutoSize(),this.checkUpdateShortcut(4))break;await this.processLayout(),s("\u2316");case 5:if(this.checkUpdateShortcut(5))break;await this.updateSeries(o),s("\ud83e\udd14"),this.updateAriaLabels(),this.seriesLayerManager.updateLayerCompositing();case 6:if(this.checkUpdateShortcut(6))break;r.updateService.dispatchPreSceneRender(),s("\u2196");case 7:if(this.checkUpdateShortcut(7))break;r.animationManager.endBatch(),n.updateShortcutCount=this.updateShortcutCount,r.scene.render({debugSplitTimes:i,extraDebugStats:n,seriesRect:this.seriesRect}),this.extraDebugStats={};for(const e of Object.keys(i))delete i[e];this.ctx.domManager.incrementDataCounter("sceneRenders"),this.ctx.domManager.postRenderUpdate();case 8:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,r.animationManager.endBatch()}this.destroyed||(r.updateService.dispatchUpdateComplete(this.apiUpdate),this.apiUpdate=!1,this.ctx.domManager.setDataBoolean("updatePending",!1),this.runningUpdateType=8,this.syncStatus="ready"),this._performUpdateNotify.notify();const l=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round(100*(l-i.start))/100,count:e,performUpdateType:CI[t]})}updateThemeClassName(){const e="ag-charts-theme-",t=[`${e}default`,`${e}default-dark`];let n=t[0],i=!1,{theme:r}=this.chartOptions.processedOptions;for(;"string"!==typeof r&&null!=r;)r=r.baseTheme;"string"===typeof r&&(n=r.replace("ag-",e),i=r.includes("-dark")),t.includes(n)||(n=i?t[1]:t[0]),this.ctx.domManager.setThemeClass(n)}updateDOM(){this.updateThemeClassName();const{enabled:e,tabIndex:t}=this.keyboard;this.ctx.domManager.setTabGuardIndex(e?t??0:-1),this.ctx.domManager.setThemeParameters(this.chartOptions.themeParameters)}updateAriaLabels(){this.ctx.domManager.updateCanvasLabel(this.getAriaLabel())}checkUpdateShortcut(e){return!!this.destroyed||(this.updateShortcutCount>3?(Gm.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=e&&(this.updateShortcutCount++,!0))}async checkFirstAutoSize(){if(null!=this.width&&null!=this.height);else if(!this._lastAutoSize){await this._autoSizeNotify.await(500)||this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}}onAxisChange(e,t){null==t&&0===e.length||this.ctx.axisManager.updateAxes(t??[],e)}onSeriesChange(e,t){const n=t?.filter(t=>!e.includes(t))??[];this.destroySeries(n),this.seriesLayerManager?.setSeriesCount(e.length);for(const i of e){if(t?.includes(i))continue;const e=this.seriesLayerManager.requestGroup(i);i.attachSeries(e,this.seriesRoot,this.annotationRoot);const n=this;i.chart={get mode(){return n.mode},get isMiniChart(){return!1},get seriesRect(){return n.seriesRect}},i.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(i),i.addChartEventListeners()}this.seriesAreaManager?.seriesChanged(e)}destroySeries(e){e?.forEach(e=>{e.removeEventListener("seriesNodeClick",this.onSeriesNodeClick),e.removeEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),e.removeEventListener("groupingChanged",this.seriesGroupingChanged),e.destroy(),this.seriesLayerManager.releaseGroup(e),e.detachSeries(void 0,this.seriesRoot,this.annotationRoot),e.chart=void 0})}addSeriesListeners(e){this.hasEventListener("seriesNodeClick")&&e.addEventListener("seriesNodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&e.addEventListener("seriesNodeDoubleClick",this.onSeriesNodeDoubleClick),this.hasEventListener("seriesVisibilityChange")&&e.addEventListener("seriesVisibilityChange",this.onSeriesVisibilityChange),e.addEventListener("groupingChanged",this.seriesGroupingChanged)}assignSeriesToAxes(){for(const e of this.axes)e.boundSeries=this.series.filter(t=>t.axes[e.direction]===e)}assignAxesToSeries(){const e=lv(this.axes,e=>e.direction);for(const t of this.series)for(const n of t.directions){const i=e[n];if(!i)return void Gm.warnOnce(`no available axis for direction [${n}]; check series and axes configuration.`);const r=t.getKeys(n),o=i.find(e=>!e.keys.length||r.some(t=>e.keys.includes(t)));if(!o)return void Gm.warnOnce(`no matching axis for direction [${n}] and keys [${r}]; check series and axes configuration.`);t.axes[n]=o}}parentResize(e){if(null==e||null!=this.width&&null!=this.height)return;let{width:t,height:n}=e;const{pixelRatio:i}=e;if(t=Math.floor(t),n=Math.floor(n),0===t&&0===n)return;const[r=0,o=0,a=1]=this._lastAutoSize??[];r===t&&o===n&&a===i||(this._lastAutoSize=[t,n,i],this.resize("SizeMonitor",{}))}resize(e,t){const{scene:n,animationManager:i}=this.ctx,{inWidth:r,inHeight:o,inMinWidth:a,inMinHeight:s,inOverrideDevicePixelRatio:l}=t;this.ctx.domManager.setSizeOptions(a??this.minWidth,s??this.minHeight,r??this.width,o??this.height);const c=r??this.width??this._lastAutoSize?.[0],u=o??this.height??this._lastAutoSize?.[1],d=l??this.overrideDevicePixelRatio??this._lastAutoSize?.[2];if(this.debug(`Chart.resize() from ${e}`,{width:c,height:u,pixelRatio:d,stack:(new Error).stack}),null!=c&&null!=u&&Ey(c)&&Ey(u)&&n.resize(c,u,d)){i.reset();let e=!0;null!=this.width&&null!=this.height||!this._firstAutoSize||(e=!1,this._firstAutoSize=!1),this.update(4,{forceNodeDataRefresh:!0,skipAnimations:e}),this._autoSizeNotify.notify()}}async updateData(){this.series.forEach(e=>e.setChartData(this.data));const e=this.modulesManager.mapModules(e=>e.updateData?.(this.data));await Promise.all(e)}async processData(){this.series.some(e=>e.canHaveAxes)&&(this.assignAxesToSeries(),this.assignSeriesToAxes());const e=new $D(this.mode,this.suppressFieldDotNotation),t=this.series.map(t=>t.processData(e)),n=this.modulesManager.mapModules(t=>t.processData?.(e));this._cachedData=e.execute(this._cachedData),await Promise.all([...t,...n]),this.updateLegends()}async processDomains(){for(const e of this.axes)e.processData();for(const e of this.series)e.updatedDomains()}updateLegends(e){for(const{legend:t,legendType:n}of this.modulesManager.legends())"category"===n?this.setCategoryLegendData(e):this.setLegendData(n,t)}setCategoryLegendData(e){var t;const{ctx:{legendManager:n,stateManager:i}}=this;e&&this.series.forEach(t=>{const n=e.find(e=>e.seriesId===t.id);t.onLegendInitialState("category",n)});const r=this.series.flatMap(e=>{const t=e.getLegendData("category");return n.updateData(e.id,t),t});if(e)i.setStateAndRestore(n,e);else{if("integrated"!==this.mode){const e={},n=new Map(this.series.map(e=>[e.id,e.type]));for(const{seriesId:i,symbol:{marker:o},label:a}of r.filter(e=>!e.hideInLegend)){if(null==o.fill)continue;const r=n.get(i),s=e[r]??(e[r]={});s[t=a.text]??(s[t]=o.fill),s[a.text]!==o.fill&&Gm.warnOnce(`legend item '${a.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}n.update()}}setLegendData(e,t){t.data=this.series.filter(e=>e.properties.showInLegend).flatMap(t=>t.getLegendData(e))}async processLayout(){const e=this.animationRect,{width:t,height:n}=this.ctx.scene,i=this.ctx.layoutManager.createContext(t,n);await this.performLayout(i),e&&!this.animationRect?.equals(e)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)}async updateSeries(e){const{seriesRect:t}=this;await Promise.all(e.map(e=>e.update({seriesRect:t}))),this.ctx.seriesLabelLayoutManager.updateLabels(this.series.filter(e=>e.visible&&e.usesPlacedLabels),this.padding,this.seriesRect)}async waitForUpdate(e,t){const n=yy("agChartsDebugTimeout");null==n?(e??(e=1e5),t??(t=!1)):(e=n,t??(t=!0));const i=performance.now();for(;(this._pendingFactoryUpdatesCount>0||8!==this.performUpdateType||8!==this.runningUpdateType||this.ctx.scene.waitingForUpdate())&&!this.destroyed;){if(this._pendingFactoryUpdatesCount>0&&await this.updateMutex.waitForClearAcquireQueue(),8===this.performUpdateType&&8===this.runningUpdateType||await this._performUpdateNotify.await(),performance.now()-i>e){const n=`Chart.waitForUpdate() timeout of ${e} reached - first chart update taking too long.`;if(t)throw new Error(n);Gm.warnOnce(n)}UM()&&await gv(),this.ctx.scene.waitingForUpdate()&&await gv(50)}}filterMiniChartSeries(e){return e?.filter(e=>!1!==e.showInMiniChart)}applyOptions(e){const t=this.firstApply?e.processedOptions:e.diffOptions(this.chartOptions);if(null==t||0===Object.keys(t).length)return ZN("Chart.applyOptions() - no delta, forcing re-layout",t),void this.update(4,{apiUpdate:!0,newAnimationBatch:!0});const n=this.firstApply?{}:this.chartOptions.processedOptions,i=e.processedOptions;ZN("Chart.applyOptions() - applying delta",t);const r=this.applyModules(i);t.listeners&&this.registerListeners(this,t.listeners),tw(this,t,{skip:["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","locale.localeText","axes","topology","nodes","initialState","styleContainer","formatter"]});let o=!1,a="no-op";null!=t.series&&(a=this.applySeries(this,t.series,n?.series),o=!0),"replaced"===a&&this.resetAnimations(),this.applyAxes(this,i,n,a,[])&&(o=!0),t.data&&(this.data=t.data),t.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,t.legend.listeners),t.locale?.localeText&&(this.modulesManager.getModule("locale").localeText=t.locale?.localeText),this.chartOptions=e;const s=this.modulesManager.getModule("navigator"),l=this.modulesManager.getModule("zoom");s?.enabled||l?.enabled||this.ctx.zoomManager.updateZoom("chart");const c=s?.miniChart,u=i.navigator?.miniChart?.series??i.series;!0===c?.enabled&&null!=u?this.applyMiniChartOptions(c,u,i,n):!1===c?.enabled&&(c.series=[],c.axes=[]),this.ctx.annotationManager.setAnnotationStyles(e.annotationThemes),o||(o=this.shouldForceNodeDataRefresh(t,a));const d=o||r?0:4;if(this.maybeResetAnimations(a),this.shouldClearLegendData(i,n,a)&&this.ctx.legendManager.clearData(),this.applyInitialState(i),this.ctx.formatManager.setFormatter(i.formatter),ZN("Chart.applyOptions() - update type",CI[d],{seriesStatus:a,forceNodeDataRefresh:o}),void 0!==e.optionsProcessingTime){this._performUpdateSplits["\u2699\ufe0f"]=e.optionsProcessingTime;const t=performance.now()-e.optionsProcessingTime;this._performUpdateSplits.start=t}this.update(d,{apiUpdate:!0,forceNodeDataRefresh:o,newAnimationBatch:!0}),this.firstApply=!1}applyInitialState(e){const{annotationManager:t,chartTypeOriginator:n,historyManager:i,stateManager:r,zoomManager:o}=this.ctx,{initialState:a}=e;if("annotations"in e&&e.annotations?.enabled&&null!=a?.annotations){const e=a.annotations.map(e=>Bx(e,t.getAnnotationTypeStyles(e.type)));r.setState(t,e)}null!=a?.chartType&&r.setState(n,a.chartType),(e.navigator?.enabled||e.zoom?.enabled)&&null!=a?.zoom&&r.setState(o,a.zoom),null!=a?.legend&&this.updateLegends(a.legend),null!=a&&i.clear()}maybeResetAnimations(e){if("standalone"===this.mode)switch(e){case"series-grouping-change":case"replaced":this.resetAnimations()}}shouldForceNodeDataRefresh(e,t){const n=!!e.data||"data-change"===t||"replaced"===t,i=UD.getKeys(),r=Object.values(i).some(t=>null!=e[t]),o=null!=e.title&&null!=e.subtitle||null!=e.formatter;return n||r||o}shouldClearLegendData(e,t,n){const i="replaced"===n||"series-grouping-change"===n||"updated"===n&&(e.series?.length!==t.series?.length||!e.series?.every((e,n)=>e.type===t.series?.[n].type)),r=null!=t.legend&&null==e.legend;return i||r}applyMiniChartOptions(e,t,n,i){const r=i?.navigator?.miniChart?.series??i?.series,o=this.applySeries(e,this.filterMiniChartSeries(t),this.filterMiniChartSeries(r));this.applyAxes(e,n,i,o,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);const a=e.series;for(const c of a)c.properties.id=void 0;const s=e.axes,l=s.find(e=>"x"===e.direction);for(const c of s)c.nice=!1,c.gridLine.enabled=!1,c.label.enabled=c===l,c.tick.enabled=!1,c.interactionEnabled=!1;if(null!=l){const e=n.navigator?.miniChart,t=e?.label,i=e?.label?.interval;if(l.line.enabled=!1,l.label.set(Gx(t,["interval","autoRotate","autoRotateAngle","itemStyler","minSpacing","rotation"])),"grouped-category"===l.type){l.label.enabled=!1,l.label.rotation=0;const{depthOptions:e}=l;if(0===e.length)e.set([{label:{enabled:!0}}]);else for(let t=1;t<e.length;t++)e[t].label.enabled=!1}else"time"!==l.type&&"unit-time"!==l.type&&"ordinal-time"!==l.type||(l.parentLevel.enabled=!1);l.interval.step=i?.step,l.interval.values=i?.values,l.interval.minSpacing=i?.minSpacing,l.interval.maxSpacing=i?.maxSpacing}}applyModules(e){const{type:t}=this.constructor;let n=!1;for(const i of fx.byType("root","legend")){const r=null!=e[i.optionsKey]&&i.chartTypes.includes(t);r!==this.modulesManager.isEnabled(i)&&(r?(this.modulesManager.addModule(i,e=>e.moduleFactory(this.getModuleContext())),"legend"===i.type&&this.modulesManager.getModule(i)?.attachLegend(this.ctx.scene),this[i.optionsKey]=this.modulesManager.getModule(i)):(this.modulesManager.removeModule(i),delete this[i.optionsKey]),n=!0)}return n}initSeriesDeclarationOrder(e){for(let t=0;t<e.length;t++)e[t].setSeriesIndex(t)}applySeries(e,t,n){if(!t)return"no-change";const i=function(e,t,n){const i=(e,t,n)=>{const i=[e];for(const r of AL)r in t&&null!=t[r]&&i.push(`${r}=${t[r]}`);return n?.seriesGrouping&&i.push(`seriesGrouping.groupId=${n?.seriesGrouping.groupId}`),i.join(";")},r=new Map;let o=0;for(const l of e){const e=i(l.type,l.properties,n?.[o]);r.has(e)||r.set(e,[]),r.get(e)?.push([l,o++])}const a=new Map;o=0;for(const l of t){const e=i(l.type,l,l);a.has(e)||a.set(e,[]),a.get(e)?.push([l,o++])}if(![...r.keys()].some(e=>a.has(e)))return{status:"no-overlap",oldKeys:r.keys(),newKeys:a.keys()};const s=[];for(const[l,c]of a.entries())for(const[e,t]of c){const i=r.get(l);if(null==i||i.length<1){s.push({opts:e,targetIdx:t,idx:t,status:"add"}),r.delete(l);continue}const[o,a]=i.shift(),c=XM(n?.[a]??{},e??{}),{groupIndex:u,stackIndex:d}=c?.seriesGrouping??{};null!=u||null!=d?s.push({opts:e,series:o,diff:c,targetIdx:t,idx:a,status:"series-grouping"}):c?s.push({opts:e,series:o,diff:c,targetIdx:t,idx:a,status:"update"}):s.push({opts:e,series:o,targetIdx:t,idx:a,status:"no-op"}),0===i.length&&r.delete(l)}for(const l of r.values())for(const[e,t]of l)s.push({series:e,idx:t,targetIdx:-1,status:"remove"});return{status:"overlap",changes:s}}(e.series,t,n);if("no-overlap"===i.status){ZN(`Chart.applySeries() - creating new series instances, status: ${i.status}`,i);const n=t.map(e=>this.createSeries(e));return this.initSeriesDeclarationOrder(n),e.series=n,"replaced"}ZN("Chart.applySeries() - matchResult",i);const r=[];let o=!1,a=!1,s=!1;const l=i.changes.toSorted((e,t)=>e.targetIdx-t.targetIdx);for(const c of l)switch(a||(a="series-grouping"===c.status),o||(o=null!=c.diff?.data),s||(s="no-op"!==c.status),c.status){case"add":{const e=this.createSeries(c.opts);r.push(e),ZN("Chart.applySeries() - created new series",e);break}case"remove":ZN(`Chart.applySeries() - removing series at previous idx ${c.idx}`,c.series);break;case"no-op":r.push(c.series),ZN(`Chart.applySeries() - no change to series at previous idx ${c.idx}`,c.series);break;default:{const{series:e,diff:t,idx:n}=c;ZN(`Chart.applySeries() - applying series diff previous idx ${n}`,t,e),this.applySeriesValues(e,t),e.markNodeDataDirty(),r.push(e)}}return this.initSeriesDeclarationOrder(r),ZN("Chart.applySeries() - final series instances",r),e.series=r,a?"series-grouping-change":o?"data-change":s?"updated":"no-op"}applyAxes(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!("axes"in t)||!t.axes)return!1;r=["axes[].type",...r];const o=t.axes;return"replaced"!==i&&e.axes.length===o.length&&e.axes.every((e,t)=>e.type===o[t].type)&&LL(n)?(e.axes.forEach((e,t)=>{const i=XM(n.axes?.[t]??{},o[t]);ZN(`Chart.applyAxes() - applying axis diff idx ${t}`,i);tw(e,i,{path:`axes[${t}]`,skip:r})}),!0):(ZN(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${i}`),e.axes=this.createAxis(o,r),!0)}createSeries(e){const t=QD.create(e.type,this.getModuleContext());return this.applySeriesOptionModules(t,e),this.applySeriesValues(t,e),t}applySeriesOptionModules(e,t){const n=e.createModuleContext(),i=e.getModuleMap();for(const r of fx.byType("series-option"))r.optionsKey in t&&r.seriesTypes.includes(e.type)&&i.addModule(r,e=>e.moduleFactory(n))}applySeriesValues(e,t){const n=e.getModuleMap(),{type:i,data:r,listeners:o,seriesGrouping:a,showInMiniChart:s,...l}=t;for(const c of GD)if("series-option"===c.type&&c.optionsKey in l){const e=n.getModule(c.optionsKey);if(e){const t=l[c.optionsKey];delete l[c.optionsKey],e.properties.set(t)}}null!=l.visible&&(e.visible=l.visible),e.properties.set(l),"data"in t&&e.setOptionsData(r),o&&this.registerListeners(e,o),"seriesGrouping"in t&&(e.seriesGrouping=null==a?void 0:{...e.seriesGrouping,...a})}createAxis(e,t){const n=[],i=this.getModuleContext();for(let r=0;r<e.length;r++){const o=e[r],a=VD.create(o.type,i);this.applyAxisModules(a,o),tw(a,o,{path:`axes[${r}]`,skip:t}),n.push(a)}return function(e){const t=[],n=[],i=[...CL];for(const r of e)r instanceof IL&&(DL(r.position)?n.push(r.position):t.push(r));for(const r of t){let e;do{e=i.pop()}while(e&&n.includes(e));if(null==e)break;r.position=e}}(n),n}applyAxisModules(e,t){const n=e.createModuleContext(),i=e.getModuleMap();for(const r of fx.byType("axis-option")){const o=null!=t[r.optionsKey];o!==i.isEnabled(r)&&(o?(i.addModule(r,e=>e.moduleFactory(n)),e[r.optionsKey]=i.getModule(r)):(i.removeModule(r),delete e[r.optionsKey]))}}registerListeners(e,t){e.clearEventListeners();for(const[n,i]of yv(t))e.addEventListener(n,i)}};XN.chartsInstances=new WeakMap,px([cw({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),XN.chartsInstances.set(e,this))},oldValue(e){XN.chartsInstances.delete(e)}})],XN.prototype,"container",2),px([cw({newValue(e){this.resize("width option",{inWidth:e})}})],XN.prototype,"width",2),px([cw({newValue(e){this.resize("height option",{inHeight:e})}})],XN.prototype,"height",2),px([cw({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],XN.prototype,"minWidth",2),px([cw({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],XN.prototype,"minHeight",2),px([cw({newValue(e){this.resize("overrideDevicePixelRatio option",{inOverrideDevicePixelRatio:e})}})],XN.prototype,"overrideDevicePixelRatio",2),px([zS],XN.prototype,"padding",2),px([zS],XN.prototype,"keyboard",2),px([zS],XN.prototype,"touch",2),px([zS],XN.prototype,"mode",2),px([zS],XN.prototype,"styleNonce",2),px([aw("chartCaptions.title")],XN.prototype,"title",2),px([aw("chartCaptions.subtitle")],XN.prototype,"subtitle",2),px([aw("chartCaptions.footnote")],XN.prototype,"footnote",2),px([zS],XN.prototype,"formatter",2),px([zS],XN.prototype,"suppressFieldDotNotation",2),px([zS],XN.prototype,"loadGoogleFonts",2),px([cw({changeValue(e,t){this.onAxisChange(e,t)}})],XN.prototype,"axes",2),px([cw({changeValue(e,t){this.onSeriesChange(e,t)}})],XN.prototype,"series",2);var qN=XN;function QN(e,t){let n=[];const i=e?.series?.[0]?.type,r="linear-gauge"===i||"radial-gauge"===i,o=i?ZD.get(i):"unknown";for(const a of GD)if("unknown"===o||a.chartTypes.includes(o))if("root"===a.type||"legend"===a.type){const t=e[a.optionsKey];if(null==t)continue;a.optionsInnerKey?t[a.optionsInnerKey]&&(n.push(`${a.optionsKey}.${a.optionsInnerKey}`),delete t[a.optionsInnerKey]):(n.push(a.optionsKey),delete e[a.optionsKey])}else if("axis"===a.type){if(!("axes"in e)||!My(e.axes)||!e.axes?.some(e=>e.type===a.identifier))continue;n.push(`axis[type=${a.identifier}]`),e.axes=e.axes.filter(e=>e.type!==a.identifier)}else if("axis-option"===a.type){if(!("axes"in e)||!My(e.axes)||!e.axes?.some(e=>e[a.optionsKey]))continue;n.push(`axis.${a.optionsKey}`),e.axes.forEach(e=>{e[a.optionsKey]&&delete e[a.optionsKey]})}else if("series"===a.type){if(a.community)continue;if(!My(e.series)||!e.series?.some(e=>e.type===a.identifier))continue;n.push(`series[type=${a.identifier}]`),e.series=e.series.filter(e=>e.type!==a.identifier)}else if("series-option"===a.type){if(!My(e.series)||!e.series?.some(e=>e[a.optionsKey]))continue;n.push(`series.${a.optionsKey}`),e.series.forEach(e=>{e[a.optionsKey]&&delete e[a.optionsKey]})}if(n.length&&!t){r&&(n=["AgCharts.createGauge"]);let t="ag-charts-enterprise",i="https://www.ag-grid.com/charts/javascript/installation/";"integrated"===e.mode&&(t="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",i="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),Gm.warnOnce([`unable to use these enterprise features as '${t}' has not been loaded:`,"",...n,"",`See: ${i}`].join("\n"))}}function JN(e){return e?.up||e?.down||e?.neutral?"user-full":e?.fills||e?.strokes?"user-indexed":"inbuilt"}var eE={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},tE={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},nE={};hx(nE,{DEFAULT_ANNOTATION_HANDLE_FILL:()=>CE,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>TE,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>LE,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>NE,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>EE,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>DE,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>AE,DEFAULT_CAPTION_ALIGNMENT:()=>sE,DEFAULT_CAPTION_LAYOUT_STYLE:()=>aE,DEFAULT_FIBONACCI_STROKES:()=>wE,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>IE,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>ME,DEFAULT_GRIDLINE_ENABLED:()=>zE,DEFAULT_POLAR_SERIES_STROKE:()=>xE,DEFAULT_SEPARATION_LINES_COLOUR:()=>rE,DEFAULT_SHADOW_COLOUR:()=>oE,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>SE,DEFAULT_TEXTBOX_COLOR:()=>PE,DEFAULT_TEXTBOX_FILL:()=>OE,DEFAULT_TEXTBOX_STROKE:()=>RE,DEFAULT_TEXT_ANNOTATION_COLOR:()=>kE,DEFAULT_TOOLBAR_POSITION:()=>jE,IS_DARK_THEME:()=>iE,PALETTE_ALT_DOWN_FILL:()=>yE,PALETTE_ALT_DOWN_STROKE:()=>fE,PALETTE_ALT_NEUTRAL_FILL:()=>bE,PALETTE_ALT_NEUTRAL_STROKE:()=>vE,PALETTE_ALT_UP_FILL:()=>mE,PALETTE_ALT_UP_STROKE:()=>gE,PALETTE_DOWN_FILL:()=>dE,PALETTE_DOWN_STROKE:()=>cE,PALETTE_NEUTRAL_FILL:()=>pE,PALETTE_NEUTRAL_STROKE:()=>hE,PALETTE_UP_FILL:()=>uE,PALETTE_UP_STROKE:()=>lE});var iE=Symbol("is-dark-theme"),rE=Symbol("default-separation-lines-colour"),oE=Symbol("default-shadow-colour"),aE=Symbol("default-caption-layout-style"),sE=Symbol("default-caption-alignment"),lE=Symbol("palette-up-stroke"),cE=Symbol("palette-down-stroke"),uE=Symbol("palette-up-fill"),dE=Symbol("palette-down-fill"),hE=Symbol("palette-neutral-stroke"),pE=Symbol("palette-neutral-fill"),gE=Symbol("palette-alt-up-stroke"),fE=Symbol("palette-alt-down-stroke"),mE=Symbol("palette-alt-up-fill"),yE=Symbol("palette-alt-down-fill"),bE=Symbol("palette-gray-fill"),vE=Symbol("palette-gray-stroke"),xE=Symbol("default-polar-series-stroke"),SE=Symbol("default-sparkline-crosshair-stroke"),ME=Symbol("default-financial-charts-annotation-stroke"),wE=Symbol("default-hierarchy-strokes"),kE=Symbol("default-text-annotation-color"),IE=Symbol("default-financial-charts-annotation-background-fill"),CE=Symbol("default-annotation-handle-fill"),DE=Symbol("default-annotation-statistics-fill"),AE=Symbol("default-annotation-statistics-stroke"),TE=Symbol("default-annotation-statistics-color"),LE=Symbol("default-annotation-statistics-divider-stroke"),NE=Symbol("default-annotation-statistics-fill"),EE=Symbol("default-annotation-statistics-stroke"),OE=Symbol("default-textbox-fill"),RE=Symbol("default-textbox-stroke"),PE=Symbol("default-textbox-color"),jE=Symbol("default-toolbar-position"),zE=Symbol("default-gridline-enabled"),_E=[{type:"number",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"bottom","left"]}},{type:"category",position:{$if:[{$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},"left","bottom"]}}],BE={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillFallback"},{$palette:"fill"}]},FE={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},{$palette:"fillsFallback"},{$palette:"fills"}]},$E={$if:[{$isGradient:{$palette:"fill"}},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/stroke",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},VE={$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$value:"$1"}}]},[{$palette:"fillFallback"},{$palette:"fillFallback"}],{$palette:"range2"}]},GE={type:"gradient",gradient:"linear",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},WE={...GE,colorStops:[{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"black",.15]},{$mix:[{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},"white",.15]}]},HE=e=>({...GE,colorStops:{$if:[{$or:[{$isGradient:{$palette:`${e}.fill`}},{$isPattern:{$palette:`${e}.fill`}},{$isImage:{$palette:`${e}.fill`}}]},{$map:[{$path:["/color",void 0,{$value:"$1"}]},{$path:["/colorStops",void 0,{$palette:`${e}.fill`}]}]},[{$mix:[{$palette:`${e}.fill`},"black",.15]},{$mix:[{$palette:`${e}.fill`},"white",.15]}]]}}),UE={type:"gradient",gradient:"radial",bounds:"item",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},YE={...UE,reverse:!0},KE={...UE,bounds:"series"},ZE={...UE,bounds:"series",reverse:!0},XE={type:"gradient",gradient:"conic",bounds:"series",colorStops:{$palette:"gradient"},rotation:0,reverse:!1},qE={type:"pattern",pattern:"forward-slanted-lines",width:10,height:10,padding:2,fill:{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$palette:"fillFallback"},{$if:[{$isPattern:{$palette:"fill"}},{$path:["/fill",{$palette:"fillFallback"},{$palette:"fill"}]},{$palette:"fill"}]}]},fillOpacity:1,stroke:$E,strokeOpacity:1,strokeWidth:4,backgroundFill:"none",backgroundFillOpacity:1,rotation:0,scale:1},QE={...qE,fill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]}},JE={type:"image",backgroundFill:{$palette:"fillFallback"},backgroundFillOpacity:1,repeat:"no-repeat",fit:"contain",rotation:0};function eO(e){return Vx(e,e=>{const t=IS.fromString(e);return[IS.darken(t,.15).toString(),e,IS.lighten(t,.15).toString()]})}var tO={stroke:{$path:["../../highlightStyle/item/stroke","rgba(0, 0, 0, 0.4)"]},strokeWidth:{$path:["../../highlightStyle/item/strokeWidth",2]},strokeOpacity:{$path:["../../highlightStyle/item/strokeOpacity",void 0]},opacity:{$path:["../../highlightStyle/item/opacity",1]}},nO={...tO,fill:{$path:["../../highlightStyle/item/fill","rgba(255,255,255, 0.33)"]},fillOpacity:{$path:["../../highlightStyle/item/fillOpacity",void 0]}},iO={padding:8,cornerRadius:4,fill:{$if:[{$and:[{$eq:[{$path:"./fill/type"},"image"]},{$isUserOption:["./fill/backgroundFill",!1,!0]}]},{backgroundFill:"transparent"},void 0]},border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}}};function rO(){return{enabled:!0,highlightedItem:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?nO:tO,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},highlightedSeries:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]}},unhighlightedSeries:{opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}function oO(){return{enabled:!0,highlightedItem:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?nO:tO,unhighlightedItem:{strokeWidth:{$path:["../../highlightStyle/series/strokeWidth",void 0]},opacity:{$path:["../../highlightStyle/series/dimOpacity",void 0]}}}}var aO={border:{enabled:!1,stroke:{$foregroundBackgroundMix:.25},strokeOpacity:1,strokeWidth:1},cornerRadius:4,fillOpacity:1,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,{$isUserOption:["./fill",5,0]}]}},sO="white",lO={get cartesian(){return{seriesTypes:ZD.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:ZD.polarTypes,commonOptions:[]}},get topology(){return{seriesTypes:ZD.topologyTypes,commonOptions:[]}},get standalone(){return{seriesTypes:ZD.standaloneTypes,commonOptions:[]}}},cO={"radial-gauge":!0,"linear-gauge":!0};var uO=class e{static getDefaultColors(){return{fills:eE,fillsFallback:Object.values(eE),strokes:tE,sequentialColors:eO(eE),divergingColors:[eE.ORANGE,eE.YELLOW,eE.GREEN],hierarchyColors:["#fff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"],secondSequentialColors:IS.interpolate([IS.fromHexString(eE.BLUE),IS.fromHexString("#cbdef5")],8).map(e=>e.toString()),secondDivergingColors:[eE.GREEN,eE.YELLOW,eE.RED],secondHierarchyColors:["#fff","#c5cbd1","#a4b1bd","#8498a9","#648096"],up:{fill:eE.GREEN,stroke:tE.GREEN},down:{fill:eE.RED,stroke:tE.RED},neutral:{fill:eE.GRAY,stroke:tE.GRAY},altUp:{fill:eE.BLUE,stroke:tE.BLUE},altDown:{fill:eE.ORANGE,stroke:tE.ORANGE},altNeutral:{fill:eE.GRAY,stroke:tE.GRAY}}}static getDefaultPublicParameters(){return{accentColor:"#2196f3",axisColor:{$foregroundBackgroundMix:.325},backgroundColor:sO,borderColor:{$foregroundOpacity:.15},borderRadius:4,chartBackgroundColor:{$ref:"backgroundColor"},chartPadding:20,focusShadow:"0 0 0 3px var(--ag-charts-accent-color)",foregroundColor:"#181d1f",fontFamily:"Verdana, sans-serif",fontSize:ik,fontWeight:400,gridLineColor:{$foregroundBackgroundMix:.1},popupShadow:"0 0 16px rgba(0, 0, 0, 0.15)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.38]},textColor:{$ref:"foregroundColor"},chromeBackgroundColor:{$foregroundBackgroundMix:.02},chromeFontFamily:{$ref:"fontFamily"},chromeFontSize:{$ref:"fontSize"},chromeFontWeight:{$ref:"fontWeight"},chromeTextColor:{$ref:"foregroundColor"},chromeSubtleTextColor:{$mix:[{$ref:"chromeTextColor"},{$ref:"backgroundColor"},.38]},buttonBackgroundColor:{$ref:"backgroundColor"},buttonBorder:!0,buttonFontWeight:400,buttonTextColor:{$ref:"textColor"},inputBackgroundColor:{$ref:"backgroundColor"},inputBorder:!0,inputTextColor:{$ref:"textColor"},menuBackgroundColor:{$ref:"chromeBackgroundColor"},menuBorder:!0,menuTextColor:{$ref:"chromeTextColor"},panelBackgroundColor:{$ref:"chromeBackgroundColor"},panelSubtleTextColor:{$ref:"chromeSubtleTextColor"},tooltipBackgroundColor:{$ref:"chromeBackgroundColor"},tooltipBorder:!0,tooltipTextColor:{$ref:"chromeTextColor"},tooltipSubtleTextColor:{$ref:"chromeSubtleTextColor"},crosshairLabelBackgroundColor:{$ref:"foregroundColor"},crosshairLabelTextColor:{$ref:"chartBackgroundColor"}}}static getAxisDefaults(e,t){let{title:n,time:i}=t;return Bx(e,n&&{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:rk.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},i&&{parentLevel:{enabled:!1,label:{enabled:{$path:"../../label/enabled"},border:{enabled:{$or:[{$isUserOption:["../border",!0,!1]},{$path:"../../../label/border/enabled"}]},strokeWidth:{$path:"../../../label/border/strokeWidth"},stroke:{$path:"../../../label/border/stroke"}},fill:{$path:"../../label/fill"},fontSize:{$path:"../../label/fontSize"},fontFamily:{$path:"../../label/fontFamily"},fontWeight:"bold",spacing:{$path:"../../label/spacing"},color:{$path:"../../label/color"},cornerRadius:{$path:"../../label/cornerRadius"},padding:{$path:"../../label/padding"},avoidCollisions:{$path:"../../label/avoidCollisions"}},tick:{enabled:{$path:"../../tick/enabled"},width:{$path:"../../tick/width"},size:{$path:"../../tick/size"},stroke:{$path:"../../tick/stroke"}}}},{label:{enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},spacing:11,color:{$ref:"textColor"},avoidCollisions:!0,cornerRadius:4,border:{enabled:{$isUserOption:["../border",!0,!1]},strokeWidth:1,stroke:{$foregroundOpacity:.08}},padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},{left:12,right:12,top:8,bottom:8},void 0]}},line:{enabled:!0,width:1,stroke:{$ref:"axisColor"}},tick:{enabled:!1,size:6,width:1,stroke:{$ref:"axisColor"}},gridLine:{enabled:!0,width:1,style:{$apply:[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]},[{fillOpacity:1,stroke:{$ref:"gridLineColor"},strokeWidth:{$path:"../../width"},lineDash:[]}]]}},crossLines:{$apply:[{enabled:!0,fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},fillOpacity:.08,strokeWidth:1,label:{fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},padding:5,color:{$ref:"textColor"}}},void 0,{$pathString:["/common/axes/$axisType/crossLines",{axisType:{$path:["/axes/$index/type"]}}]},{$pathString:["/$seriesType/axes/$axisType/crossLines",{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["/axes/$index/type"]}}]}]}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:{$ref:"chartBackgroundColor"}},padding:{top:{$ref:"chartPadding"},right:{$ref:"chartPadding"},bottom:{$ref:"chartPadding"},left:{$ref:"chartPadding"}},seriesArea:{border:{enabled:!1,stroke:{$ref:"foregroundColor"},strokeOpacity:1,strokeWidth:1},cornerRadius:4,padding:{$if:[{$eq:[{$path:"./border/enabled"},!0]},5,0]}},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",spacing:{$if:[{$path:"../subtitle/enabled"},10,20]},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:rk.LARGEST},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},wrapping:"hyphenate",layoutStyle:aE,textAlign:sE},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:rk.MEDIUM},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:aE,textAlign:sE},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:{$rem:rk.MEDIUM},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"subtleTextColor"},wrapping:"hyphenate",layoutStyle:aE,textAlign:sE},legend:{...aO,enabled:{$and:[{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$or:[{$isChartType:"cartesian"},{$isChartType:"standalone"},{$and:[{$isChartType:"polar"},{$not:{$isSeriesType:"pie"}},{$not:{$isSeriesType:"donut"}}]}]}]},position:"bottom",orientation:{$if:[{$or:[{$eq:[{$path:"./position"},"left"]},{$eq:[{$path:"./position"},"left-top"]},{$eq:[{$path:"./position"},"left-bottom"]},{$eq:[{$path:"./position"},"right"]},{$eq:[{$path:"./position"},"right-top"]},{$eq:[{$path:"./position"},"right-bottom"]},{$eq:[{$path:"./position/placement"},"left"]},{$eq:[{$path:"./position/placement"},"left-top"]},{$eq:[{$path:"./position/placement"},"left-bottom"]},{$eq:[{$path:"./position/placement"},"right"]},{$eq:[{$path:"./position/placement"},"right-top"]},{$eq:[{$path:"./position/placement"},"right-bottom"]}]},"vertical","horizontal"]},spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:{$ref:"textColor"},fontSize:{$rem:rk.SMALL},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"}}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:{$ref:"foregroundColor"}},inactiveStyle:{fill:{$ref:"subtleTextColor"}},highlightStyle:{fill:{$ref:"foregroundColor"}},label:{color:{$ref:"textColor"}}},fill:{$if:[{$path:["./position/floating",!1]},{$ref:"chartBackgroundColor"},"transparent"]}},tooltip:{enabled:!0,darkTheme:iE,delay:0,pagination:!1,mode:{$if:[{$and:[{$isChartType:"cartesian"},{$not:{$hasSeriesType:"bubble"}},{$not:{$hasSeriesType:"scatter"}},{$greaterThan:[{$size:[{$path:"/series"}]},1]},{$lessThan:[{$size:[{$path:"/series"}]},4]}]},"shared","single"]}},overlays:{darkTheme:iE},listeners:{},series:{tooltip:{range:{$path:["/tooltip/range","exact"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","pointer"]},placement:{$path:["/tooltip/position/placement",void 0]},xOffset:{$path:["/tooltip/position/xOffset",0]},yOffset:{$path:["/tooltip/position/yOffset",0]}}}}}}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{overrides:t,palette:n,params:i}=QM(e),r=this.createChartConfigPerChartType(this.getDefaults()),o={};t&&this.processOverrides(o,t);const{fills:a,strokes:s,sequentialColors:l,...c}=this.getDefaultColors();this.palette=Zx(Bx(n,{fills:Object.values(a),strokes:Object.values(s),sequentialColors:Object.values(l),...c})),this.paletteType=JN(n),this.params=Bx(i,this.getPublicParameters()),this.config=Zx(QM(r)),this.overrides=Zx(t),this.presets=Zx(o)}processOverrides(e,t){ZD.seriesTypes.forEach(n=>{const i=n,r=t[i];!0===cO[i]&&(e[i]=r,delete t[i])})}createChartConfigPerChartType(e){for(const[t,{seriesTypes:n}]of yv(lO)){const i=qD.get(t);for(const t of n)e[t]??(e[t]=QM(i))}return e}getDefaults(){const t=(t,n)=>{const i={},r={axes:{},...UD.getThemeTemplates(),...this.getChartDefaults(),...qD.get(t)};for(const o of n){i[o]=Bx(QD.getThemeTemplate(o),i[o]??QM(r));const{axes:t}=i[o];for(const n of VD.keys())t[n]=Bx(t[n],VD.getThemeTemplate(n),e.axisDefault[n]);"map-shape-background"!==o&&"map-line-background"!==o||delete i[o].series.tooltip}return i};return Bx(t("cartesian",ZD.cartesianTypes),t("polar",ZD.polarTypes),t("topology",ZD.topologyTypes),t("standalone",ZD.standaloneTypes))}static applyTemplateTheme(e,t,n){if(My(e))for(let i=0;i<e.length;i++){const t=e[i];"symbol"===typeof t&&n?.has(t)&&(e[i]=n.get(t))}else for(const i of Object.keys(e)){const t=e[i];"symbol"===typeof t&&n?.has(t)&&(e[i]=n.get(t))}}templateTheme(t){const n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?QM(t):t,i=this.getTemplateParameters();return ew(n,e.applyTemplateTheme,void 0,void 0,i),n}getDefaultColors(){return e.getDefaultColors()}getPublicParameters(){return e.getDefaultPublicParameters()}getTemplateParameters(){const e=new Map;e.set(iE,!1),e.set(rE,"#d9d9d9"),e.set(oE,"#00000080"),e.set(SE,"#aaa"),e.set(aE,"block"),e.set(sE,"center"),e.set(wE,["#797b86","#e24c4a","#f49d2d","#65ab58","#409682","#4db9d2","#5090dc","#3068f9","#e24c4a","#913aac","#d93e64"]),e.set(xE,sO),e.set(ME,eE.BLUE),e.set(IE,eE.BLUE),e.set(kE,eE.BLUE),e.set(CE,sO),e.set(DE,"#fafafa"),e.set(AE,"#ddd"),e.set(TE,"#000"),e.set(LE,"#181d1f"),e.set(NE,"#e35c5c"),e.set(EE,"#e35c5c"),e.set(OE,"#fafafa"),e.set(RE,"#ddd"),e.set(PE,"#000"),e.set(jE,"top"),e.set(zE,!1);const t=this.getDefaultColors();return e.set(lE,this.palette.up?.stroke??t.up.stroke),e.set(uE,this.palette.up?.fill??t.up.fill),e.set(cE,this.palette.down?.stroke??t.down.stroke),e.set(dE,this.palette.down?.fill??t.down.fill),e.set(hE,this.palette.neutral?.stroke??t.neutral.stroke),e.set(pE,this.palette.neutral?.fill??t.neutral.fill),e.set(gE,this.palette.altUp?.stroke??t.up.stroke),e.set(mE,this.palette.altUp?.fill??t.up.fill),e.set(fE,this.palette.altDown?.stroke??t.down.stroke),e.set(yE,this.palette.altDown?.fill??t.down.fill),e.set(bE,this.palette.altNeutral?.fill??t.altNeutral.fill),e.set(vE,this.palette.altNeutral?.stroke??t.altNeutral.stroke),e}};uO.axisDefault={number:uO.getAxisDefaults({keys:[],line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),log:uO.getAxisDefaults({keys:[],base:10,line:{enabled:!1},crosshair:{enabled:!0}},{title:!0,time:!1}),category:uO.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!0,wrapping:"on-space"},gridLine:{enabled:zE},crosshair:{enabled:!1}},{title:!0,time:!1}),"grouped-category":uO.getAxisDefaults({keys:[],tick:{enabled:!0,stroke:rE},label:{spacing:10,rotation:270,wrapping:"on-space"},maxThicknessRatio:.5,paddingInner:.4,groupPaddingInner:.2,crosshair:{enabled:!1}},{title:!0,time:!1}),time:uO.getAxisDefaults({keys:[],gridLine:{enabled:zE},crosshair:{enabled:!0}},{title:!0,time:!0}),"unit-time":uO.getAxisDefaults({keys:[],groupPaddingInner:.1,label:{autoRotate:!1},gridLine:{enabled:zE},crosshair:{enabled:!0},parentLevel:{enabled:!0}},{title:!0,time:!0}),"ordinal-time":uO.getAxisDefaults({keys:[],groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:zE},crosshair:{enabled:!0}},{title:!0,time:!0}),"angle-category":uO.getAxisDefaults({label:{spacing:5},gridLine:{enabled:zE},shape:{$findFirstSiblingNotOperation:void 0}},{title:!1,time:!1}),"angle-number":uO.getAxisDefaults({label:{spacing:5},gridLine:{enabled:zE}},{title:!1,time:!1}),"radius-category":uO.getAxisDefaults({positionAngle:0,line:{enabled:!1}},{title:!0,time:!1}),"radius-number":uO.getAxisDefaults({positionAngle:0,line:{enabled:!1},shape:{$findFirstSiblingNotOperation:void 0}},{title:!0,time:!1})};var dO=uO,hO="#192232",pO={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},gO={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},fO=class extends dO{getDefaultColors(){return{fills:pO,fillsFallback:Object.values(pO),strokes:gO,sequentialColors:eO(pO),divergingColors:[pO.ORANGE,pO.YELLOW,pO.GREEN],hierarchyColors:["#192834","#253746","#324859","#3f596c","#4d6a80"],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[pO.GREEN,pO.YELLOW,pO.RED],secondHierarchyColors:["#192834","#3b5164","#496275","#577287","#668399"],up:{fill:pO.GREEN,stroke:gO.GREEN},down:{fill:pO.RED,stroke:gO.RED},neutral:{fill:pO.GRAY,stroke:gO.GRAY},altUp:{fill:pO.BLUE,stroke:gO.BLUE},altDown:{fill:pO.ORANGE,stroke:gO.ORANGE},altNeutral:{fill:pO.GRAY,stroke:gO.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),axisColor:{$foregroundBackgroundMix:.737},backgroundColor:hO,borderColor:{$foregroundBackgroundMix:.216},chromeBackgroundColor:{$foregroundBackgroundMix:.07},foregroundColor:"#fff",gridLineColor:{$foregroundBackgroundMix:.257},popupShadow:"0 0 16px rgba(0, 0, 0, 0.33)",subtleTextColor:{$mix:[{$ref:"textColor"},{$ref:"chartBackgroundColor"},.57]},crosshairLabelBackgroundColor:{$foregroundBackgroundMix:.65}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(iE,!0),e.set(xE,hO),e.set(rE,"#7f8389"),e.set(ME,pO.BLUE),e.set(kE,"#fff"),e.set(IE,pO.BLUE),e.set(CE,hO),e.set(DE,"#28313e"),e.set(AE,"#4b525d"),e.set(TE,"#fff"),e.set(LE,"#fff"),e.set(OE,"#28313e"),e.set(RE,"#4b525d"),e.set(PE,"#fff"),e}constructor(e){super(e)}},mO={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},yO={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},bO=class extends fO{getDefaultColors(){return{...super.getDefaultColors(),fills:{...mO},fillsFallback:Object.values({...mO}),strokes:{...yO},sequentialColors:eO(mO),divergingColors:[mO.GREEN,mO.BLUE,mO.RED],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],up:{fill:mO.GREEN,stroke:yO.GREEN},down:{fill:mO.RED,stroke:yO.RED},neutral:{fill:mO.BLUE,stroke:yO.BLUE},altUp:{fill:mO.GREEN,stroke:yO.GREEN},altDown:{fill:mO.RED,stroke:yO.RED},altNeutral:{fill:mO.GRAY,stroke:yO.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.12}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,mO.BLUE),e.set(IE,mO.BLUE),e.set(aE,"overlay"),e.set(sE,"left"),e.set(jE,"bottom"),e.set(zE,!0),e}},vO={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#A9A9A9"},xO={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc",GRAY:"#909090"},SO=class extends dO{getDefaultColors(){return{...super.getDefaultColors(),fills:{...vO},fillsFallback:Object.values({...vO}),strokes:{...xO},sequentialColors:eO(vO),divergingColors:[vO.GREEN,vO.BLUE,vO.RED],up:{fill:vO.GREEN,stroke:xO.GREEN},down:{fill:vO.RED,stroke:xO.RED},neutral:{fill:vO.BLUE,stroke:xO.BLUE},altUp:{fill:vO.GREEN,stroke:xO.GREEN},altDown:{fill:vO.RED,stroke:xO.RED},altNeutral:{fill:vO.GRAY,stroke:xO.GRAY}}}getPublicParameters(){return{...super.getPublicParameters(),chartPadding:0,gridLineColor:{$foregroundBackgroundMix:.06}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,vO.BLUE),e.set(IE,vO.BLUE),e.set(aE,"overlay"),e.set(sE,"left"),e.set(jE,"bottom"),e.set(zE,!0),e}},MO={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},wO={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},kO=class extends fO{getDefaultColors(){return{...super.getDefaultColors(),fills:MO,fillsFallback:Object.values(MO),strokes:wO,sequentialColors:eO(MO),divergingColors:[MO.ORANGE,MO.YELLOW,MO.GREEN],secondSequentialColors:["#2196f3","#208FEC","#1E88E5","#1C7FDC","#1976d2","#176EC9","#1565c0"],secondDivergingColors:[MO.GREEN,MO.YELLOW,MO.RED],up:{fill:MO.GREEN,stroke:wO.GREEN},down:{fill:MO.RED,stroke:wO.RED},neutral:{fill:MO.GRAY,stroke:wO.GRAY},altUp:{fill:MO.BLUE,stroke:wO.BLUE},altDown:{fill:MO.RED,stroke:wO.RED},altNeutral:{fill:MO.GRAY,stroke:wO.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,MO.BLUE),e.set(IE,MO.BLUE),e}},IO={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},CO={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},DO=class extends dO{getDefaultColors(){return{...super.getDefaultColors(),fills:IO,fillsFallback:Object.values(IO),strokes:CO,sequentialColors:eO(IO),divergingColors:[IO.ORANGE,IO.YELLOW,IO.GREEN],secondSequentialColors:["#2196f3","#329EF4","#42a5f5","#53ADF6","#64b5f6","#7AC0F8","#90caf9"],secondDivergingColors:[IO.GREEN,IO.YELLOW,IO.RED],up:{fill:IO.GREEN,stroke:CO.GREEN},down:{fill:IO.RED,stroke:CO.RED},neutral:{fill:IO.GRAY,stroke:CO.GRAY},altUp:{fill:IO.BLUE,stroke:CO.BLUE},altDown:{fill:IO.RED,stroke:CO.RED},altNeutral:{fill:IO.GRAY,stroke:CO.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,IO.BLUE),e.set(IE,IO.BLUE),e}},AO={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},TO={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff",GRAY:"#eeeeee"},LO=class extends fO{getDefaultColors(){return{fills:AO,fillsFallback:Object.values(AO),strokes:TO,sequentialColors:eO(AO),divergingColors:[AO.BLUE,AO.RED],hierarchyColors:[],secondSequentialColors:[AO.BLUE,AO.PURPLE,AO.MAGENTA,AO.PINK,AO.RED,AO.ORANGE,AO.YELLOW,AO.GREEN],secondDivergingColors:[AO.BLUE,AO.RED],secondHierarchyColors:[],up:{fill:AO.GREEN,stroke:TO.GREEN},down:{fill:AO.RED,stroke:TO.RED},neutral:{fill:AO.GRAY,stroke:TO.GRAY},altUp:{fill:AO.BLUE,stroke:TO.BLUE},altDown:{fill:AO.RED,stroke:TO.RED},altNeutral:{fill:AO.GRAY,stroke:TO.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,AO.BLUE),e.set(IE,AO.BLUE),e}},NO={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4",GRAY:"#bbbbbb"},EO={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb",GRAY:"#888888"},OO=class extends dO{getDefaultColors(){return{...super.getDefaultColors(),fills:NO,fillsFallback:Object.values(NO),strokes:EO,sequentialColors:eO(NO),divergingColors:[NO.BLUE,NO.RED],hierarchyColors:[],secondSequentialColors:[NO.BLUE,NO.PURPLE,NO.MAGENTA,NO.PINK,NO.RED,NO.ORANGE,NO.YELLOW,NO.GREEN],secondDivergingColors:[NO.BLUE,NO.RED],secondHierarchyColors:[],up:{fill:NO.GREEN,stroke:EO.GREEN},down:{fill:NO.RED,stroke:EO.RED},neutral:{fill:NO.GRAY,stroke:EO.GRAY},altUp:{fill:NO.BLUE,stroke:EO.BLUE},altDown:{fill:NO.RED,stroke:EO.RED},altNeutral:{fill:NO.GRAY,stroke:EO.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,NO.BLUE),e.set(IE,NO.BLUE),e}},RO={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},PO={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},jO=class extends fO{getDefaultColors(){return{...super.getDefaultColors(),fills:{...RO,RED:RO.ORANGE},fillsFallback:Object.values({...RO,RED:RO.ORANGE}),strokes:{...PO,RED:PO.ORANGE},sequentialColors:eO({...RO,RED:RO.ORANGE}),divergingColors:[RO.ORANGE,RO.YELLOW,RO.GREEN],secondSequentialColors:["#5090dc","#4882c6","#4073b0","#38659a","#305684","#28486e","#203a58","#182b42"],secondDivergingColors:[RO.GREEN,RO.YELLOW,RO.ORANGE],up:{fill:RO.GREEN,stroke:PO.GREEN},down:{fill:RO.ORANGE,stroke:PO.ORANGE},neutral:{fill:RO.GRAY,stroke:PO.GRAY},altUp:{fill:RO.BLUE,stroke:PO.BLUE},altDown:{fill:RO.ORANGE,stroke:PO.ORANGE},altNeutral:{fill:RO.GRAY,stroke:PO.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,RO.BLUE),e.set(IE,RO.BLUE),e}},zO={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},_O={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},BO=class extends dO{getDefaultColors(){return{...super.getDefaultColors(),fills:{...zO,RED:zO.ORANGE},fillsFallback:Object.values({...zO,RED:zO.ORANGE}),strokes:{..._O,RED:_O.ORANGE},sequentialColors:eO({...zO,RED:zO.ORANGE}),divergingColors:[zO.ORANGE,zO.YELLOW,zO.GREEN],secondSequentialColors:["#5090dc","#629be0","#73a6e3","#85b1e7","#96bcea","#a8c8ee","#b9d3f1","#cbdef5"],secondDivergingColors:[zO.GREEN,zO.YELLOW,zO.ORANGE],secondHierarchyColors:[],up:{fill:zO.GREEN,stroke:_O.GREEN},down:{fill:zO.ORANGE,stroke:_O.ORANGE},neutral:{fill:_O.GRAY,stroke:_O.GRAY},altUp:{fill:zO.BLUE,stroke:_O.BLUE},altDown:{fill:zO.ORANGE,stroke:_O.ORANGE},altNeutral:{fill:zO.GRAY,stroke:_O.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,zO.BLUE),e.set(IE,zO.BLUE),e}},FO=["top","top-right","top-left","bottom","bottom-right","bottom-left","right","right-top","right-bottom","left","left-top","left-bottom"],$O={floating:ub,placement:Db(...FO),xOffset:fb,yOffset:fb},VO=Jy((e,t)=>{let n;if("string"===typeof e){FO.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new Xy(Ky.Invalid,`a legend placement string: ["${FO.join('", "')}"]`,e,t.path)))}else{const{cleared:t,invalid:i}=Qy(e,$O);n={valid:0===i.length,cleared:t,invalid:i}}return n},"a legend position object or placement string"),GO=sb(Db("circle","cross","diamond","heart","plus","pin","square","star","triangle"),db),WO=Db("never","always","hyphenate","on-space"),HO=Db("top","right","bottom","left","top-right","bottom-right","bottom-left","top-left","center"),UO=sb(Mb,Db("exact","nearest")),YO=sb(yb,Lb({text:eb(yb),...nv},"text segments array")),KO=Db("pointer","start","middle","end"),ZO={enabled:ub,text:YO,textAlign:Db("left","center","right"),wrapping:Db("never","always","hyphenate","on-space"),spacing:Mb,maxWidth:Mb,maxHeight:Mb,...nv};ZO.padding=tb(Mb);var XO={enabled:ub,text:YO,renderer:Nb(sb(yb,bb))},qO=["defaults","download","zoom-to-cursor","pan-to-cursor","reset-zoom","toggle-series-visibility","toggle-other-series","separator"],QO={type:Db("action","separator"),showOn:Db("always","series-area","series-node","legend-item"),label:eb(yb),enabled:ub,action:db,items:(e,t)=>tR(e,t)};QO.iconUrl=tb(yb);var JO=rb(QO),eR=Jy((e,t)=>{let n;if("string"===typeof e){qO.includes(e)?n=!0:(n={valid:!1,invalid:[],cleared:null},n.invalid.push(new Xy(Ky.Invalid,`a context menu item string alias: ["${qO.join('", "')}"]`,e,t.path)))}else n=JO(e,t);return n},`a context menu item object or string alias: [${qO.join(", ")}]`),tR=Tb(eR,"a menu items array",!1),nR={label:yb,ariaLabel:yb,tooltip:yb,icon:Db("align-center","align-left","align-right","arrow-drawing","arrow-down-drawing","arrow-up-drawing","callout-annotation","candlestick-series","close","comment-annotation","date-range-drawing","date-price-range-drawing","delete","disjoint-channel-drawing","drag-handle","fill-color","line-style-solid","line-style-dashed","line-style-dotted","high-low-series","hlc-series","hollow-candlestick-series","horizontal-line-drawing","line-color","line-series","line-with-markers-series","locked","measurer-drawing","note-annotation","ohlc-series","pan-end","pan-left","pan-right","pan-start","parallel-channel-drawing","position-bottom","position-center","position-top","price-label-annotation","price-range-drawing","reset","settings","step-line-series","text-annotation","trend-line-drawing","fibonacci-retracement-drawing","fibonacci-retracement-trend-based-drawing","unlocked","vertical-line-drawing","zoom-in","zoom-out")},iR=sb(yb,Nb(yb)),rR=rb({x:iR,y:iR,angle:iR,radius:iR,size:iR,color:iR,label:iR,secondaryLabel:iR,sectorLabel:iR,calloutLabel:iR,legendItem:iR}),oR=Jy(function(e){if(!Ly(e))return!1;const t=Jv.exec(e);return Qv.test(t?t[2]:e)},"a valid number format string"),aR={width:Mb,height:Mb,minWidth:Mb,minHeight:Mb,suppressFieldDotNotation:ub,title:ZO,subtitle:ZO,footnote:ZO,padding:{top:Mb,right:Mb,bottom:Mb,left:Mb},seriesArea:{border:ov,clip:ub,cornerRadius:fb,padding:rv},legend:{enabled:ub,position:VO,orientation:Db("horizontal","vertical"),maxWidth:Mb,maxHeight:Mb,spacing:Mb,border:ov,cornerRadius:fb,padding:rv,fill:Ub,fillOpacity:kb,preventHidingAll:ub,reverseOrder:ub,toggleSeries:ub,item:{marker:{size:Mb,shape:GO,padding:Mb,strokeWidth:Mb},line:{length:Mb,strokeWidth:Mb},label:{maxLength:Mb,formatter:db,...nv},maxWidth:Mb,paddingX:Mb,paddingY:Mb,showSeriesStroke:ub},pagination:{marker:{size:Mb,shape:GO,padding:Mb},activeStyle:{...Yb,...$b},inactiveStyle:{...Yb,...$b},highlightStyle:{...Yb,...$b},label:nv},listeners:{legendItemClick:db,legendItemDoubleClick:db}},gradientLegend:{enabled:ub,position:VO,spacing:Mb,reverseOrder:ub,border:ov,cornerRadius:fb,padding:rv,fill:Ub,fillOpacity:kb,gradient:{preferredLength:Mb,thickness:Mb},scale:{label:{...nv,minSpacing:Mb,format:oR,formatter:db},padding:Mb,interval:{step:fb,values:cb,minSpacing:ab(Mb,Ib("maxSpacing")),maxSpacing:ab(Mb,Cb("minSpacing"))}}},listeners:{seriesNodeClick:db,seriesNodeDoubleClick:db,seriesVisibilityChange:db,click:db,doubleClick:db,annotations:db,zoom:db},loadGoogleFonts:ub,highlight:{range:Db("tooltip","node")},overlays:{loading:XO,noData:XO,noVisibleSeries:XO,unsupportedBrowser:XO},tooltip:{enabled:ub,showArrow:ub,pagination:ub,delay:Mb,range:UO,wrapping:WO,mode:Db("single","shared","compact"),position:{anchorTo:Db("pointer","node","chart"),placement:sb(HO,Tb(HO)),xOffset:fb,yOffset:fb}},animation:{enabled:ub,duration:Mb},contextMenu:{enabled:ub,items:tR},context:()=>!0,dataSource:{getData:db},keyboard:{enabled:ub,tabIndex:fb},touch:{dragAction:Db("none","drag","hover")},ranges:{enabled:ub,buttons:Lb({...nR,value:sb(fb,ab(Tb(sb(fb,pb)),vb(2,2)),db)},"range button options array")},locale:{localeText:mb,getLocaleText:Nb(yb)},background:{visible:ub,fill:hb,image:{url:eb(yb),top:fb,right:fb,bottom:fb,left:fb,width:Mb,height:Mb,opacity:kb}},styleNonce:yb,sync:{enabled:ub,groupId:yb,axes:Db("x","y","xy"),nodeInteraction:ub,zoom:ub},zoom:{enabled:ub,enableAxisDragging:ub,enableAxisScrolling:ub,enableDoubleClickToReset:ub,enablePanning:ub,enableScrolling:ub,enableSelecting:ub,enableTwoFingerZoom:ub,keepAspectRatio:ub,anchorPointX:KO,anchorPointY:KO,axisDraggingMode:Db("pan","zoom"),axes:Db("x","y","xy"),deceleration:sb(Db("off","short","long"),kb),minVisibleItems:Mb,panKey:Db("alt","ctrl","meta","shift"),scrollingStep:kb,autoScaling:{enabled:ub,padding:kb},buttons:{enabled:ub,buttons:Lb({...nR,value:Db("reset","zoom-in","zoom-out","pan-left","pan-right","pan-start","pan-end"),section:yb},"zoom button options array"),visible:Db("always","zoomed","hover")}},formatter:sb(Nb(yb),rR)};aR.dataSource.requestThrottle=tb(Mb),aR.dataSource.updateThrottle=tb(Mb),aR.dataSource.updateDuringInteraction=tb(ub),aR.zoom.enableIndependentAxes=tb(ub),aR.statusBar=tb(gb),aR.foreground=tb({visible:ub,text:yb,image:{url:yb,top:fb,right:fb,bottom:fb,left:fb,width:Mb,height:Mb,opacity:kb},...Yb}),aR.overrideDevicePixelRatio=tb(fb),aR.sync.domainMode=tb(Db("direction","position","key"));var sR={cursor:yb,context:()=>!0,showInLegend:ub,nodeClickRange:UO,listeners:{seriesNodeClick:db,seriesNodeDoubleClick:db},highlightStyle:{item:{...Yb,...$b},series:{enabled:ub,dimOpacity:kb,strokeWidth:Mb}},highlight:Qb(qb)},lR={...sR,id:yb,visible:ub,context:()=>!0,data:cb};lR.seriesGrouping=tb(gb);var cR={enabled:ub,shape:GO,size:Mb,itemStyler:Eb({...Yb,...$b,...Kb,shape:GO,size:Mb}),...Yb,...$b,...Kb},uR={enabled:ub,formatter:db,format:oR,itemStyler:tb(Eb({enabled:ub,...av,...nv})),...av,...nv},dR={...uR,lineHeight:Mb,minimumFontSize:Mb,wrapping:WO,overflowStrategy:Db("ellipsis","hide")},hR={visible:ub,cap:{visible:ub,length:Mb,lengthRatio:kb,...$b,...Kb},...$b,...Kb},pR={...hR,xLowerKey:yb,xUpperKey:yb,yLowerKey:yb,yUpperKey:yb,xLowerName:yb,xUpperName:yb,yLowerName:yb,yUpperName:yb,itemStyler:Eb({visible:ub,...$b,...Kb,cap:{visible:ub,length:Mb,lengthRatio:kb,...$b,...Kb}})},gR={enabled:ub,showArrow:ub,range:UO,renderer:Nb(sb(yb,rb({heading:yb,title:yb,data:Lb({label:eb(yb),value:eb(yb)})},"tooltip renderer result object"))),position:{anchorTo:Db("node","pointer","chart"),placement:sb(HO,Tb(HO)),xOffset:fb,yOffset:fb},interaction:{enabled:ub}},fR={enabled:ub,xOffset:fb,yOffset:fb,blur:Mb,color:hb},mR=ob({linear:{},smooth:{tension:kb},step:{position:Db("start","middle","end")}},"interpolation line options"),yR={fills:ab(vb(2),Tb(rb({color:hb,stop:fb},"")),zb),fillMode:Db("continuous","discrete")},bR={value:eb(fb),text:yb,shape:sb(Db("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),db),placement:Db("before","after","middle"),spacing:Mb,size:Mb,rotation:fb,...Yb,...$b,...Kb},vR={value:eb(fb),text:yb,shape:sb(Db("circle","cross","diamond","heart","plus","pin","square","star","triangle","line"),db),placement:Db("inside","outside","middle"),spacing:Mb,size:Mb,rotation:fb,label:{...uR,spacing:Mb},...Yb,...$b,...Kb},xR={direction:Db("horizontal","vertical"),cornerMode:Db("container","item"),cornerRadius:Mb,thickness:Mb,segmentation:{enabled:ub,spacing:Mb,interval:{values:Tb(fb),step:fb,count:fb}},bar:{enabled:ub,thickness:Mb,thicknessRatio:kb,...yR,...Yb,...$b,...Kb},label:{...dR,text:yb,spacing:Mb,avoidCollisions:ub,placement:Db("inside-start","outside-start","inside-end","outside-end","inside-center","bar-inside","bar-inside-end","bar-outside-end","bar-end")},tooltip:gR,...Gx(sR,["listeners"])},SR={...xR,...Gx(lR,["listeners"]),type:eb(Ab("linear-gauge")),value:eb(fb),scale:{min:ab(fb,Ib("max")),max:ab(fb,Cb("min")),label:{enabled:ub,formatter:db,rotation:fb,spacing:Mb,minSpacing:Mb,placement:Db("before","after"),avoidCollisions:ub,format:oR,...nv},interval:{values:Tb(fb),step:fb},...yR,...Yb,...$b,...Kb},targets:Lb(bR,"target options array")};SR.margin=tb(fb),SR.defaultColorRange=tb(Tb(hb)),SR.defaultTarget=tb({...bR,value:fb,label:{...uR,spacing:fb}}),SR.defaultScale=tb(SR.scale),SR.scale.defaultFill=tb(hb);var MR={outerRadius:Mb,innerRadius:Mb,outerRadiusRatio:kb,innerRadiusRatio:kb,startAngle:fb,endAngle:fb,spacing:Mb,cornerMode:Db("container","item"),cornerRadius:Mb,scale:{min:ab(fb,Ib("max")),max:ab(fb,Cb("min")),label:{enabled:ub,formatter:db,rotation:fb,spacing:Mb,minSpacing:Mb,avoidCollisions:ub,format:oR,...nv},interval:{values:Tb(fb),step:fb},...yR,...Yb,...$b,...Kb},segmentation:{enabled:ub,spacing:Mb,interval:{values:Tb(fb),step:fb,count:fb}},bar:{enabled:ub,...yR,...Yb,...$b,...Kb},needle:{enabled:ub,spacing:Mb,radiusRatio:kb,...Yb,...$b,...Kb},label:{text:yb,spacing:Mb,...dR},secondaryLabel:{text:yb,...dR},tooltip:gR,...sR},wR={...MR,...lR,type:eb(Ab("radial-gauge")),value:eb(fb),targets:Lb(vR,"target options array")};wR.defaultColorRange=tb(Tb(hb)),wR.defaultTarget=tb({...vR,value:fb,label:{...uR,spacing:fb}}),wR.scale.defaultFill=tb(hb);var kR=Db("millisecond","second","minute","hour","day","month","year"),IR={unit:eb(kR),step:wb,epoch:pb,utc:ub};IR.every=db;var CR=rb(IR,"a time interval object"),DR={enabled:ub,text:yb,padding:fb,...nv},AR=Jy({enabled:ub,type:eb(Db("line","range")),range:ab(Jy((e,t)=>{let{options:n}=t;return"range"===n.type},"crossLine type to be 'range'"),Tb(gb),vb(2,2)),value:ab(Jy((e,t)=>{let{options:n}=t;return"line"===n.type},"crossLine type to be 'line'"),gb),label:DR,fill:hb,fillOpacity:kb,...$b,...Kb},"cross-line options"),TR={...AR,label:{...DR,position:Db("top","left","right","bottom","top-left","top-right","bottom-left","bottom-right","inside","inside-left","inside-right","inside-top","inside-bottom","inside-top-left","inside-bottom-left","inside-top-right","inside-bottom-right"),rotation:fb}},LR={enabled:ub,rotation:fb,avoidCollisions:ub,minSpacing:Mb,spacing:Mb,formatter:db,itemStyler:tb(Eb({...nv,...av,spacing:fb})),...nv,...av},NR={autoRotate:ub,autoRotateAngle:fb,wrapping:Db("never","always","hyphenate","on-space"),truncate:ub,...LR},ER={format:oR,...NR},OR={format:sb(yb,mb),...NR},RR={enabled:ub,width:Mb,size:Mb,stroke:hb},PR={enabled:ub,label:OR,tick:RR},jR={values:Tb(gb),minSpacing:Mb},zR={reverse:ub,gridLine:{enabled:ub,width:Mb,style:Lb({fill:hb,fillOpacity:Mb,stroke:sb(hb,Pb),strokeWidth:Mb,lineDash:Tb(Mb)},"a grid-line style object array")},interval:jR,label:LR,line:{enabled:ub,width:Mb,stroke:hb},tick:RR,context:()=>!0};zR.layoutConstraints=tb({stacked:eb(ub),align:eb(Db("start","end")),unit:eb(Db("percent","px")),width:eb(Mb)});var _R={...zR,keys:Tb(yb),crossLines:Lb(TR,"a cross-line options array"),position:Db("top","right","bottom","left"),thickness:Mb,maxThicknessRatio:kb,title:{enabled:ub,text:yb,spacing:Mb,formatter:db,...nv}};_R.title._enabledFromTheme=tb(ub);var BR={enabled:ub,...Yb,...$b,...Kb};function FR(e,t){const n={enabled:ub,xOffset:fb,yOffset:fb,formatter:Nb(yb),renderer:Nb(sb(yb,rb({text:yb,color:hb,backgroundColor:hb,opacity:kb},"crosshair label renderer result object")))};let i;return e&&(i={...n,format:t?sb(yb,rb({millisecond:yb,second:yb,hour:yb,day:yb,month:yb,year:yb})):yb}),{enabled:ub,snap:ub,label:i??n,...$b,...Kb}}function $R(e,t){return{min:ab(e,Ib("max")),max:ab(e,Cb("min")),nice:ub,interval:{step:t?sb(wb,kR,CR):wb,values:Tb(e),minSpacing:ab(Mb,Ib("maxSpacing")),maxSpacing:ab(Mb,Cb("minSpacing"))}}}var VR={step:sb(wb,kR,CR),values:Tb(sb(fb,pb)),minSpacing:ab(Mb,Ib("maxSpacing")),maxSpacing:ab(Mb,Cb("minSpacing")),placement:Db("on","between")},GR=class e extends IL{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new PT,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(e,t),this.groupPaddingInner=.1,this.includeInvisibleDomains=n,this.nice=!1}static is(t){return t instanceof e}isCategoryLike(){return!0}hasDefinedDomain(){return!1}normaliseDataDomain(e){return{domain:e,clipped:!1}}updateScale(){super.updateScale();let{paddingInner:e,paddingOuter:t}=this;if(!Ey(e)||!Ey(t)){const n=this.reduceBandScalePadding();e??(e=n.inner),t??(t=n.outer)}this.scale.paddingInner=e??0,this.scale.paddingOuter=t??0}calculateGridLines(e,t,n){const i=super.calculateGridLines(e,t,n);return"between"===this.interval.placement&&e.length>0&&i.push(super.calculateGridLine({index:e.at(-1).index+1,tickId:`after:${e.at(-1).tickId}`,translation:this.range[1]},e.length,t,n,e)),i}calculateGridLine(e,t,n,i,r){let{index:o,tickId:a,translation:s}=e;const{gridLine:l,horizontal:c,interval:u,scale:d}=this;if("between"!==u.placement)return super.calculateGridLine({index:o,tickId:a,translation:s},t,n,i,r);const h=s-(s<d.step?Math.floor(d.step/2):d.step/2),[p,g,f,m]=c?[h,Math.max(n,i),h,Math.min(n,i)]:[Math.min(n,i),h,Math.max(n,i),h],{style:y}=l,{stroke:b,strokeWidth:v=0,lineDash:x}=y[o%y.length]??{};return{tickId:a,offset:h,x1:p,y1:g,x2:f,y2:m,stroke:b,strokeWidth:v,lineDash:x}}calculateGridFills(e,t,n){const{horizontal:i,range:r,scale:o}=this;if("between"!==this.interval.placement)return super.calculateGridFills(e,t,n);const a=[];if(0==e.length)return a;const s=e[0],l=s.translation>r[0]+o.step/2,c=e[e.length-1],u=i&&c.translation<r[1]-o.step/2;if(l){const i={tickId:`before:${s.tickId}`,translation:s.translation-o.step};a.push(this.calculateGridFill(i,-1,s.index-1,t,n,e))}if(a.push(...e.map((i,r)=>this.calculateGridFill(i,r,i.index,t,n,e))),u){const i={tickId:`after:${c.tickId}`,translation:c.translation+o.step};a.push(this.calculateGridFill(i,e.length,c.index+1,t,n,e))}return a}calculateGridFill(e,t,n,i,r,o){let{tickId:a,translation:s}=e;const{gridLine:l,horizontal:c,interval:u,scale:d}=this;if("between"!==u.placement)return super.calculateGridFill({tickId:a,translation:s},t,n,i,r,o);const h=s-d.step/2,p=s+d.step/2,[g,f,m,y]=c?[h,Math.max(i,r),p,Math.min(i,r)]:[Math.min(i,r),h,Math.max(i,r),p],{fill:b,fillOpacity:v}=l.style[n%l.style.length]??{};return{tickId:a,x1:g,y1:f,x2:m,y2:y,fill:b,fillOpacity:v}}calculateTickLines(e,t){const n=super.calculateTickLines(e,t);return"between"===this.interval.placement&&e.length>0&&n.push(super.calculateTickLine({primary:!1,tickId:`after:${e.at(-1)?.tickId}`,translation:this.range[1]},e.length,t,e)),n}calculateTickLine(e,t,n,i){let{primary:r,tickId:o,translation:a}=e;const{horizontal:s,interval:l,primaryTick:c,scale:u,tick:d}=this;if("between"!==l.placement)return super.calculateTickLine({primary:r,tickId:o,translation:a},t,n,i);const h=r&&c?.enabled?c:d,p=-n*this.getTickSize(h),g=a-(a<u.step?Math.floor(u.step/2):u.step/2),[f,m,y,b]=s?[g,0,g,p]:[0,g,p,g],{stroke:v,width:x}=h;return{tickId:o,offset:g,x1:f,y1:m,x2:y,y2:b,stroke:v,strokeWidth:x,lineDash:void 0}}reduceBandScalePadding(){return this.boundSeries.reduce((e,t)=>{const n=t.getBandScalePadding?.();return n&&(e.inner>n.inner&&(e.inner=n.inner),e.outer<n.outer&&(e.outer=n.outer)),e},{inner:1/0,outer:-1/0})}tickFormatParams(e,t,n,i){return{type:"category"}}datumFormatParams(e,t,n,i,r){const{datum:o,seriesId:a,legendItemName:s,key:l,source:c,property:u,domain:d,boundSeries:h}=t;return Array.isArray(e)&&e.some(e=>"string"!==typeof e)?e=e.map(String):Array.isArray(e)||"string"===typeof e||"number"===typeof e||e instanceof Date||(e=String(e)),{type:"category",value:e,datum:o,seriesId:a,legendItemName:s,key:l,source:c,property:u,domain:d,boundSeries:h}}};GR.className="CategoryAxis",GR.type="category",px([zS],GR.prototype,"groupPaddingInner",2),px([zS],GR.prototype,"paddingInner",2),px([zS],GR.prototype,"paddingOuter",2);var WR=GR,HR=class e extends PT{static is(t){return t instanceof e}normalizeDomains(){const{domain:e}=super.normalizeDomains(...arguments);return{domain:e,animatable:!1}}findIndex(e){return super.findIndex(e)??this.getMatchIndex(e)}getMatchIndex(e){const t=JSON.stringify(e),n=this._domain.find(e=>JSON.stringify(e)===t);if(null!=n)return super.findIndex(n)}};function UR(e){if(0===e.length)return null;let t=1/0,n=-1/0;for(const r of e){const e=r instanceof Date?r.getTime():r;"number"===typeof e&&(e<t&&(t=e),e>n&&(n=e))}const i=[t,n];return i.every(isFinite)?i:null}function YR(e,t,n){let i=!1;const r=UR(e);if(null==r)return{extent:null!=t&&null!=n&&t<=n?[t,n]:[],clipped:!1};let[o,a]=r;return null!=t&&(i||(i=t>o),o=t),null!=n&&(i||(i=n<a),a=n),o>a?{extent:[],clipped:!1}:{extent:[o,a],clipped:i}}function KR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];for(const n of e)"number"===typeof n&&(n<0&&(t[0]+=n),n>0&&(t[1]+=n));return t}function ZR(e,t){const n={id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:e=>KR(e)};return n}function XR(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:e=>KR(e),groupAggregateFunction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t}}}function qR(e,t){const n={id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:e=>ID.extendDomain(e)};return n}function QR(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];return t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t}}}function JR(e,t){const n={id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:e=>KR(e),groupAggregateFunction:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,-1];return t[0]+=e?.[0]??0,t[1]+=e?.[1]??0,t[2]++,t},finalFunction:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];const t=e[0]+e[1];return t>=0?[0,t/e[2]]:[t/e[2],0]}};return n}function eP(e,t,n){const i={id:e,matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=n[1]-n[0];return t.aggregateFunction(e).map(e=>e/i)}};return t.groupAggregateFunction&&(i.groupAggregateFunction=t.groupAggregateFunction),i}function tP(e){return()=>{let t=0;return n=>Ey(n)?(t+=e?Math.max(0,n):n,t):n}}function nP(){return()=>{let e=0;return t=>{if(!Ey(t))return t;const n=e;return e+=t,n}}}function iP(e){return e.input.count<=1e3}function rP(e){return null!=e&&eT(e)}function oP(e){return null!=e}function aP(e){switch(e){case"number":case"log":case"time":case"unit-time":case"ordinal-time":case"color":return rP;default:return oP}}function sP(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function lP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:e,type:"key",valueType:sP(t),validation:aP(t),...n}}function cP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{property:e,type:"value",valueType:sP(t),validation:aP(t),...n}}function uP(e){return{property:e,type:"value",valueType:"range",missingValue:1,processor:()=>()=>1,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}var dP=function(e){return e};function hP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.filter(e=>null!=e);return 0===i.length?()=>dP:1===i.length?i[0]:()=>{const e=i.map(e=>e());return(t,n)=>e.reduce((e,t)=>t(e,n),t)}}function pP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{min:n=-1/0,max:i=1/0,processor:r,...o}=t;return{type:"value",property:e,valueType:"range",validation:rP,processor:hP(r,()=>e=>Ey(e)?Ev(n,e,i):e),...o}}function gP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{onlyPositive:i,processor:r,...o}=n;return{...cP(e,t,o),processor:hP(r,tP(i))}}function fP(e,t){return{...cP(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),processor:nP()}}function mP(e,t,n,i,r){return[cP(e,r,i),TP(i.groupId,t,n,i.separateNegative),...null!=i.rangeId?[qR(i.rangeId,i.groupId)]:[]]}function yP(e,t,n){return[cP(e,t,n),NP(n.groupId)]}var bP={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,n=arguments.length>1?arguments[1]:void 0;const i="number"===typeof n[0]?n[0]:Number(n[0]),r=Math.abs(i-e);return e=i,!isNaN(r)&&r>0&&r<t?r:t}}},vP={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1/0,n=arguments.length>1?arguments[1]:void 0;const i="number"===typeof n[0]?n[0]:Number(n[0]),r=Math.abs(i-e);return e=i,!isNaN(r)&&r>0&&r>t?r:t}}},xP={type:"processor",property:"sortedGroupDomain",calculate:e=>{let{domain:{groups:t}}=e;return t?.slice().sort((e,t)=>{for(let n=0;n<e.length;n++){const i=e[n]-t[n];if(0!==i)return i}return 0})}};function SP(e){let{normaliseTo:t}=e;const n=(e,n)=>{if(0===n)return null;const i=(e??0)*t/n;return i>=0?Math.min(t,i):Math.max(-t,i)};return()=>()=>(e,t,i)=>{const r=function(e,t,n){const i=[0,0];for(const r of t){const t=e[r],o=n.datumIndices[r];if(null!=o)for(const e of o){const n=t[e];if(null==n)continue;const r="number"===typeof n?n:Math.max(...n.map(e=>e??0)),o=r<0?0:1;i[o]=0===o?Math.min(i[o],r):Math.max(i[o],r)}}return Math.max(Math.abs(i[0]),i[1])}(e,t,i);for(const o of t){const t=i.datumIndices[o];if(null!=t)for(const i of t){const t=e[o],a=t[i];null!=a?t[i]="number"===typeof a?n(a,r):a.map(e=>n(e,r)):t[i]=void 0}}}}function MP(e,t){return{type:"group-value-processor",matchGroupIds:e,adjust:NI({normaliseTo:t},SP)}}function wP(e){let{normaliseTo:t,zeroDomain:n,rangeMin:i,rangeMax:r}=e;const o=t[1]-t[0],a=(e,i,r)=>{const a=t[0]+(e-i)/r*o;return 0===r?n:a>=t[1]?t[1]:a<t[0]?t[0]:a};return()=>(e,n)=>{let[o,s]=e.domain.values[n];null!=i&&(o=i),null!=r&&(s=r);const l=s-o;e.domain.values[n]=[t[0],t[1]];const c=e.columns[n];for(let t=0;t<c.length;t+=1)c[t]=a(c[t],o,l)}}function kP(e,t,n,i,r){return{type:"property-value-processor",property:e,adjust:NI({normaliseTo:t,rangeMin:i,rangeMax:r,zeroDomain:n},wP)}}function IP(e,t,n,i){let r=3;if("category"===t.valueType)return n.length<e&&(r&=-2),r;let o=i[0]?.valueOf();for(let a=1;0!==r&&a<i.length;a++){const e=i[a]?.valueOf();(!Number.isFinite(e)||o>e)&&(r&=-3),Number.isFinite(e)&&o===e&&(r&=-2),o=e}return r}function CP(e){return{type:"processor",property:"animationValidation",calculate(t){if(!iP(t))return;const{keys:n,values:i}=t.defs,{input:r,domain:{keys:o,values:a},keys:s,columns:l,invalidKeyCount:c}=t;let u=3;if(0!==r.count){for(let e=0;0!==u&&e<n.length;e++)for(const t of n[e].scopes){const i=s[e].get(t),r=c?.get(t)??0;u&=IP(i.length-r,n[e],o[e],i)}for(let t=0;0!==u&&t<i.length;t++){const n=i[t];e?.includes(n.id)&&(u&=IP(0,n,a[t],l[t]))}}return{uniqueKeys:0!==(1&u),orderedKeys:0!==(2&u)}}}}function DP(e){let{mode:t,separateNegative:n}=e;return()=>()=>(e,i,r)=>{const o=[0,0];for(const a of i){const i=r.datumIndices[a];if(null!=i)for(const r of i){const i=e[a],s=i[r],l=Rv(s)&&n?0:1;Ey(s)&&("normal"===t&&(o[l]+=s),i[r]=o[l],"trailing"===t&&(o[l]+=s))}}}}function AP(e){let{mode:t,sum:n}=e;return()=>{const e=[];let i=!0;return()=>(r,o,a)=>{let s=0;for(const l of o){const o=r[l],c=a.datumIndices[l];if(null!=c)for(const r of c){const a=o[r],c=i&&"current"===n?0:e[l];e[l]=a;const u="current"===n?a:c;Ey(a)&&Ey(c)?("normal"===t&&(s+=u),o[r]=s,"trailing"===t&&(s+=u)):o[r]=s}}i=!1}}}function TP(e,t,n){let i,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(t.startsWith("window")){i=NI({mode:t.endsWith("-trailing")?"trailing":"normal",sum:n},AP)}else i=NI({mode:t,separateNegative:r},DP);return{type:"group-value-processor",matchGroupIds:[e],adjust:i}}function LP(){return()=>(e,t,n)=>{const i=new Float64Array(t.length);let r=0;for(const o of t){const t=e[o],a=n.datumIndices[o];if(null!=a)for(const e of a){const n=t[e];i[r]=Number.isFinite(n)?n:NaN,r+=1,t[e]=i.subarray(0,r)}}}}function NP(e){return{type:"group-value-processor",matchGroupIds:[e],adjust:LP}}function EP(e){return e.id??e.property}function OP(e,t,n,i,r){for(const{previousIndex:o,nextIndex:a}of n){const n=e[o],s=t[a];if(n[i]!==s[r])return!1}return!0}function RP(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:"processor",property:"diff",calculate(i,r){if(!iP(i))return;const o=new Map,a=new Map,s=new Map,l=new Map,c=t.keys,u=i.keys,d=t.columns,h=i.columns,p=function(e,t,n){const i=new Map,r=t.defs.values;for(let s=0;s<r.length;s+=1){const t=r[s];if(!1===t.scopes?.includes(e))continue;const n=EP(t);if(i.has(n))return;i.set(n,s)}const o=[],a=n.defs.values;for(let s=0;s<a.length;s+=1){const t=a[s];if(!1===t.scopes?.includes(e))continue;const n=EP(t),r=i.get(n);if(null==r)return;i.delete(n),o.push({previousIndex:r,nextIndex:s})}if(0===i.size)return o}(e,t,i);if(null==p)return r;const g=Math.max(t.input.count,i.input.count);for(let m=0;m<g;m++){const r=m<t.input.count,g=m<i.input.count,f=r?jD(c,e,m):void 0,y=null!=f?PP(f):"",b=g?jD(u,e,m):void 0,v=null!=b?PP(b):"";if(g&&r&&y===v){OP(d,h,p,m,m)||s.set(v,m);continue}const x=l.get(v);null!=x?(!n&&OP(d,h,p,x,m)||(s.set(v,m),o.set(v,m)),l.delete(v)):g&&a.set(v,m);const S=a.get(y);null!=S?(!n&&OP(d,h,p,S,m)||(s.set(y,m),o.set(y,m)),a.delete(y)):r&&(s.delete(y),l.set(y,m))}const f={changed:a.size>0||s.size>0||l.size>0,added:new Set(a.keys()),updated:new Set(s.keys()),removed:new Set(l.keys()),moved:new Set(o.keys())};return{...r,[e]:f}}}}function PP(e){let t;t=My(e)?e.map(e=>tT(e)).join("___"):tT(e);const n="string"===typeof t||"number"===typeof t||"boolean"===typeof t||t instanceof Date;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return n&&r.length>0&&(t+=`___${r.join("___")}`),t}var jP=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){e>this.right&&(this.right=e),e<this.left&&(this.left=e),t>this.bottom&&(this.bottom=t),t<this.top&&(this.top=t)}},zP=class e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.label=e,this.parent=t,this.refId=n,this.position=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.index=0,this.screen=0,this.depth=t?t.depth+1:0}insertTick(t,n){let i=this;for(let r=0;r<t.length;r++){const o=t[r],a=r!==t.length-1,{children:s}=i,l=s.find(e=>e.label===o);if(l&&a)i=l;else{const t=new e(o,i,n);t.index=s.length,s.push(t),a&&(i=t)}}}getLeftSibling(){return this.index>0?this.parent?.children[this.index-1]:void 0}getLeftmostSibling(){return this.index>0?this.parent?.children[0]:void 0}nextLeft(){return this.children[0]}nextRight(){return this.children.at(-1)}getSiblings(){return this.parent?.children.filter((e,t)=>t!==this.index)??[]}};function _P(e,t,n){const i=n/(t.index-e.index);t.change-=i,t.shift+=n,e.change+=i,t.prelim+=n,t.mod+=n}function BP(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}function FP(e,t){const n=e.getLeftSibling();if(n){let i=e,r=e,o=n,a=r.getLeftmostSibling(),s=r.mod,l=i.mod,c=o.mod,u=a.mod;for(;o.nextRight()&&r.nextLeft();){o=o.nextRight(),r=r.nextLeft(),a=a.nextLeft(),i=i.nextRight(),i.ancestor=e;const n=o.prelim+c-(r.prelim+s)+1;n>0&&(_P(BP(o,e,t),e,n),s+=n,l+=n),c+=o.mod,s+=r.mod,u+=a.mod,l+=i.mod}o.nextRight()&&!i.nextRight()?i.mod+=c-l:(r.nextLeft()&&!a.nextLeft()&&(a.mod+=s-u),t=e)}return t}function $P(e){const{children:t}=e;if(t.length){let[n]=t;for(const e of t)$P(e),n=FP(e,n);!function(e){let{children:t}=e,n=0,i=0;for(let r=t.length-1;r>=0;r--){const e=t[r];e.prelim+=n,e.mod+=n,i+=e.change,n+=e.shift+i}}(e);const i=(t[0].prelim+t.at(-1).prelim)/2,r=e.getLeftSibling();r?(e.prelim=r.prelim+1,e.mod=e.prelim-i):e.prelim=i}else{const t=e.getLeftSibling();e.prelim=t?t.prelim+1:0}}function VP(e,t,n){e.position=e.prelim+t,n.insertNode(e);for(const i of e.children)VP(i,t+e.mod,n)}function GP(e){const{children:t}=e;let n=0;for(const i of t)GP(i),i.children.length?n+=i.leafCount:n++;e.leafCount=n,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[t.length-1].subtreeRight,e.position=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.position,e.subtreeRight=e.position)}function WP(e){const t=new HP,n=function(e){const t=e.reduce((e,t)=>e<t.length?t.length:e,0),n=new zP;for(let i=0;i<e.length;i++){const r=e[i];for(;r.length<t;)r.push("");n.insertTick(r,i)}return n}(e);return $P(n),VP(n,-n.prelim,t),GP(n),t}var HP=class{constructor(){this.dimensions=new jP,this.nodes=[],this.depth=0}insertNode(e){this.depth<e.depth&&(this.depth=e.depth),this.dimensions.update(e.position,e.depth),this.nodes.push(e)}scaling(e,t){let n=1;if(e>0){const{left:t,right:i}=this.dimensions;i!==t&&(n=e/(i-t))}return t&&(n*=-1),n}},UP=class extends _S{constructor(){super(...arguments),this.enabled=!0,this.border=new KA}};px([zS],UP.prototype,"enabled",2),px([zS],UP.prototype,"avoidCollisions",2),px([zS],UP.prototype,"border",2),px([zS],UP.prototype,"color",2),px([zS],UP.prototype,"cornerRadius",2),px([zS],UP.prototype,"spacing",2),px([zS],UP.prototype,"rotation",2),px([zS],UP.prototype,"wrapping",2),px([zS],UP.prototype,"truncate",2),px([zS],UP.prototype,"fill",2),px([zS],UP.prototype,"fontStyle",2),px([zS],UP.prototype,"fontWeight",2),px([zS],UP.prototype,"fontSize",2),px([zS],UP.prototype,"fontFamily",2),px([zS],UP.prototype,"padding",2);var YP=class extends _S{constructor(){super(...arguments),this.enabled=!0}};px([zS],YP.prototype,"enabled",2),px([zS],YP.prototype,"width",2),px([zS],YP.prototype,"stroke",2);var KP=class extends _S{constructor(){super(...arguments),this.label=new UP,this.tick=new YP}};px([zS],KP.prototype,"label",2),px([zS],KP.prototype,"tick",2);var ZP=class extends WR{constructor(e){super(e,new HR),this.tickScale=new HR,this.depthOptions=new BS(KP),this.includeInvisibleDomains=!0,this.tickScale.paddingInner=1,this.tickScale.paddingOuter=0}resizeTickTree(){if(!this.tickTreeLayout)return;const{nodes:e}=this.tickTreeLayout,{range:t,step:n,inset:i,bandwidth:r}=this.scale,o=Math.abs(t[1]-t[0])-n,a=this.tickTreeLayout.scaling(o,t[0]>t[1]),s=i+r/2;let l=0;for(const c of e){const e=c.position*a;l>e&&(l=e),c.screen=e+s}for(const c of e)c.screen-=l}getDepthOptionsMap(e){const t=[],{depthOptions:n,label:i}=this,r=this.horizontal?0:-90;for(let o=0;o<e;o++)t.push(n[o]?.label.enabled??i.enabled?{enabled:!0,spacing:n[o]?.label.spacing??i.spacing,wrapping:n[o]?.label.wrapping??i.wrapping,truncate:n[o]?.label.truncate??i.truncate,rotation:n[o]?.label.rotation??(o?r:i.rotation),avoidCollisions:n[o]?.label.avoidCollisions??i.avoidCollisions}:{enabled:!1,spacing:0,rotation:0,avoidCollisions:!1});return t}updateCategoryLabels(){this.computedLayout&&this.tickLabelGroupSelection.update(this.computedLayout.tickLabelLayout).each((e,t)=>{e.fill=t.color,e.text=t.text,e.textBaseline=t.textBaseline,e.textAlign=t.textAlign??"center",e.setFont(t),e.setBoxing(t)})}updateAxisLine(){this.computedLayout&&(this.lineNode.visible=this.line.enabled,this.lineNode.stroke=this.line.stroke,this.lineNode.strokeWidth=this.line.width)}computeLayout(){this.updateDirection(),this.updateScale();const{step:e}=this.scale,{title:t,label:n,range:i,depthOptions:r,horizontal:o,line:a}=this;if(this.lineNode.datum=o?{x1:i[0],x2:i[1],y1:0,y2:0}:{x1:0,x2:0,y1:i[0],y2:i[1]},this.lineNode.setProperties({stroke:a.stroke,strokeWidth:a.enabled?a.width:0}),this.resizeTickTree(),!this.tickTreeLayout?.depth)return{bbox:Sx.zero,spacing:0,separatorLayout:[],tickLabelLayout:[]};const{depth:s,nodes:l}=this.tickTreeLayout,c=o?-n.getSideFlag():n.getSideFlag(),u=[],d=new Map,h=new Qw,p=this.getDepthOptionsMap(s),g=c*p[0].spacing,f=this.tickFormatter(this.scale.domain,this.scale.domain,!1),m=(t,a)=>{const l=s-t.depth;if(!p[l]?.enabled||!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-10;return e>=t[0]-n&&e<=t[1]+n}(t.screen,i))return!1;let c=f(t.label,a-1);const u=this.getLabelStyles({value:c,depth:l},r[l]?.label);if(n.avoidCollisions){const n=p[l].rotation;let i=(t.leafCount||1)*e,r=this.thickness;if(null!=n){const e=function(e,t){const n=t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=e%180*(Math.PI/180),o=Math.abs(Math.sin(r)),a=Math.abs(Math.cos(r));if(0===o)return{width:n,height:i};if(0===a)return{width:i,height:n};if(!isFinite(i)){const e=a/o,t=n/(a+e*o);return{width:t,height:e*t}}const s=a*a-o*o;if(0===s){const e=Math.min(n,i)/Math.SQRT2;return{width:e,height:e}}return{width:Math.abs((n*a-i*o)/s),height:Math.abs((i*a-n*o)/s)}}(n,i,r);i=e.width,r=e.height}c=Jw.wrapText(c,{font:u,textWrap:p[l].wrapping,overflow:p[l].truncate?"ellipsis":"hide",maxWidth:i,maxHeight:r})||c}return h.x=o?t.screen:g,h.y=o?g:t.screen,h.rotation=0,h.lineHeight=Nw.getLineHeight(u.fontSize),h.fill=u.color,h.text=c,h.textAlign="center",h.textBaseline=n.parallel?"top":"bottom",h.setFont(u),h.setBoxing(u),!0},y={};l.forEach((e,t)=>{const n=s-e.depth;y[n]??(y[n]=0);if(!m(e,t)||!h.getBBox())return;d.set(t,h.getBBox()),h.rotation=xS(p[n]?.rotation);const{width:i,height:r}=h.getBBox(),a=o?r:i;y[n]<a&&(y[n]=a)});const b=mL(),v=new Map;l.forEach((t,i)=>{if(0===i)return;const r=m(t,i),a=!t.children.length,l=s-t.depth;if(t.parent){const e=a?t.position:t.position-(t.leafCount-1)/2;if(!v.has(e)){const t=this.depthOptions[l]?.tick;let n=y[0];for(let e=0;e<=l;e++)n+=p[e].spacing,0!==e&&(n+=y[e]);v.set(e,{tickSize:n,tickStroke:t?.stroke,tickWidth:!1!==t?.enabled?t?.width:0})}}if(!r)return;const g=xS(p[l].rotation),{width:f,height:x}=d.get(i),S=(e=>{if(0===e)return 0;let t=y[0];for(let n=1;n<=e;n++)t+=p[n].spacing,n!==e&&(t+=y[n]);return t})(l);if(h.textAlign="center",h.textBaseline="middle",h.rotation=g,o?(h.y+=(S+vS(f/2,x/2,g))*c,h.rotationCenterX=t.screen,h.rotationCenterY=h.y):(h.x+=S*c+vS((p[l].spacing*c+f)/2,n.mirrored?f:0,g)-f/2,h.rotationCenterX=h.x,h.rotationCenterY=t.screen),p[l].avoidCollisions){const{width:n,height:r}=h.getBBox();if((o?n:r)>(a?e:t.leafCount*e))return void d.delete(i)}const M=h.getPlainText(),w=h.getBoxingProperties();u.push({text:M,visible:!0,tickId:b(M),range:this.scale.range,border:w.border,color:h.fill,cornerRadius:w.cornerRadius,fill:w.fill,fontFamily:h.fontFamily,fontSize:h.fontSize,fontStyle:h.fontStyle,fontWeight:h.fontWeight,padding:w.padding,rotation:h.rotation,rotationCenterX:h.rotationCenterX,rotationCenterY:h.rotationCenterY,textAlign:h.textAlign,textBaseline:h.textBaseline,x:h.x,y:h.y}),d.set(i,OM.toCanvas(h))});const x=[...v.values()];x.push(x[0]);const S=[this.lineNodeBBox(),Sx.merge(d.values()),new Sx(0,0,x[0].tickSize*c,0)];let M=0;if(t.enabled){const e=Sx.merge(S);M=o?e.height:e.width,S.push(this.titleBBox(this.scale.domain,M))}const w=Sx.merge(S);return this.layoutCrossLines(),{bbox:w,spacing:M,separatorLayout:x,tickLabelLayout:u}}update(){if(!this.computedLayout)return;this.moduleCtx.animationManager.skipCurrentBatch();const{tickScale:e,tick:t,gridLine:n,gridLength:i}=this,{separatorLayout:r,spacing:o}=this.computedLayout,{position:a,horizontal:s,gridPadding:l}=this,c="bottom"===a||"right"===a?-1:1,u=l,d=c*i-l,h=e.ticks({nice:!1,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0}).ticks.map((t,n)=>({index:n,tickId:PP(t,n),translation:Math.round(e.convert(t))}));this.gridLineGroupSelection.update(n.enabled&&i?this.calculateGridLines(h,u,d):[]),this.gridFillGroupSelection.update(n.enabled&&i?this.calculateGridFills(h,u,d):[]),this.tickLineGroupSelection.update(t.enabled?h.map((e,n)=>{let{tickId:i,translation:o}=e;const{tickSize:a=this.getTickSize(),tickStroke:l=t.stroke,tickWidth:u=t.width}=r[n]??{},d=-c*a,[h,p,g,f]=s?[o,o,0,d]:[0,d,o,o];return{tickId:i,offset:o,x1:h,y1:g,x2:p,y2:f,stroke:l,strokeWidth:u,lineDash:void 0}}):[]),this.updatePosition(),this.updateCategoryLabels(),this.updateAxisLine(),this.updateGridLines(),this.updateGridFills(),this.updateTickLines(),this.updateTitle(this.scale.domain,o),this.updateCrossLines(),this.resetSelectionNodes()}calculateLayout(){const{separatorLayout:e,tickLabelLayout:t,spacing:n,bbox:i}=this.computeLayout();return this.computedLayout={separatorLayout:e,tickLabelLayout:t,spacing:n},{bbox:i,niceDomain:this.scale.domain}}onGridVisibilityChange(){super.onGridVisibilityChange(),this.tickLabelGroupSelection.clear()}updateScale(){super.updateScale(),this.tickScale.range=this.scale.range,this.scale.paddingOuter=this.scale.paddingInner/2}processData(){const{direction:e}=this,t=this.boundSeries.filter(e=>e.visible).flatMap(t=>t.getDomain(e));this.dataDomain={domain:UR(t)??this.filterDuplicateArrays(t),clipped:!1},this.isReversed()&&this.dataDomain.domain.reverse();const n=this.dataDomain.domain.map(e=>sv(Cy(e)&&"value"in e?e.value:e));this.tickTreeLayout=WP(n);const i=[];for(const r of this.tickTreeLayout.nodes)r.leafCount||null==r.refId||i.push(this.dataDomain.domain[r.refId]);this.scale.domain=function(e,t){const n=new Map;return t.forEach((e,t)=>{n.set(e,t)}),e.sort((e,t)=>(n.get(e)??1/0)-(n.get(t)??1/0))}(this.dataDomain.domain,i),this.tickScale.domain=n.concat([[""]])}filterDuplicateArrays(e){const t=new Set;return e.filter(e=>{const n=My(e)?JSON.stringify(e):e;return!t.has(n)&&(t.add(n),!0)})}};ZP.className="GroupedCategoryAxis",ZP.type="grouped-category",px([zS],ZP.prototype,"depthOptions",2);var XP={2:(e,t)=>Math.log2(t),[Math.E]:(e,t)=>Math.log(t),10:(e,t)=>Math.log10(t)},qP=(e,t)=>Math.log(t)/Math.log(e);function QP(e,t,n){const i=Math.min(...t),r=XP[e]??qP;return i>=0?r(e,n):-r(e,-n)}var JP={[Math.E]:(e,t)=>Math.exp(t),10:(e,t)=>t>=0?10**t:1/10**-t},ej=(e,t)=>e**t;function tj(e,t,n){const i=Math.min(...t),r=JP[e]??ej;return i>=0?r(e,n):-r(e,-n)}var nj=class e extends HC{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1,10],arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1]),this.type="log",this.defaultClamp=!0,this.base=10,this.log=e=>QP(this.base,this.domain,e),this.pow=e=>tj(this.base,this.domain,e)}static is(t){return t instanceof e}transform(e){const[t,n]=FC(this.domain);return t>=0!==n>=0?NaN:t>=0?Math.log(e):-Math.log(-e)}transformInvert(e){const[t,n]=FC(this.domain);return t>=0!==n>=0?NaN:t>=0?Math.exp(e):-Math.exp(-e)}toDomain(e){return e}niceDomain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.domain;if(t.length<2)return[];const{base:n}=this,[i,r]=t,o=i>r?Math.ceil:Math.floor,a=i>r?Math.floor:Math.ceil;return[tj(n,t,o(QP(n,t,i))),tj(n,t,a(QP(n,t,r)))]}ticks(e){let{interval:t,tickCount:n=HC.defaultTickCount}=e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.domain,r=arguments.length>2?arguments[2]:void 0;if(!i||i.length<2||n<1)return;const o=this.base,[a,s]=i,l=Math.min(a,s),c=Math.max(a,s);let u=this.log(l),d=this.log(c);if(t){const e=e=>e>=l&&e<=c,n=Math.min(Math.abs(t),Math.abs(d-u)),{ticks:i,count:o,firstTickIndex:a}=eL(u,d,n,r),s=i.map(this.pow).filter(e);if(!tL(s.length,this.getPixelRange()))return{ticks:s,count:o,firstTickIndex:a}}if(o%1!==0||d-u>=n){const e=Math.min(d-u,n),{ticks:t,count:i,firstTickIndex:o}=UT(u,d,e,void 0,void 0,r);return{ticks:t.map(this.pow),count:i,firstTickIndex:o}}const h=[],p=l>0;u=Math.floor(u)-1,d=Math.round(d)+1;const g=$C(this.range)/n;let f=1/0;for(let m=u;m<=d;m++){const e=this.convert(this.pow(m+1));for(let t=1;t<o;t++){const n=p?t:o-t+1,i=this.pow(m)*n,r=this.convert(i),a=Math.abs(f-r),s=Math.abs(r-e);i>=l&&i<=c&&(1===t||a>=g&&s>=g||0===h.length)&&(h.push(i),f=r)}}return RT(h,p,r)}},ij=class e extends HC{constructor(){super([0,1],[0,1]),this.type="number"}static is(t){return t instanceof e}static getTickStep(e,t,n){const{interval:i,tickCount:r=HC.defaultTickCount,minTickCount:o,maxTickCount:a}=n;return i??qT(e,t,r,o,a)}toDomain(e){return e}ticks(e){let{interval:t,tickCount:n=HC.defaultTickCount,minTickCount:i,maxTickCount:r}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.domain,a=arguments.length>2?arguments[2]:void 0;if(!o||o.length<2||n<1||!o.every(isFinite))return{ticks:[],count:0,firstTickIndex:0};const[s,l]=o;if(t){const e=Math.abs(t);if(!tL((l-s)/e,this.getPixelRange()))return eL(s,l,e,a)}return UT(s,l,n,i,r,a)}niceDomain(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.domain;if(n.length<2)return[];const{tickCount:i=HC.defaultTickCount}=t;let[r,o]=n;if(1===i)[r,o]=nL(r,o);else if(i>1){const i=r>o?Math.ceil:Math.floor,a=r>o?Math.floor:Math.ceil,s=4;for(let l=0;l<s;l++){const s=r,l=o,c=e.getTickStep(r,o,t),[u,d]=n;if(r=i(u/c)*c,o=a(d/c)*c,r===s&&o===l)break}}return[r,o]}},rj=class extends IL{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ij)}hasDefinedDomain(){const{min:e,max:t}=this;return null!=e&&null!=t&&e<t}normaliseDataDomain(e){const{min:t,max:n}=this,{extent:i,clipped:r}=YR(e,t,n);return{domain:i,clipped:r}}createDatumFormatter(e,t){const{format:n}=this.label;return"number"===typeof n?JT(t,n):void 0}tickFormatParams(e,t,n){return{type:"number",fractionDigits:n}}datumFormatParams(e,t,n){const{datum:i,seriesId:r,legendItemName:o,key:a,source:s,property:l,domain:c,boundSeries:u}=t;return{type:"number",value:e,datum:i,seriesId:r,legendItemName:o,key:a,source:s,property:l,domain:c,boundSeries:u,fractionDigits:n}}};rj.className="NumberAxis",rj.type="number",px([zS],rj.prototype,"min",2),px([zS],rj.prototype,"max",2);var oj=class extends rj{normaliseDataDomain(e){const{min:t,max:n}=this,{extent:i,clipped:r}=YR(e,t,n);return i[0]<0&&i[1]>0||e[0]<0&&e[1]>0?(Gm.warn("The log axis domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:r}):0===i[0]||0===i[1]||0===e[0]||0===e[1]?(Gm.warn("The log axis domain contains a value of 0, the chart data cannot be rendered. See log axis documentation for more information."),{domain:[],clipped:r}):{domain:i,clipped:r}}set base(e){this.scale.base=e}get base(){return this.scale.base}constructor(e){super(e,new nj)}};oj.className="LogAxis",oj.type="log";var aj=class extends _S{constructor(){super(...arguments),this.enabled=!1,this.label=new hT,this.tick=new gT}};px([zS],aj.prototype,"enabled",2),px([zS],aj.prototype,"label",2),px([zS],aj.prototype,"tick",2);var sj=class extends IL{constructor(e){super(e,new oL),this.parentLevel=new aj,this.min=void 0,this.max=void 0,this.minimumTimeGranularity=void 0}get _unit(){}set _unit(e){Gm.warnOnce("To use 'unit', use an axis with type 'unit-time' instead of 'time'.")}hasDefinedDomain(){const{min:e,max:t}=this;return null!=e&&null!=t&&e<t}isCategoryLike(){return!1}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}normaliseDataDomain(e){return uj(e,this.min,this.max)}processData(){super.processData();const{boundSeries:e,direction:t,min:n,max:i}=this;this.minimumTimeGranularity=lj(e,t,n,i)}tickFormatParams(e,t,n,i){i??(i=NT(t));const r=OT(e);return{type:"date",unit:GA(i),step:WA(i),epoch:HA(i),truncateDate:r}}datumFormatParams(e,t,n,i,r){if("number"===typeof e&&(e=new Date(e)),null==i){const{minimumTimeGranularity:t}=this,n=ET(e);i=null!=t&&YA(t)<YA(n)?t:n}const{datum:o,seriesId:a,legendItemName:s,key:l,source:c,property:u,domain:d,boundSeries:h}=t;return{type:"date",value:e,datum:o,seriesId:a,legendItemName:s,key:l,source:c,property:u,domain:d,boundSeries:h,unit:GA(i),step:WA(i),epoch:HA(i),style:r}}};function lj(e,t,n,i){const r=e.reduce((e,t)=>Math.min(t.minTimeInterval()??1/0,e),1/0);return Number.isFinite(r)?LT(r):cj(e,t,n,i)?.unit}function cj(e,t,n,i){let r,o=1/0,a=-1/0,s=0;const l=[];for(const d of e){if(!d.visible)continue;const{domain:e}=uj(d.getDomain(t),void 0,void 0);if(0===e.length)continue;const n=e[0].valueOf(),i=e[e.length-1].valueOf();l.push(n,i),o=Math.min(o??1/0,n,i),a=Math.max(a??-1/0,n,i);const c=Math.abs(i-n);if(0===c)continue;const u=d.dataCount();if(s=Math.max(s,u),u<=1)continue;const h=c/(u-1);r=Math.min(r??1/0,h)}if(o=Math.min(o,n?.valueOf()??1/0,i?.valueOf()??1/0),a=Math.max(a,n?.valueOf()??-1/0,i?.valueOf()??-1/0),!Number.isFinite(o)||!Number.isFinite(a))return;r??(r=Math.abs(a-o)),r=Math.min(r,function(e){e.sort((e,t)=>e-t);let t=1/0;for(let n=1;n<e.length;n++){const i=e[n-1],r=e[n];r-i>0&&(t=Math.min(t,Math.abs(r-i)))}return t}(l));const c=LT(r);let u=r/YA(c);u=s<=2?Math.floor(u):Math.round(u),u=Math.max(u,1);return{unit:c,step:u,epoch:1===u?void 0:RA(c,o)}}function uj(e,t,n){let i=!1;"number"===typeof t&&(t=new Date(t)),"number"===typeof n&&(n=new Date(n));const r=UR(e)?.map(e=>new Date(e));if(null==r)return{domain:null!=t&&null!=n&&t.valueOf()<=n.valueOf()?[t,n]:[],clipped:!1};let[o,a]=r;return t instanceof Date&&(i||(i=t>o),o=t),n instanceof Date&&(i||(i=n<a),a=n),o>a?{domain:[],clipped:!1}:{domain:[o,a],clipped:i}}sj.className="TimeAxis",sj.type="time",px([zS],sj.prototype,"parentLevel",2),px([zS],sj.prototype,"min",2),px([zS],sj.prototype,"max",2),px([zS,lw("_unit")],sj.prototype,"unit",2);var dj=class extends WR{calculateGridLine(e,t,n,i,r){let{index:o,tickId:a,translation:s}=e;const{gridLine:l,horizontal:c,interval:u,range:d}=this;if("between"!==u.placement)return super.calculateGridLine({index:o,tickId:a,translation:s},t,n,i,r);const h=r[t-1],p=h?s-(s-h.translation)/2:d[0],[g,f,m,y]=c?[p,Math.max(n,i),p,Math.min(n,i)]:[Math.min(n,i),p,Math.max(n,i),p],{style:b}=l,{stroke:v,strokeWidth:x=0,lineDash:S}=b[o%b.length]??{};return{tickId:a,offset:p,x1:g,y1:f,x2:m,y2:y,stroke:v,strokeWidth:x,lineDash:S}}calculateGridFills(e,t,n){return"between"!==this.interval.placement?super.calculateGridFills(e,t,n):e.map((i,r)=>this.calculateGridFill(i,r,i.index,t,n,e))}calculateGridFill(e,t,n,i,r,o){let{tickId:a,translation:s}=e;const{gridLine:l,horizontal:c,interval:u,range:d}=this;if("between"!==u.placement)return super.calculateGridFill({tickId:a,translation:s},t,n,i,r,o);const h=o[t-1],p=o[t+1],g=h?s-(s-h.translation)/2:d[0],f=p?s+(p.translation-s)/2:d[1],[m,y,b,v]=c?[g,Math.max(i,r),f,Math.min(i,r)]:[Math.min(i,r),g,Math.max(i,r),f],{fill:x,fillOpacity:S}=l.style[n%l.style.length]??{};return{tickId:a,x1:m,y1:y,x2:b,y2:v,fill:x,fillOpacity:S}}calculateTickLine(e,t,n,i){let{primary:r,tickId:o,translation:a}=e;const{horizontal:s,interval:l,primaryTick:c,range:u,tick:d}=this;if("between"!==l.placement)return super.calculateTickLine({primary:r,tickId:o,translation:a},t,n,i);const h=r&&c?.enabled?c:d,p=-n*this.getTickSize(h),g=i[t-1],f=g?a-(a-g.translation)/2:u[0],[m,y,b,v]=s?[f,0,f,p]:[0,f,p,f],{stroke:x,width:S}=h;return{tickId:o,offset:f,x1:m,y1:y,x2:b,y2:v,stroke:x,strokeWidth:S,lineDash:void 0}}},hj=class extends dj{constructor(e){super(e,new hL,!1),this.parentLevel=new aj,this.min=void 0,this.max=void 0,this.unit=void 0,this.defaultUnit=void 0}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}hasDefinedDomain(){const{min:e,max:t}=this;return null!=e&&null!=t&&e<t}isCategoryLike(){return!0}processData(){let e;super.processData();const{domain:t}=this.dataDomain;if(2===t.length&&t[0].valueOf()===t[1].valueOf())e=ET(t[0]);else{const{boundSeries:t,direction:n,min:i,max:r}=this;e=cj(t,n,i,r)}zx(this.defaultUnit,e)||(this.defaultUnit=e)}updateScale(){super.updateScale(),this.scale.interval=this.unit??this.defaultUnit}normaliseDataDomain(e){return uj(e,this.min,this.max)}createDatumFormatter(e,t){const n=this.scale.interval,{format:i}=this.label;if(null==i)return;const r=qA(null!=n?JI(i,GA(n)):i,n);return null!=r?VI(r):void 0}tickFormatParams(e,t,n,i){i??(i=NT(t));const r=OT(e);return{type:"date",unit:GA(i),step:WA(i),epoch:HA(i),truncateDate:r}}datumFormatParams(e,t,n,i,r){const o=this.unit??this.defaultUnit??"millisecond";"number"===typeof(e=RA(o,e))&&(e=new Date(e)),i??(i=o);const{datum:a,seriesId:s,legendItemName:l,key:c,source:u,property:d,domain:h,boundSeries:p}=t;return{type:"date",value:e,datum:a,seriesId:s,legendItemName:l,key:c,source:u,property:d,domain:h,boundSeries:p,unit:GA(i),step:WA(i),epoch:HA(i),style:r}}};hj.className="UnitTimeAxis",hj.type="unit-time",px([zS],hj.prototype,"parentLevel",2),px([zS],hj.prototype,"min",2),px([zS],hj.prototype,"max",2),px([zS],hj.prototype,"unit",2);var pj={..._R,...$R(fb),type:eb(Ab("number")),label:ER,crosshair:FR(!0)},gj={..._R,...$R(fb),type:eb(Ab("log")),base:ab(wb,Jy(e=>1!==e,"not equal to 1")),label:ER,crosshair:FR(!0)},fj={..._R,...$R(sb(fb,pb),!0),type:eb(Ab("time")),label:OR,parentLevel:PR,crosshair:FR(!0,!0)},mj={..._R,type:eb(Ab("category")),label:NR,paddingInner:kb,paddingOuter:kb,groupPaddingInner:kb,crosshair:FR(),bandHighlight:BR,interval:{...jR,placement:Db("on","between")}},yj={..._R,type:eb(Ab("grouped-category")),label:NR,crosshair:FR(),bandHighlight:BR,paddingInner:kb,groupPaddingInner:kb,depthOptions:Lb({label:{enabled:ub,avoidCollisions:ub,wrapping:Db("never","always","hyphenate","on-space"),truncate:ub,rotation:fb,spacing:fb,...nv,...av},tick:{enabled:ub,stroke:hb,width:Mb}},"depth options objects array")},bj={..._R,type:eb(Ab("unit-time")),unit:sb(CR,kR),label:OR,parentLevel:PR,paddingInner:kb,paddingOuter:kb,groupPaddingInner:kb,crosshair:FR(!0,!0),bandHighlight:BR,min:ab(sb(fb,pb),Ib("max")),max:ab(sb(fb,pb),Cb("min")),interval:VR},vj={type:"axis",name:"number",chartType:"cartesian",options:pj,create:e=>new rj(e)},xj={type:"axis",name:"log",chartType:"cartesian",options:gj,create:e=>new oj(e)},Sj={type:"axis",name:"time",chartType:"cartesian",options:fj,create:e=>new sj(e)},Mj={type:"axis",name:"category",chartType:"cartesian",options:mj,create:e=>new WR(e)},wj={type:"axis",name:"grouped-category",chartType:"cartesian",options:yj,create:e=>new ZP(e)},kj={type:"axis",name:"unit-time",chartType:"cartesian",options:bj,create:e=>new hj(e)},Ij={..._R,type:eb(Ab("ordinal-time")),paddingInner:kb,paddingOuter:kb,groupPaddingInner:kb,label:OR,parentLevel:PR,interval:VR,crosshair:FR(!0,!0),bandHighlight:BR},Cj={...zR,...$R(fb),type:eb(Ab("angle-number")),crossLines:Lb(AR),startAngle:fb,endAngle:fb,label:{...LR,orientation:Db("fixed","parallel","perpendicular"),format:oR}},Dj={innerRadiusRatio:kb},Aj={...zR,...Dj,type:eb(Ab("angle-category")),shape:Db("polygon","circle"),crossLines:Lb(AR),startAngle:fb,endAngle:fb,paddingInner:kb,groupPaddingInner:kb,label:{...LR,orientation:Db("fixed","parallel","perpendicular")}},Tj={...zR,...$R(fb),type:eb(Ab("radius-number")),shape:Db("polygon","circle"),positionAngle:fb,innerRadiusRatio:kb,crossLines:Lb({...AR,label:{...DR,positionAngle:fb}},"cross-line options"),title:{enabled:ub,text:yb,spacing:Mb,formatter:db,...nv},label:{...LR,format:oR}},Lj={...zR,type:eb(Ab("radius-category")),positionAngle:fb,innerRadiusRatio:kb,paddingInner:kb,paddingOuter:kb,groupPaddingInner:kb,label:LR,crossLines:Lb({...AR,label:{...DR,positionAngle:fb}},"cross-line options"),title:{enabled:ub,text:yb,spacing:Mb,formatter:db,...nv}},Nj=Jb(qb,qb),Ej={showInMiniChart:ub,connectMissingData:ub,interpolation:mR,label:uR,marker:cR,tooltip:gR,shadow:fR,...sR,...Yb,...$b,...Kb,highlight:Nj},Oj={...Ej,...lR,highlight:Nj,type:eb(Ab("area")),xKey:eb(yb),yKey:eb(yb),xName:yb,yName:yb,stacked:ub,stackGroup:yb,normalizedTo:fb},Rj=Jb(Zb,Zb),Pj={direction:Db("horizontal","vertical"),showInMiniChart:ub,cornerRadius:Mb,itemStyler:Eb({...Yb,...$b,...Kb,cornerRadius:Mb}),crisp:ub,label:{...uR,placement:Db("inside-center","inside-start","inside-end","outside-start","outside-end"),spacing:Mb},errorBar:hR,shadow:fR,tooltip:gR,...sR,highlight:Rj,...Yb,...$b,...Kb};Pj.sparklineMode=tb(ub);var jj={...Pj,...lR,highlight:Rj,type:eb(Ab("bar")),xKey:eb(yb),yKey:eb(yb),xName:yb,yName:yb,direction:Db("horizontal","vertical"),grouped:ub,stacked:ub,stackGroup:yb,normalizedTo:fb,legendItemName:yb,errorBar:pR};jj.pickOutsideVisibleMinorAxis=tb(ub),jj.focusPriority=tb(fb);var zj={title:yb,domain:Tb(fb),maxSize:Mb,showInMiniChart:ub,label:{placement:Db("top","right","bottom","left"),...uR},tooltip:gR,maxRenderedItems:fb,...sR,...Gx(cR,["enabled"]),highlight:Jb(qb,qb)},_j={...zj,...lR,type:eb(Ab("bubble")),xKey:eb(yb),yKey:eb(yb),sizeKey:eb(yb),labelKey:yb,xName:yb,yName:yb,sizeName:yb,labelName:yb,highlight:Jb(qb,qb)},Bj={showInMiniChart:ub,cornerRadius:Mb,label:uR,tooltip:gR,shadow:fR,...sR,...Yb,...$b,...Kb,highlight:Jb(qb,qb)},Fj={...lR,...Bj,type:eb(Ab("histogram")),xKey:eb(yb),yKey:yb,xName:yb,yName:yb,areaPlot:ub,aggregation:Db("count","sum","mean"),bins:Tb(Tb(fb)),binCount:Mb},$j=Jb(qb,Xb),Vj={title:yb,showInMiniChart:ub,connectMissingData:ub,interpolation:mR,label:uR,marker:cR,tooltip:gR,errorBar:hR,...sR,...$b,...Kb,highlight:$j};Vj.sparklineMode=tb(ub);var Gj={...Vj,...lR,highlight:$j,type:eb(Ab("line")),xKey:eb(yb),yKey:eb(yb),xName:yb,yName:yb,stacked:ub,stackGroup:yb,normalizedTo:fb,legendItemName:yb,errorBar:pR};Gj.pickOutsideVisibleMinorAxis=tb(ub),Gj.focusPriority=tb(fb);var Wj={title:yb,showInMiniChart:ub,label:{placement:Db("top","right","bottom","left"),...uR},tooltip:gR,errorBar:hR,maxRenderedItems:fb,...sR,...Gx(cR,["enabled"]),highlight:Jb(qb,qb)},Hj={...Wj,...lR,type:eb(Ab("scatter")),xKey:eb(yb),yKey:eb(yb),labelKey:yb,xName:yb,yName:yb,labelName:yb,errorBar:pR,highlight:Jb(qb,qb)},Uj=Jb(qb,qb),Yj={...sR,radiusMin:Mb,radiusMax:Mb,rotation:fb,outerRadiusOffset:fb,outerRadiusRatio:kb,hideZeroValueSectorsInLegend:ub,sectorSpacing:Mb,cornerRadius:Mb,itemStyler:Eb({...Yb,...$b,...Kb,cornerRadius:Mb}),title:{enabled:ub,text:yb,showInLegend:ub,spacing:Mb,...nv},calloutLabel:{enabled:ub,offset:fb,minAngle:Mb,avoidCollisions:ub,formatter:db,format:yb,itemStyler:Eb({enabled:ub,...av,...nv}),...av,...nv},sectorLabel:{enabled:ub,positionOffset:fb,positionRatio:kb,formatter:db,format:yb,itemStyler:Eb({enabled:ub,...av,...nv}),...av,...nv},calloutLine:{colors:Tb(hb),length:Mb,strokeWidth:Mb},fills:Tb(Ub),strokes:Tb(hb),tooltip:gR,shadow:fR,highlight:Uj,...Kb,...Gx(Yb,["fill"]),...Gx($b,["stroke"])},Kj={...Yj,...lR,type:eb(Ab("pie")),angleKey:eb(yb),radiusKey:yb,calloutLabelKey:yb,sectorLabelKey:yb,legendItemKey:yb,angleName:yb,radiusName:yb,calloutLabelName:yb,sectorLabelName:yb,highlight:Uj};Kj.defaultColorRange=tb(Tb(Tb(hb))),Kj.defaultPatternFills=tb(Tb(hb)),Kj.title._enabledFromTheme=tb(ub),Kj.calloutLabel._enabledFromTheme=tb(ub),Kj.sectorLabel._enabledFromTheme=tb(ub);var Zj={...Yj,innerRadiusOffset:fb,innerRadiusRatio:kb,innerCircle:{fill:yb,fillOpacity:kb},innerLabels:{spacing:Mb,...nv,...av}},Xj={...Zj,...Kj,type:eb(Ab("donut")),innerLabels:Lb({text:eb(yb),spacing:Mb,...nv,...av},"inner label options array")},qj={lineStyle:Db("solid","dashed","dotted"),...Kb},Qj={...Yb,...$b,...Kb},Jj={visible:ub,locked:ub,handle:Qj,...nv},ez={position:Db("top","center","bottom"),alignment:Db("left","center","right"),...nv},tz={position:Db("top","inside","bottom"),alignment:Db("left","center","right"),...nv},nz={enabled:ub,cornerRadius:Mb,formatter:db,...nv,...Yb,...$b,...Kb},iz={visible:ub,...qj,...$b},rz={divider:$b,...Yb,...$b,...nv},oz={handle:Qj,statistics:rz,...qj,...Yb,...$b},az={visible:ub,locked:ub,extendStart:ub,extendEnd:ub,handle:Qj,text:ez,...qj,...$b},sz={visible:ub,locked:ub,axisLabel:nz,handle:Qj,text:ez,...qj,...$b},lz={visible:ub,locked:ub,extendStart:ub,extendEnd:ub,handle:Qj,text:tz,background:Yb,...qj,...$b},cz={...lz},uz={...lz,middle:iz},dz={label:nv,showFill:ub,isMultiColor:ub,strokes:Tb(hb),rangeStroke:hb,bands:Db(4,6,10),...az},hz={...Yb,...$b,...Jj},pz={...Yb,...$b,...Jj},gz={...Yb,...$b,...Jj,background:{...Yb,...$b}},fz={visible:ub,locked:ub,handle:Qj,...Yb},mz={visible:ub,locked:ub,extendStart:ub,extendEnd:ub,handle:Qj,text:ez,background:Yb,statistics:rz,...qj,...$b},yz={visible:ub,up:oz,down:oz},bz={enabled:ub,axesButtons:{enabled:ub,axes:Db("x","y","xy")},toolbar:{enabled:ub,padding:Mb,buttons:Lb({...nR,value:Db("line-menu","fibonacci-menu","text-menu","shape-menu","measurer-menu","line","horizontal-line","vertical-line","parallel-channel","disjoint-channel","fibonacci-retracement","fibonacci-retracement-trend-based","text","comment","callout","note","clear")},"annotation toolbar buttons array")},optionsToolbar:{enabled:ub,buttons:Tb(sb(rb({...nR,value:eb(Db("line-stroke-width","line-style-type","line-color","fill-color","text-color","text-size","delete","settings"))}),rb({...nR,value:eb(Db("lock")),checkedOverrides:nR})))}};bz.data=tb(cb),bz.xKey=tb(yb),bz.volumeKey=tb(yb),bz.snap=tb(ub);var vz={...Yb,...$b,...Kb,cornerRadius:Mb,whisker:{...$b,...Kb},cap:{lengthRatio:kb}},xz={...vz,opacity:kb},Sz={direction:Db("horizontal","vertical"),showInMiniChart:ub,itemStyler:Eb({...Yb,...$b,...Kb,cornerRadius:Mb,whisker:{...$b,...Kb},cap:{lengthRatio:kb}}),tooltip:gR,...sR,...vz,highlight:Jb(xz,xz)},Mz={cornerRadius:Mb,wick:{...$b,...Kb},...Yb,...$b,...Kb},wz={...Mz,opacity:kb},kz={item:{up:Mz,down:Mz},itemStyler:Eb({...Yb,...$b,...Kb,cornerRadius:Mb,wick:{...$b,...Kb}}),showInMiniChart:ub,tooltip:gR,...sR,highlight:Jb(wz,wz)},Iz={fills:Tb(Ub),strokes:Tb(hb),label:{spacing:Mb,maxWidth:Mb,...uR},link:{tension:kb,itemStyler:Eb({...Yb,...$b,...Kb,tension:kb}),...Yb,...$b,...Kb},node:{width:Mb,spacing:Mb,itemStyler:Eb({...Yb,...$b,...Kb}),...Yb,...$b,...Kb},tooltip:gR,...sR},Cz={direction:Db("horizontal","vertical"),fills:Tb(Ub),strokes:Tb(hb),label:{spacing:Mb,placement:Db("before","middle","after"),...uR},stageLabel:{placement:Db("before","after"),format:oR,...LR},tooltip:gR,...Gx(sR,["showInLegend"]),...Gx(Yb,["fill"]),...Gx($b,["stroke"]),...Kb,highlight:Qb(Xb)},Dz={direction:Db("horizontal","vertical"),fills:Tb(Ub),strokes:Tb(hb),itemStyler:Eb({...Yb,...$b,...Kb}),spacingRatio:kb,crisp:ub,dropOff:{enabled:ub,...Yb,...$b,...Kb},stageLabel:{placement:Db("before","after"),format:oR,...LR},label:uR,tooltip:gR,shadow:fR,...Gx(sR,["showInLegend"]),...Gx(Yb,["fill"]),...Gx($b,["stroke"]),...Kb},Az={title:yb,textAlign:Db("left","center","right"),verticalAlign:Db("top","middle","bottom"),itemPadding:Mb,itemStyler:Eb({...Yb,...$b}),showInMiniChart:ub,label:dR,tooltip:gR,...sR,...$b},Tz={showInMiniChart:ub,itemStyler:Eb({...$b,...Kb}),item:{up:{...$b,...Kb},down:{...$b,...Kb}},tooltip:gR,...sR,highlight:Jb(Xb,Xb)},Lz={maxStrokeWidth:Mb,itemStyler:Eb({...$b,...Kb}),sizeDomain:Tb(Mb),label:uR,tooltip:gR,...sR,...$b,...Kb,highlightStyle:{...sR.highlightStyle,...$b},highlight:Jb(Xb,Xb)},Nz={...$b,...Kb},Ez={colorRange:Tb(hb),maxSize:Mb,sizeDomain:Tb(Mb),label:{placement:Db("top","bottom","left","right"),...uR},tooltip:gR,...sR,...Gx(cR,["enabled"]),highlightStyle:{...sR.highlightStyle,...Yb,...$b},highlight:Jb(qb,qb)},Oz={colorRange:Tb(hb),padding:Mb,itemStyler:Eb({...Yb,...$b,...Kb}),label:dR,tooltip:gR,...sR,...Yb,...$b,...Kb,highlightStyle:{...sR.highlightStyle,...Yb,...$b},highlight:Jb(qb,qb)},Rz={...sR,...Yb,...$b,...Kb},Pz={cornerRadius:Mb,itemStyler:Eb({...Yb,...$b,...Kb,cornerRadius:Mb}),label:uR,tooltip:gR,...sR,...Yb,...$b,...Kb,highlight:Jb(Zb,Zb)},jz={direction:Db("horizontal","vertical"),aspectRatio:Mb,spacing:Mb,reverse:ub,itemStyler:Eb({...Yb,...$b,...Kb}),fills:Tb(Ub),strokes:Tb(hb),label:uR,stageLabel:{spacing:Mb,placement:Db("before","after"),...uR},tooltip:gR,shadow:fR,...sR,...Gx(Yb,["fill"]),...Gx($b,["stroke"]),...Kb},zz={connectMissingData:ub,marker:cR,label:uR,tooltip:gR,...sR,...Yb,...$b,...Kb,highlight:Jb(qb,qb)},_z={connectMissingData:ub,marker:cR,label:uR,tooltip:gR,...sR,...$b,...Kb,highlight:Jb(qb,Xb)},Bz={cornerRadius:Mb,itemStyler:Eb({...Yb,...$b,...Kb,cornerRadius:Mb}),label:uR,tooltip:gR,...sR,...Yb,...$b,...Kb,highlight:Jb(Zb,Zb)},Fz={cornerRadius:Mb,columnWidthRatio:kb,maxColumnWidthRatio:kb,itemStyler:Eb({...Yb,...$b,...Kb,cornerRadius:Mb}),label:uR,tooltip:gR,...sR,...Yb,...$b,...Kb,highlight:Jb(Zb,Zb)},$z={showInMiniChart:ub,connectMissingData:ub,interpolation:mR,label:{...uR,placement:Db("inside","outside"),spacing:Mb},marker:cR,tooltip:gR,shadow:fR,...sR,...Yb,...$b,...Kb,highlight:Jb(qb,qb)},Vz={direction:Db("horizontal","vertical"),grouped:ub,showInMiniChart:ub,cornerRadius:Mb,itemStyler:Eb({...Yb,...$b,...Kb,cornerRadius:Mb}),label:{...uR,placement:Db("inside","outside"),spacing:Mb},tooltip:gR,shadow:fR,...sR,...Yb,...$b,...Kb,highlight:Jb(Zb,Zb)},Gz={fills:Tb(Ub),strokes:Tb(hb),label:{...uR,spacing:Mb},link:{itemStyler:Eb({...Yb,...$b,...Kb}),...Yb,...$b,...Kb},node:{width:Mb,spacing:Mb,alignment:Db("left","center","right","justify"),itemStyler:Eb({...Yb,...$b,...Kb}),...Yb,...$b,...Kb},tooltip:gR,...sR},Wz={fills:Tb(Ub),strokes:Tb(hb),colorRange:Tb(hb),sectorSpacing:Mb,cornerRadius:Mb,padding:Mb,itemStyler:Eb({...Yb,...$b}),label:{spacing:Mb,...dR},secondaryLabel:dR,tooltip:gR,...Gx(sR,["highlight","showInLegend"]),...Gx(Yb,["fill"]),...Gx($b,["stroke"]),highlightStyle:{label:{color:hb},secondaryLabel:{color:hb},...Yb,...$b}},Hz={fills:Tb(Ub),strokes:Tb(hb),colorRange:Tb(hb),itemStyler:Eb({...Yb,...$b}),group:{gap:Mb,padding:Mb,cornerRadius:Mb,textAlign:Db("left","center","right"),interactive:ub,label:{...uR,spacing:Mb},...Yb,...$b},tile:{gap:Mb,padding:Mb,cornerRadius:Mb,textAlign:Db("left","center","right"),verticalAlign:Db("top","middle","bottom"),label:{...uR,spacing:Mb,lineHeight:Mb,minimumFontSize:Mb,wrapping:Db("never","always","hyphenate","on-space"),overflowStrategy:Db("ellipsis","hide")},secondaryLabel:{...uR,lineHeight:Mb,minimumFontSize:Mb,wrapping:Db("never","always","hyphenate","on-space"),overflowStrategy:Db("ellipsis","hide")},...Yb,...$b},tooltip:gR,...Gx(sR,["highlight","showInLegend"]),highlightStyle:{group:{label:{color:hb},...Yb,...$b},tile:{label:{color:hb},secondaryLabel:{color:hb},...Yb,...$b}}},Uz={name:yb,cornerRadius:Mb,itemStyler:Eb({...Yb,...$b,...Kb,cornerRadius:Mb}),label:{...uR,placement:Db("inside-start","inside-center","inside-end","outside-start","outside-end"),spacing:Mb},tooltip:gR,shadow:fR,...Yb,...$b,...Kb},Yz={direction:Db("horizontal","vertical"),showInMiniChart:ub,item:{positive:Uz,negative:Uz,total:Uz},line:{enabled:ub,...$b,...Kb},tooltip:gR,...sR},Kz=rb({__type:eb(Ab("date")),value:sb(yb,fb)},"a serializable date object"),Zz={width:Mb,height:Mb,grip:ub,fill:hb,stroke:hb,strokeWidth:Mb,cornerRadius:Mb},Xz={enabled:ub,height:Mb,spacing:Mb,cornerRadius:fb,mask:{fill:hb,fillOpacity:kb,stroke:hb,strokeWidth:Mb},minHandle:Zz,maxHandle:Zz,miniChart:{enabled:ub,padding:{top:Mb,bottom:Mb},label:{enabled:ub,avoidCollisions:ub,spacing:Mb,format:oR,formatter:db,interval:{minSpacing:Mb,maxSpacing:Mb,values:cb,step:fb},...nv},series:gb}},qz={number:{...Gx(pj,["type","crossLines"]),top:Gx(pj,["type","crossLines","position"]),right:Gx(pj,["type","crossLines","position"]),bottom:Gx(pj,["type","crossLines","position"]),left:Gx(pj,["type","crossLines","position"]),crossLines:Gx(TR,["type"])},log:{...Gx(gj,["type","crossLines"]),top:Gx(gj,["type","crossLines","position"]),right:Gx(gj,["type","crossLines","position"]),bottom:Gx(gj,["type","crossLines","position"]),left:Gx(gj,["type","crossLines","position"]),crossLines:Gx(TR,["type"])},category:{...Gx(mj,["type","crossLines"]),top:Gx(mj,["type","crossLines","position"]),right:Gx(mj,["type","crossLines","position"]),bottom:Gx(mj,["type","crossLines","position"]),left:Gx(mj,["type","crossLines","position"]),crossLines:Gx(TR,["type"])},time:{...Gx(fj,["type","crossLines"]),top:Gx(fj,["type","crossLines","position"]),right:Gx(fj,["type","crossLines","position"]),bottom:Gx(fj,["type","crossLines","position"]),left:Gx(fj,["type","crossLines","position"]),crossLines:Gx(TR,["type"])},"unit-time":{...Gx(bj,["type","crossLines"]),top:Gx(bj,["type","crossLines","position"]),right:Gx(bj,["type","crossLines","position"]),bottom:Gx(bj,["type","crossLines","position"]),left:Gx(bj,["type","crossLines","position"]),crossLines:Gx(TR,["type"])},"grouped-category":{...Gx(yj,["type"]),top:Gx(yj,["type","position"]),right:Gx(yj,["type","position"]),bottom:Gx(yj,["type","position"]),left:Gx(yj,["type","position"]),crossLines:Gx(TR,["type"])},"ordinal-time":{...Gx(Ij,["type","crossLines"]),top:Gx(Ij,["type","crossLines","position"]),right:Gx(Ij,["type","crossLines","position"]),bottom:Gx(Ij,["type","crossLines","position"]),left:Gx(Ij,["type","crossLines","position"]),crossLines:Gx(TR,["type"])}},Qz={"angle-category":{...Gx(Aj,["type","crossLines"]),crossLines:Gx(AR,["type"])},"angle-number":{...Gx(Cj,["type","crossLines"]),crossLines:Gx(AR,["type"])},"radius-category":{...Gx(Lj,["type","crossLines"]),crossLines:{...Gx(AR,["type"]),label:{...DR,positionAngle:fb}}},"radius-number":{...Gx(Tj,["type","crossLines"]),crossLines:{...Gx(AR,["type"]),label:{...DR,positionAngle:fb}}}},Jz={visible:ub};function e_(e,t){const n={};for(const i of Reflect.ownKeys(e))n[i]=t(e[i],i,e);return n}var t_=e_({common:{...aR,navigator:Xz,axes:{...qz,...Qz},annotations:{...bz,line:az,"horizontal-line":sz,"vertical-line":sz,"disjoint-channel":cz,"parallel-channel":uz,"fibonacci-retracement":dz,"fibonacci-retracement-trend-based":dz,callout:hz,comment:pz,note:gz,text:Jj,arrow:az,"arrow-up":fz,"arrow-down":fz,"date-range":mz,"price-range":mz,"date-price-range":mz,"quick-date-price-range":yz},chartToolbar:{enabled:ub},initialState:{legend:Lb({visible:ub,seriesId:yb,itemId:yb,legendItemName:yb},"legend state array"),zoom:{rangeX:{start:sb(fb,Kz),end:sb(fb,Kz)},rangeY:{start:sb(fb,Kz),end:sb(fb,Kz)},ratioX:{start:kb,end:kb},ratioY:{start:kb,end:kb},autoScaledAxes:Tb(Ab("y"))}}},line:{...aR,axes:qz,series:Vj,navigator:Xz,...Jz},scatter:{...aR,axes:qz,series:Wj,navigator:Xz,...Jz},bubble:{...aR,axes:qz,series:zj,navigator:Xz,...Jz},area:{...aR,axes:qz,series:Ej,navigator:Xz,...Jz},bar:{...aR,axes:qz,series:Pj,navigator:Xz,...Jz},"box-plot":{...aR,axes:qz,series:Sz,navigator:Xz,...Jz},candlestick:{...aR,axes:qz,series:kz,navigator:Xz,...Jz},"cone-funnel":{...aR,axes:qz,series:Cz,navigator:Xz,...Jz},funnel:{...aR,axes:qz,series:Dz,navigator:Xz,...Jz},ohlc:{...aR,axes:qz,series:Tz,navigator:Xz,...Jz},histogram:{...aR,axes:Gx(qz,["category","grouped-category","unit-time","ordinal-time"]),series:Bj,navigator:Xz,...Jz},heatmap:{...aR,axes:qz,series:Az,navigator:Xz,...Jz},waterfall:{...aR,axes:qz,series:Yz,navigator:Xz,...Jz},"range-bar":{...aR,axes:qz,series:Vz,navigator:Xz,...Jz},"range-area":{...aR,axes:qz,series:$z,navigator:Xz,...Jz},donut:{...aR,series:Zj,navigator:Xz,...Jz},pie:{...aR,series:Yj,navigator:Xz,...Jz},"radar-line":{...aR,axes:Qz,series:_z,navigator:Xz,...Jz},"radar-area":{...aR,axes:Qz,series:zz,navigator:Xz,...Jz},"radial-bar":{...aR,axes:Qz,series:Bz,navigator:Xz,...Jz},"radial-column":{...aR,axes:Qz,series:Fz,navigator:Xz,...Jz},nightingale:{...aR,axes:Qz,series:Pz,navigator:Xz,...Jz},sunburst:{...aR,series:Wz,navigator:Xz,...Jz},treemap:{...aR,series:Hz,navigator:Xz,...Jz},"map-shape":{...aR,series:Oz,navigator:Xz,...Jz},"map-line":{...aR,series:Lz,navigator:Xz,...Jz},"map-marker":{...aR,series:Ez,navigator:Xz,...Jz},"map-shape-background":{...aR,series:Rz,navigator:Xz,...Jz},"map-line-background":{...aR,series:Nz,navigator:Xz,...Jz},sankey:{...aR,series:Gz,navigator:Xz,...Jz},chord:{...aR,series:Iz,navigator:Xz,...Jz},pyramid:{...aR,series:jz,navigator:Xz,...Jz},"radial-gauge":{...aR,...MR,targets:Gx(vR,["value"]),tooltip:{...MR.tooltip,...aR.tooltip}},"linear-gauge":{...aR,...xR,targets:Gx(bR,["value"]),tooltip:{...xR.tooltip,...aR.tooltip}}},function e(t,n){if(Oy(n))return t;if(Iy(t))return sb(t,Pb,Oy);if(Cy(t))return sb(rb(e_(t,Uy in t?t=>Cy(t)?e_(t,e):t:e)),Pb,Oy);throw new Error(`Invalid theme override value: ${String(t)}`)}),n_={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},i_={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},r_=class extends fO{getDefaultColors(){return{fills:n_,fillsFallback:Object.values(n_),strokes:i_,sequentialColors:eO(n_),divergingColors:[n_.ORANGE,n_.YELLOW,n_.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#0076e6","#0069cc","#005cb3","#004f99","#004280","#003466","#00274c"],secondDivergingColors:[n_.GREEN,n_.YELLOW,n_.RED],secondHierarchyColors:[],up:{fill:n_.GREEN,stroke:i_.GREEN},down:{fill:n_.RED,stroke:i_.RED},neutral:{fill:n_.GRAY,stroke:i_.GRAY},altUp:{fill:n_.BLUE,stroke:i_.BLUE},altDown:{fill:n_.ORANGE,stroke:i_.ORANGE},altNeutral:{fill:n_.GRAY,stroke:i_.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,n_.BLUE),e.set(IE,n_.BLUE),e}},o_={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},a_={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},s_=class extends dO{getDefaultColors(){return{...super.getDefaultColors(),fills:o_,fillsFallback:Object.values(o_),strokes:a_,sequentialColors:eO(o_),divergingColors:[o_.ORANGE,o_.YELLOW,o_.GREEN],hierarchyColors:[],secondSequentialColors:["#0083ff","#1a8fff","#339cff","#4da8ff","#66b5ff","#80c1ff","#99cdff","#b3daff"],secondDivergingColors:[o_.GREEN,o_.YELLOW,o_.RED],secondHierarchyColors:[],up:{fill:o_.GREEN,stroke:a_.GREEN},down:{fill:o_.RED,stroke:a_.RED},neutral:{fill:o_.GRAY,stroke:a_.GRAY},altUp:{fill:o_.BLUE,stroke:a_.BLUE},altDown:{fill:o_.ORANGE,stroke:a_.ORANGE},altNeutral:{fill:o_.GRAY,stroke:a_.GRAY}}}getTemplateParameters(){const e=super.getTemplateParameters();return e.set(ME,o_.BLUE),e.set(IE,o_.BLUE),e}},l_=RI(()=>new dO),c_=wx.create(!0,"perf"),u_=(e,t,n)=>{c_("[CACHE] ChartTheme",e,t.name,n)},d_={"ag-default-dark":RI(()=>new fO),"ag-sheets-dark":RI(()=>new jO,u_),"ag-polychroma-dark":RI(()=>new LO,u_),"ag-vivid-dark":RI(()=>new r_,u_),"ag-material-dark":RI(()=>new kO,u_),"ag-financial-dark":RI(()=>new bO,u_),"ag-default":l_,"ag-sheets":RI(()=>new BO,u_),"ag-polychroma":RI(()=>new OO,u_),"ag-vivid":RI(()=>new s_,u_),"ag-material":RI(()=>new DO,u_),"ag-financial":RI(()=>new SO,u_)},h_=RI(function(e){if(e instanceof dO)return e;if(!function(e){const{invalid:t}=Qy({theme:e},{theme:sb(g_,mb)});for(const n of t)Gm.warnOnce(String(n));return 0===t.length}(e))return l_();if(null==e||"string"===typeof e){const t=d_[e??"ag-default"];if(t)return t();throw new Error(`Cannot find theme \`${e}\`.`)}const{cleared:t,invalid:n}=Qy(function(e){if(!Cy(e)||!Cy(e.baseTheme))return e;let t,n,i=e;const r=[];for(;"object"===typeof i;)t??(t=i.palette),n??(n=i.params),i.overrides&&r.push(i.overrides),i=i.baseTheme;return{baseTheme:i,overrides:Bx(...r),params:n,palette:t}}(e),p_,"theme");for(const r of n)Gm.warnOnce(String(r));const i=t?.baseTheme?h_(t.baseTheme):l_();return t?new i.constructor(t):i},u_);var p_={baseTheme:sb(yb,mb),overrides:t_,params:{accentColor:hb,axisColor:hb,backgroundColor:hb,borderColor:hb,borderRadius:fb,chartBackgroundColor:hb,chartPadding:fb,focusShadow:yb,foregroundColor:hb,fontFamily:tv,fontSize:fb,fontWeight:sb(yb,fb),gridLineColor:hb,popupShadow:yb,subtleTextColor:hb,textColor:hb,chromeBackgroundColor:hb,chromeFontFamily:tv,chromeFontSize:fb,chromeFontWeight:sb(yb,fb),chromeSubtleTextColor:hb,chromeTextColor:hb,buttonBackgroundColor:hb,buttonBorder:ub,buttonFontWeight:fb,buttonTextColor:hb,inputBackgroundColor:hb,inputBorder:ub,inputTextColor:hb,menuBackgroundColor:hb,menuBorder:ub,menuTextColor:hb,panelBackgroundColor:hb,panelSubtleTextColor:hb,tooltipBackgroundColor:hb,tooltipBorder:ub,tooltipTextColor:hb,tooltipSubtleTextColor:hb,crosshairLabelBackgroundColor:hb,crosshairLabelTextColor:hb},palette:{fills:Tb(Ub),strokes:Tb(hb),up:{fill:sb(hb,Fb),stroke:hb},down:{fill:sb(hb,Fb),stroke:hb},neutral:{fill:sb(hb,Fb),stroke:hb}}},g_=Db("ag-default","ag-default-dark","ag-sheets","ag-sheets-dark","ag-polychroma","ag-polychroma-dark","ag-vivid","ag-vivid-dark","ag-material","ag-material-dark","ag-financial","ag-financial-dark");var f_={isEnterprise:!1},m_="path",y_="pathArray",b_="default",v_="override",x_="user",S_="operation",M_="operationValue",w_="dependency",k_="autoEnable",I_="autoEnableValue";function C_(e){return Ny(e)&&e>=0&&e<=1}function D_(e,t){let n=e;for(const i of t){if(!("string"===typeof i&&null!=n&&("object"===typeof n||Array.isArray(n))&&i in n))return!1;n=n[i]}return!0}function A_(e,t){let n=e;for(const i of t){if(!("string"===typeof i&&null!=n&&("object"===typeof n||Array.isArray(n))&&i in n))return;n=n[i]}return n}function T_(e,t,n){const i=t.length;if(0===i)return;let r=e;const o=i-1,a=t[o];for(let s=0;s<o;s++){const e=t[s],n=t[s+1];let i=r[e];null!=i&&Dy(i)||(i=isNaN(Number(n))?{}:[],r[e]=i),r=i}r[a]=n}var L_=/^\d+$/;function N_(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if(L_.test(n))return t}return-1}function E_(e){const t=N_(e);return Number(e[t])}function O_(e,t,n){const i=t.split("/");let r=[...e];t.startsWith("/")&&(r=[],i.shift());let o=!1;for(const a of i){if(".."===a)r.pop(),o||r.pop();else if("."===a)r.pop();else if("$index"===a){const t=E_(e);if(isNaN(t))return R_;r.push(`${t}`)}else if("$prevIndex"===a){const t=E_(e);if(isNaN(t)||Number(t)<=0)return R_;r.push(""+(Number(t)-1))}else if(a.startsWith("$")){const e=n?.[a.slice(1)];if(null==e)return R_;r.push(e)}else 0!==a.length&&r.push(a);o=".."===a}return r}var R_=Symbol("unresolvable-path"),P_=Symbol("resolved-to-branch");function j_(e,t){if(null==e||"object"!==typeof e||Array.isArray(e))return;if(t??(t=Object.keys(e)),0===t.length)return;const n=t[0];return Z_.has(n)?{operation:n,values:Array.isArray(e[n])?e[n]:[e[n]]}:void 0}var z_={$hasSeriesType:{dependencies:__,resolve:function(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i),o=e.getResolvedPath(["series"]);if(!Array.isArray(o))return!1;for(const a of o)if(a.type===r)return!0;return!1}},$isChartType:{dependencies:__,resolve:function(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i),o=e.getResolvedPath(["series","0","type"]);if("string"!==typeof o)return!1;switch(r){case"cartesian":return ZD.isCartesian(o);case"polar":return ZD.isPolar(o);case"standalone":return ZD.isStandalone(o)}return!1}},$isSeriesType:{dependencies:__,resolve:function(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);return e.getResolvedPath(["series","0","type"])===r}}};function __(e,t,n){const i=e.findVertexAtPath(["series","0","type"]);i&&e.addEdge(t,i,w_)}var B_={$foregroundBackgroundMix:function(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i),o=e.getParamValue("foregroundColor"),a=e.getParamValue("backgroundColor");if("string"===typeof o&&"string"===typeof a&&C_(r))return IS.mix(IS.fromString(o),IS.fromString(a),1-r).toString();wx.inDevelopmentMode(()=>Gm.warnOnce(`\`$foregroundBackgroundMix\` json operation failed on [${String(r)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))},$foregroundOpacity:function(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i),o=e.getParamValue("foregroundColor");if("string"===typeof o&&C_(r)){const e=IS.fromString(o);return new IS(e.r,e.g,e.b,r).toString()}wx.inDevelopmentMode(()=>Gm.warnOnce(`\`$foregroundOpacity\` json operation failed on [${String(r)}}}] at [${e.getPathArray(t).join(".")}], expecting a number between 0 and 1.`))},$interpolate:function(e,t,n){const[i,r]=n,o=e.resolveVertexValue(t,i),a=e.resolveVertexValue(t,r);if(!My(o)||!Ny(a))return;return IS.interpolate(o.map(e=>IS.fromString(e)),a).map(e=>e.toString())},$isGradient:function(e,t,n){const[i]=n;return yM(e.resolveVertexValue(t,i))},$isImage:function(e,t,n){const[i]=n;return vM(e.resolveVertexValue(t,i))},$isPattern:function(e,t,n){const[i]=n;return bM(e.resolveVertexValue(t,i))},$mix:function(e,t,n){const[i,r,o]=n,a=e.resolveVertexValue(t,i),s=e.resolveVertexValue(t,r),l=e.resolveVertexValue(t,o),c=e.getPathArray(t),u=`\`$mix\` json operation failed on [${String(a)}, ${String(s)}, ${String(l)}] at [${c.join(".")}], expecting`,d=`${u} two colors and a number between 0 and 1.`;if("string"!==typeof s||!C_(l))return void wx.inDevelopmentMode(()=>Gm.warnOnce(d));if("string"===typeof a)try{return IS.mix(IS.fromString(a),IS.fromString(s),l).toString()}catch{return void wx.inDevelopmentMode(()=>Gm.warnOnce(d))}if(!yM(a))return void wx.inDevelopmentMode(()=>Gm.warnOnce(d));let h=a.colorStops;try{h=h?.map(e=>{let t;return"string"===typeof e.color&&(t=IS.mix(IS.fromString(e.color),IS.fromString(s),l).toString()),{...e,color:t}})}catch{return void wx.inDevelopmentMode(()=>Gm.warnOnce(`${u} a gradient, a color and a number between 0 and 1.`))}return{...a,colorStops:h}}};var F_={$rem:function(e,t,n){const[i]=n,r=e.getVertexValue(i),o=e.getParamValue("fontSize");if("number"===typeof o&&"number"===typeof r)return Math.round(r*o);wx.inDevelopmentMode(()=>Gm.warnOnce(`\`$rem\` json operation failed on [${String(r)}] at [${e.getPathArray(t).join(".")}], expecting a number.`))}};var $_={$and:function(e,t,n){for(const i of n){if(!e.resolveVertexValue(t,i))return!1}return!0},$eq:function(e,t,n){let i,r=!0;for(const o of n){const n=e.resolveVertexValue(t,o);if(r)i=n,r=!1;else if(n!==i)return!1}return!0},$greaterThan:function(e,t,n){const[i,r]=n;return e.resolveVertexValue(t,i)>e.resolveVertexValue(t,r)},$if:function(e,t,n){const[i,r,o]=n,a=e.resolveVertexValue(t,i)?r:o,s=e.neighboursWithEdgeValue(a,m_);if(s)for(const l of s)e.addEdge(t,l,m_);return e.resolveVertexValue(t,a)},$lessThan:function(e,t,n){const[i,r]=n;return e.resolveVertexValue(t,i)<e.resolveVertexValue(t,r)},$not:function(e,t,n){for(const i of n)return!e.resolveVertexValue(t,i)},$or:function(e,t,n){for(const i of n){if(e.resolveVertexValue(t,i))return!0}return!1},$switch:function(e,t,n){const[i,r,...o]=n,a=e.resolveVertexValue(t,i);for(const s of o){const t=e.getVertexValue(s);if(!Array.isArray(t))continue;const[n,i]=t;if(a===n||Array.isArray(n)&&n.includes(a))return i}return e.getVertexValue(r)}};var V_={$isUserOption:function(e,t,n){const[i,r,o]=n,a=e.neighboursWithEdgeValue(i,m_);if(a)for(const s of a){const n=e.findNeighbour(s,b_);if(n&&G_(e,t,n))return e.resolveVertexValue(t,r)}else if(G_(e,t,i))return e.resolveVertexValue(t,r);return e.resolveVertexValue(t,o)},$isThemeOverride:function(e,t,n){const[i,r,o]=n,a=e.resolveVertexValue(t,i);if(!Ly(a))throw new Error(`\`$isThemeOverride\` json operation failed on [${String(a)}], expecting a string.`);const s=O_(e.getPathArray(t),a);if(s===R_)return;if(e.hasThemeOverride(s))return e.resolveVertexValue(t,r);return e.resolveVertexValue(t,o)},$palette:function(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);if(!Ly(r))return;if(W_.has(r)){const n=E_(e.getPathArray(t));if(isNaN(n))return;switch(r){case"fill":return uv(e.palette.fills,1,n)[0];case"fillFallback":return uv(e.palette.fillsFallback,1,n)[0];case"stroke":return uv(e.palette.strokes,1,n)[0];case"gradient":return uv(e.palette.sequentialColors,1,n)[0];case"range2":return uv(e.palette.fills,2,n)}return}if("gradients"===r)return e.palette.sequentialColors;const o=A_(e.palette,r.split("."));return Array.isArray(o)?[...o]:"object"===typeof o?{...o}:o},$mapPalette:function(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);if(!Ly(r))return;if(W_.has(r)){let n=E_(e.getPathArray(t)),i=0;const o=["series","0","type"];for(let t=0;t<n;t++){o[1]=`${t}`;const n=e.getResolvedPath(o);"map-shape-background"!==n&&"map-line-background"!==n||i++}if(n-=i,isNaN(n))return;switch(r){case"fill":return uv(e.palette.fills,1,n)[0];case"fillFallback":return uv(e.palette.fillsFallback,1,n)[0];case"stroke":return uv(e.palette.strokes,1,n)[0];case"gradient":return uv(e.palette.sequentialColors,1,n)[0];case"range2":return uv(e.palette.fills,2,n)}return}if("gradients"===r)return e.palette.sequentialColors;const o=A_(e.palette,r.split("."));return Array.isArray(o)?[...o]:"object"===typeof o?{...o}:o},$path:{dependencies:H_,resolve:function(e,t,n){const i=n.length>1,r=n.length>2,[o,a,s]=n,l=e.resolveVertexValue(t,o),c=r?e.resolveVertexValue(t,s):null;if(!Ly(l))throw new Error(`\`$path\` json operation failed on [${String(l)}], expecting a string.`);const u=O_(e.getPathArray(t),l);if(u===R_)return;const d=c?A_(c,u):e.getResolvedPath(u);if(null!=d)return d;if(i)return e.resolveVertexValue(t,a)}},$pathString:{dependencies:H_,resolve:function(e,t,n){const[i,r]=n,o=e.resolveVertexValue(t,i);if(!Ly(o))throw new Error(`\`$path\` json operation failed on [${String(o)}], expecting a string.`);let a;r&&(a=e.graftAndResolveOrphan(t,r));const s=e.getPathArray(t),l=O_(s,o,a);if(l===R_)throw new Error(`Unresolvable path [${o}] at [${s.join(".")}]`);return l}},$ref:function(e,t,n){const[i]=n,r=e.getVertexValue(i);return e.getParamValue(r)}};function G_(e,t,n){const i=e.resolveVertexValue(t,n);if(!Ly(i))throw new Error(`\`$isUserOption\` json operation failed on [${String(i)}], expecting a string.`);const r=O_(e.getPathArray(t),i);return r!==R_&&e.hasUserOption(r)}var W_=new Set(["fill","fillFallback","stroke","gradient","range2"]);function H_(e,t,n){const[i]=n,r=e.getVertexValue(i);if(Ly(r)){const n=O_(e.getPathArray(t),r);if(n===R_)return;const i=e.findVertexAtPath(n);i&&e.addEdge(t,i,w_)}}var U_={$apply:function(e,t,n){const[i,r,o,a]=n,s=e.getVertexValue(i);if(!Ay(s))return;const l=r?e.getVertexValue(r):void 0,c=e.neighboursWithEdgeValue(t,m_),u=o?e.resolveVertexValue(t,o):void 0,d=a?e.resolveVertexValue(t,a):void 0;if((!c||0===c.length)&&null!=l)if(j_(l)){const n=e.resolveVertexValue(t,r);Ay(n)&&e.graftObject(t,n,[u,d])}else e.graftObject(t,l,[u,d]);if(!c)return P_;for(const h of c){const t=e.neighboursWithEdgeValue(h,m_);if(t&&0!==t.length)e.graftObject(h,s,[u,d]);else{const t=e.addVertex({});e.addEdge(h,t,b_)}}return P_},$applyTheme:function(e,t,n){const[i,r,o]=n;let a=e.getVertexValue(i);"string"===typeof a&&(a=[a]);if(!Array.isArray(a))return;const s=e.neighboursWithEdgeValue(t,m_),l=o?e.getVertexValue(o):[],c=Array.isArray(l)?new Set(l):new Set;if(!s)return P_;for(const u of s){const t=e.graftAndResolveOrphan(u,r);for(const n of a){const i=O_([],n,t);i!==R_&&e.graftConfig(u,i,c)}}return P_},$findFirstSiblingNotOperation:function(e,t,n){const[i]=n,r=e.getPathArray(t),o=N_(r);if(o<0)return e.resolveVertexValue(t,i);const a=r.slice(0,o),s=e.findVertexAtPath(a);if(!s)return e.resolveVertexValue(t,i);const l=e.neighboursWithEdgeValue(s,m_);if(l)for(let c=0;c<l.length;c++){if(`${c}`===r[o])continue;const t=a.concat([`${c}`,...r.slice(o+1)]),n=e.findVertexAtPath(t);if(!n)continue;const i=e.findNeighbourValue(n,x_);if(null!=i)return i;const s=e.findNeighbourValue(n,v_);if(null!=s)return s}return e.resolveVertexValue(t,i)},$map:function(e,t,n){const[i,r]=n,o=e.getVertexValue(i),a=e.resolveVertexValue(t,r);if(!Array.isArray(a))return;if(!j_(o))return a.map(()=>o);let s=0;for(const l of a)e.graftValue(t,`${s}`,o,l),s++;return P_},$merge:function(e,t,n){for(const i of n){const n=e.resolveVertexValue(t,i);Ay(n)&&e.graftObject(t,n)}return P_},$omit:function(e,t,n){const[i,r]=n;let o=e.getVertexValue(i);if(!Array.isArray(o)){const n=function(e,t,n){const i=j_(e.getVertexValue(n));switch(i?.operation){case"$path":{const[n]=i.values,r=O_(e.getPathArray(t),n);if(r===R_)return;return e.findVertexAtPath(r)}case"$value":return t}}(e,t,r);if(!n)return;o=e.resolveVertexValue(n,i)}const a=e.resolveVertexValue(t,r);if(!Array.isArray(o)||!Ay(a))return;return Gx(a,o)},$size:function(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);return Dy(r)?Object.keys(r).length:0},$shallow:function(e,t,n){const i=[];for(const r of n)i.push(e.getVertexValue(r));return i},$value:function(e,t,n){const[i]=n,r=e.getVertexValue(i),o=e.getPathArray(t);if("$index"===r)return E_(o);if("$1"===r)return e.resolveValue$1(o)}};var Y_={$isEven:function(e,t,n){const[i]=n,r=e.resolveVertexValue(t,i);return!isNaN(Number(r))&&Number(r)%2===0},$mul:function(e,t,n){let i;for(const r of n){const n=e.resolveVertexValue(t,r);null==i?i=Number(n):i*=Number(n)}return i},$round:function(e,t,n){for(const i of n)return Math.round(Number(e.resolveVertexValue(t,i)))}};var K_={...z_,...B_,...F_,...V_,...$_,...Y_,...U_},Z_=new Set(Object.keys(K_));function X_(e){return Z_.has(e)}var q_=RI(function(e,t){return new J_(e.config,t,e.params,e.palette,e.overrides,e.getTemplateParameters())});var Q_=class e extends Wv{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Map;super(m_,S_),this.config=t,this.userOptions=n,this.overrides=o,this.internalParams=a,this.resolvedParams={},this.resolvedAnnotations={},this.value$1={},this.cachedPathVertices=new Map,this.EMPTY_PATH_ARRAY_VERTEX=this.addVertex([]),this.root=this.addVertex("root"),this.params=this.addVertex("params"),this.annotations=this.addVertex("annotations"),this.config=t,this.overrides=o,this.internalParams=a,this.palette=r?QM(r):{},this.palette.type=Cy(n?.theme)?JN(n.theme?.palette):"inbuilt";const s=n.series?.[0]?.type??"line",l=QD.cloneDefaultAxes(s);n.axes??(n.axes=l?.axes??[]),this.buildGraphFromObject(this.root,x_,Gx(n,["theme"])),this.buildGraphFromObject(this.root,b_,Gx(t[s],e.COMPLEX_KEYS));const c=o?Gx(o[s],e.COMPLEX_KEYS):{};Object.keys(c).length>0&&this.buildGraphFromObject(this.root,v_,c);const u=o?Gx(o.common,e.COMPLEX_KEYS):{};Object.keys(u).length>0&&this.buildGraphFromObject(this.root,v_,ZD.isCartesian(s)?u:Gx(u,["zoom","navigator"])),i&&this.buildGraphFromObject(this.params,b_,i);const d=this.findNeighbourWithValue(this.root,"axes",m_),h=this.findNeighbourWithValue(this.root,"series",m_);d&&this.buildGraphFromObject(d,b_,{$applyTheme:[["/$seriesType/axes/$axisType/$position","/$seriesType/axes/$axisType"],{seriesType:{$path:["/series/0/type","line"]},axisType:{$path:["./type","category"]},position:{$path:["./position"]}},["top","right","bottom","left"]]}),h&&this.buildGraphFromObject(h,b_,{$applyTheme:["/$seriesType/series",{seriesType:{$path:["./type","line"]}}]});const p=Gx(t[s]?.annotations??{},e.ANNOTATIONS_OPTIONS_KEYS);Object.keys(p).length>0&&this.buildGraphFromObject(this.annotations,b_,p);const g=Gx(o?.common?.annotations??{},e.ANNOTATIONS_OPTIONS_KEYS);Object.keys(g).length>0&&this.buildGraphFromObject(this.annotations,v_,g);const f=Wx(t[s]?.annotations??{},e.ANNOTATIONS_OPTIONS_KEYS);Object.keys(f).length>0&&this.buildGraphFromObject(this.root,b_,{annotations:f});const m=Wx(o?.common?.annotations??{},e.ANNOTATIONS_OPTIONS_KEYS);Object.keys(m).length>0&&this.buildGraphFromObject(this.root,v_,{annotations:m}),this.buildDependencyGraph()}clear(){super.clear(),this.cachedPathVertices.clear()}resolve(){return this.resolved={},this.resolvedParams={},this.resolvedAnnotations={},this.resolveVertex(this.params,this.resolvedParams),this.resolveVertex(this.annotations,this.resolvedAnnotations),this.resolveVertex(this.root),this.resolved}resolveParams(){return this.resolvedParams}resolveAnnotationThemes(){return this.resolvedAnnotations}findVertexAtPath(e){const t=e.join(".");if(this.cachedPathVertices.has(t))return this.cachedPathVertices.get(t);const n=this.findVertexAlongEdge(this.root,e,m_);return n?(this.cachedPathVertices.set(t,n),n):void 0}hasUserOption(e){return D_(this.userOptions,e)}hasThemeOverride(e){if("axes"===e[0]&&e.length>1){const t=this.getResolvedPath(["axes",e[1],"type"]);if(D_(this.overrides,["common","axes",t,...e.slice(2)]))return!0;const n=this.getResolvedPath(["series","0","type"]);return D_(this.overrides,[n,"axes",t,...e.slice(2)])}if("series"===e[0]&&e.length>1){const t=this.getResolvedPath(["series",e[1],"type"]);return D_(this.overrides,[t,"series",...e.slice(2)])}return D_(this.overrides,e)}getParamValue(e){if(null!=this.resolvedParams[e])return this.resolvedParams[e];const t=this.findVertexAlongEdge(this.params,[e],m_);if(!t)return;const n=this.findNeighbour(t,b_);if(!n)return;const i=this.resolveVertexValue(t,n);return this.resolvedParams[e]=i,i}getPathArray(e){return this.findNeighbourValue(e,y_)??[]}getResolvedPath(e){return A_(this.resolved,e)}resolveVertexValue(e,t){this.resolveVertexDependencies(t);const n=this.findNeighbourValue(t,S_);if(n&&X_(n)){const i=this.neighboursWithEdgeValue(t,M_),r=K_[n],o="function"===typeof r?r:r.resolve,a=o?.(this,e,i??[]);return a===P_?void 0:a}let i=this.getVertexValue(t);if(Array.isArray(i)){const n={};this.resolveVertexChildren(t,n),i=A_(n,this.getPathArray(e))}return this.resolveValueOrSymbol(i)}resolveValue$1(e){return A_(this.value$1,e)}graftConfig(e,t,n){const i=A_(this.config,t),r=this.findNeighbour(e,y_);if(Ay(i)&&this.buildGraphFromObject(e,b_,i,r,void 0,n),this.overrides){const i=A_(this.overrides,t);Ay(i)&&this.buildGraphFromObject(e,v_,i,r,void 0,n);const o=A_(this.overrides,["common",...t.slice(1)]);Ay(o)&&this.buildGraphFromObject(e,v_,o,r,void 0,n)}this.buildDependencyGraph()}graftObject(e,t,n){const i=this.findNeighbour(e,y_);if(this.buildGraphFromObject(e,b_,t,i),this.overrides&&n)for(const r of n){if(null==r)continue;const t=A_(this.overrides,r);t&&this.buildGraphFromObject(e,v_,t,i)}this.buildDependencyGraph()}graftValue(e,t,n,i){const r=[...this.getPathArray(e),t];T_(this.value$1,r,i);const o=this.findVertexAtPath(r)??this.addVertex(t);this.buildGraphFromValue(e,o,b_,r,n),this.buildDependencyGraph()}graftAndResolveOrphan(e,t){const n={},i=this.addVertex(n),r=this.getPathArray(e);return this.graftAndResolveChildren(t,i,r,[]),this.resolveVertex(i,n),A_(n,r)}buildGraphFromObject(t,n,i,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.SHALLOW_KEYS,a=arguments.length>5?arguments[5]:void 0;const s=Object.keys(i),l=j_(i,s);if(l){const e=this.addVertex(i);return this.addEdge(t,e,n),void this.buildGraphFromOperation(e,n,l,r)}if(0===s.length)return this.addEdge(t,this.addVertex(Array.isArray(i)?[]:{}),n),void this.buildGraphAutoEnable(t,n,i,void 0);const c=this.getVertexChildrenByKey(t),u=r?this.getVertexValue(r):[];let d;const h=[...u],p=u.length;for(const e of s){if(a?.has(e))continue;const r=c?.get(e)??this.addVertex(e);h[p]=e,o?.has(e)?this.buildShallowGraphFromValue(t,r,n,h,i[e]):this.buildGraphFromValue(t,r,n,h,i[e],o),"enabled"===e&&(d=r)}this.buildGraphAutoEnable(t,n,i,d)}buildGraphAutoEnable(e,t,n,i){if(t===b_&&!i)return;if(t===x_&&i)return;if(t!==b_&&t!==x_&&t!==v_)return;let r=this.findNeighbour(e,k_);r||(r=this.addVertex(k_),this.addEdge(e,r,k_)),i&&this.addEdge(i,r,I_);const{enabled:o,_enabledFromTheme:a}=n;this.addEdge(r,this.addVertex({enabled:o,_enabledFromTheme:a,keys:Object.keys(n).length}),t)}getVertexChildrenByKey(e){const t=this.neighboursWithEdgeValue(e,m_);if(!t)return;const n=new Map;for(const i of t)n.set(this.getVertexValue(i),i);return n}buildGraphFromValue(e,t,n,i,r,o){this.addEdge(e,t,m_);let a=this.findNeighbour(t,y_);a||(a=this.addVertex([...i]),this.addEdge(t,a,y_));const s=j_(r);if(s){const e=this.addVertex(r);this.addEdge(t,e,n),this.addEdge(e,a,y_),this.buildGraphFromOperation(e,n,s,a)}else if(Dy(r))this.buildGraphFromObject(t,n,r,a,o);else{const e=this.addVertex(r);this.addEdge(t,e,n)}}buildShallowGraphFromValue(e,t,n,i,r){this.addEdge(e,t,m_);let o=this.findNeighbour(t,y_);o||(o=this.addVertex([...i]),this.addEdge(t,o,y_));const a=this.addVertex(r);this.addEdge(t,a,n)}buildGraphFromOperation(e,t,n,i){const r=this.addVertex(n.operation);this.addEdge(e,r,S_);for(const o of n.values)this.buildGraphFromOperationValue(e,o,t,i)}buildGraphFromOperationValue(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.EMPTY_PATH_ARRAY_VERTEX;const r=this.addVertex(t);this.addEdge(e,i,y_),this.addEdge(e,r,M_);const o=j_(t);o?this.buildGraphFromOperation(r,n,o,i):Dy(t)&&this.buildGraphFromObject(r,n,t,i)}buildDependencyGraph(){for(let e=0;e<this.pendingProcessingEdgesFrom.length;e++){const t=this.pendingProcessingEdgesFrom[e],n=this.pendingProcessingEdgesTo[e],i=this.getVertexValue(n);if(!X_(i))continue;const r=this.neighboursWithEdgeValue(t,M_),o=K_[i],a="function"===typeof o?void 0:o.dependencies;a?.(this,t,r??[])}this.pendingProcessingEdgesFrom=[],this.pendingProcessingEdgesTo=[]}resolveVertex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.resolved;const n=this.getPathArray(e);this.resolveVertexInEdgePriority(e,t,n),this.resolveVertexAutoEnable(e,t,n),this.resolveVertexChildren(e,t)}resolveVertexInEdgePriority(t,n,i){const r=this.neighboursWithEdgeValue(t,m_),[o]=e.EDGE_PRIORITY;for(const a of e.EDGE_PRIORITY){const e=this.findNeighbour(t,a);if(null==e)continue;const s=this.resolveVertexValueInternal(t,e);if((null!=s||a===o)&&!(r&&r.length>0&&Array.isArray(s)&&a!==o)){if(0===i.length){if(null==s)continue;this.resolved=s}else T_(n,i,s);break}}}resolveVertexValueInternal(e,t){this.resolveVertexDependencies(t);const n=this.findNeighbourValue(t,S_);if(n&&X_(n)){const i=this.neighboursWithEdgeValue(t,M_),r=K_[n],o="function"===typeof r?r:r.resolve,a=o?.(this,e,i??[]);return a===P_?void 0:a}return this.resolveValueOrSymbol(this.getVertexValue(t))}resolveVertexAutoEnable(e,t,n){const i=this.neighboursWithEdgeValue(e,I_)?.[0];if(!i)return;const r=this.findNeighbourValue(i,b_),o=this.findNeighbourValue(i,v_),a=this.findNeighbourValue(i,x_);!a||null!=a.enabled||r?._enabledFromTheme||o?._enabledFromTheme||T_(t,n,!0)}resolveVertexChildren(e,t){const n=this.neighboursWithEdgeValue(e,m_);if(n)for(const i of n){const e=this.getVertexValue(i);n.length>1&&X_(e)||"_enabledFromTheme"!==e&&this.resolveVertex(i,t)}}resolveVertexDependencies(e){const t=this.neighboursWithEdgeValue(e,w_);if(t)for(const n of t)this.resolveVertex(n)}graftAndResolveChildren(e,t,n,i){const r=this.neighboursWithEdgeValue(e,m_);if(r)for(const o of r){const e=this.getVertexValue(o),r=[...n,e],a=[...i,e],s=this.addVertex(e),l=this.findNeighbourValue(o,b_);this.addEdge(t,s,m_);const c=this.addVertex(r);if(this.addEdge(s,c,y_),Ay(l)){this.buildGraphFromObject(s,b_,l,c);const e=this.findNeighbour(s,b_);this.addEdge(e,this.addVertex(r),y_);const t=this.findNeighbourValue(e,S_);if(X_(t)){const n=this.neighboursWithEdgeValue(e,M_),i=K_[t],r="function"===typeof i?void 0:i.dependencies;r?.(this,e,n??[])}}this.graftAndResolveChildren(o,s,r,a)}}resolveValueOrSymbol(e){return"symbol"===typeof e&&this.internalParams?.has(e)?this.internalParams.get(e):e}};Q_.EDGE_PRIORITY=[x_,v_,b_],Q_.SHALLOW_KEYS=new Set(["context","data","topology"]),Q_.COMPLEX_KEYS=["annotations","axes","series"],Q_.ANNOTATIONS_OPTIONS_KEYS=["axesButtons","data","enabled","optionsToolbar","snap","toolbar","xKey","volumeKey"];var J_=Q_,eB=e=>`'${e}'`,tB=class e{constructor(t,n,i,r,o,a){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7?arguments[7]:void 0;this.themeParameters={},this.optionMetadata=o??{},this.processedOverrides=i??{};let c,u,d,h,p,g,f=null;if(t instanceof e?(f=t,this.specialOverrides=f.specialOverrides,void 0===a&&(a=XM(f.userOptions,n,e.JSON_DIFF_OPTS)),this.userOptions=QM(Fx(a,f.userOptions),{...e.OPTIONS_CLONE_OPTS_SLOW,seen:[]})):(this.userOptions=QM(t??n,{...e.OPTIONS_CLONE_OPTS_SLOW,seen:[]}),this.specialOverrides=this.specialOverridesDefaults({...r})),s&&this.removeLeftoverSymbols(this.userOptions),!s&&void 0!==a&&e.isFastPathDelta(a)&&null!=f?(({activeTheme:c,processedOptions:u,fastDelta:d}=this.fastSetup(a,f)),h=f.themeParameters,p=f.annotationThemes):(e.perfDebug("ChartOptions.slowSetup()"),({activeTheme:c,processedOptions:u,themeParameters:h,annotationThemes:p,googleFonts:g}=this.slowSetup(i,a,s))),this.activeTheme=c,this.processedOptions=u,this.fastDelta=d??void 0,this.themeParameters=h,this.annotationThemes=p,this.googleFonts=g,void 0!==l&&"number"===typeof l&&!isNaN(l)){const e=performance.now();this.optionsProcessingTime=e-l}wx.inDevelopmentMode(()=>Zx(this))}static isFastPathDelta(t){for(const n of Object.keys(t??{}))if(!this.FAST_PATH_OPTIONS.has(n))return e.perfDebug("ChartOptions.isFastPathDelta() - slow path required due to presence of: ",n),!1;return e.perfDebug("ChartOptions.isFastPathDelta() - fast path possible."),!0}fastSetup(t,n){const{activeTheme:i,processedOptions:r}=n,{presetType:o}=this.optionMetadata;if(null!=o&&null!=t?.data){const e=ey.getPresetModule(o);if(e?.processData){const{series:n,data:i}=e.processData(t.data);t=Bx({series:n,data:i},t)}}this.fastSeriesSetup(t,r);const a=Bx(t,r);return e.debug("ChartOptions.fastSetup() - processed options",a),{activeTheme:i,processedOptions:a,fastDelta:t}}fastSeriesSetup(e,t){e?.series&&(e.series?.every((e,n)=>qM(e,t.series?.[n]??{}))?delete e.series:e.series=e.series.map((e,n)=>Fx(e,t.series?.[n]??{})))}slowSetup(t,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=QM(this.userOptions,e.OPTIONS_CLONE_OPTS_FAST);n&&(r=Bx(n,r),i&&this.removeLeftoverSymbols(r));const{presetType:o}=this.optionMetadata;if(null!=o){const t=ey.getPresetModule(o);if(t){const{validate:n=Qy}=t,i=r,o=r.type,a=null!=o?h_(r.theme).presets[o]:void 0,{cleared:s,invalid:l}=n(i,t.options,"");l.forEach(e=>Gm.warn(e)),Ob(l,"")?r={}:(e.debug(">>> AgCharts.createOrUpdate() - applying preset",s),r=t.create(s,a,()=>this.activeTheme))}}this.soloSeriesIntegrity(r),f_.isEnterprise||QN(r);const a=h_(r.theme);if(null!=o&&a.templateTheme(r,!1),this.validateSeriesOptions(r),this.chartDef=ey.detectChartDefinition(r),!this.chartDef.placeholder){const{validate:e=Qy}=this.chartDef,{cleared:t,invalid:n}=e(r,this.chartDef.options,"");n.forEach(e=>Gm.warn(e)),r=t}this.validateAxesOptions(r),this.removeDisabledOptions(r);let s=this.processFonts(a.params);s=this.processFonts(r,s),this.processSeriesOptions(r);const l=q_(a,r),c=l.resolve(),u=l.resolveParams(),d=l.resolveAnnotationThemes();l.clear();const h=Bx(t,c);return function(e){const t="mode"in e&&"integrated"===e.mode;for(const n of fx.byType("root","legend")){const i=e[n.optionsKey],r=null!=i&&!1===i.enabled,o=!("removable"in n)||!0===n.removable||"standalone-only"===n.removable&&!t;r&&o&&delete e[n.optionsKey]}}(h),f_.isEnterprise||QN(h,!0),this.validateSeriesOptions(h),this.validateAxesOptions(h),this.validatePluginOptions(h),this.processMiniChartSeriesOptions(h),h.loadGoogleFonts||s.clear(),e.debug(()=>["ChartOptions.slowSetup() - processed options",QM(h)]),{activeTheme:a,processedOptions:h,themeParameters:u,annotationThemes:d,googleFonts:s}}validatePluginOptions(e){for(const t of ey.listModulesByType(ty.Plugin)){const n=t.name;if(n in e&&(!t.chartType||t.chartType===this.chartDef?.name)){const{cleared:i,invalid:r}=Qy(e[n],t.options,t.name);r.forEach(e=>Gm.warn(e)),e[n]=i}}}validateSeriesOptions(e){const t=this.chartDef?.name,n=[],i=e.series?.length??0;let r;for(let o=0;o<i;o++){const i=`series[${o}]`,a=e.series[o],s=ey.getSeriesModule(a.type);if(null==s){r??(r=jy(Array.from(ey.listModulesByType(ty.Series)).filter(e=>!t||e.chartType===t).map(e=>e.name),"or",eB)),Gm.warn(null==a.type?`Option \`${i}.type\` is required and has not been provided; expecting ${r}, ignoring.`:`Unknown type \`${a.type}\` at \`${i}.type\`; expecting ${r}, ignoring.`);continue}if(t&&s.chartType!==t){Gm.warn(`Series type \`${s.name}\` at \`${i}.type\` is not supported by chart type \`${t}\`, ignoring.`);continue}const{validate:l=Qy}=s,{cleared:c,invalid:u}=l(a,s.options,i);u.forEach(e=>Gm.warn(e)),Ob(u,i)||n.push(c)}e.series=n}validateAxesOptions(e){if(!("axes"in e)||!e.axes)return;const t=this.chartDef?.name,n=[],i=e.axes.length??0;let r;for(let o=0;o<i;o++){const i=`axes[${o}]`,a=e.axes[o],s=ey.getAxisModule(a.type);if(null==s){r??(r=jy(Array.from(ey.listModulesByType(ty.Axis)).filter(e=>e.chartType===t).map(e=>e.name),"or",eB)),Gm.warn(`Unknown type \`${a.type}\` at  \`${i}.type\`; expecting one of ${r}, ignoring all axes options.`),delete e.axes;break}if(s.chartType!==t){Gm.warn(`Axis type \`${s.name}\` at  \`${i}.type\` is not supported by chart type \`${t}\`, ignoring.`);break}const{validate:l=Qy}=s,{cleared:c,invalid:u}=l(a,s.options,i);u.forEach(e=>Gm.warn(e)),Ob(u,i)||n.push(c)}e.axes=n}diffOptions(t){return this===t?{}:null==t?this.processedOptions:this.fastDelta??XM(t.processedOptions,this.processedOptions,e.JSON_DIFF_OPTS)}optionsType(e){return e.series?.[0]?.type??"line"}processSeriesOptions(e){const t=e.series?.map(e=>{e.type??(e.type="line");const t=ey.getSeriesModule(e.type),n=Boolean(t?.options.visible);return Bx(this.getSeriesGroupingOptions(e),e,n&&{visible:!0})});e.series=this.setSeriesGroupingOptions(t??[])}processMiniChartSeriesOptions(e){const t=e.navigator?.miniChart?.series;null!=t&&(e.navigator.miniChart.series=this.setSeriesGroupingOptions(t))}getSeriesGroupingOptions(e){const t=QD.isGroupable(e.type),n=QD.isStackable(e.type),i=QD.isStackedByDefault(e.type);e.grouped&&!t&&Gm.warnOnce(`unsupported grouping of series type "${e.type}".`),!e.stacked&&!e.stackGroup||n||Gm.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:r,stacked:o}=e;return o??(o=(i||null!=e.stackGroup)&&!(t&&r)),r??(r=!0),{stacked:n&&o,grouped:t&&r&&!(n&&o)}}setSeriesGroupingOptions(t){const n=this.getSeriesGrouping(t);e.debug("ChartOptions.setSeriesGroupingOptions() - series grouping: ",n);const i={},r=n.reduce((e,t)=>{var n;return"default"===t.groupType||(e[n=t.seriesType]??(e[n]=0),e[t.seriesType]+="stack"===t.groupType?1:t.series.length),e},{});return n.flatMap(e=>{var t;switch(i[t=e.seriesType]??(i[t]=0),e.groupType){case"stack":{const t=i[e.seriesType]++;return e.series.map((n,i)=>Object.assign(n,{seriesGrouping:{groupId:e.groupId,groupIndex:t,groupCount:r[e.seriesType],stackIndex:i,stackCount:e.series.length}}))}case"group":return e.series.map(t=>Object.assign(t,{seriesGrouping:{groupId:e.groupId,groupIndex:i[e.seriesType]++,groupCount:r[e.seriesType],stackIndex:0,stackCount:0}}))}return e.series}).map(e=>{let{stacked:t,grouped:n,...i}=e;return i})}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){const t=new Map;return e.reduce((e,n)=>{const i=n.type;if(n.stacked||n.grouped){const r=this.getSeriesGroupId(n);if(!t.has(r)){const o={groupType:n.stacked?"stack":"group",seriesType:i,series:[],groupId:r};t.set(r,o),e.push(o)}t.get(r).series.push(n)}else e.push({groupType:"default",seriesType:i,series:[n],groupId:"__default__"});return e},[])}soloSeriesIntegrity(e){if(!My(e.series))return;const t=e.series;if(t&&t.length>1&&t.some(e=>QD.isSolo(e.type))){const i=this.optionsType(e);if(QD.isSolo(i))Gm.warn(`series[0] of type '${i}' is incompatible with other series types. Only processing series[0]`),e.series=t.slice(0,1);else{const{solo:i,nonSolo:r}=lv(t,e=>QD.isSolo(e.type)?"solo":"nonSolo"),o=(n=i.map(e=>e.type),Array.from(new Set(n))).join(", ");Gm.warn(`Unable to mix these series types with the lead series type: ${o}`),e.series=r}}var n}static processFontOptions(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if("object"===typeof e&&"fontFamily"in e)if(Array.isArray(e.fontFamily)){const t=[];for(const n of e.fontFamily)"object"===typeof n&&"googleFont"in n?(t.push(n.googleFont),i?.add(n.googleFont)):t.push(n);e.fontFamily=t.join(", ")}else"object"===typeof e.fontFamily&&"googleFont"in e.fontFamily&&(e.fontFamily=e.fontFamily.googleFont,i?.add(e.fontFamily));return i}processFonts(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return ew(t,e.processFontOptions,new Set(["data","theme"]),void 0,void 0,n)}static removeDisabledOptionJson(e){"enabled"in e&&!1===e.enabled&&Object.keys(e).forEach(t=>{"enabled"!==t&&delete e[t]})}removeDisabledOptions(t){ew(t,e.removeDisabledOptionJson,new Set(["data","theme","contextMenu"]))}static removeLeftoverSymbolsJson(e){if(e&&Cy(e))for(const t of Object.keys(e)){Oy(e[t])&&delete e[t]}}removeLeftoverSymbols(t){ew(t,e.removeLeftoverSymbolsJson,new Set(["data"]))}specialOverridesDefaults(e){var t,n;if(null==e.window?e.window=yy():(t=e.window,fy.window=t),null==e.document?e.document=my():(n=e.document,fy.document=n),null==e.window)throw new Error("AG Charts - unable to resolve global window");if(null==e.document)throw new Error("AG Charts - unable to resolve global document");return e}};tB.OPTIONS_CLONE_OPTS_SLOW={shallow:new Set(["data","container"]),assign:new Set(["context","theme"])},tB.OPTIONS_CLONE_OPTS_FAST={shallow:new Set(["container"]),assign:new Set(["data","context","theme"])},tB.JSON_DIFF_OPTS=new Set(["data"]),tB.perfDebug=wx.create(!0,"perf"),tB.FAST_PATH_OPTIONS=new Set(["data","width","height","container"]),tB.debug=wx.create(!0,"opts");var nB=tB,iB=wx.create(!0,"opts"),rB="AG Charts - Chart was destroyed, cannot perform request.",oB=class{constructor(e,t,n){this.factoryApi=t,this.licenseManager=n,this.chart=e}async update(e){if(!this.chart)throw new Error(rB);return iB.group("AgChartInstance.update()",async()=>{const t=wx.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.update(e,this,void 0,t),await(this.chart?.waitForUpdate())})}async updateDelta(e){if(!this.chart)throw new Error(rB);return iB.group("AgChartInstance.updateDelta()",async()=>{const t=wx.check("scene:stats","scene:stats:verbose")?performance.now():void 0;this.factoryApi.updateUserDelta(this,e,t),await(this.chart?.waitForUpdate())})}getOptions(){if(!this.chart)throw new Error(rB);const e=QM(this.chart.getOptions(),nB.OPTIONS_CLONE_OPTS_FAST);for(const t of Object.keys(e))t.startsWith("_")&&delete e[t];return e}waitForUpdate(){if(!this.chart)throw new Error(rB);return this.chart.waitForUpdate()}async download(e){if(!this.chart)throw new Error(rB);const t=await this.prepareResizedChart(this,this.chart,e);try{t.chart?.download(e?.fileName,e?.fileFormat)}finally{t.destroy()}}async __toSVG(e){if(!this.chart)throw new Error(rB);const t=await this.prepareResizedChart(this,this.chart,{width:600,height:300,...e});try{return t?.chart?.toSVG()}finally{t?.destroy()}}async getImageDataURL(e){if(!this.chart)throw new Error(rB);const t=await this.prepareResizedChart(this,this.chart,e);try{return t.chart.getCanvasDataURL(e?.fileFormat)}finally{t.destroy()}}getState(){return this.factoryApi.caretaker.save(...this.getEnabledOriginators())}async setState(e){const{chart:t}=this;if(!t)return;const n=this.getEnabledOriginators();n.includes(t.ctx.legendManager)?(await this.setStateOriginators(e,n.filter(e=>e!==t.ctx.zoomManager)),await this.setStateOriginators(e,[t.ctx.zoomManager])):await this.setStateOriginators(e,n)}resetAnimations(){this.chart?.resetAnimations()}skipAnimations(){this.chart?.skipAnimations()}destroy(){this.releaseChart?(this.releaseChart(),this.releaseChart=void 0):this.chart&&(this.chart.publicApi=void 0,this.chart.destroy()),this.chart=void 0}async prepareResizedChart(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=n.width??t.width??t.ctx.scene.canvas.width,r=n.height??t.height??t.ctx.scene.canvas.height,o=e.getState(),a=fx.hasEnterpriseModules(),s={...t.chartOptions.processedOverrides,container:document.createElement("div"),width:i,height:r};null!=n.width&&null!=n.height&&(s.overrideDevicePixelRatio=1);const l=t.getOptions();a&&(s.animation={enabled:!1},this.licenseManager?.isDisplayWatermark()&&(s.foreground={text:this.licenseManager.getWatermarkMessage(),image:{url:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjU4IiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMjU4IDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMjUuNzc5IDI4LjY1N0gxMy4zNTlMMTEuMTczIDM0LjAxMkg1LjY3Mjk3TDE3LjE4MiA3LjA1OTk5SDIxLjk1M0wzMy40NjIgMzQuMDEySDI3Ljk2MkwyNS43NzYgMjguNjU3SDI1Ljc3OVpNMjQuMDY4IDI0LjM5N0wxOS41ODggMTMuNDM0TDE1LjEwNyAyNC4zOTdIMjQuMDY4Wk02Mi4wOTIgMTguODIzSDQ5LjgxN1YyMy4wODZINTYuNzc1QzU2LjU1NSAyNS4yMjIgNTUuNzU1IDI2LjkyNyA1NC4zNzIgMjguMjAyQzUyLjk4OSAyOS40NzYgNTEuMTY2IDMwLjExNSA0OC45MDkgMzAuMTE1QzQ3LjYyMiAzMC4xMTUgNDYuNDUgMjkuODg1IDQ1LjM5MyAyOS40MjNDNDQuMzU4MyAyOC45NzgxIDQzLjQzMjYgMjguMzEzOCA0Mi42OCAyNy40NzZDNDEuOTI3IDI2LjYzOSA0MS4zNDQgMjUuNjMxIDQwLjkzMSAyNC40NTNDNDAuNTE5IDIzLjI3NSA0MC4zMTEgMjEuOTcgNDAuMzExIDIwLjUzN0M0MC4zMTEgMTkuMTA1IDQwLjUxNiAxNy44IDQwLjkzMSAxNi42MjFDNDEuMzQ0IDE1LjQ0MyA0MS45MjcgMTQuNDM2IDQyLjY4IDEzLjU5OEM0My40Mzc2IDEyLjc1NzcgNDQuMzY5NiAxMi4wOTMyIDQ1LjQxMSAxMS42NTFDNDYuNDc4IDExLjE4OSA0Ny42NTYgMTAuOTYgNDguOTQ2IDEwLjk2QzUxLjYxMiAxMC45NiA1My42MzcgMTEuNjAyIDU1LjAyIDEyLjg4NUw1OC4zIDkuNjA0OTlDNTUuODE3IDcuNjY5OTkgNTIuNjc2IDYuNjk5OTkgNDguODcyIDYuNjk5OTlDNDYuNzYgNi42OTk5OSA0NC44NTMgNy4wMzQ5OSA0My4xNTQgNy43MDA5OUM0MS40NTUgOC4zNjc5OSAzOS45OTggOS4zMDM5OSAzOC43ODMgMTAuNTA0QzM3LjU2NyAxMS43MDcgMzYuNjM0IDEzLjE1OCAzNS45NzcgMTQuODU3QzM1LjMxOSAxNi41NTYgMzQuOTk0IDE4LjQ1MSAzNC45OTQgMjAuNTRDMzQuOTk0IDIyLjYzIDM1LjMyOSAyNC40OTQgMzUuOTk1IDI2LjIwNUMzNi42NjIgMjcuOTE2IDM3LjYwNSAyOS4zNzQgMzguODE3IDMwLjU3N0M0MC4wMzIgMzEuNzggNDEuNDg2IDMyLjcxMyA0My4xODggMzMuMzgzQzQ0Ljg4OCAzNC4wNDkgNDYuNzgyIDM0LjM4NCA0OC44NzIgMzQuMzg0QzUwLjk2MSAzNC4zODQgNTIuNzUgMzQuMDQ5IDU0LjM5IDMzLjM4M0M1Ni4wMzEgMzIuNzE2IDU3LjQyNiAzMS43OCA1OC41NzkgMzAuNTc3QzU5LjczMyAyOS4zNzQgNjAuNjE5IDI3LjkxNiA2MS4yMzkgMjYuMjA1QzYxLjg2IDI0LjQ5NCA2Mi4xNyAyMi42MDUgNjIuMTcgMjAuNTRDNjIuMTY5NiAxOS45Njg4IDYyLjE0NDUgMTkuMzk4IDYyLjA5NSAxOC44MjlMNjIuMDkyIDE4LjgyM1pNMTUxLjgxIDE2Ljk4MUMxNTMuNDEgMTQuNjA5IDE1Ny40MTkgMTQuMzU4IDE1OS4wMjIgMTQuMzU4VjE4LjkxQzE1Ni45NTcgMTguOTEgMTU0Ljk4NSAxOC45OTYgMTUzLjc1NyAxOS44OTJDMTUyLjUyOSAyMC43OTIgMTUxLjkxOSAyMS45ODIgMTUxLjkxOSAyMy40NjRWMzMuOTlIMTQ2Ljk2NFYxNC4zNThIMTUxLjczNkwxNTEuODEgMTYuOTgxWk0xNDMuMDExIDE0LjM2MVYzNC4wMzFIMTM4LjI0TDEzOC4xMzEgMzEuMDQ1QzEzNy40NjYgMzIuMDc2IDEzNi41NTEgMzIuOTIxOSAxMzUuNDcxIDMzLjUwNEMxMzQuMzc2IDM0LjA5OSAxMzMuMDY4IDM0LjM5NiAxMzEuNTM2IDM0LjM5NkMxMzAuMiAzNC4zOTYgMTI4Ljk2MyAzNC4xNTIgMTI3LjgyMiAzMy42NjhDMTI2LjcgMzMuMTk2NCAxMjUuNjg5IDMyLjQ5NSAxMjQuODU1IDMxLjYwOUMxMjQuMDE4IDMwLjcyMiAxMjMuMzU0IDI5LjY2MiAxMjIuODcxIDI4LjQyMkMxMjIuMzg0IDI3LjE4NSAxMjIuMTQyIDI1LjgxMSAxMjIuMTQyIDI0LjMwNEMxMjIuMTQyIDIyLjc5OCAxMjIuMzg0IDIxLjM3OCAxMjIuODcxIDIwLjExNkMxMjMuMzU3IDE4Ljg1NCAxMjQuMDE4IDE3Ljc3MiAxMjQuODU1IDE2Ljg3M0MxMjUuNjg4IDE1Ljk3NjQgMTI2LjY5OCAxNS4yNjM2IDEyNy44MjIgMTQuNzhDMTI4Ljk2MyAxNC4yODEgMTMwLjIwMyAxNC4wMzMgMTMxLjUzNiAxNC4wMzNDMTMzLjA0MyAxNC4wMzMgMTM0LjMzIDE0LjMxOCAxMzUuMzk3IDE0Ljg4OEMxMzYuNDYyIDE1LjQ1ODkgMTM3LjM3NSAxNi4yNzggMTM4LjA1NyAxNy4yNzZWMTQuMzYxSDE0My4wMTFaTTEzMi42MzEgMzAuMTMzQzEzNC4yNTYgMzAuMTMzIDEzNS41NjcgMjkuNTk0IDEzNi41NjUgMjguNTEyQzEzNy41NjEgMjcuNDMgMTM4LjA2IDI1Ljk5MSAxMzguMDYgMjQuMTk2QzEzOC4wNiAyMi40MDEgMTM3LjU2MSAyMC45OSAxMzYuNTY1IDE5Ljg5OUMxMzUuNTcgMTguODA3IDEzNC4yNTkgMTguMjU4IDEzMi42MzEgMTguMjU4QzEzMS4wMDMgMTguMjU4IDEyOS43MjkgMTguODA0IDEyOC43MzQgMTkuODk5QzEyNy43MzggMjAuOTkzIDEyNy4yMzkgMjIuNDM4IDEyNy4yMzkgMjQuMjMzQzEyNy4yMzkgMjYuMDI4IDEyNy43MzUgMjcuNDMzIDEyOC43MzQgMjguNTE1QzEyOS43MjkgMjkuNTk0IDEzMS4wMjggMzAuMTM2IDEzMi42MzEgMzAuMTM2VjMwLjEzM1pNOTMuNjk4IDI3Ljg3NkM5My41Nzk1IDI4LjAwMjUgOTMuNDU2NCAyOC4xMjQ2IDkzLjMyOSAyOC4yNDJDOTEuOTQ3IDI5LjUxNiA5MC4xMjMgMzAuMTU1IDg3Ljg2NiAzMC4xNTVDODYuNTggMzAuMTU1IDg1LjQwOCAyOS45MjYgODQuMzUgMjkuNDY0QzgzLjMxNTUgMjkuMDE4OSA4Mi4zODk4IDI4LjM1NDYgODEuNjM3IDI3LjUxN0M4MC44ODQgMjYuNjc5IDgwLjMwMSAyNS42NzIgNzkuODg5IDI0LjQ5NEM3OS40NzYgMjMuMzE1IDc5LjI2OSAyMi4wMSA3OS4yNjkgMjAuNTc4Qzc5LjI2OSAxOS4xNDUgNzkuNDczIDE3Ljg0IDc5Ljg4OSAxNi42NjJDODAuMzAxIDE1LjQ4NCA4MC44ODQgMTQuNDc2IDgxLjYzNyAxMy42MzlDODIuMzk0OSAxMi43OTg3IDgzLjMyNzMgMTIuMTM0MiA4NC4zNjkgMTEuNjkyQzg1LjQzNiAxMS4yMyA4Ni42MTQgMTEgODcuOTAzIDExQzkwLjU3IDExIDkyLjU5NSAxMS42NDIgOTMuOTc3IDEyLjkyNkw5Ny4yNTggOS42NDQ5OUM5NC43NzQgNy43MTA5OSA5MS42MzMgNi43Mzk5OSA4Ny44MjkgNi43Mzk5OUM4NS43MTggNi43Mzk5OSA4My44MTEgNy4wNzQ5OSA4Mi4xMTIgNy43NDE5OUM4MC40MTMgOC40MDc5OSA3OC45NTYgOS4zNDQ5OSA3Ny43NCAxMC41NDVDNzYuNTI1IDExLjc0NyA3NS41OTIgMTMuMTk5IDc0LjkzNCAxNC44OThDNzQuMjc3IDE2LjU5NyA3My45NTEgMTguNDkxIDczLjk1MSAyMC41ODFDNzMuOTUxIDIyLjY3IDc0LjI4NiAyNC41MzQgNzQuOTUzIDI2LjI0NUM3NS42MTkgMjcuOTU3IDc2LjU2MiAyOS40MTQgNzcuNzc0IDMwLjYxN0M3OC45OSAzMS44MiA4MC40NDQgMzIuNzUzIDgyLjE0NiAzMy40MjNDODMuODQ1IDM0LjA5IDg1LjczOSAzNC40MjQgODcuODI5IDM0LjQyNEM4OS45MTkgMzQuNDI0IDkxLjcwOCAzNC4wOSA5My4zNDggMzMuNDIzQzk0LjcxOCAzMi44NjUgOTUuOTE4IDMyLjEyMSA5Ni45NDggMzEuMTkxQzk3LjE0OSAzMS4wMDggOTcuMzQ4IDMwLjgxNSA5Ny41MzcgMzAuNjJMOTMuNzAxIDI3Ljg4NUw5My42OTggMjcuODc2Wk0xMTAuODAyIDE0LjAxNUMxMDkuMTk5IDE0LjAxNSAxMDYuODM2IDE0LjQ3MSAxMDUuNjExIDE2LjE1OEwxMDUuNTM3IDYuMDE1OTlIMTAwLjc2NVYzMy45MzlIMTA1LjcyVjIyLjY0MUMxMDUuNzcxIDIxLjQ2MDcgMTA2LjI4OCAyMC4zNDg4IDEwNy4xNTcgMTkuNTQ4OUMxMDguMDI3IDE4Ljc0OTEgMTA5LjE3OCAxOC4zMjY2IDExMC4zNTggMTguMzc0QzExMy4zOTcgMTguMzc0IDExNC4yNjggMjEuMTU5IDExNC4yNjggMjIuNjQxVjMzLjkzOUgxMTkuMjIzVjIxLjA1OUMxMTkuMjIzIDIxLjA1OSAxMTkuMTQyIDE0LjAxNSAxMTAuODAyIDE0LjAxNVpNMTczLjc2MyAxNC4zNThIMTY5Ljk5OVY4LjcxNDk5SDE2NS4wNDhWMTQuMzU4SDE2MS4yODRWMTguOTE2SDE2NS4wNDhWMzQuMDAzSDE2OS45OTlWMTguOTE2SDE3My43NjNWMTQuMzU4Wk0xOTAuNzg3IDI1LjI2MkMxOTAuMTI5IDI0LjUwMTQgMTg5LjMwNyAyMy44OTk0IDE4OC4zODQgMjMuNTAxQzE4Ny40ODggMjMuMTE3IDE4Ni4zMzEgMjIuNzMyIDE4NC45NDggMjIuMzY0QzE4NC4xNjUgMjIuMTQzOSAxODMuMzkgMjEuODk3OCAxODIuNjIzIDIxLjYyNkMxODIuMTYzIDIxLjQ2MjEgMTgxLjc0MSAyMS4yMDY2IDE4MS4zODMgMjAuODc1QzE4MS4yMzUgMjAuNzQyMSAxODEuMTE4IDIwLjU3ODkgMTgxLjAzOSAyMC4zOTY0QzE4MC45NjEgMjAuMjE0IDE4MC45MjIgMjAuMDE2NiAxODAuOTI3IDE5LjgxOEMxODAuOTI3IDE5LjI3MiAxODEuMTU2IDE4Ljg0NCAxODEuNjI1IDE4LjUxQzE4Mi4xMjEgMTguMTU2IDE4Mi44NjIgMTcuOTc2IDE4My44MjYgMTcuOTc2QzE4NC43OSAxNy45NzYgMTg1LjU4NyAxOC4yMDkgMTg2LjE0OCAxOC42NjhDMTg2LjcwNiAxOS4xMjQgMTg3LjAwNyAxOS43MjUgMTg3LjA3MiAyMC41TDE4Ny4wOTQgMjAuNzgySDE5MS42MzNMMTkxLjYxNyAyMC40NkMxOTEuNTIxIDE4LjQ4NSAxOTAuNzcxIDE2LjkgMTg5LjM4NSAxNS43NUMxODguMDEyIDE0LjYxMiAxODYuMTg1IDE0LjAzMyAxODMuOTYyIDE0LjAzM0MxODIuNDc3IDE0LjAzMyAxODEuMTQxIDE0LjI4NyAxNzkuOTk0IDE0Ljc4NkMxNzguODMxIDE1LjI5MSAxNzcuOTI2IDE1Ljk5NSAxNzcuMjk2IDE2Ljg4MkMxNzYuNjczIDE3Ljc0NTUgMTc2LjMzOCAxOC43ODQgMTc2LjM0MSAxOS44NDlDMTc2LjM0MSAyMS4xNjcgMTc2LjY5OCAyMi4yNDkgMTc3LjM5OSAyMy4wNjRDMTc4LjA2IDIzLjg0MzIgMTc4Ljg5OCAyNC40NTM0IDE3OS44NDIgMjQuODQ0QzE4MC43NDQgMjUuMjE2IDE4MS45MjggMjUuNjA3IDE4My4zNjEgMjZDMTg0LjgwNiAyNi40MSAxODUuODcyIDI2Ljc4NSAxODYuNTMgMjcuMTIzQzE4Ny4xIDI3LjQxNCAxODcuMzc5IDI3Ljg0NSAxODcuMzc5IDI4LjQ0NEMxODcuMzc5IDI5LjA0MiAxODcuMTIyIDI5LjQ2NyAxODYuNTk1IDI5LjgzOUMxODYuMDQzIDMwLjIyNiAxODUuMjM3IDMwLjQyNSAxODQuMjAxIDMwLjQyNUMxODMuMTY2IDMwLjQyNSAxODIuMzk0IDMwLjE3NCAxODEuNzQ5IDI5LjY3NEMxODEuMTEzIDI5LjE4MSAxODAuNzcyIDI4LjU4OSAxODAuNzEgMjcuODY0TDE4MC42ODUgMjcuNTgySDE3Ni4wMTNMMTc2LjAyNSAyNy45MDFDMTc2LjA2NyAyOS4wOTU1IDE3Ni40NzIgMzAuMjQ4NyAxNzcuMTg4IDMxLjIwNkMxNzcuOTA3IDMyLjE4IDE3OC44OTMgMzIuOTU4IDE4MC4xMTggMzMuNTE5QzE4MS4zMzYgMzQuMDc3IDE4Mi43MzIgMzQuMzYyIDE4NC4yNjYgMzQuMzYyQzE4NS44MDEgMzQuMzYyIDE4Ny4xMDkgMzQuMTA4IDE4OC4yMzggMzMuNjA5QzE4OS4zNzYgMzMuMTA0IDE5MC4yNzIgMzIuMzk0IDE5MC45MDEgMzEuNDk0QzE5MS41MzQgMzAuNTkyIDE5MS44NTMgMjkuNTU0IDE5MS44NTMgMjguNDAzQzE5MS44MjggMjcuMTEgMTkxLjQ2NiAyNi4wNTMgMTkwLjc3NyAyNS4yNjJIMTkwLjc4N1oiIGZpbGw9IiM5QjlCOUIiLz4KPHBhdGggZD0iTTI0MS45ODIgMjUuNjU4MlYxNy43MTE3SDIyOC40NDFMMjIwLjQ5NCAyNS42NTgySDI0MS45ODJaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNTcuMjM5IDUuOTUwODFIMjQwLjI2NUwyMzIuMjU1IDEzLjg5NzNIMjU3LjIzOVY1Ljk1MDgxWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjEyLjYxMSAzMy42MDQ4TDIxNi42OCAyOS41MzYxSDIzMC40MTJWMzcuNDgyN0gyMTIuNjExVjMzLjYwNDhaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yMTUuNTk5IDIxLjc4MDNIMjI0LjM3MkwyMzIuMzgyIDEzLjgzMzdIMjE1LjU5OVYyMS43ODAzWiIgZmlsbD0iIzlCOUI5QiIvPgo8cGF0aCBkPSJNMjA2IDMzLjYwNDdIMjEyLjYxMUwyMjAuNDk0IDI1LjY1ODJIMjA2VjMzLjYwNDdaIiBmaWxsPSIjOUI5QjlCIi8+CjxwYXRoIGQ9Ik0yNDAuMjY1IDUuOTUwODFMMjM2LjE5NyAxMC4wMTk0SDIxMC4yNTlWMi4wNzI4OEgyNDAuMjY1VjUuOTUwODFaIiBmaWxsPSIjOUI5QjlCIi8+Cjwvc3ZnPgo=",width:170,height:25,right:25,bottom:50,opacity:.7}}));const c={...t.chartOptions.specialOverrides},u={...t.chartOptions.optionMetadata},d=await(this.chart?.ctx.dataService.getData()),h=this.factoryApi.create(l,s,c,u,d);await h.setState(o),h.chart?.ctx.zoomManager.updateZoom("chartProxy",t.ctx.zoomManager.getZoom()),h.chart?.ctx.legendManager.clearData(),h.chart?.ctx.legendManager.update(t.ctx.legendManager.getData()),t.series.forEach((e,t)=>{h.chart.series[t].visible=e.visible});const p=[];for(const g of t.modulesManager.legends())p.push(g.legend.pagination?.currentPage??0);for(const g of h.chart.modulesManager.legends()){const e=p.shift()??0;g.legend.pagination&&g.legend.pagination.setPage(e)}return h.chart?.update(0,{forceNodeDataRefresh:!0}),await h.waitForUpdate(),h}getEnabledOriginators(){if(!this.chart)return[];const{chartOptions:{processedOptions:e,optionMetadata:t},ctx:{annotationManager:n,chartTypeOriginator:i,zoomManager:r,legendManager:o}}=this.chart,a=[];"annotations"in e&&e.annotations?.enabled&&a.push(n);return"price-volume"===t.presetType&&a.push(i),(e.navigator?.enabled||e.zoom?.enabled)&&a.push(r),"legend"in this.chart&&a.push(o),a}async setStateOriginators(e,t){this.factoryApi.caretaker.restore(e,...t),this.chart?.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),await(this.chart?.waitForUpdate())}};oB.chartInstances=new WeakMap,px([cw({oldValue(e){e.destroyed||(e.publicApi=void 0),oB.chartInstances.delete(e)},newValue(e){e&&(e.publicApi=this,oB.chartInstances.set(e,this))}})],oB.prototype,"chart",2);var aB=oB,sB=class extends gx{constructor(e){super(),this.ctx=e,this.localeText=void 0}};px([uw(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),zS],sB.prototype,"localeText",2),px([uw(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),zS],sB.prototype,"getLocaleText",2);var lB={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new sB(e)},cB=class extends gx{constructor(e){super(),this.ctx=e,this.rectNode=new Yw,this.textNode=new Xw,this.fill="white",this.node=this.createNode(),this.node.append([this.rectNode,this.textNode]),this.visible=!0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",e=>this.onLayoutComplete(e)))}createNode(){return new PM({name:"background",zIndex:0})}onLayoutComplete(e){const{width:t,height:n}=e.chart;this.rectNode.width=t,this.rectNode.height=n}};px([zS,lw("node","visible")],cB.prototype,"visible",2),px([zS,lw("rectNode","fill")],cB.prototype,"fill",2),px([zS],cB.prototype,"image",2),px([zS,lw("textNode")],cB.prototype,"text",2);var uB={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new cB(e)},dB=class extends _S{constructor(e){super(),this.node=e,this.enabled=!1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=1}};function hB(e){let{orientation:t,bboxes:n,maxHeight:i,maxWidth:r,itemPaddingY:o=0,itemPaddingX:a=0,forceResult:s=!1}=e;const l="horizontal"===t,c={max:l?r:i,fn:l?e=>e.width:e=>e.height,padding:l?a:o},u={max:l?i:r,fn:l?e=>e.height:e=>e.width,padding:l?o:a};let d=0;const h=[];for(;d<n.length;){const e=pB(n.slice(d),d,c,u,s);if(!e)return;d+=e.processedBBoxCount,h.push(e.pageIndices)}return function(e,t,n,i,r){let o=0,a=0;const s=e.map(e=>{"horizontal"===t&&(e=function(e){const t=[];for(const n of e[0])t.push([]);return e.forEach((e,n)=>{e.forEach((e,i)=>{t[i][n]=e})}),t}(e));let s=0;const l=e.map(e=>{const t=e.map(e=>(s=Math.max(e,s),n[e]));let o=0,a=0;return t.forEach(e=>{o+=e.height+i,a=Math.max(a,e.width+r)}),{indices:e,bboxes:t,columnHeight:Math.ceil(o),columnWidth:Math.ceil(a)}});let c=0,u=0;return l.forEach(e=>{c+=e.columnWidth,u=Math.max(u,e.columnHeight)}),o=Math.max(c,o),a=Math.max(u,a),{columns:l,startIndex:e[0][0],endIndex:s,pageWidth:c,pageHeight:u}});return{pages:s,maxPageWidth:o,maxPageHeight:a}}(h,t,n,o,a)}function pB(e,t,n,i,r){let o=function(e,t){const n=e.length;let i=0;for(let r=0;r<n;r++)if(i+=t.fn(e[r])+t.padding,i>t.max){return n/r<2?Math.ceil(n/2):r}return n}(e,n);if(o<1){if(!r)return;o=1}let a=o;for(;a>=1;){const o=gB(e,t,a,n,i,r);if(null==o&&a<=1)return;if(null==o){a--;continue}if("number"===typeof o){if(o<=1)return;a=o<a&&o>1?o:a,a--;continue}return{processedBBoxCount:o.length*o[0].length,pageIndices:o}}}function gB(e,t,n,i,r,o){const a=[];let s=0,l=0,c=[];const u=[];for(let d=0;d<e.length;d++){const h=(d+n)%n;0===h&&(s+=l,l=0,c.length>0&&a.push(c),c=[]);const p=i.fn(e[d])+i.padding;u[h]=Math.max(u[h]??0,p),l=Math.max(l,r.fn(e[d])+r.padding);const g=s+l,f=!o||a.length>0;if(g>r.max&&f){c=[];break}const m=u.reduce((e,t)=>e+t,0);if(m>i.max&&!o)return u.length<n?u.length:void 0;c.push(d+t)}return c.length>0&&a.push(c),a.length>0?a:void 0}px([cw({changeValue(e){this.node.strokeWidth=e?this.strokeWidth:0}}),zS],dB.prototype,"enabled",2),px([lw("node","stroke"),zS],dB.prototype,"stroke",2),px([lw("node","strokeOpacity"),zS],dB.prototype,"strokeOpacity",2),px([cw({changeValue(e){this.enabled?this.node.strokeWidth=e:this.node.strokeWidth=0}}),zS],dB.prototype,"strokeWidth",2);var fB=class extends _S{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};px([zS],fB.prototype,"color",2),px([zS],fB.prototype,"fontStyle",2),px([zS],fB.prototype,"fontWeight",2),px([zS],fB.prototype,"fontSize",2),px([zS],fB.prototype,"fontFamily",2);var mB=class extends _S{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};px([zS],mB.prototype,"size",2),px([zS],mB.prototype,"fill",2),px([zS],mB.prototype,"fillOpacity",2),px([zS],mB.prototype,"stroke",2),px([zS],mB.prototype,"strokeWidth",2),px([zS],mB.prototype,"strokeOpacity",2);var yB=class extends _S{constructor(e){super(),this.parent=e,this.shape="triangle",this.size=15,this.padding=8}};px([cw({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],yB.prototype,"shape",2),px([zS],yB.prototype,"size",2),px([zS],yB.prototype,"padding",2);var bB=class extends _S{constructor(e,t){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.id=Kv(this),this.marker=new yB(this),this.activeStyle=new mB,this.inactiveStyle=new mB,this.highlightStyle=new mB,this.label=new fB,this.group=new _M({name:"pagination"}),this.labelNode=new Xw,this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this.nextButton=new bN,this.previousButton=new bN,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]),this.update(),this.updateMarkers()}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){if(this._orientation=e,"horizontal"===e)this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;else this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}get orientation(){return this._orientation}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){const{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){const e=this.labelNode.getBBox();this.nextButton.translationX=e.width+2*(this.marker.size/2+this.marker.padding)}updateLabel(){const{currentPage:e,totalPages:t,labelNode:n,label:{color:i,fontStyle:r,fontWeight:o,fontSize:a,fontFamily:s}}=this;n.text=`${e+1} / ${t}`,n.fill=i,n.fontStyle=r,n.fontWeight=o,n.fontSize=a,n.fontFamily=s}updateMarkers(){const{nextButton:e,previousButton:t,nextButtonDisabled:n,previousButtonDisabled:i,activeStyle:r,inactiveStyle:o,highlightStyle:a,highlightActive:s}=this,l=(e,t)=>t?o:e===s?a:r;this.updateMarker(e,l("next",n)),this.updateMarker(t,l("previous",i))}updateMarker(e,t){const{shape:n,size:i}=this.marker;e.shape=n,e.size=i,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){const{currentPage:e,totalPages:t}=this,n=0===t,i=e===t-1,r=0===e;this.nextButtonDisabled=i||n,this.previousButtonDisabled=r||n}setPage(e){e=Ev(0,e,Math.max(0,this.totalPages-1)),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}getCursor(e){return{previous:this.previousButtonDisabled,next:this.nextButtonDisabled}[e]?void 0:"pointer"}onClick(e,t){e.preventDefault(),"next"!==t||this.nextButtonDisabled?"previous"!==t||this.previousButtonDisabled||(this.decrementPage(),this.onPaginationChanged()):(this.incrementPage(),this.onPaginationChanged())}onMouseHover(e){this.highlightActive=e,this.updateMarkers(),this.chartUpdateCallback(7)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(7)}attachPagination(e){e.append(this.group)}getBBox(){return this.group.getBBox()}computeCSSBounds(){return{prev:OM.toCanvas(this.previousButton),next:OM.toCanvas(this.nextButton)}}};bB.className="Pagination",px([zS],bB.prototype,"marker",2),px([zS],bB.prototype,"activeStyle",2),px([zS],bB.prototype,"inactiveStyle",2),px([zS],bB.prototype,"highlightStyle",2),px([zS],bB.prototype,"label",2);var vB=class{constructor(e,t){this.dirty=!0,this.itemList=e.proxyInteractionService.createProxyContainer({type:"list",domManagerId:`${t}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"}}),this.paginationGroup=e.proxyInteractionService.createProxyContainer({type:"group",domManagerId:`${t}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"}}),this.itemDescription=by("p"),this.itemDescription.style.display="none",this.itemDescription.id=Zv(),this.itemDescription.textContent=this.getItemAriaDescription(e.localeManager),this.itemList.getElement().append(this.itemDescription)}initLegendList(e){if(!this.dirty)return;const{ctx:t,itemSelection:n,datumReader:i,itemListener:r}=e,o=t.localeManager,a=n.length;n.each((e,n,s)=>{e.proxyButton?.destroy(),e.proxyButton=t.proxyInteractionService.createProxyElement({type:"listswitch",textContent:this.getItemAriaText(o,i.getItemLabel(n),s,a),ariaChecked:!!e.datum.enabled,ariaDescribedBy:this.itemDescription.id,parent:this.itemList});const l=e.proxyButton;l.addListener("click",t=>r.onClick(t.sourceEvent,e.datum,l)),l.addListener("dblclick",t=>r.onDoubleClick(t.sourceEvent,e.datum)),l.addListener("mouseenter",t=>r.onHover(t.sourceEvent,e)),l.addListener("mouseleave",()=>r.onLeave()),l.addListener("contextmenu",t=>r.onContextClick(t,e)),l.addListener("blur",()=>r.onLeave()),l.addListener("focus",t=>r.onHover(t.sourceEvent,e)),l.addListener("drag-start",()=>{})}),this.dirty=!1}update(e){e.visible&&(this.initLegendList(e),this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!0)),this.updateVisibility(e.visible)}updateVisibility(e){this.itemList.setHidden(!e),this.paginationGroup.setHidden(!e)}updateItemProxyButtons(e){let{itemSelection:t,group:n,pagination:i,interactive:r}=e;const o=OM.toCanvas(n);this.itemList.setBounds(o);const a=Math.max(...t.nodes().map(e=>e.getBBox().height));t.each((e,t)=>{if(e.proxyButton){const t=e.pageIndex===i.currentPage,{x:n,y:s,height:l,width:c}=OM.toCanvas(e),u=(a-l)/2,d={x:n-o.x,y:s-u-o.y,height:a,width:c},h=r&&t;e.proxyButton.setCursor("pointer"),e.proxyButton.setEnabled(h),e.proxyButton.setPointerEvents(h?void 0:"none"),e.proxyButton.setBounds(d)}})}updatePaginationProxyButtons(e,t){const{pagination:n}=e;if(this.paginationGroup.setHidden(!n.visible),t&&"ctx"in e){const{ctx:t,oldPages:i,newPages:r}=e,o=(i?.length??r.length)>1,a=r.length>1;o!==a&&(a?(this.prevButton=t.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.paginationGroup}),this.prevButton.addListener("click",t=>this.onPageButton(e,t,"previous")),this.prevButton.addListener("mouseenter",()=>n.onMouseHover("previous")),this.prevButton.addListener("mouseleave",()=>n.onMouseHover(void 0)),this.nextButton??(this.nextButton=t.proxyInteractionService.createProxyElement({type:"button",textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.paginationGroup})),this.nextButton.addListener("click",t=>this.onPageButton(e,t,"next")),this.nextButton.addListener("mouseenter",()=>n.onMouseHover("next")),this.nextButton.addListener("mouseleave",()=>n.onMouseHover(void 0))):(this.nextButton?.destroy(),this.prevButton?.destroy(),this.nextButton=void 0,this.prevButton=void 0)),this.paginationGroup.setAriaHidden(!a||void 0)}if(this.prevButton&&this.nextButton){const{prev:e,next:t}=n.computeCSSBounds(),i=Sx.merge([e,t]);e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,this.paginationGroup.setBounds(i),this.prevButton.setBounds(e),this.nextButton.setBounds(t),this.prevButton.setEnabled(0!==n.currentPage),this.nextButton.setEnabled(n.currentPage!==n.totalPages-1),this.nextButton.setCursor(n.getCursor("next")),this.prevButton.setCursor(n.getCursor("previous"))}}onPageButton(e,t,n){e.pagination.onClick(t.sourceEvent,n),this.updatePaginationProxyButtons(e,!1)}onDataUpdate(e,t){this.dirty=e.length!==t.length||e.some((n,i,r)=>{const[o,a]=[t[i],e[i]];return o.id!==a.id})}onLocaleChanged(e,t,n){const i=t.length;t.each((t,r,o)=>{let{proxyButton:a}=t;const s=a?.getElement();if(null!=s){const t=n.getItemLabel(r);s.textContent=this.getItemAriaText(e,t,o,i)}}),this.itemDescription.textContent=this.getItemAriaDescription(e)}onPageChange(e){this.updateItemProxyButtons(e),this.updatePaginationProxyButtons(e,!1)}getItemAriaText(e,t,n,i){return n>=0&&t?(n++,e.t("ariaLabelLegendItem",{label:t,index:n,count:i})):e.t("ariaLabelLegendItemUnknown")}getItemAriaDescription(e){return e.t("ariaDescriptionLegendItem")}};function xB(e,t,n){let{itemId:i,seriesId:r,label:{text:o}}=t;const a={defaultPrevented:!1,apiEvent:{type:e,itemId:i,seriesId:r,text:o,event:n,preventDefault:()=>a.defaultPrevented=!0}};return a}var SB=class extends _M{constructor(){super({name:"markerLabelGroup"}),this.symbolsGroup=this.appendChild(new PM({name:"legend-markerLabel-symbols"})),this.label=this.appendChild(new Xw),this.enabled=!0,this.pageIndex=NaN,this.spacing=0,this.length=0,this.isCustomMarker=!1,this.marker=this.symbolsGroup.appendChild(new bN({zIndex:1})),this.line=this.symbolsGroup.appendChild(new uA({zIndex:0}));const{label:e,line:t,symbolsGroup:n}=this;t.visible=!1,n.renderToOffscreenCanvas=!0,n.optimizeForInfrequentRedraws=!0,e.textBaseline="middle",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.fill="black",e.y=1}destroy(){super.destroy(),this.proxyButton?.destroy()}setEnabled(e){this.enabled=e,this.refreshVisibilities()}getTextMeasureBBox(){return this.layout(),Sx.merge([this.symbolsGroup.getBBox(),this.label.getTextMeasureBBox()])}refreshVisibilities(){const e=this.enabled?1:.5;this.label.opacity=e,this.opacity=e}layout(){const{marker:e,line:t,length:n,isCustomMarker:i}=this;let r=0,o=0;if(e.visible){const{size:t}=e,a=bN.anchor(e.shape);r=(a.x-.5)*t+n/2,o=(a.y-.5)*t,i?(e.x=0,e.y=0,e.translationX=r,e.translationY=o):(e.x=r,e.y=o,e.translationX=0,e.translationY=0)}t.visible&&(t.x1=0,t.x2=n,t.y1=0,t.y2=0)}preRender(e){const t=super.preRender(e);return this.layout(),t}layoutLabel(){const{length:e,spacing:t}=this;this.label.x=e+t}computeBBox(){return this.layout(),super.computeBBox()}};function MB(e){const{placement:t="bottom",floating:n=!1,xOffset:i=0,yOffset:r=0}="string"===typeof e?{placement:e,floating:!1}:e;return{placement:t,floating:n,xOffset:i,yOffset:r}}SB.className="MarkerLabel",px([lw("label")],SB.prototype,"text",2),px([lw("label")],SB.prototype,"fontStyle",2),px([lw("label")],SB.prototype,"fontWeight",2),px([lw("label")],SB.prototype,"fontSize",2),px([lw("label")],SB.prototype,"fontFamily",2),px([lw("label","fill")],SB.prototype,"color",2),px([uw(e=>e.layoutLabel())],SB.prototype,"spacing",2),px([uw(e=>e.layoutLabel())],SB.prototype,"length",2),px([Jx()],SB.prototype,"isCustomMarker",2);var wB=class extends _S{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};px([zS],wB.prototype,"maxLength",2),px([zS],wB.prototype,"color",2),px([zS],wB.prototype,"fontStyle",2),px([zS],wB.prototype,"fontWeight",2),px([zS],wB.prototype,"fontSize",2),px([zS],wB.prototype,"fontFamily",2),px([zS],wB.prototype,"formatter",2);var kB=class extends _S{constructor(){super(...arguments),this.shape=void 0,this.size=15,this.padding=8}};px([zS],kB.prototype,"shape",2),px([zS],kB.prototype,"size",2),px([zS],kB.prototype,"padding",2),px([zS],kB.prototype,"strokeWidth",2),px([zS],kB.prototype,"enabled",2);var IB=class extends _S{};px([zS],IB.prototype,"strokeWidth",2),px([zS],IB.prototype,"length",2);var CB=class extends _S{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new kB,this.label=new wB,this.line=new IB}};px([zS],CB.prototype,"maxWidth",2),px([zS],CB.prototype,"paddingX",2),px([zS],CB.prototype,"paddingY",2),px([zS],CB.prototype,"showSeriesStroke",2),px([zS],CB.prototype,"marker",2),px([zS],CB.prototype,"label",2),px([zS],CB.prototype,"line",2);var DB=class extends _S{};px([zS],DB.prototype,"legendItemClick",2),px([zS],DB.prototype,"legendItemDoubleClick",2);var AB={type:"gradient",bounds:"item",gradient:"linear",colorStops:[{color:"black"}],rotation:0,reverse:!1},TB={type:"pattern",pattern:"forward-slanted-lines",width:8,height:8,padding:1,fill:"black",fillOpacity:1,backgroundFill:"white",backgroundFillOpacity:1,stroke:"black",strokeOpacity:1,strokeWidth:1,rotation:0,scale:1},LB={type:"image",backgroundFill:"black",backgroundFillOpacity:1,rotation:0,repeat:"no-repeat",fit:"contain",width:8,height:8},NB=class extends _S{constructor(e){super(),this.ctx=e,this.id=Kv(this),this.group=new _M({name:"legend",zIndex:16}),this.itemSelection=cA.select(this.group,SB),this.containerNode=this.group.appendChild(new Yw({name:"legend-container"})),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new CB,this.listeners=new DB,this.enabled=!0,this.position="bottom",this.border=new dB(this.containerNode),this.cornerRadius=0,this.fillOpacity=1,this.padding=4,this.spacing=20,this.cleanup=new Nv,this.size=[0,0],this._visible=!0,this.pagination=new bB(t=>e.updateService.update(t),e=>this.updatePageNumber(e)),this.pagination.attachPagination(this.group);const{items:t}=e.contextMenuRegistry.builtins;t["toggle-series-visibility"].action=e=>this.contextToggleVisibility(e),t["toggle-other-series"].action=e=>this.contextToggleOtherSeries(e),this.cleanup.register(e.eventsHub.on("legend:change",this.onLegendDataChange.bind(this)),e.layoutManager.registerElement(1,e=>this.positionLegend(e)),e.eventsHub.on("locale:change",()=>this.onLocaleChanged()),()=>delete t["toggle-series-visibility"].action,()=>delete t["toggle-other-series"].action,()=>this.group.remove()),this.domProxy=new vB(this.ctx,this.id),this.ctx.historyManager.addMementoOriginator(e.legendManager)}set data(e){zx(e,this._data)||(this.domProxy.onDataUpdate(this._data,e),this._data=e,this.updateGroupVisibility())}get data(){return this._data}onLegendDataChange(e){let{legendData:t=[]}=e;this.enabled&&(this.data=t.filter(e=>!e.hideInLegend))}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.cleanup.flush(),this.itemSelection.clear()}getOrientation(){return this.orientation??"horizontal"}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}getItemLabel(e){const{formatter:t}=this.item.label;if(t){const n=e.datum;return this.cachedCallWithContext(t,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId,...n&&{datum:n}})}return e.label.text}calcLayout(e,t){const{paddingX:n,paddingY:i,label:r,maxWidth:o,label:{maxLength:a=1/0,fontStyle:s,fontWeight:l,fontSize:c,fontFamily:u}}=this.item,d=[...this.data];this.reverseOrder&&d.reverse(),this.itemSelection.update(d);const h=[],p=Tw.getMeasurer({font:r}),g=o??.8*e,{markerWidth:f,anyLineEnabled:m}=this.calculateMarkerWidth();if(this.itemSelection.each((e,t)=>{e.fontStyle=s,e.fontWeight=l,e.fontSize=c,e.fontFamily=u;const n=this.updateMarkerLabel(e,t,f,m),i=t.itemId??t.id,r=(this.getItemLabel(t)??"<unknown>").replace(/\r?\n/g," ");e.text=this.truncate(r,a,g,n,p,i),h.push(e.getTextMeasureBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};[e,t]=this.updateContainer(e,t);const y=this.size,b=this.oldSize;y[0]=e,y[1]=t,y[0]===b[0]&&y[1]===b[1]||(b[0]=y[0],b[1]=y[1]);const{pages:v,maxPageHeight:x,maxPageWidth:S}=this.updatePagination(h,e,t),M=this.pages;this.pages=v,this.maxPageSize=[S-n,x-i];const w=this.pagination.currentPage,k=this.pages[w];return this.pages.length<1||!k?(this.visible=!1,{oldPages:M}):(this.visible=!0,this.updatePositions(w),this.update(),{oldPages:M})}isCustomMarker(e,t){return e&&void 0!==t&&"string"!==typeof t}calcSymbolsEnabled(e){const{showSeriesStroke:t,marker:n}=this.item,i=!!n.enabled||!t||(e.marker.enabled??!0);return{markerEnabled:i,lineEnabled:!(!e.line||!t),isCustomMarker:this.isCustomMarker(i,e.marker.shape)}}calcSymbolsLengths(e,t,n){const{marker:i,line:r}=this.item;let o;const{shape:a}=e.marker;if(this.isCustomMarker(t,a)){const e=new bN;e.shape=a,e.updatePath();const t=e.getBBox();o=Math.max(t.width,t.height)}return{markerLength:t?i.size:0,lineLength:n?r.length??25:0,customMarkerSize:o}}calculateMarkerWidth(){let e=0,t=!1;return this.itemSelection.each((n,i)=>{const{symbol:r}=i,{lineEnabled:o,markerEnabled:a}=this.calcSymbolsEnabled(r),{markerLength:s,lineLength:l,customMarkerSize:c=-1/0}=this.calcSymbolsLengths(r,a,o);e=Math.max(e,l,c,s),t||(t=o)}),{markerWidth:e,anyLineEnabled:t}}updateMarkerLabel(e,t,n,i){const{marker:r,paddingX:o}=this.item,{symbol:a}=t;let s=o;const{markerEnabled:l,isCustomMarker:c}=this.calcSymbolsEnabled(a),u=r.padding;(l||i)&&(s+=u+n);const{marker:d,line:h}=e;return d.visible=l,d.visible&&(d.shape=r.shape??a.marker.shape??"square",d.size=r.size,JL(d,this.getMarkerStyles(a))),h.visible=i,h.visible&&JL(h,this.getLineStyles(a)),e.length=n,e.spacing=u,e.isCustomMarker=c,s}updateContainer(e,t){const n=this.getContainerStyles();return this.containerNode.width=0,this.containerNode.height=0,JL(this.containerNode,n),this.containerNode.cornerRadius=n.cornerRadius,[e-=2*n.strokeWidth+n.padding.left+n.padding.right,t-=2*n.strokeWidth+n.padding.top+n.padding.bottom]}truncate(e,t,n,i,r,o){let a=!1;e.length>t&&(e=e.substring(0,t),a=!0);const s=Jw.truncateLine(e,r,n-i,a);return s.endsWith(Nw.EllipsisChar)?this.truncatedItems.add(o):this.truncatedItems.delete(o),s}updatePagination(e,t,n){const i=this.getOrientation(),r=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=i,this.pagination.translationX=0,this.pagination.translationY=0;const{pages:o,maxPageHeight:a,maxPageWidth:s,paginationBBox:l,paginationVertical:c}=this.calculatePagination(e,t,n),u=o.findIndex(e=>e.endIndex>=r);this.pagination.currentPage=Ev(0,u,o.length-1);const{paddingX:d,paddingY:h}=this.item,p=s-d,g=a-h;let f=0,m=-l.y-this.item.marker.size/2;c?m+=g+8:(f+=-l.x+p+8,m+=(g-l.height)/2),this.pagination.translationX=f,this.pagination.translationY=m,this.pagination.update(),this.pagination.updateMarkers();let y=0;return this.itemSelection.each((e,t,n)=>{n>(o[y]?.endIndex??1/0)&&y++,e.pageIndex=y}),{maxPageHeight:a,maxPageWidth:s,pages:o}}calculatePagination(e,t,n){const{paddingX:i,paddingY:r}=this.item,{placement:o}=MB(this.position),a=this.getOrientation(),s=["left","left-top","left-bottom","right","right-top","right-bottom"].includes(o);let l=this.pagination.getBBox(),c=new Sx(0,0,0,0),u=[],d=0,h=0,p=0;const g=e=>e.width===l.width&&e.height===l.height,f=void 0!==this.maxWidth&&void 0!==this.maxHeight;do{if(p++>10){Gm.warn("unable to find stable legend layout.");break}l=c;const o=t-(s?0:l.width),g=hB({orientation:a,bboxes:e,maxHeight:n-(s?l.height:0),maxWidth:o,itemPaddingY:r,itemPaddingX:i,forceResult:f});u=g?.pages??[],d=g?.maxPageWidth??0,h=g?.maxPageHeight??0;const m=u.length;if(this.pagination.visible=m>1,this.pagination.totalPages=m,this.pagination.update(),this.pagination.updateMarkers(),c=this.pagination.getBBox(),!this.pagination.visible)break}while(!g(c));return{maxPageWidth:d,maxPageHeight:h,pages:u,paginationBBox:c,paginationVertical:s}}updatePositions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{item:{paddingY:t},itemSelection:n,pages:i}=this;if(i.length<1||!i[e])return;const{columns:r,startIndex:o,endIndex:a}=i[e];let s=0,l=0;const c=r.length,u=r[0].indices.length,d="horizontal"===this.getOrientation(),h=r[0].bboxes[0].height+t,p=[];n.each((e,t,n)=>{if(n<o||n>a)return void(e.visible=!1);const i=n-o;let g,f;d?(g=i%c,f=Math.floor(i/c)):(g=Math.floor(i/u),f=i%u),e.visible=!0;const m=r[g];m&&(l=Math.floor(h*f),s=Math.floor(p[f]??0),p[f]=(p[f]??0)+m.columnWidth,e.translationX=s,e.translationY=l)})}updatePageNumber(e){const{itemSelection:t,group:n,pagination:i,pages:r,toggleSeries:o}=this,{startIndex:a,endIndex:s}=r[e];0===a?this.paginationTrackingIndex=0:e===r.length-1?this.paginationTrackingIndex=s:this.paginationTrackingIndex=Math.floor((a+s)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.domProxy.onPageChange({itemSelection:t,group:n,pagination:i,interactive:o}),this.ctx.updateService.update(7)}update(){const{label:{color:e}}=this.item;this.itemSelection.each((t,n)=>{t.setEnabled(n.enabled),t.color=e}),this.updateContextMenu()}updateContextMenu(){this.ctx.contextMenuRegistry.setVisible("toggle-series-visibility",this.toggleSeries),this.ctx.contextMenuRegistry.setVisible("toggle-other-series",this.toggleSeries)}getLineStyles(e){const{stroke:t,strokeOpacity:n=1,strokeWidth:i,lineDash:r}=e.line??{},o=Math.min(2,i??1);return{stroke:t,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??o,lineDash:r}}getMarkerStyles(e){let{marker:t}=e;const{fill:n,stroke:i,strokeOpacity:r=1,fillOpacity:o=1,strokeWidth:a,lineDash:s,lineDashOffset:l}=t,c=Math.min(2,a??1);return bM(n)&&(n.width=8,n.height=8,n.padding=1,n.strokeWidth=Math.min(2,n.strokeWidth??2)),vM(n)&&(n.fit="contain",n.width=void 0,n.height=void 0,n.repeat="no-repeat"),qL({fill:n,stroke:i,strokeOpacity:r,fillOpacity:o,strokeWidth:this.item.marker.strokeWidth??c,lineDash:s,lineDashOffset:l},AB,TB,LB)}getContainerStyles(){const{stroke:e,strokeOpacity:t,strokeWidth:n}=this.border,{cornerRadius:i,fill:r,fillOpacity:o,padding:a}=this,s="number"===typeof a;return qL({cornerRadius:i,fill:r,fillOpacity:o,padding:{top:s?a:a.top??0,right:s?a:a.right??0,bottom:s?a:a.bottom??0,left:s?a:a.left??0},stroke:e,strokeOpacity:t,strokeWidth:this.border.enabled?n:0},AB,TB,LB)}computePagedBBox(){const e=PM.computeChildrenBBox(this.group.excludeChildren({name:"legend-container"}));if(this.pages.length>1){const[t,n]=this.maxPageSize;e.height=Math.max(n,e.height),e.width=Math.max(t,e.width)}const{strokeWidth:t,padding:n}=this.getContainerStyles();return e.grow(n).grow(t),e}findNode(e){const{datum:t,proxyButton:n}=this.itemSelection.select(t=>t.datum?.itemId===e.itemId)[0]??{};if(void 0===t||void 0===n)throw new Error(`AG Charts - Missing required properties { datum: ${t}, proxyButton: ${JSON.stringify(n)} }`);return{datum:t,proxyButton:n}}contextToggleVisibility(e){const{datum:t,proxyButton:n}=this.findNode(e);this.doClick(e.event,t,n)}contextToggleOtherSeries(e){this.doDoubleClick(e.event,this.findNode(e).datum)}onContextClick(e,t){const{sourceEvent:n}=e,i=t.datum;this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!1:this.ctx.contextMenuRegistry.builtins.items["toggle-series-visibility"].enabled=!0;const r=this.ctx.chartService.series.length>1&&!0!==this.ctx.chartService.series[0]?.getLegendData("category")[0]?.hideToggleOtherSeries;this.ctx.contextMenuRegistry.setVisible("toggle-other-series",r);const{offsetX:o,offsetY:a}=n,{x:s,y:l}=OM.toCanvasPoint(t,o,a);this.ctx.contextMenuRegistry.dispatchContext("legend-item",{widgetEvent:e,canvasX:s,canvasY:l},{legendItem:i})}onClick(e,t,n){this.doClick(e,t,n)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e,t,n){const{listeners:{legendItemClick:i},ctx:{chartService:r,highlightManager:o},preventHidingAll:a,toggleSeries:s}=this;if(!t)return!1;const{legendType:l,seriesId:c,itemId:u,enabled:d,legendItemName:h}=t,p=r.series.find(e=>e.id===c);if(!p)return!1;let g=d;const f=xB("click",t,e);if(i&&$M([p.properties,this.ctx.chartService],i,f.apiEvent),f.defaultPrevented)return!0;if(s){if(g=!d,a&&!g){this.getVisibleItemCount()<2&&(g=!0)}n.setChecked(g),this.ctx.eventsHub.emit("legend:item-click",{legendType:l,series:p,itemId:u,enabled:g,legendItemName:h})}return g?o.updateHighlight(this.id,{series:p,itemId:u,datum:void 0,datumIndex:void 0,legendItemName:h}):o.updateHighlight(this.id),this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0,skipAnimations:t.skipAnimations??!1}),!0}onDoubleClick(e,t){this.doDoubleClick(e,t)&&e.preventDefault()}doDoubleClick(e,t){const{listeners:{legendItemDoubleClick:n},ctx:{chartService:i},toggleSeries:r}=this;if(!t)return!1;const{legendType:o,id:a,itemId:s,seriesId:l}=t,c=i.series.find(e=>e.id===a);if(!c)return!1;const u=xB("dblclick",t,e);if(n&&$M([c.properties,this.ctx.chartService],n,u.apiEvent),u.defaultPrevented)return!0;if(r){const e=i.series.flatMap(e=>e.getLegendData("category"));let t=0;const n=new Set;for(const i of e)i.enabled&&(t+=1,null!=i.legendItemName&&n.add(i.legendItemName));n.size>0&&(t=n.size);const r=e.find(e=>e.itemId===s&&e.seriesId===l);this.ctx.eventsHub.emit("legend:item-double-click",{legendType:o,series:c,itemId:s,numVisibleItems:t,enabled:r?.enabled??!1,legendItemName:r?.legendItemName})}return this.ctx.legendManager.update(),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),!0}toTooltipMeta(e,t){let n;return e instanceof FocusEvent?n=OM.toCanvas(t).computeCenter():(e.preventDefault(),n=OM.toCanvasPoint(t,e.offsetX,e.offsetY)),{canvasX:n.x,canvasY:n.y,showArrow:!1}}onHover(e,t){if(!this.enabled)throw new Error("AG Charts - onHover handler called on disabled legend");this.pagination.setPage(t.pageIndex);const n=t.datum,i=n?this.ctx.chartService.series.find(e=>e.id===n?.id):void 0;if(n&&this.truncatedItems.has(n.itemId??n.id)){const i=this.toTooltipMeta(e,t);this.ctx.tooltipManager.updateTooltip(this.id,i,[{type:"structured",title:this.getItemLabel(n)}])}else this.ctx.tooltipManager.removeTooltip(this.id);n?.enabled&&i?this.updateHighlight({series:i,itemId:n?.itemId,datum:void 0,datumIndex:void 0,legendItemName:n?.legendItemName}):this.updateHighlight()}onLeave(){this.ctx.tooltipManager.removeTooltip(this.id),this.updateHighlight()}updateHighlight(e){this.ctx.interactionManager.isState(32)?this.ctx.highlightManager.updateHighlight(this.id,e):this.ctx.interactionManager.isState(2)&&(this.pendingHighlightDatum=e,this.ctx.animationManager.onBatchStop(()=>{this.ctx.highlightManager.updateHighlight(this.id,this.pendingHighlightDatum)}))}onLocaleChanged(){this.domProxy.onLocaleChanged(this.ctx.localeManager,this.itemSelection,this)}positionLegend(e){const t=this.positionLegendScene(e);this.positionLegendDOM(t)}positionLegendScene(e){if(!this.enabled||!this.data.length)return;const{placement:t,floating:n,xOffset:i,yOffset:r}=MB(this.position),o=n?new Sx(0,0,e.width,e.height):e.layoutBox,{x:a,y:s,width:l,height:c}=o,[u,d]=this.calculateLegendDimensions(o),{oldPages:h}=this.calcLayout(u,d),p=this.computePagedBBox();if(this.visible){let e=function(e){};const u=this.spacing;let d,h;switch(t){case"top":d=(l-p.width)/2,h=0;break;case"bottom":d=(l-p.width)/2,h=c-p.height;break;case"right":d=l-p.width,h=(c-p.height)/2;break;case"left":d=0,h=(c-p.height)/2;break;case"top-right":case"right-top":d=l-p.width,h=0;break;case"top-left":case"left-top":d=0,h=0;break;case"bottom-right":case"right-bottom":d=l-p.width,h=c-p.height;break;case"bottom-left":case"left-bottom":d=0,h=c-p.height;break;default:e(t)}if(!n){let n,i;switch(t){case"top":case"top-right":case"top-left":n=p.height+u,i="top";break;case"bottom":case"bottom-right":case"bottom-left":n=p.height+u,i="bottom";break;case"left":case"left-top":case"left-bottom":n=p.width+u,i="left";break;case"right":case"right-top":case"right-bottom":n=p.width+u,i="right";break;default:e(t)}o.shrink(n,i)}d+=i,h+=r,this.group.translationX=Math.floor(a+d-p.x),this.group.translationY=Math.floor(s+h-p.y),this.containerNode.x=p.x,this.containerNode.y=p.y,this.containerNode.width=p.width,this.containerNode.height=p.height}return h}positionLegendDOM(e){const{ctx:t,itemSelection:n,pagination:i,pages:r,toggleSeries:o,group:a,listeners:{legendItemClick:s,legendItemDoubleClick:l}}=this,c=this.visible&&this.enabled,u=o||null!=l||null!=s;this.domProxy.update({visible:c,interactive:u,ctx:t,itemSelection:n,group:a,pagination:i,oldPages:e,newPages:r,datumReader:this,itemListener:this})}calculateLegendDimensions(e){const{width:t,height:n}=e,{placement:i}=MB(this.position),r=t/n;let o,a;switch(i){case"top":case"top-left":case"top-right":case"bottom":case"bottom-left":case"bottom-right":{const e=r<1?Math.min(.5,1/r*.2):.2;o=this.maxWidth?Math.min(this.maxWidth,t):t,a=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*e);break}case"left":case"left-top":case"left-bottom":case"right":case"right-top":case"right-bottom":{const e=r>1?Math.min(.5,.25*r):.25;o=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*e),a=this.maxHeight?Math.min(this.maxHeight,n):n;break}}return[o,a]}cachedCallWithContext(e){const{callbackCache:t,chartService:n}=this.ctx;for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];return t.call([this,n],e,...r)}};NB.className="Legend",px([zS],NB.prototype,"toggleSeries",2),px([zS],NB.prototype,"pagination",2),px([zS],NB.prototype,"item",2),px([zS],NB.prototype,"listeners",2),px([uw((e,t,n)=>{if(e.updateGroupVisibility(),t===n)return;const{ctx:{legendManager:i,stateManager:r}}=e;!1===n&&!0===t&&r.restoreState(i)}),zS],NB.prototype,"enabled",2),px([zS],NB.prototype,"position",2),px([zS],NB.prototype,"maxWidth",2),px([zS],NB.prototype,"maxHeight",2),px([zS],NB.prototype,"reverseOrder",2),px([zS],NB.prototype,"orientation",2),px([zS],NB.prototype,"preventHidingAll",2),px([zS],NB.prototype,"border",2),px([zS],NB.prototype,"cornerRadius",2),px([zS],NB.prototype,"fill",2),px([zS],NB.prototype,"fillOpacity",2),px([zS],NB.prototype,"padding",2),px([zS],NB.prototype,"spacing",2),px([zS],NB.prototype,"xOffset",2),px([zS],NB.prototype,"yOffset",2);var EB={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new NB(e),packageType:"community",removable:"standalone-only"},OB=class extends _S{constructor(e){super(),this.ctx=e,this.rectNode=new Yw,this.border=new dB(this.rectNode),this.cornerRadius=0,this.padding=0,this.cleanup=new Nv,this.node=this.createNode(),this.node.append([this.rectNode]),this.rectNode.fill=void 0,this.cleanup.register(e.scene.attachNode(this.node),e.eventsHub.on("layout:complete",e=>this.onLayoutComplete(e)))}destroy(){this.cleanup.flush()}getPadding(){const{border:e,padding:t}=this,n=e.enabled?e.strokeWidth:0;if("number"===typeof t){const e=t+n;return{top:e,right:e,bottom:e,left:e}}return{top:(t.top??0)+n,right:(t.right??0)+n,bottom:(t.bottom??0)+n,left:(t.left??0)+n}}createNode(){return new PM({name:"series-area-container",zIndex:4})}onLayoutComplete(e){const{x:t,y:n,width:i,height:r}=e.series.paddedRect;this.rectNode.x=t,this.rectNode.y=n,this.rectNode.width=i,this.rectNode.height=r}};px([zS],OB.prototype,"border",2),px([zS],OB.prototype,"clip",2),px([lw("rectNode","cornerRadius"),zS],OB.prototype,"cornerRadius",2),px([zS],OB.prototype,"padding",2);var RB={type:"root",optionsKey:"seriesArea",packageType:"community",chartTypes:["cartesian","polar","topology","standalone"],moduleFactory:e=>new OB(e)};function PB(e,t,n,i,r){const o=(i,r,o,a)=>{n.animate({id:`${e}_${t}_${r.id}_${i}`,groupId:e,from:o?1:0,to:1,ease:oC,collapsable:o,onUpdate(e,t){t&&"removed"!==i||(r.path.clear(!0),a(e,r),r.checkPathDirty())},onStop(){"added"===i&&(r.path.clear(!0),a(1,r),r.checkPathDirty())},phase:iA[i]})},a=new Gw,s=e=>(a.resetPathDirty(),e(0,a),a.resetPathDirty(),e(1,a),a.checkPathDirty(),a.isPathDirty()),{addPhaseFn:l,updatePhaseFn:c,removePhaseFn:u}=r;for(const d of i)n.isSkipped()||(o("removed",d,!s(u),u),o("updated",d,!s(c),c)),o("added",d,!s(l),l)}function jB(e,t,n,i,r,o){if(i.itemStyler){const a={border:i.border,color:i.color,cornerRadius:i.cornerRadius,datum:t?.datum,enabled:i.enabled,fill:i.fill,fillOpacity:i.fillOpacity,fontFamily:i.fontFamily,fontSize:i.fontSize,fontStyle:i.fontStyle,fontWeight:i.fontWeight,itemId:void 0,seriesId:e.id,padding:i.padding,highlighted:r,highlightState:o};return Bx(e.callWithContext(i.itemStyler,{...n,...a}),a)}return i}function zB(e,t,n,i,r,o,a){if(i.enabled&&r){const s=jB(e,r,n,i,o,a);t.visible=!0,t.x=r.x,t.y=r.y,t.text=r.text,t.fill=s.color,t.setAlign(r),t.setFont(s),t.setBoxing(s)}else t.visible=!1}var _B={"inside-start":{inside:!0,direction:-1,textAlignment:1},"inside-end":{inside:!0,direction:1,textAlignment:-1},"outside-start":{inside:!1,direction:-1,textAlignment:-1},"outside-end":{inside:!1,direction:1,textAlignment:1}};function BB(e){let{isUpward:t,isVertical:n,placement:i,spacing:r=0,rect:o}=e,a=o.x+o.width/2,s=o.y+o.height/2,l="center",c="middle";if("inside-center"!==i){const e=(t?1:-1)*(n?-1:1),{direction:u,textAlignment:d}=_B[i],h=.5*(u+1);if(n){s=(t?o.y+o.height:o.y)+o.height*e*h+r*d*e,c=d===e?"top":"bottom"}else{a=(t?o.x:o.x+o.width)+o.width*e*h+r*d*e,l=d===e?"left":"right"}}return{x:a,y:s,textAlign:l,textBaseline:c}}function FB(e,t,n){let{id:i}=e;for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];for(const s of o)s.cleanup();oA(i,t,n,o,{opacity:0},{opacity:1},{phase:"trailing"})}function $B(e,t,n){let{id:i}=e;for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];oA(i,t,n,o,{opacity:1},{opacity:0},{phase:"remove"})}function VB(e){return{opacity:1}}var GB=class extends _S{constructor(){super(...arguments),this._dirty=!0}markDirty(){this._dirty=!0}markClean(e){this._dirty=!1}isDirty(){return this._dirty}onChangeDetection(e){this.markDirty()}},WB=class extends GB{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};px([zS,Jx()],WB.prototype,"enabled",2),px([zS,Jx()],WB.prototype,"color",2),px([zS,Jx()],WB.prototype,"xOffset",2),px([zS,Jx()],WB.prototype,"yOffset",2),px([zS,Jx()],WB.prototype,"blur",2);var HB=class extends GB{constructor(){super(...arguments),this.enabled=!0,this.shape="circle",this.size=6,this.fillGradientDefaults=new GL,this.fillPatternDefaults=new WL,this.fillImageDefaults=new HL,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{size:e,shape:t,fill:n,fillOpacity:i,stroke:r,strokeWidth:o,strokeOpacity:a,lineDash:s,lineDashOffset:l}=this;return{size:e,shape:t,fill:n,fillOpacity:i,stroke:r,strokeWidth:o,strokeOpacity:a,lineDash:s,lineDashOffset:l}}getDiameter(){return this.size+this.strokeWidth}};px([zS,Jx()],HB.prototype,"enabled",2),px([zS,tS({equals:Qx})],HB.prototype,"shape",2),px([zS,Jx()],HB.prototype,"size",2),px([zS,tS({equals:zx})],HB.prototype,"fill",2),px([zS],HB.prototype,"fillGradientDefaults",2),px([zS],HB.prototype,"fillPatternDefaults",2),px([zS],HB.prototype,"fillImageDefaults",2),px([zS,Jx()],HB.prototype,"fillOpacity",2),px([zS,Jx()],HB.prototype,"stroke",2),px([zS,Jx()],HB.prototype,"strokeWidth",2),px([zS,Jx()],HB.prototype,"strokeOpacity",2),px([zS],HB.prototype,"lineDash",2),px([zS],HB.prototype,"lineDashOffset",2),px([zS,tS({equals:Qx})],HB.prototype,"itemStyler",2);var UB=class extends _S{constructor(){super(...arguments),this.enabled=!1}};px([zS],UB.prototype,"enabled",2);var YB=class extends _S{constructor(){super(...arguments),this.interaction=new UB,this.position=new ON,this.range=void 0,this.class=void 0}formatTooltip(e,t,n){const i=null==this.renderer?void 0:$M(e,this.renderer,n);return"string"===typeof i?{type:"raw",rawHtmlString:i}:null!=i?{type:"structured",...t,...i}:{type:"structured",...t}}};function KB(){return new YB}px([zS],YB.prototype,"enabled",2),px([zS],YB.prototype,"showArrow",2),px([zS],YB.prototype,"renderer",2),px([zS],YB.prototype,"interaction",2),px([zS],YB.prototype,"position",2),px([zS],YB.prototype,"range",2),px([zS],YB.prototype,"class",2);var ZB=class{constructor(e,t,n){this.root=new QB(e,t,n)}clear(e){this.root.clear(e)}addValue(e,t){const n={hitTester:e,value:t,distanceSquared:(t,n)=>e.distanceSquared(t,n)};this.root.addElem(n)}find(e,t){const n={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,n),n.best}},XB=class{constructor(e,t,n,i){this.nw=e,this.ne=t,this.sw=n,this.se=i}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,n){this.nw.find(e,t,n),this.ne.find(e,t,n),this.sw.find(e,t,n),this.se.find(e,t,n)}},qB=class{constructor(e,t,n){this.capacity=e,this.maxdepth=t,this.boundary=n??Sx.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(void 0===this.subdivisions?0===this.maxdepth||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,n){this.findCondition(e,t,n)&&(void 0===this.subdivisions?this.findAction(e,t,n):this.subdivisions.find(e,t,n))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(const t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){const{x:e,y:t,width:n,height:i}=this.boundary,{capacity:r}=this,o=this.maxdepth-1,a=n/2,s=i/2,l=new Sx(e,t,a,s),c=new Sx(e+a,t,a,s),u=new Sx(e,t+s,a,s),d=new Sx(e+a,t+s,a,s);return new XB(this.child(r,o,l),this.child(r,o,c),this.child(r,o,u),this.child(r,o,d))}},QB=class e extends qB{addCondition(e){const{x:t,y:n}=e.hitTester.midPoint;return this.boundary.containsPoint(t,n)}findCondition(e,t,n){const{best:i}=n;return 0!==i.distanceSquared&&this.boundary.distanceSquared(e,t)<i.distanceSquared}findAction(e,t,n){const i=bx(e,t,this.elems,n.best.distanceSquared);void 0!==i.nearest&&i.distanceSquared<n.best.distanceSquared&&(n.best=i)}child(t,n,i){return new e(t,n,i)}},JB=class extends oN{constructor(e){let{clipFocusBox:t,categoryKey:n,...i}=e;super(i),this.categoryKey=n,this.clipFocusBox=t??!0}dataCount(){return this.processedData?.dataSources?.get(this.id)?.length??0}getScaleInformation(e){let{xScale:t,yScale:n}=e;return{isContinuousX:HC.is(t),isContinuousY:HC.is(n),xScaleType:t?.type,yScaleType:n?.type}}getModulePropertyDefinitions(){const e=this.axes.x?.scale,t=this.axes.y?.scale;return this.moduleMap.mapModules(n=>n.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}async requestDataModel(e,t,n){n.props.push(...this.getModulePropertyDefinitions());const{dataModel:i,processedData:r}=await e.request(this.id,t??[],n);return this.dataModel=i,this.processedData=r,this.events.emit("data-processed",{dataModel:i,processedData:r}),{dataModel:i,processedData:r}}isProcessedDataAnimatable(){const{processedData:e}=this;if(!e)return!1;const t=e.reduced?.animationValidation;if(!t)return!0;const{orderedKeys:n,uniqueKeys:i}=t;return n&&i}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){const t=this.getNodeData();if(void 0===t||0===t.length)return;const n=this.computeFocusDatumIndex(e,t);if(void 0===n)return;const{clipFocusBox:i}=this,r=t[n],o={...e,datumIndex:n},a=this.computeFocusBounds(o);return void 0!==a?{bounds:a,clipFocusBox:i,datum:r,datumIndex:n}:void 0}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);return t.sort((e,t)=>e.datumIndex-t.datumIndex),t}isDatumEnabled(e,t){const{missing:n=!1,enabled:i=!0,focusable:r=!0}=e[t];return!n&&i&&r}computeFocusDatumIndex(e,t){const n=(e,n)=>{for(;e>=0&&!this.isDatumEnabled(t,e);)e+=n;return-1===e?void 0:e},i=(e,n)=>{for(;e<t.length&&!this.isDatumEnabled(t,e);)e+=n;return e===t.length?void 0:e};let r;const o=Ev(0,e.datumIndex,t.length-1);return r=e.datumIndexDelta<0?n(o,e.datumIndexDelta):e.datumIndexDelta>0?i(o,e.datumIndexDelta):i(o,1)??n(o,-1),void 0===r?0===e.datumIndexDelta?void 0:e.datumIndex-e.datumIndexDelta:r}dataModelPropertyIsKey(e){const{processedData:t}=this;return!!t&&t.defs.keys.some(t=>t.id===e&&!0===t.idsMap?.get(this.id)?.has(e))}keysOrValues(e){const{dataModel:t,processedData:n}=this;return t&&n?this.dataModelPropertyIsKey(e)?t.resolveKeysById(this,e,n):t.resolveColumnById(this,e,n):[]}sortOrder(e){const{dataModel:t,processedData:n}=this;if(t&&n)return this.dataModelPropertyIsKey(e)?t.getKeySortOrder(this,e,n):t.getColumnSortOrder(this,e,n)}getCategoryKey(){return this.categoryKey}getCategoryValue(e){const{processedData:t,dataModel:n}=this,i=this.getCategoryKey();if(!t||!n||!i)return;return t.invalidData?.get(this.id)?.[e]??!1?void 0:this.keysOrValues(i)[e]}datumIndexForCategoryValue(e){const{processedData:t,dataModel:n}=this,i=this.getCategoryKey();if(!t||!n||!i)return;e=e.valueOf();const r=t.invalidData?.get(this.id),o=this.keysOrValues(i);for(let a=0;a<o.length;a+=1){if(!0===r?.[a])continue;const t=o[a]?.valueOf();if(zx(e,t))return a}}},eF={x:["xKey"],y:["yKey"]},tF={x:["xName"],y:["yName"]},nF=class extends tN{constructor(e,t,n,i){super(e,t,n,i),this.xKey=i.properties.xKey,this.yKey=i.properties.yKey}},iF=class extends YL{constructor(){super(...arguments),this.pickOutsideVisibleMinorAxis=!1}};px([zS],iF.prototype,"legendItemName",2),px([zS],iF.prototype,"pickOutsideVisibleMinorAxis",2);var rF=100,oF=class extends JB{constructor(e){let{pathsPerSeries:t=["path"],pathsZIndexSubOrderOffset:n=[],datumSelectionGarbageCollection:i=!0,animationAlwaysUpdateSelections:r=!1,animationResetFns:o,propertyKeys:a,propertyNames:s,...l}=e;if(super({propertyKeys:a,propertyNames:s,canHaveAxes:!0,...l}),this.NodeEvent=nF,this.dataNodeGroup=this.contentGroup.appendChild(new PM({name:`${this.id}-series-dataNodes`,zIndex:1})),this.labelGroup=this.contentGroup.appendChild(new _M({name:`${this.id}-series-labels`})),this.labelSelection=cA.select(this.labelGroup,Xw),this.highlightSelection=cA.select(this.highlightGroup,()=>this.nodeFactory()),this.annotationSelections=new Set,this.debug=wx.create(),!a||!s)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:t,pathsZIndexSubOrderOffset:n,propertyKeys:a,propertyNames:s,animationResetFns:o,animationAlwaysUpdateSelections:r,datumSelectionGarbageCollection:i},this.paths=t.map(e=>new Gw({name:`${this.id}-${e}`})),this.datumSelection=cA.select(this.dataNodeGroup,()=>this.nodeFactory(),i),this.animationState=new yA("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:e=>{this.ctx.animationManager.isSkipped()?this.resetAllAnimation(e):this.animateWaitingUpdateReady(e)}},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:e=>this.resetAllAnimation(e),reset:"empty"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}attachSeries(e,t,n){super.attachSeries(e,t,n),this.attachPaths(this.paths)}detachSeries(e,t,n){super.detachSeries(e,t,n),this.detachPaths(this.paths)}updatedDomains(){this.animationState.transition("updateData")}attachPaths(e){for(const t of e)this.contentGroup.appendChild(t)}detachPaths(e){for(const t of e)this.contentGroup.removeChild(t)}renderToOffscreenCanvas(){const e=this.getNodeData();return null!=e&&e.length>rF}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e?this.animationState.transition("skip"):"disabled"===e&&this.animationState.transition("disable")}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}isSeriesHighlighted(e){const{series:t,legendItemName:n}=e??{},{legendItemName:i}=this.properties;return t===this||null!=i&&i===n}strokewidthChange(){const e=("strokeWidth"in this.properties&&this.properties.strokeWidth)??0,t=this.properties.highlight.highlightedSeries.strokeWidth??e,n=this.properties.highlight.highlightedItem?.strokeWidth??e;return e>n||t>n}update(e){let{seriesRect:t}=e;const{_contextNodeData:n}=this,i=this.checkResize(t),r=this.updateHighlightSelection();this.contentGroup.batchedUpdate(()=>{const e=this.updateSelections();this.updateNodes(r,i||e)});const o=this.getAnimationData(t,n);o&&(i&&this.animationState.transition("resize",o),this.animationState.transition("update",o))}updateSelections(){var e;const t=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!this.visible&&t)return!1;const{nodeDataRefresh:n}=this;if(!n&&!this.isPathOrSelectionDirty())return!1;if(n){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=this.createNodeData();const t=this.isProcessedDataAnimatable();this._contextNodeData&&((e=this._contextNodeData).animationValid??(e.animationValid=t));const{dataModel:n,processedData:i}=this;void 0!==n&&void 0!==i&&this.events.emit("data-update",{dataModel:n,processedData:i}),this.updateSeriesSelections()}return n}updateSeriesSelections(){const{datumSelection:e,labelSelection:t,paths:n}=this,i=this._contextNodeData;if(!i)return;const{nodeData:r,labelData:o,itemId:a}=i;this.updatePaths({itemId:a,contextData:i,paths:n}),this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:e}),this.labelGroup.batchedUpdate(()=>{this.labelSelection=this.updateLabelSelection({labelData:o,labelSelection:t})??t})}getShapeFillBBox(){const{axes:e}=this,t=e.x,n=e.y,[i,r]=FC(t?.range??[0,1]),[o,a]=FC(n?.range??[0,1]),s=this.getSeriesDomain("x"),l=[t?.scale.convert(s.at(0)),t?.scale.convert(s.at(-1))],c=this.getSeriesDomain("y"),u=[n?.scale.convert(c.at(0)),n?.scale.convert(c.at(-1))],[d,h]=FC(l),[p,g]=FC(u);return{axis:new Sx(i,o,r-i,a-o),series:new Sx(d,p,h-d,g-p)}}updateNodes(e,t){const{highlightSelection:n,datumSelection:i}=this,r=!this.ctx.animationManager.isSkipped(),o=this.visible&&null!=this._contextNodeData;this.contentGroup.visible=r||o,this.highlightGroup.visible=(r||o)&&e,this.updateDatumNodes({datumSelection:n,isHighlight:!0}),this.animationState.transition("highlight",n);const{dataNodeGroup:a,labelSelection:s,paths:l,labelGroup:c}=this,{itemId:u}=this.contextNodeData??{};if(this.updatePathNodes({itemId:u,paths:l,visible:o,animationEnabled:r}),a.visible=r||o,c.visible=o,!a.visible)return;const d=this.strokewidthChange()||this.hasChangesOnHighlight;(t||d)&&(this.updateDatumNodes({datumSelection:i,isHighlight:!1}),this.usesPlacedLabels||this.labelGroup.batchedUpdate(()=>{this.updateLabelNodes({labelSelection:s,isHighlight:!1})}))}getHighlightLabelData(e,t){const n=e.filter(e=>e.datum===t.datum&&e.itemId===t.itemId);return 0===n.length?void 0:n}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(){const{highlightSelection:e,_contextNodeData:t}=this;if(!t)return!1;const n=this.ctx.highlightManager?.getActiveHighlight(),i=this.isSeriesHighlighted(n)&&n?.datum?n:void 0;if(null==i)return!1;const{nodeData:r}=t,o=this.getHighlightData(r,i);return this.highlightSelection=this.updateHighlightSelectionItem({items:o,highlightSelection:e}),!0}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(const{node:e}of this.datumSelection)!0!==e.datum.missing&&(yield e)}getQuadTree(){if(void 0===this.quadtree){const{width:e,height:t}=this.ctx.scene.canvas,n=new Sx(0,0,e,t);this.quadtree=new ZB(100,10,n),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);if(0!==t.length)return t;const{x:n,y:i}=e,{dataNodeGroup:r}=this,o=r.pickNodes(n,i).filter(e=>!0!==e.datum.missing);if(0!==o.length){return o.map(e=>e.datum)}for(const a of this.moduleMap.modules()){const{datum:t}=a.pickNodeExact(e)??{};if(null!=t&&!0!==t?.missing)return[t]}return[]}pickNodeClosestDatum(e){const{x:t,y:n}=e,{axes:i,_contextNodeData:r}=this;if(!r)return;const o=i.x,a=i.y,s=t,l=n;let c,u=1/0;for(const d of r.nodeData){const{point:{x:e=NaN,y:t=NaN}={}}=d;if(isNaN(e)||isNaN(t))continue;if(!(o?.inRange(e)&&a?.inRange(t)))continue;const n=Math.max((s-e)**2+(l-t)**2,0);n<u&&(u=n,c=d)}for(const d of this.moduleMap.modules()){const t=d.pickNodeNearest(e);if(void 0!==t&&t.distanceSquared<u){u=t.distanceSquared,c=t.datum;break}}if(c){return{datum:c,distance:Math.max(Math.sqrt(u)-(c.point?.size??0)/2,0)}}}pickNodeMainAxisFirst(e,t){const{x:n,y:i}=e,{axes:r,_contextNodeData:o}=this,{pickOutsideVisibleMinorAxis:a}=this.properties;if(!o)return;const s=r.x,l=r.y;if(null==s||null==l)return;const c=[s,l].filter(e=>e.isCategoryLike()).map(e=>e.direction);if(t&&0===c.length)return;const[u="x"]=c,d=[n,i];"x"!==u&&d.reverse();const h=[1/0,1/0];let p;for(const g of o.nodeData){const{x:e=NaN,y:t=NaN}=g.point??g.midPoint??{};if(isNaN(e)||isNaN(t)||!0===g.missing)continue;const n=[s?.inRange(e,1),l?.inRange(t,1)];if("x"!==u&&n.reverse(),!n[0]||!a&&!n[1])continue;const i=[e,t];"x"!==u&&i.reverse();let r=!0;for(let o=0;o<i.length;o++){const e=Math.abs(i[o]-d[o]);if(e>h[o]){r=!1;break}e<h[o]&&(h[o]=e,h.fill(1/0,o+1,h.length))}r&&(p=g)}if(p){let t=Math.max(h[0]**2+h[1]**2-(p.point?.size??0),0);for(const n of this.moduleMap.modules()){const i=n.pickNodeMainAxisFirst(e,u);if(void 0!==i&&i.distanceSquared<t){p=i.datum,t=i.distanceSquared;break}}return{datum:p,distance:Math.sqrt(t)}}}isPathOrSelectionDirty(){return!1}shouldFlipXY(){return!1}visibleRangeIndices(e,t,n,i){let r;if(null==i){const{processedData:t,dataModel:n}=this;r=n.getColumnSortOrder(this,e,t)??1}else r=i.sortOrder;const o=this.keysOrValues(e),[a,s]=LC(r,n?.length??o.length,t,e=>{const t=n?.[e]??e;return this.xCoordinateRange(o[t],0,t)});return a<s?[a,s]:[s,a]}domainForVisibleRange(e,t,n,i,r){const{processedData:o,dataModel:a}=this,[s,l]=i,c=this.keysOrValues(n),u=this.sortOrder(n);if(null!=u){const e=this.visibleRangeIndices(n,i,r,{sortOrder:u});return a.getDomainBetweenRange(this,t,e,o)}const d=t.map(e=>this.keysOrValues(e));let h=1/0,p=-1/0;return c.forEach((e,n)=>{const[i,r]=this.xCoordinateRange(e,0,n);if(!(r<s||i>l))for(let o=0;o<t.length;o++){const e=d[o][n];h=Math.min(h,e),p=Math.max(p,e)}}),h>p?[NaN,NaN]:[h,p]}domainForClippedRange(e,t,n){const{processedData:i,dataModel:r,axes:o}=this,a=function(e){let t,n;(e instanceof rj||e instanceof sj)&&({min:t,max:n}=e);if(null==t&&null==n)return;return t??(t=-1/0),n??(n=1/0),[t,n]}(o["x"===e?"y":"x"]);if(!a)return t.flatMap(e=>r.getDomain(this,e,"value",i));const s=this.keysOrValues(n),l=r.getColumnSortOrder(this,n,i);if(null!=l){const e=function(e,t,n,i){const r=n[0].valueOf(),o=n[1].valueOf();let a=Tv(0,t-1,n=>{const o=1===e?n:t-n,a=i(o)?.valueOf();return!Number.isFinite(a)||a>=r}),s=Av(0,t-1,n=>{const r=1===e?n:t-n,a=i(r)?.valueOf();return!Number.isFinite(a)||a<=o});if(null==a||null==s)return[0,0];-1===e&&([a,s]=[t-s,t-a]);return a=Math.max(a,0),s=Math.min(s+1,t),[a,s]}(l,s.length,a,e=>s[e]);return r.getDomainBetweenRange(this,t,e,i)}const c=t.map(e=>this.keysOrValues(e)),u=a[0].valueOf(),d=a[1].valueOf(),h=[];return s.forEach((e,t)=>{const n=e.valueOf();if(n<u||n>d)return;const i=c.map(e=>e[t]);n>=u&&h.push(...i),n<=d&&h.push(...i)}),h}countVisibleItems(e,t,n,i,r){const{dataModel:o,processedData:a}=this;if(!o||!a)return 1/0;const s=this.keysOrValues(e),l=t.map(e=>o.resolveColumnById(this,e,a)),c=this.axes.x,u=this.axes.y,d=this.shouldFlipXY();if(null==i){const t=this.sortOrder(e);if(null!=t){const i=c.scale,r=i.range;i.range=[0,1];let[o,a]=this.visibleRangeIndices(e,n,void 0,{sortOrder:t});const s=this.keysOrValues(e),l=0;this.xCoordinateRange(s[o],l,o)[0]<n[0]&&(o+=1),a<s.length&&this.xCoordinateRange(s[a],l,a)[1]>n[1]&&(a-=1);const u=Math.abs(a-o);return i.range=r,u}i=[0,1]}const h=(e,t,n)=>e[0]+(n-t[0])/(t[1]-t[0])*(e[1]-e[0]),p=c.range,g=u.range,f=h(p,c.visibleRange,n[0]),m=h(p,c.visibleRange,n[1]),y=h(g,u.visibleRange,d?i[0]:i[1]),b=h(g,u.visibleRange,d?i[1]:i[0]),v=Math.round((n[0]+(n[1]-n[0])/2)*s.length);return EC(0,s.length-1,v,r,e=>{let[t,n]=this.xCoordinateRange(s[e],0,e),[i,r]=this.yCoordinateRange(l.map(t=>t[e]),0,e);return!!(Ey(t)&&Ey(n)&&Ey(i)&&Ey(r))&&(d&&([t,n,i,r]=[i,r,t,n]),t>=f&&n<=m&&i>=y&&r<=b)})}minTimeInterval(){let e;try{e=this.keysOrValues("xValue")}catch{}if(null==e||e.length>1e3)return;let t,n=1/0,i=e[0];for(let r=1;r<e.length;r++){const o=e[r];if(null!=o&&null!=i){const e=o.valueOf()-i.valueOf(),r=Math.sign(e);if(0===r)continue;if(void 0!==t&&r!==t)return;n=Math.min(n,Math.abs(e)),t=r}i=o}return Number.isFinite(n)?n:void 0}updateHighlightSelectionItem(e){const{items:t,highlightSelection:n}=e,i=t??[];return this.updateDatumSelection({nodeData:i,datumSelection:n})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return e.datumSelection}updateDatumNodes(e){}updatePaths(e){e.paths.forEach(e=>e.visible=!1)}updatePathNodes(e){const{paths:t,visible:n}=e;for(const i of t)i.visible=n}resetPathAnimation(e){const{path:t}=this.opts?.animationResetFns??{};t&&e.paths.forEach(e=>{lA([e],t)})}resetDatumAnimation(e){const{datum:t}=this.opts?.animationResetFns??{};t&&lA([e.datumSelection],t)}resetLabelAnimation(e){const{label:t}=this.opts?.animationResetFns??{};t&&lA([e.labelSelection],t)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.resetPathAnimation(e),this.resetDatumAnimation(e),this.resetLabelAnimation(e),!1===e.contextData?.animationValid&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){const{datum:t}=this.opts?.animationResetFns??{};t&&lA([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(e,t){const{_contextNodeData:n}=this;if(!n)return;return{datumSelection:this.datumSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:n,previousContextData:t,paths:this.paths,seriesRect:e}}updateLabelSelection(e){return e.labelSelection}getScaling(e){if(e instanceof nj){const{range:t,domain:n}=e;return{type:"log",convert:t=>e.convert(t),domain:[n[0],n[1]],range:[t[0],t[1]]}}if(e instanceof HC){const{range:t,domain:n}=e;return{type:"continuous",domain:[n[0],n[1]],range:[t[0],t[1]]}}if(e instanceof KC){return{type:"category",domain:e instanceof hL?e.bands:e.domain,inset:e.inset,step:e.step}}}calculateScaling(){const e={};for(const t of Object.values(uk)){const n=this.axes[t];if(!n)continue;const i=this.getScaling(n.scale);null!=i&&(e[t]=i)}return e}};var aF=class extends _S{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};px([zS],aF.prototype,"type",2),px([zS],aF.prototype,"tension",2),px([zS],aF.prototype,"position",2);var sF=class extends iF{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillGradientDefaults=new GL,this.fillPatternDefaults=new WL,this.fillImageDefaults=new HL,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new aF,this.shadow=new WB,this.marker=new HB,this.label=new ZA,this.tooltip=KB(),this.connectMissingData=!1}};function lF(e){switch(e.type){case"linear":case"step":return[{x:e.x0,y:e.y0},{x:e.x1,y:e.y1}];case"cubic":return[{x:e.cp0x,y:e.cp0y},{x:e.cp3x,y:e.cp3y}]}}function cF(e,t,n){const[i,r]=lF(e),o=r.x!==i.x?(n.x-t.x)/(r.x-i.x):0,a=r.y!==i.y?(n.y-t.y)/(r.y-i.y):0;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:t.x,cp0y:t.y,cp1x:n.x-(e.cp2x-i.x)*o,cp1y:n.y-(e.cp2y-i.y)*a,cp2x:n.x-(e.cp1x-i.x)*o,cp2y:n.y-(e.cp1y-i.y)*a,cp3x:n.x,cp3y:n.y};case"step":return{type:"step",moveTo:e.moveTo,x0:t.x,y0:t.y,x1:n.x,y1:n.y,stepX:n.x-(e.stepX-i.x)*o}}}function uF(e,t,n){const{moveTo:i}=e,[r,o]=function(e){const t=lF(e);return t[0].x>t[1].x&&t.reverse(),t}(e),{x:a,y:s}=r,{x:l,y:c}=o;if(n<a)return cF(e,r,r);if(t>l)return cF(e,o,o);switch(e.type){case"linear":{const e=s===c?void 0:(c-s)/(l-a);return{type:"linear",moveTo:i,x0:t,y0:null==e?s:e*(t-a)+s,x1:n,y1:null==e?s:e*(n-a)+s}}case"step":if(n<=e.stepX){const r=e.y0;return{type:"step",moveTo:i,x0:t,y0:r,x1:n,y1:r,stepX:n}}if(t>=e.stepX){const r=e.y1;return{type:"step",moveTo:i,x0:t,y0:r,x1:n,y1:r,stepX:t}}{const{y0:r,y1:o,stepX:a}=e;return{type:"step",moveTo:i,x0:t,y0:r,x1:n,y1:o,stepX:a}}case"cubic":{const r=rM(e.cp0x,e.cp1x,e.cp2x,e.cp3x,t);let[o,a]=oM(e.cp0x,e.cp0y,e.cp1x,e.cp1y,e.cp2x,e.cp2y,e.cp3x,e.cp3y,r);const s=rM(a[0].x,a[1].x,a[2].x,a[3].x,n);return[a,o]=oM(a[0].x,a[0].y,a[1].x,a[1].y,a[2].x,a[2].y,a[3].x,a[3].y,s),{type:"cubic",moveTo:i,cp0x:a[0].x,cp0y:a[0].y,cp1x:a[1].x,cp1y:a[1].y,cp2x:a[2].x,cp2y:a[2].y,cp3x:a[3].x,cp3y:a[3].y}}}}px([zS],sF.prototype,"xKey",2),px([zS],sF.prototype,"xName",2),px([zS],sF.prototype,"yKey",2),px([zS],sF.prototype,"yName",2),px([zS],sF.prototype,"yFilterKey",2),px([zS],sF.prototype,"normalizedTo",2),px([zS],sF.prototype,"fill",2),px([zS],sF.prototype,"fillGradientDefaults",2),px([zS],sF.prototype,"fillPatternDefaults",2),px([zS],sF.prototype,"fillImageDefaults",2),px([zS],sF.prototype,"fillOpacity",2),px([zS],sF.prototype,"stroke",2),px([zS],sF.prototype,"strokeWidth",2),px([zS],sF.prototype,"strokeOpacity",2),px([zS],sF.prototype,"lineDash",2),px([zS],sF.prototype,"lineDashOffset",2),px([zS],sF.prototype,"interpolation",2),px([zS],sF.prototype,"shadow",2),px([zS],sF.prototype,"marker",2),px([zS],sF.prototype,"label",2),px([zS],sF.prototype,"tooltip",2),px([zS],sF.prototype,"connectMissingData",2);var dF={start:0,middle:.5,end:1};var hF=.05;function pF(e,t,n){return(t-e)*n+e}function gF(e,t){return"linear"===e.type?function(e,t){const{x0:n,y0:i,x1:r,y1:o}=e,a=(o-i)/(r-n)*(t-n)+i;return{leftCp1x:n,leftCp1y:i,leftCp2x:t,leftCp2y:a,stepX:t,stepY0:a,stepY1:a,rightCp1x:t,rightCp1y:a,rightCp2x:r,rightCp2y:o}}(e,t):"cubic"===e.type?function(e,t){const{cp0x:n,cp0y:i,cp1x:r,cp1y:o,cp2x:a,cp2y:s,cp3x:l,cp3y:c}=e,u=rM(n,r,a,l,t),[d,h]=oM(n,i,r,o,a,s,l,c,u),p=d[3].y;return{leftCp1x:d[1].x,leftCp1y:d[1].y,leftCp2x:d[2].x,leftCp2y:d[2].y,stepX:t,stepY0:p,stepY1:p,rightCp1x:h[1].x,rightCp1y:h[1].y,rightCp2x:h[2].x,rightCp2y:h[2].y}}(e,t):function(e){const{x0:t,y0:n,x1:i,y1:r,stepX:o}=e;return{leftCp1x:(t+o)/2,leftCp1y:n,leftCp2x:(t+o)/2,leftCp2y:n,stepX:o,stepY0:n,stepY1:r,rightCp1x:(o+i)/2,rightCp1y:r,rightCp2x:(o+i)/2,rightCp2y:r}}(e)}function fF(e,t,n,i,r,o,a){switch(t){case 0:a?e.moveTo(r,o):e.moveTo(n,i);break;case 1:a?e.lineTo(r,o):e.lineTo(n,i)}}function mF(e,t,n,i,r,o){o?e.lineTo(t,n):e.lineTo(i,r)}function yF(e,t,n,i,r,o,a,s,l,c){c?e.cubicCurveTo(o,a,i,r,t,n):e.cubicCurveTo(i,r,o,a,s,l)}function bF(e,t,n,i,r,o,a){a?(e.lineTo(o,r),e.lineTo(o,n),e.lineTo(t,n)):(e.lineTo(o,n),e.lineTo(o,r),e.lineTo(i,r))}function vF(e,t,n,i){const[r,o]=lF(t);switch(fF(e,n,r.x,r.y,o.x,o.y,i),t.type){case"linear":mF(e,t.x0,t.y0,t.x1,t.y1,i);break;case"cubic":yF(e,t.cp0x,t.cp0y,t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.cp3x,t.cp3y,i);break;case"step":bF(e,t.x0,t.y0,t.x1,t.y1,t.stepX,i)}}function xF(e,t,n){const[i,r]=lF(e),[o,a]=lF(t);return[{x:pF(i.x,o.x,n),y:pF(i.y,o.y,n)},{x:pF(r.x,a.x,n),y:pF(r.y,a.y,n)}]}function SF(e,t,n,i,r,o){const[{x:a,y:s},{x:l,y:c}]=xF(t,n,i);if(fF(e,r,a,s,l,c,o),"cubic"===t.type&&"cubic"===n.type){yF(e,a,s,pF(t.cp1x,n.cp1x,i),pF(t.cp1y,n.cp1y,i),pF(t.cp2x,n.cp2x,i),pF(t.cp2y,n.cp2y,i),l,c,o)}else if("step"===t.type&&"step"===n.type){bF(e,a,s,l,c,pF(t.stepX,n.stepX,i),o)}else if("linear"===t.type&&"linear"===n.type)mF(e,a,s,l,c,o);else{let r;r="step"===t.type?t.stepX:"step"===n.type?n.stepX:(a+l)/2;const u=gF(t,r),d=gF(n,r),h=pF(u.leftCp1x,d.leftCp1x,i),p=pF(u.leftCp1y,d.leftCp1y,i),g=pF(u.leftCp2x,d.leftCp2x,i),f=pF(u.leftCp2y,d.leftCp2y,i),m=pF(u.stepX,d.stepX,i),y=pF(u.stepY0,d.stepY0,i),b=pF(u.stepY1,d.stepY1,i),v=pF(u.rightCp1x,d.rightCp1x,i),x=pF(u.rightCp1y,d.rightCp1y,i),S=pF(u.rightCp2x,d.rightCp2x,i),M=pF(u.rightCp2y,d.rightCp2y,i);o?(e.cubicCurveTo(S,M,v,x,m,b),e.lineTo(m,y),e.cubicCurveTo(g,f,h,p,a,s)):(e.cubicCurveTo(h,p,g,f,m,y),e.lineTo(m,b),e.cubicCurveTo(v,x,S,M,l,c))}}var MF=(e=>(e[e.Zero=0]="Zero",e[e.Split=1]="Split",e))(MF||{});function wF(e){return tT(e).valueOf()}function kF(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),"continuous"===t.type&&"number"===typeof e){return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0]}if("log"===t.type&&"number"===typeof e)return t.convert(e);if("category"!==t.type)return NaN;const n=wF(e);let i=t.domain.findIndex(e=>wF(e)===n);return-1===i&&(i=t.domain.findIndex(t=>{return i=t,null!=(n=e)&&null!=i&&"object"===typeof n&&"object"===typeof i&&("id"in n&&"id"in i?n.id===i.id:n.toString()===i.toString());var n,i})),i>=0?t.inset+t.step*i:NaN}function IF(e,t){let{data:n}=e;return n.map((e,n)=>({xValue0Index:t.indexOf(wF(e.xValue0)),xValue1Index:t.indexOf(wF(e.xValue1)),datumIndex:n}))}function CF(e){return Object.values(e.scales).every(e=>"category"!==e.type||e.domain.length<1e3)}function DF(e,t){const n=new Map;for(const{xValue0:l,xValue1:c}of e.data){const e=wF(l),t=wF(c);n.set(e,l).set(t,c)}const i=Array.from(n,e=>{let[t,n]=e;return{axisValue:t,value:n}});i.sort((t,n)=>kF(t.value,e.scales.x)-kF(n.value,e.scales.x));const r=[];for(const{xValue0:l,xValue1:c}of t.data){const e=wF(l),t=wF(c);n.has(e)||(n.set(e,l),r.push({axisValue:e,value:l})),n.has(t)||(n.set(t,c),r.push({axisValue:t,value:c}))}r.sort((e,n)=>kF(e.value,t.scales.x)-kF(n.value,t.scales.x));const o=i;let a=0;for(const l of r){for(let e=o.length-1;e>=a;e-=1){if(kF(l.value,t.scales.x)>kF(o[e].value,t.scales.x)){a=e+1;break}}o.splice(a,0,l),a+=1}if(!function(e,t){let n=-1/0;for(const i of e){const e=kF(i.value,t.scales.x);if(Number.isFinite(e)){if(e<n)return!1;n=e}}return!0}(o,t))return;const s=o.map(e=>e.axisValue);return{axisValues:s,oldDataAxisIndices:IF(t,s),newDataAxisIndices:IF(e,s)}}function AF(e,t,n){if(n.xValue1Index===n.xValue0Index+1)return e;const i=lF(e),r=(i[1].x-i[0].x)/(n.xValue1Index-n.xValue0Index),o=i[0].x+(t-n.xValue0Index)*r;return uF(e,o,o+r)}function TF(e,t){const[n,i]=lF(e),r=kF(0,t.scales.y);return cF(e,{x:n.x,y:r},{x:i.x,y:r})}function LF(e){const[t,n]=lF(e);return function(e,t){const{x:n,y:i}=t;switch(e.type){case"linear":return{type:"linear",moveTo:e.moveTo,x0:n,y0:i,x1:n,y1:i};case"step":return{type:"step",moveTo:e.moveTo,x0:n,y0:i,x1:n,y1:i,stepX:n};case"cubic":return{type:"cubic",moveTo:e.moveTo,cp0x:n,cp0y:i,cp1x:n,cp1y:i,cp2x:n,cp2y:i,cp3x:n,cp3y:i}}}(e,{x:(t.x+n.x)/2,y:(t.y+n.y)/2})}function NF(e,t,n,i,r,o){let a,s;if(r.xValue0Index>=o.xValue1Index){const e=i.findLast(e=>e.xValue1Index<=o.xValue1Index)?.datumIndex,t=null!=e?n.data[e]:void 0;a=t?.xValue1,s=t?.yValue1}else if(r.xValue0Index<=o.xValue0Index){const e=i.find(e=>e.xValue0Index>=o.xValue0Index)?.datumIndex,t=null!=e?n.data[e]:void 0;a=t?.xValue0,s=t?.yValue0}if(null==a||null==s)switch(t){case 0:return TF(e,n);case 1:return LF(e)}const l={x:kF(a,n.scales.x),y:kF(s,n.scales.y)};return cF(e,l,l)}function EF(e,t){if(null==t)return;const n=wF(e.xValue0),i=wF(e.xValue1);return t.find(e=>wF(e.xValue0)===n&&wF(e.xValue1)===i)?.span}function OF(e,t,n,i,r,o,a){const s=e.data[i.datumIndex],l=s.span,c=EF(s,r);if(null!=c)a.removed.push({from:c,to:c}),a.moved.push({from:c,to:l}),a.added.push({from:l,to:l});else{const r=NF(l,t,e,n,i,o);a.added.push({from:r,to:l})}}function RF(e,t,n,i,r,o,a){const s=e.data[i.datumIndex],l=s.span,c=EF(s,r);if(null!=c)a.removed.push({from:l,to:l}),a.moved.push({from:l,to:c}),a.added.push({from:c,to:c});else{const r=NF(l,t,e,n,i,o);a.removed.push({from:l,to:r})}}function PF(e,t,n,i,r){const o=t[r.xValue0Index],a=n.data.find(e=>wF(e.xValue0)===o),s=t[r.xValue1Index],l=n.data.find(e=>wF(e.xValue1)===s);if(null==a||null==l)return;const[{x:c},{x:u}]=lF(e),d=kF(a.xValue0,n.scales.x),h=kF(a.yValue0,n.scales.y),p=kF(l.xValue1,n.scales.x),g=kF(l.yValue1,n.scales.y);let f=i.data[r.datumIndex].span;return f=cF(f,{x:d,y:h},{x:p,y:g}),f=uF(f,c,u),f}function jF(e,t,n,i,r,o,a,s,l){const c=r+1,u=a.find(e=>e.xValue0Index<=r&&e.xValue1Index>=c),d=o.find(e=>e.xValue0Index<=r&&e.xValue1Index>=c),h=t.zeroData,p=e.zeroData;if(null==u&&null!=d)return void OF(e,n,o,d,h,s,l);if(null!=u&&null==d)return void RF(t,n,a,u,p,s,l);if(null==u||null==d)return;let g;g=u.xValue0Index===d.xValue0Index&&u.xValue1Index===d.xValue1Index?0:u.xValue0Index<=d.xValue0Index&&u.xValue1Index>=d.xValue1Index?-1:u.xValue0Index>=d.xValue0Index&&u.xValue1Index<=d.xValue1Index?1:0;const f=AF(t.data[u.datumIndex].span,r,u),m=AF(e.data[d.datumIndex].span,r,d);if(1===g){const r=PF(f,i,t,e,d);null!=r?(l.removed.push({from:f,to:r}),l.moved.push({from:r,to:m}),l.added.push({from:m,to:m})):RF(t,n,a,u,p,s,l)}else if(-1===g){const r=PF(m,i,e,t,u);null!=r?(l.removed.push({from:f,to:f}),l.moved.push({from:f,to:r}),l.added.push({from:r,to:m})):OF(e,n,o,d,h,s,l)}else l.removed.push({from:f,to:f}),l.moved.push({from:f,to:m}),l.added.push({from:m,to:m})}function zF(e,t,n){const{span:i}=t;switch(n){case 0:return EF(t,e.zeroData)??TF(i,e);case 1:return LF(i)}}function _F(e,t,n){if(!CF(e)||!CF(t))return;if(!function(e,t){const n=t.scales.x,i=e.scales.x;if("category"!==n?.type||"category"!==i?.type)return!0;let r=-1/0;for(const o of n.domain){const e=kF(o,i);if(Number.isFinite(e)){if(e<r)return!1;r=e}}return!0}(e,t))return;const i=DF(e,t);return null==i?function(e,t,n){const i=[],r=[];for(const o of t.data){const e=o.span,i=zF(t,o,n);r.push({from:e,to:i})}for(const o of e.data){const t=o.span,r=zF(e,o,n);i.push({from:r,to:t})}return{removed:r,moved:[],added:i}}(e,t,n):function(e,t,n,i){const r={removed:[],moved:[],added:[]},{axisValues:o,oldDataAxisIndices:a,newDataAxisIndices:s}=e,l={xValue0Index:Math.max(a.at(0)?.xValue0Index??-1/0,s.at(0)?.xValue0Index??-1/0),xValue1Index:Math.min(a.at(-1)?.xValue1Index??1/0,s.at(-1)?.xValue1Index??1/0)};for(let c=0;c<o.length-1;c+=1)jF(t,n,i,o,c,s,a,l,r);return r}(i,e,t,n)}function BF(e){return"continuous"===e.type||"log"===e.type}function FF(e){return"category"===e.type}function $F(e,t){return void 0===e||void 0===t?void 0!==e||void 0!==t:BF(e)&&BF(t)?e.type===t.type&&cv(e.domain,t.domain)&&cv(e.range,t.range):!(!FF(e)||!FF(t))&&(e.inset===t.inset&&e.step===t.step&&cv(e.domain,t.domain))}function VF(e){return null!=e&&("category"===e.type?e.domain.every(e=>null!=e):e.domain.every(e=>Number.isFinite(e)||e instanceof Date)&&e.range.every(e=>Number.isFinite(e)))}function GF(e,t){let n;const i=e.map(e=>e.point);switch(t.type){case"linear":n=function(e){const t=[];let n=0,i=NaN,r=NaN;for(const{x:o,y:a}of e){if(n>0){const e=1===n;t.push({type:"linear",moveTo:e,x0:i,y0:r,x1:o,y1:a})}n+=1,i=o,r=a}return t}(i);break;case"smooth":n=function(e,t){const n=Array.isArray(e)?e:Array.from(e);if(n.length<=1)return[];const i=n.map((e,t)=>{const i=0===t?e:n[t-1],r=t===n.length-1?e:n[t+1],o=0===t||t===n.length-1;if(Math.sign(i.y-e.y)===Math.sign(r.y-e.y))return 0;if(!o){const t=Math.abs(i.y-r.y),n=Math.abs(e.y-i.y)/t,o=Math.abs(e.y-r.y)/t;if(n<=hF||1-n<=hF||o<=hF||1-o<=hF)return 0}return(r.y-i.y)/(r.x-i.x)});0===i[1]&&(i[0]*=2),0===i[i.length-2]&&(i[i.length-1]*=2);const r=[];for(let o=1;o<n.length;o+=1){const e=n[o-1],a=i[o-1],s=n[o],l=i[o],c=s.x-e.x,u=s.y-e.y;let d=c*t/3,h=c*a*t/3,p=c*t/3,g=c*l*t/3;0===l&&Math.abs(h)>Math.abs(u)&&(d*=Math.abs(u/h),h=Math.sign(h)*Math.abs(u)),0===a&&Math.abs(g)>Math.abs(u)&&(p*=Math.abs(u/g),g=Math.sign(g)*Math.abs(u)),r.push({type:"cubic",moveTo:1===o,cp0x:e.x,cp0y:e.y,cp1x:e.x+d,cp1y:e.y+h,cp2x:s.x-p,cp2y:s.y-g,cp3x:s.x,cp3y:s.y})}return r}(i,t.tension);break;case"step":n=function(e,t){const n=[];let i=0,r=NaN,o=NaN;const a="number"===typeof t?t:dF[t];for(const{x:s,y:l}of e){if(i>0){const e=1===i,t=r+(s-r)*a;n.push({type:"step",moveTo:e,x0:r,y0:o,x1:s,y1:l,stepX:t})}i+=1,r=s,o=l}return n}(i,t.position)}return n.map((t,n)=>({span:t,xValue0:e[n].xDatum,yValue0:e[n].yDatum,xValue1:e[n+1].xDatum,yValue1:e[n+1].yDatum}))}function WF(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.001;return Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n}function HF(e,t){let n,{path:i}=e;for(const{span:r}of t){const[e,t]=lF(r);vF(i,r,null!=n&&WF(n,e)?1:0,!1),n=t}}function UF(e,t,n){let i;for(const r of n){const[n,o]=xF(r.from,r.to,e),a=null!=i&&WF(i,n)?1:0;SF(t.path,r.from,r.to,e,a,!1),i=o}}function YF(e,t,n){return{status:e,path:{addPhaseFn:(e,n)=>UF(e,n,t.added),updatePhaseFn:(e,n)=>UF(e,n,t.moved),removePhaseFn:(e,n)=>UF(e,n,t.removed)},pathProperties:KF(e,n)}}function KF(e,t){const n="none"===t?"updated":e,i={fromFn:t=>{let i;return i="removed"===e?{finish:{visible:!1}}:"added"===e?{start:{visible:!0}}:{},{phase:iA[n],...i}},toFn:e=>({phase:iA[n]})};return"fade"===t?{fromFn:t=>({opacity:"added"===e?0:t.opacity,...i.fromFn(t)}),toFn:t=>({opacity:"removed"===e?0:1,...i.toFn(t)})}:i}function ZF(e,t,n){if("category"===e.scales.x?.type!==("category"===t.scales.x?.type)||!VF(e.scales.x)||!VF(t.scales.x))return;if(null==e.strokeData||null==t.strokeData)return;let i="updated";t.visible&&!e.visible?i="removed":!t.visible&&e.visible&&(i="added");const r=_F({scales:e.scales,data:e.strokeData.spans},{scales:t.scales,data:t.strokeData.spans},1);if(null==r)return;return{status:i,stroke:YF(i,r,"fade"),hasMotion:(n?.changed??!0)||!$F(e.scales.x,t.scales.x)||!$F(e.scales.y,t.scales.y)||"updated"!==i}}function XF(e,t){let{path:n}=e,{spans:i,phantomSpans:r}=t,o=0,a={x:NaN,y:NaN},s={x:NaN,y:NaN};for(let l=0;l<i.length;l+=1){const{span:e}=i[l],{span:t}=r[l],{0:c,1:u}=lF(e),{0:d,1:h}=lF(t);if(WF(a,c)&&WF(s,d))vF(n,e,1,!1);else{for(let e=l-1;e>=o;e-=1)vF(n,r[e].span,1,!0);n.closePath(),vF(n,e,0,!1),o=l}a=u,s=h}for(let l=i.length-1;l>=o;l-=1)vF(n,r[l].span,1,!0);n.closePath()}function qF(e,t,n,i){let{path:r}=t;for(let o=0;o<n.length;o+=1){const t=n[o],a=i[o];SF(r,t.from,t.to,e,0,!1),SF(r,a.from,a.to,e,1,!0),r.closePath()}}function QF(e,t,n,i){return{status:e,path:{addPhaseFn:(e,i)=>qF(e,i,t.added,n.added),updatePhaseFn:(e,i)=>qF(e,i,t.moved,n.moved),removePhaseFn:(e,i)=>qF(e,i,t.removed,n.removed)},pathProperties:KF(e,i)}}function JF(e,t){if("category"===e.scales.x?.type!==("category"===t.scales.x?.type)||!VF(e.scales.x)||!VF(t.scales.x))return;let n="updated";t.visible&&!e.visible?n="removed":!t.visible&&e.visible&&(n="added");const i=_F({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},0);if(null==i)return;const r=_F({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},0);if(null==r)return;const o=_F({scales:e.scales,data:e.strokeData.spans,zeroData:e.fillData.phantomSpans},{scales:t.scales,data:t.strokeData.spans,zeroData:t.fillData.phantomSpans},0);if(null==o)return;const a="none";return{status:n,fill:QF(n,i,r,a),stroke:YF(n,o,a)}}function e$(e){let t=Math.ceil(Math.log2(e.length))-1;return t=Math.min(Math.max(t,0),24),2**t|0}function t$(e,t){switch(e){case"category":return[NaN,NaN];case"number":case"time":case"ordinal-time":case"unit-time":{let e=1/0,n=-1/0;for(const i of t){const t=Number(i);e=Math.min(e,t),n=Math.max(n,t)}return[e,n]}case"color":case"log":case"mercator":return[0,0]}}function n$(e,t){return e/t}function i$(e,t,n){return(e.valueOf()-t)/(n-t)}function r$(e,t){return 4*Math.min(Math.floor(e*t),t-1)|0}function o$(e,t,n,i,r,o){const a=new Int32Array(4*o).fill(-1),s=new Float64Array(4*o).fill(NaN),l=Number.isFinite(i)&&Number.isFinite(r),c=e.length;for(let u=0;u<e.length;u+=1){const d=e[u];if(null==d)continue;const h=l?i$(d,i,r):n$(u,c),p=r$(h,o),g=t[u],f=n[u],m=null!=g?g.valueOf():NaN,y=null!=f?f.valueOf():NaN,b=-1===a[p+0];(b||h<s[p+0])&&(a[p+0]=u,s[p+0]=h),(b||h>s[p+1])&&(a[p+1]=u,s[p+1]=h),!Number.isNaN(y)&&(b||y<s[p+2])&&(a[p+2]=u,s[p+2]=y),!Number.isNaN(m)&&(b||m>s[p+3])&&(a[p+3]=u,s[p+3]=m)}return{indexData:a,valueData:s}}function a$(e,t,n){let{inPlace:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=n/2|0,o=i?e:new Int32Array(4*r),a=i?t:new Float64Array(4*r);for(let s=0;s<r;s+=1){const n=4*s|0,i=2*n|0,r=i+4|0,l=-1===e[r+0],c=l||t[i+0]<t[r+0]?i:r;o[n+0]=e[c+0],a[n+0]=t[c+0];const u=l||t[i+1]>t[r+1]?i:r;o[n+1]=e[u+1],a[n+1]=t[u+1];const d=l||t[i+2]<t[r+2]?i:r;o[n+2]=e[d+2],a[n+2]=t[d+2];const h=l||t[i+3]>t[r+3]?i:r;o[n+3]=e[h+3],a[n+3]=t[h+3]}return{maxRange:r,indexData:o,valueData:a}}function s$(e,t,n,i,r,o){const a=e[o];if(null==a)return!1;const s=r$(Number.isFinite(t)?i$(a,t,n):n$(o,e.length),r);return o===i[s+0]||o===i[s+1]||o===i[s+2]||o===i[s+3]}function l$(e,t,n,i){if(t.length<1e3)return;const[r,o]=t$(e,i);let a=e$(t);const{indexData:s,valueData:l}=o$(t,n,n,r,o,a);let c=[];for(let d=0;d<t.length;d+=1)s$(t,r,o,s,a,d)&&c.push(d);const u=[{maxRange:a,indices:c}];for(;c.length>10&&a>64;)({maxRange:a}=a$(s,l,a,{inPlace:!0})),c=c.filter(s$.bind(null,t,r,o,s,a)),u.push({maxRange:a,indices:c});return u.reverse(),u}function c$(e,t,n){let{id:i}=e;const r={phase:n?iA[n]:"trailing"};for(var o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];oA(i,"markers",t,a,{opacity:0},{opacity:1},r),a.forEach(e=>e.cleanup())}function u$(e,t){let{id:n}=e;for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];oA(n,"markers",t,r,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),r.forEach(e=>e.cleanup())}function d$(e,t){let{id:n,nodeDataDependencies:i}=e;const r=i.seriesRectWidth;for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];rA(n,"markers",t,a,{fromFn:(e,t)=>{const n=t.midPoint?.x??r;let i=Ev(0,uC(n/r),1);return isNaN(i)&&(i=0),{scalingX:0,scalingY:0,delay:i,duration:dC,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function h$(e){return{opacity:1,scalingX:1,scalingY:1}}function p$(e,t){return{x:t.point?.x??NaN,y:t.point?.y??NaN,scalingCenterX:t.point?.x??NaN,scalingCenterY:t.point?.y??NaN}}function g$(e,t){let{datumIndex:n}=t;const i=e.getNodeData();if(void 0===i)return;const r=i[n],{point:o}=r??{};if(null==r||null==o)return;const a=e.getFormattedMarkerStyle(r),s=bN.anchor(a.shape),l=o.focusSize??a.size,c=4+l,u=c/2,d=(s.x-.5)*l,h=(s.y-.5)*l,p=r.point.x-u-d,g=r.point.y-u-h;return OM.toCanvas(e.contentGroup,new Sx(p,g,c,c))}function f$(e,t){let{id:n,visible:i,nodeDataDependencies:r}=e;const{seriesRectWidth:o,seriesRectHeight:a}=r;for(var s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];oA(n,"path_properties",t,l,{clipX:0},{clipX:o},{phase:"initial",start:{clip:!0,clipY:a,visible:i},finish:{clip:!1,visible:i}})}function m$(e,t,n){let{id:i}=e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"add";for(var o=arguments.length,a=new Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];oA(i,t,n,a,{opacity:0},{opacity:1},{phase:r})}function y$(e){return t=>({visible:e.getVisible(),opacity:e.getOpacity(),clipScalingX:1,clip:!1})}function b$(e,t){let{nodeDataDependencies:n}=e;const i=e=>isFinite(e)?e:0;t.clipX=i(n.seriesRectWidth),t.clipY=i(n.seriesRectHeight)}var v$=OI(l$),x$=class extends oF{constructor(e){super({moduleCtx:e,propertyKeys:eF,propertyNames:tF,categoryKey:"xValue",pathsPerSeries:["fill","stroke"],pathsZIndexSubOrderOffset:[0,1e3],datumSelectionGarbageCollection:!1,pickModes:[2,0],animationResetFns:{path:y$({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:VB,datum:(e,t)=>({opacity:1,scalingX:1,scalingY:1,...p$(0,t)})},clipFocusBox:!1}),this.properties=new sF,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0,this.backgroundGroup=new PM({name:`${this.id}-background`,zIndex:0}),this._isStacked=void 0}get pickModeAxis(){return"main"}renderToOffscreenCanvas(){return super.renderToOffscreenCanvas()||null!=this.contextNodeData&&(this.contextNodeData.fillData.spans.length>rF||this.contextNodeData.strokeData.spans.length>rF)}attachSeries(e,t,n){super.attachSeries(e,t,n),e.appendChild(this.backgroundGroup)}detachSeries(e,t,n){super.detachSeries(e,t,n),e?.removeChild(this.backgroundGroup)}attachPaths(e){let[t,n]=e;this.backgroundGroup.appendChild(t),this.contentGroup.appendChild(n),n.zIndex=-1}detachPaths(e){let[t,n]=e;this.backgroundGroup.removeChild(t),this.contentGroup.removeChild(n)}isStacked(){return(this.seriesGrouping?.stackCount??1)>1}setSeriesIndex(e){const t=this.isStacked()===this._isStacked;return this._isStacked=t,super.setSeriesIndex(e,t)}setZIndex(e){super.setZIndex(e),this.isStacked()?(this.backgroundGroup.zIndex=[0,e],this.contentGroup.zIndex=[1,e,0]):(this.backgroundGroup.zIndex=[1,e,0,0],this.contentGroup.zIndex=[1,e,0,1])}async processData(e){if(null==this.data)return;const{data:t,visible:n,seriesGrouping:{groupIndex:i=this.id,stackCount:r=1}={}}=this,{xKey:o,yKey:a,yFilterKey:s,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=this.axes.x?.scale,h=this.axes.y?.scale,{xScaleType:p,yScaleType:g}=this.getScaleInformation({xScale:d,yScale:h}),f=r>1||null!=c,m={value:`area-stack-${i}-yValue`,values:`area-stack-${i}-yValues`,stack:`area-stack-${i}-yValue-stack`,marker:`area-stack-${i}-yValues-marker`},y={invalidValue:null};(Sy(c)||l)&&r>1&&(y.invalidValue=0),n||(y.forceValue=0);const b=[lP(o,p,{id:"xValue"}),cP(a,g,{id:"yValueRaw",...y}),...null!=s?[cP(s,g,{id:"yFilterRaw"})]:[],...yP(a,g,{id:"yValueStack",...y,groupId:m.stack}),cP(a,g,{id:"yValue",...y,groupId:m.value})];f&&b.push(...mP(a,"window","current",{id:"yValueEnd",...y,groupId:m.values},g),...mP(a,"normal","current",{id:"yValueCumulative",...y,groupId:m.marker},g)),Sy(c)&&b.push(MP(Object.values(m),c)),u&&b.push(CP());const{dataModel:v,processedData:x}=await this.requestDataModel(e,t,{props:b,groupByKeys:f,groupByData:!f});this.dataAggregationFilters=this.aggregateData(v,x),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.x.scale.convert(e),r=n.enabled?.5*n.size*t:0;return[i-r,i+r]}yCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.y.scale.convert(e[0]),r=n.enabled?.5*n.size*t:0;return[i-r,i+r]}yCumulativeKey(e){return"grouped"===e.type?"yValueCumulative":"yValue"}getSeriesDomain(e){const{processedData:t,dataModel:n,axes:i}=this;if(!t||!n)return[];const r=i.y;if("x"===e){const e=n.resolveProcessedDataDefById(this,"xValue"),i=n.getDomain(this,"xValue","key",t);return"key"===e?.def.type&&"category"===e.def.valueType?i:ED(UR(i))}const o=this.domainForClippedRange("y",[this.yCumulativeKey(t)],"xValue");if(r instanceof oj||r instanceof sj)return ED(o);return ED(Number.isFinite(o[1]-o[0])?[o[0]>0?0:o[0],o[1]<0?0:o[1]]:[])}getSeriesRange(e,t){const[n,i]=this.domainForVisibleRange("y",[this.yCumulativeKey(this.processedData)],"xValue",t);return[Math.min(n,0),Math.max(i,0)]}getVisibleItems(e,t,n){return this.countVisibleItems("xValue",[this.yCumulativeKey(this.processedData)],e,t,n)}aggregateData(e,t){if("grouped"===t.type)return;if(iP(t))return;const n=this.axes.x;if(null==n)return;const{scale:i}=n,r=e.resolveColumnById(this,"xValue",t),o=e.resolveColumnById(this,"yValueRaw",t),a=e.getDomain(this,"xValue","value",t);return v$(i.type,r,o,a)}createNodeData(){const{axes:e,data:t,processedData:n,dataModel:i,dataAggregationFilters:r}=this,o=e.x,a=e.y;if(!o||!a||!t||!i||!n)return;const{yKey:s,xKey:l,xName:c,yName:u,yFilterKey:d,marker:h,label:p,fill:g,stroke:f,connectMissingData:m,interpolation:y}=this.properties,{scale:b}=o,{scale:v}=a,x=this.getSeriesDomain("y"),{isContinuousY:S}=this.getScaleInformation({xScale:b,yScale:v}),M=(b.bandwidth??0)/2,w="grouped"===n.type,k=i.resolveKeysById(this,"xValue",n),I=i.resolveColumnById(this,"yValueRaw",n),C=w?i.resolveColumnById(this,"yValueCumulative",n):I,D=null!=d?i.resolveColumnById(this,"yFilterRaw",n):void 0,A="grouped"===n.type?i.resolveColumnById(this,"yValueStack",n):void 0,T=[],L=[],{visibleSameStackCount:N}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);let E=!1;const{dataSources:O}=n,R=O.get(this.id)??[],[P,j]=b.range,z=Math.abs(j-P),_=r?.find(e=>e.maxRange>z);let B=0,F=0;const $=_?.indices;[B,F]=this.visibleRangeIndices("xValue",o.range,$),B=Math.max(B-1,0),F=Math.min(F+1,$?.length??k.length),n.input.count<1e3&&(B=0,F=n.input.count);const V=(e,t,n)=>{let i;return(Sy(this.properties.normalizedTo)?S&&eT(n):!isNaN(n))&&(i=t),{x:b.convert(e)+M,y:v.convert(i),size:h.size}},G=e=>{const t=k[e];if(null==t)return;const n=R[e],i=I[e],r=C[e],o=Number.isFinite(i),a=V(t,+r,i),d=null!=D?D[e]===i:void 0;if(!1===d&&(E=!0),o&&h&&L.push({series:this,itemId:s,datum:n,datumIndex:e,midPoint:{x:a.x,y:a.y},cumulativeValue:r,yValue:i,xValue:t,yKey:s,xKey:l,point:a,fill:h.fill??g,stroke:h.stroke??f,strokeWidth:h.strokeWidth??this.properties.strokeWidth,selected:d}),p.enabled&&o){const t=this.getLabelText(i,n,s,"y",x,p,{value:i,datum:n,xKey:l,yKey:s,xName:c,yName:u});T.push({series:this,itemId:s,datum:n,datumIndex:e,x:a.x,y:a.y,labelText:t})}};if("grouped"===n.type)for(const{datumIndex:Q}of i.forEachGroupDatum(this,n))G(Q);else for(let Q=B;Q<F;Q+=1){const e=$?.[Q]??Q;null!=k[e]&&G(e)}const W=(e,t)=>({point:{x:b.convert(e)+M,y:v.convert(t)},xDatum:e,yDatum:t}),H=e=>{const t=[],r=(n,i,r)=>{const o=k[i],a=null!=A?A?.[i][e]:I[i];if(m&&!Number.isFinite(I[i]))return;const s=Number.isFinite(a);let l=0,c=!0,u=0,d=!0;if(null==A)c=null==n||Number.isFinite(I[n]),d=null==r||Number.isFinite(I[r]),l=null!=n&&Number.isFinite(I[n])?a:0,u=null!=r&&Number.isFinite(I[r])?a:0;else{const t=A[i],o=null!=n?A[n]:void 0,a=null!=r?A[r]:void 0;for(let n=0;n<=e;n+=1){const e=t[n];if(Number.isFinite(e)){null==o||Number.isFinite(o[n])?l+=e:c=!1,null==a||Number.isFinite(a[n])?u+=e:d=!1}}}const h=t[t.length-1];if(m||c&&d&&s&&l===u){const e=m?a:Math.max(l,u),n=W(o,e);Array.isArray(h)?h.push(n):null!=h?(h.skip+=1,t.push([n])):t.push([n])}else if(!s&&Array.isArray(h)&&1===h.length)t[t.length-1]={skip:1};else{const e=W(o,l),n=W(o,u);Array.isArray(h)?h.push(e):null!=h&&(h.skip+=1),t.push(s?[n]:{skip:0})}};if("grouped"===n.type)for(const{datumIndexes:[o,a,s]}of i.forEachGroupDatumTuple(this,n))r(o,a,s);else{let e,t;for(let n=B;n<F;n+=1){const i=$?.[n]??n;null!=k[i]&&(null!=t&&r(e,t,i),e=t,t=i)}null!=t&&r(e,t,void 0)}return(e=>e.flatMap(e=>Array.isArray(e)?GF(e,y):new Array(e.skip).fill(null)))(t)},U=this.seriesGrouping?.stackIndex??0,Y=()=>{const e=e=>{const t=k[e],n=A?.[e][U]??I[e];if(!m||Number.isFinite(n))return W(t,0)};let t;if("grouped"===n.type)t=Array.from(i.forEachGroupDatum(this,n),t=>{let{datumIndex:n}=t;return e(n)});else{t=[];for(let n=B;n<F;n+=1){const i=$?.[n]??n;null!=k[i]&&t.push(e(i))}}return t=t.filter(e=>null!=e),GF(t,y)},K=H(U),Z=K.map(()=>null);for(let Q=U-1;Q>=-1;Q-=1){let e;for(let t=0;t<Z.length;t+=1)null==Z[t]&&(e??(e=-1!==Q?H(Q):Y()),Z[t]=e[t])}const X=K.map((e,t)=>e??Z[t]),q=K.filter(e=>null!=e);return{itemId:s,fillData:{itemId:s,spans:X,phantomSpans:Z},strokeData:{itemId:s,spans:q},labelData:T,nodeData:L,scales:this.calculateScaling(),visible:this.visible,stackVisible:N>0,crossFiltering:E}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){const{visible:t,animationEnabled:n}=e,[i,r]=e.paths,o=!0===this.contextNodeData?.crossFiltering,{strokeWidth:a,stroke:s,strokeOpacity:l,lineDash:c,lineDashOffset:u,fill:d,fillOpacity:h,opacity:p}=Bx(this.getHighlightStyle(),this.properties);r.setProperties({fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:1,stroke:s,strokeWidth:a,strokeOpacity:l*(o?.25:1),lineDash:c,lineDashOffset:u,opacity:p,visible:t||n});JL(i,{fill:XL(d,this.properties.fillGradientDefaults,this.properties.fillPatternDefaults,this.properties.fillImageDefaults),stroke:void 0,fillOpacity:h*(o?.125:1)},this.getShapeFillBBox()),i.setProperties({lineJoin:"round",pointerEvents:1,fillShadow:this.properties.shadow,opacity:p,visible:t||n}),b$(this,r),b$(this,i)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const n of e)n.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const n of e)n.path.clear(),n.markDirty("AreaSeries")}updateFillPath(e,t){const[n]=e;n.path.clear(),XF(n,t.fillData),n.markDirty("AreaSeries")}updateStrokePath(e,t){const{spans:n}=t.strokeData,[,i]=e;i.path.clear(),HF(i,n),i.markDirty("AreaSeries")}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e,i=this.properties.marker.enabled||!0===this.contextNodeData?.crossFiltering;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(i?t:[])}updateDatumNodes(e){const{datumSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,marker:o,stroke:a,strokeWidth:s,strokeOpacity:l}=this.properties,c=this.getSeriesDomain("x"),u=this.getSeriesDomain("y"),d=this.getShapeFillBBox();t.each((e,t)=>{const{xValue:h,yValue:p}=t,g=TC(h,p,i,r,c,u),f=this.getMarkerStyle(o,t,g,n,void 0,{stroke:a,strokeWidth:s,strokeOpacity:l});this.applyMarkerStyle(f,e,t.point,d,{selected:t.selected})}),n||this.properties.marker.markClean(),n||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:n}=e;return n.update(t)}updateLabelNodes(e){const{isHighlight:t=!1}=e,n=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((e,i)=>{const{x:r,y:o,labelText:a}=i,s=t||this.isSeriesHighlighted(n),l=this.getHighlightStateString(n,s,i.datumIndex),c=jB(this,i,this.properties,this.properties.label,s,l),{enabled:u,fontStyle:d,fontWeight:h,fontSize:p,fontFamily:g,color:f}=c;a&&u&&this.visible?(e.fontStyle=d,e.fontWeight=h,e.fontSize=p,e.fontFamily=g,e.textAlign="center",e.textBaseline="bottom",e.text=a,e.x=r,e.y=o-10,e.fill=f,e.fillOpacity=this.getHighlightStyle(t,i.datumIndex).opacity??1,e.visible=!0,e.setBoxing(c)):e.visible=!1})}getTooltipContent(e){const{id:t,dataModel:n,processedData:i,axes:r,properties:o}=this,{xKey:a,xName:s,yKey:l,yName:c,tooltip:u,marker:d,legendItemName:h}=o,p=r.x,g=r.y;if(!n||!i||!p||!g)return;const f=i.dataSources.get(this.id)?.[e],m=n.resolveKeysById(this,"xValue",i)[e],y=n.resolveColumnById(this,"yValueRaw",i)[e],{xDomain:b,yDomain:v}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")}));if(null==m)return;const x=this.getMarkerStyle(d,{datum:f,datumIndex:e},TC(m,y,a,l,b,v),!1);return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(p,"tooltip",m,f,a,h),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(g,"tooltip",y,f,l,h)}]},{seriesId:t,datum:f,title:c,xKey:a,xName:s,yKey:l,yName:c,...x,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:n,strokeOpacity:i,strokeWidth:r,lineDash:o,marker:a,fillGradientDefaults:s,fillPatternDefaults:l,fillImageDefaults:c}=this.properties,u=!a.enabled||void 0===a.fill,d=u?XL(e,s,l,c):XL(a.fill,a.fillGradientDefaults,a.fillPatternDefaults,a.fillImageDefaults);return{marker:{...this.getMarkerStyle(a,{},void 0,!1,{size:a.size,fill:d,fillOpacity:u?n:a.fillOpacity},void 0,!1),enabled:a.enabled||r<=0},line:{stroke:t,strokeOpacity:i,strokeWidth:r,lineDash:o}}}getLegendData(e){if("category"!==e)return[];const{id:t,ctx:{legendManager:n},visible:i}=this,{yKey:r,yName:o,legendItemName:a,showInLegend:s}=this.properties;return[{legendType:e,id:t,itemId:r,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:r}),label:{text:a??o??r},symbol:this.legendItemSymbol(),legendItemName:a,hideInLegend:!s}]}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:n,contextData:i,paths:r}=e,{animationManager:o}=this.ctx;this.updateAreaPaths(r,i),f$(this,o,...r),lA([t],p$),d$(this,o,t),FB(this,"labels",o,n)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateAreaPaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{datumSelection:n,labelSelection:i,contextData:r,paths:o,previousContextData:a}=e,[s,l]=o;if(!1===r.visible&&!1===a?.visible)return;if(null==s&&null==l)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(o,r)},u=()=>{t.skipCurrentBatch(),c()};if(null==r||null==a)return c(),c$(this,t,"added",n),m$(this,"fill_path_properties",t,"add",s),m$(this,"stroke_path_properties",t,"add",l),void FB(this,"labels",t,i);if(r.crossFiltering!==a.crossFiltering)return void u();const d=JF(r,a);void 0!==d?"no-op"!==d.status&&(c$(this,t,void 0,n),rA(this.id,"fill_path_properties",t,[s],d.fill.pathProperties),PB(this.id,"fill_path_update",t,[s],d.fill.path),rA(this.id,"stroke_path_properties",t,[l],d.stroke.pathProperties),PB(this.id,"stroke_path_update",t,[l],d.stroke.path),FB(this,"labels",t,i),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(o,r)})):u()}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new bN}getFormattedMarkerStyle(e){const{xValue:t,yValue:n,xKey:i,yKey:r}=e,o=this.getSeriesDomain("x"),a=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e,TC(t,n,i,r,o,a),!0)}computeFocusBounds(e){return g$(this,e)}hasItemStylers(){return null!=this.properties.marker.itemStyler||null!=this.properties.label.itemStyler}};x$.className="AreaSeries",x$.type="area";var S$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",moduleFactory:e=>new x$(e),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",fill:{$palette:"fill"},fillGradientDefaults:GE,fillPatternDefaults:qE,fillImageDefaults:JE,stroke:{$palette:"stroke"},fillOpacity:.8,strokeOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:oE,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:YE,fillPatternDefaults:qE},label:{...iO,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:rO()}}},M$={type:"series",name:"area",chartType:"cartesian",options:Oj,create:e=>new x$(e)},w$=class extends Yw{constructor(){super(...arguments),this.direction="x",this.featherRatio=0}get feathered(){return Math.abs(this.featherRatio)>1e-6}isPointInPath(e,t){if(!this.feathered)return super.isPointInPath(e,t);return this.getBBox().containsPoint(e,t)}updatePath(){if(!this.feathered)return void super.updatePath();const{path:e,x:t,y:n,width:i,height:r,direction:o,featherRatio:a}=this;if(e.clear(),"x"===o){const o=Math.abs(a)*i;a>0?(e.moveTo(t,n),e.lineTo(t+i-o,n),e.lineTo(t+i,n+r/2),e.lineTo(t+i-o,n+r),e.lineTo(t,n+r),e.closePath()):(e.moveTo(t+o,n),e.lineTo(t+i,n),e.lineTo(t+i,n+r),e.lineTo(t+o,n+r),e.lineTo(t,n+r/2),e.closePath())}else{const o=Math.abs(a)*r;a>0?(e.moveTo(t,n+o),e.lineTo(t+i/2,n),e.lineTo(t+i,n+o),e.lineTo(t+i,n+r),e.lineTo(t,n+r),e.closePath()):(e.moveTo(t,n),e.lineTo(t+i,n),e.lineTo(t+i,n+r-o),e.lineTo(t+i/2,n+r),e.lineTo(t,n+r-o),e.closePath())}}};function k$(e,t){for(const n of t){const t=n.datum;void 0===t?Gm.error("undefined datum"):e.addValue(n,t)}}function I$(e,t){const{x:n,y:i}=t,{nearest:r,distanceSquared:o}=e.getQuadTree().find(n,i);if(void 0!==r)return{datum:r.value,distance:Math.sqrt(o)}}px([Jx()],w$.prototype,"direction",2),px([Jx()],w$.prototype,"featherRatio",2);var C$=class extends iF{constructor(){super(...arguments),this.direction="vertical"}};px([zS],C$.prototype,"direction",2);var D$=class extends oF{constructor(){super(...arguments),this.groupScale=new PT,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}padBandExtent(e,t){const n="boolean"===typeof t?1:.5,i=Ey(this.smallestDataInterval)?this.smallestDataInterval*n:0,r=UR(e)??[NaN,NaN];return"boolean"===typeof t?r[t?0:1]-=(t?1:-1)*i:(r[0]-=i,r[1]+=i),ED(r)}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return"vertical"===this.properties.direction}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){const e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){const e=this.getCategoryDirection();return this.axes[e]}getBandwidth(e,t){return HC.is(e.scale)?e.scale.calcBandwidth(this.smallestDataInterval,t):e.scale.bandwidth}xCoordinateRange(e){const t=this.axes[this.getCategoryDirection()],n=t.scale,i=this.getBandwidth(t,0)??0,r=HC.is(n)?-.5*i:0,o=n.convert(e)+r;return[o,o+i]}yCoordinateRange(e){const t=this.axes[this.getBarDirection()].scale,n=e.map(e=>t.convert(e));if(1===n.length){const e=t.convert(0);return[Math.min(n[0],e),Math.max(n[0],e)]}return[Math.min(...n),Math.max(...n)]}updateGroupScale(e){const t=[],{groupScale:n}=this,i=this.getBandwidth(e),{index:r,visibleGroupCount:o}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);for(let a=0;a<o;a++)t.push(String(a));n.domain=t,n.range=[0,i??0],e instanceof ZP?n.paddingInner=e.groupPaddingInner:e instanceof WR?(n.paddingInner=e.groupPaddingInner,n.round=0!==n.padding):n.padding=0;return{barWidth:n.bandwidth>=1?n.bandwidth:n.rawBandwidth,groupIndex:r}}resolveKeyDirection(e){return"x"===this.getBarDirection()?"x"===e?"y":"x":e}initQuadTree(e){k$(e,this.datumNodesIter())}pickNodesExactShape(e){const t=I$(this,e);return null!=t&&t.distance<=0?[t.datum]:[]}pickNodeClosestDatum(e){return I$(this,e)}};function A$(e,t){return Array.from({length:e},(e,n)=>{const i=4*n;return(t[i+0]+t[i+1])/2|0})}var T$=class extends ZA{constructor(){super(...arguments),this.placement="inside-center",this.spacing=0}};px([zS],T$.prototype,"placement",2),px([zS],T$.prototype,"spacing",2);var L$=class extends C${constructor(){super(...arguments),this.fill="#c16068",this.fillGradientDefaults=new GL,this.fillPatternDefaults=new WL,this.fillImageDefaults=new HL,this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new WB,this.label=new T$,this.tooltip=KB(),this.sparklineMode=!1}getStyle(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:a,cornerRadius:s}=this;return{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:a,cornerRadius:s,opacity:1}}};function N$(e,t,n,i){if(null!=t){const[e,n]=t;if(0!==e||1!==n)return!1}if(HC.is(e)){const t=e.calcBandwidth(i)-e.calcBandwidth(n);if(t>0&&t<1)return!1}if(KC.is(e)){const{bandwidth:t,step:n}=e;if(t>0&&t<1)return!1;const i=n-t;if(i>0&&i<1)return!1}return!0}px([zS],L$.prototype,"xKey",2),px([zS],L$.prototype,"xName",2),px([zS],L$.prototype,"yKey",2),px([zS],L$.prototype,"yName",2),px([zS],L$.prototype,"yFilterKey",2),px([zS],L$.prototype,"stackGroup",2),px([zS],L$.prototype,"normalizedTo",2),px([zS],L$.prototype,"fill",2),px([zS],L$.prototype,"fillGradientDefaults",2),px([zS],L$.prototype,"fillPatternDefaults",2),px([zS],L$.prototype,"fillImageDefaults",2),px([zS],L$.prototype,"fillOpacity",2),px([zS],L$.prototype,"stroke",2),px([zS],L$.prototype,"strokeWidth",2),px([zS],L$.prototype,"strokeOpacity",2),px([zS],L$.prototype,"lineDash",2),px([zS],L$.prototype,"lineDashOffset",2),px([zS],L$.prototype,"cornerRadius",2),px([zS],L$.prototype,"crisp",2),px([zS],L$.prototype,"itemStyler",2),px([zS],L$.prototype,"shadow",2),px([zS],L$.prototype,"label",2),px([zS],L$.prototype,"tooltip",2),px([zS],L$.prototype,"sparklineMode",2);var E$=e=>Rv(e.yValue??0);function O$(e,t,n){const{startingX:i,startingY:r}=function(e,t){const n=t[e?"y":"x"];let i=1/0,r=0;if(!n)return{startingX:i,startingY:r};e?r=n.scale.convert(HC.is(n.scale)?0:Math.max(...n.range)):i=n.scale.convert(HC.is(n.scale)?0:Math.min(...n.range));return{startingX:i,startingY:r}}(e,t);return{isVertical:e,calculate:(t,n)=>{let o=e?t.x:i,a=e?r:t.y,s=e?t.width:0,l=e?0:t.height;const{opacity:c=1}=t;let u;return n&&(isNaN(o)||isNaN(a))&&(({x:o,y:a}=n),s=e?n.width:0,l=e?0:n.height,e&&!E$(n)?a+=n.height:!e&&E$(n)&&(o+=n.width)),u=null==t.clipBBox?void 0:E$(t)?e?new Sx(o,a-l,s,l):new Sx(o-s,a,s,l):new Sx(o,a,s,l),{x:o,y:a,width:s,height:l,clipBBox:u,opacity:c}},mode:n}}function R$(e,t){return{isVertical:e,calculate:t=>({x:e?t.x:t.x+t.width/2,y:e?t.y+t.height/2:t.y,width:e?t.width:0,height:e?0:t.height,clipBBox:t.clipBBox,opacity:t.opacity??1}),mode:t}}function P$(e){const t=e=>null==e||isNaN(e.x)||isNaN(e.y);return{toFn:(n,i,r)=>"removed"===r&&null==n.datum&&"fade"===e.mode?{...j$(n,i),opacity:0}:"removed"===r||t(i)?e.calculate(i,n.previousDatum):{x:i.x,y:i.y,width:i.width,height:i.height,clipBBox:i.clipBBox,opacity:i.opacity??1},fromFn:(n,i,r)=>{let o;"updated"===r&&t(i)?r="removed":"updated"===r&&t(n.previousDatum)&&(r="added"),o="added"===r&&null==n.previousDatum&&"fade"===e.mode?{...j$(n,i),opacity:0}:"unknown"===r||"added"===r?e.calculate(i,n.previousDatum):{x:n.x,y:n.y,width:n.width,height:n.height,clipBBox:n.clipBBox,opacity:n.opacity??1};const a=iA[r];return{...o,phase:a}},applyFn:(e,t,n)=>{e.setProperties(t),e.crisp="end"===n&&(e.datum?.crisp??!1)}}}function j$(e,t){let{x:n,y:i,width:r,height:o,clipBBox:a,opacity:s=1}=t;return{x:n,y:i,width:r,height:o,clipBBox:a,opacity:s,crisp:e.datum?.crisp??!1}}function z$(e,t){if(void 0===t)return;const{x:n,y:i,width:r,height:o}=t;return OM.toCanvas(e.contentGroup,new Sx(n,i,r,o))}function _$(e,t,n,i,r,o){let a=o?.reduced?.diff?.[e];if(a?.changed)return a;const s=function(e,t){if(!t)return!1;const n=e.scales,i=t.scales;if(!$F(n.x,i.x))return!0;if(!$F(n.y,i.y))return!0;if(!B$(e)||!B$(t))return!1;const r=e.groupScale,o=t.groupScale;return!$F(r,o)}(i,r);return null==a&&null!=o?.reduced?.diff?(a={changed:!0,added:new Set,updated:new Set,removed:new Set,moved:new Set},s?a.updated=new Set(Array.from(t,e=>{let{datum:t}=e;return n(t)})):a.added=new Set(Array.from(t,e=>{let{datum:t}=e;return n(t)}))):s&&(a={changed:!0,added:new Set,updated:new Set(Array.from(t,e=>{let{datum:t}=e;return n(t)})),removed:new Set,moved:new Set}),a}function B$(e){return"object"===typeof e&&null!==e&&"groupScale"in e}var F$=OI(function(e,t,n,i){if(t.length<1e3)return;const[r,o]=t$(e,i);let a=e$(t),{indexData:s,valueData:l}=o$(t,n,n,r,o,a),c=A$(a,s);const u=[{maxRange:a,indexData:s,indices:c}];for(;a>64;)({indexData:s,valueData:l,maxRange:a}=a$(s,l,a)),c=A$(a,s),u.push({maxRange:a,indexData:s,indices:c});return u.reverse(),u}),$$=class extends D${constructor(e){super({moduleCtx:e,propertyKeys:eF,propertyNames:tF,categoryKey:"xValue",pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:j$,label:VB}}),this.properties=new L$,this.connectsToYAxis=!0,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":void 0}crossFilteringEnabled(){return null!=this.properties.yFilterKey&&(null==this.seriesGrouping||0===this.seriesGrouping.stackIndex)}async processData(e){if(!this.data)return;const{xKey:t,yKey:n,yFilterKey:i,normalizedTo:r}=this.properties,{seriesGrouping:{groupIndex:o=this.id}={},data:a}=this,s=(this.seriesGrouping?.stackCount??0)>1||null!=r,l=s,c=!this.ctx.animationManager.isSkipped(),u=this.getCategoryAxis()?.scale,d=this.getValueAxis()?.scale,{isContinuousX:h,xScaleType:p,yScaleType:g}=this.getScaleInformation({xScale:u,yScale:d}),f=`bar-stack-${o}-yValues`,m=`${f}-trailing`,y=this.visible?{}:{forceValue:0},b=[lP(t,p,{id:"xValue"}),cP(n,g,{id:"yValue-raw",invalidValue:null,...y})];this.crossFilteringEnabled()&&b.push(cP(i,g,{id:"yFilterValue",invalidValue:null,...y})),s&&b.push(...mP(n,"normal","current",{id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:f,separateNegative:!0,...y},g),...mP(n,"trailing","current",{id:"yValue-start",invalidValue:null,missingValue:0,groupId:m,separateNegative:!0,...y},g)),h&&b.push(bP,vP),Ey(r)&&b.push(MP([f,m],Math.abs(r))),c&&this.processedData&&b.push(RP(this.id,this.processedData)),!c&&l||b.push(CP());const{dataModel:v,processedData:x}=await this.requestDataModel(e,a,{props:b,groupByKeys:l,groupByData:!l});this.dataAggregationFilters=this.aggregateData(v,x),this.smallestDataInterval=x.reduced?.smallestKeyInterval,this.largestDataInterval=x.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:n}=this;if(null==n||null==t)return[];if(e===this.getCategoryDirection()){const e=n.resolveProcessedDataDefById(this,"xValue"),i=n.getDomain(this,"xValue","key",t);return"key"===e?.def.type&&"category"===e.def.valueType?i:this.padBandExtent(i)}const i=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";let r=this.domainForClippedRange(e,[i],"xValue");const o=this.crossFilteringEnabled()?n.getDomain(this,"yFilterValue","value",t):void 0;if(null!=o&&(r=[Math.min(r[0],o[0]),Math.max(r[1],o[1])]),this.getValueAxis()instanceof oj)return ED(r);return ED(Number.isFinite(r[1]-r[0])?[Math.min(0,r[0]),Math.max(0,r[1])]:[])}getSeriesRange(e,t){const n=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw",[i,r]=this.domainForVisibleRange("y",[n],"xValue",t);return[Math.min(i,0),Math.max(r,0)]}getVisibleItems(e,t,n){const i=this.dataModel?.hasColumnById(this,"yValue-end")?"yValue-end":"yValue-raw";return this.countVisibleItems("xValue",[i],e,t,n)}aggregateData(e,t){if("ungrouped"!==t.type)return;if(iP(t))return;const n=this.axes.x;if(null==n)return;const i=e.resolveKeysById(this,"xValue",t),r=e.resolveColumnById(this,"yValue-raw",t),{index:o}=e.resolveProcessedDataDefById(this,"xValue"),a=t.domain.keys[o];return F$(n.scale.type,i,r,a)}createNodeData(){var e=this;const{dataModel:t,processedData:n,groupScale:i,dataAggregationFilters:r}=this,o=this.getCategoryAxis(),a=this.getValueAxis();if(!t||!n||!o||!a)return;const s=n.dataSources?.get(this.id);if(null==s)return;const l=o.scale,c=a.scale,{xKey:u,yKey:d,xName:h,yName:p,legendItemName:g,label:f}=this.properties,m=this.getSeriesDomain("y"),y=a.isReversed(),{barWidth:b,groupIndex:v}=this.updateGroupScale(o),x=i.convert(String(v)),S=HC.is(l)?-.5*b:0,M=t.resolveKeysById(this,"xValue",n),w=t.resolveColumnById(this,"yValue-raw",n),k=this.crossFilteringEnabled()?t.resolveColumnById(this,"yFilterValue",n):void 0,I=!this.ctx.animationManager.isSkipped(),C=e=>l.convert(M[e])+x+S,D=this.properties.crisp??N$(o?.scale,o?.visibleRange,this.smallestDataInterval,this.largestDataInterval),A=c.convert(0),T=e=>{let{datum:t,datumIndex:n,xValue:i,yValue:r,cumulativeValue:o,phantom:a,currY:s,prevY:l,x:h,width:p,isPositive:g,yRange:m,labelText:b,opacity:v,featherRatio:x,crossScale:S=1}=e;const M=g!==y,w=c.convert(s),k=c.convert(l),I=c.convert(m),C="x"===this.getBarDirection(),T=.5*p*(1-S),L={x:C?Math.min(w,k):h+T,y:C?h+T:Math.min(w,k),width:C?Math.abs(k-w):p*S,height:C?p*S:Math.abs(k-w)},N=new Sx(L.x,L.y,L.width,L.height),E={x:C?Math.min(A,I):h+T,y:C?h+T:Math.min(A,I),width:C?Math.abs(A-I):p*S,height:C?p*S:Math.abs(A-I)},O=this.shouldFlipXY()?L.height:L.width,R=f.spacing+("number"===typeof f.padding?f.padding:0);return{series:this,itemId:a?PP(d,a):d,datum:t,datumIndex:n,cumulativeValue:o,phantom:a,xValue:i,yValue:r,yKey:d,xKey:u,capDefaults:{lengthRatioMultiplier:O,lengthMax:O},x:E.x,y:E.y,width:E.width,height:E.height,midPoint:{x:L.x+L.width/2,y:L.y+L.height/2},opacity:v,featherRatio:x,topLeftCornerRadius:C!==M,topRightCornerRadius:M,bottomRightCornerRadius:C===M,bottomLeftCornerRadius:!M,clipBBox:N,crisp:D,label:null!=b?{text:b,...BB({isUpward:M,isVertical:!C,placement:f.placement,spacing:R,rect:L})}:void 0,missing:null==r,focusable:!a}},L=[],N=[],E=[],O=function(t,n,i,r,o,a){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;const y=M[t];if(null==y)return;const b=s[t],v=w[t],x=null!=k?Number(k[t]):void 0,S=v>=0&&!Object.is(v,-0);if(!Number.isFinite(o))return;if(null!=x&&!Number.isFinite(x))return;const I=f.enabled&&null!=v?e.getLabelText(x??v,b,d,"y",m,f,{datum:b,value:x??v,xKey:u,yKey:d,xName:h,yName:p,legendItemName:g}):void 0,C=null!=x&&x>v,D=T({datum:b,datumIndex:t,xValue:y,yValue:x??v,cumulativeValue:x??o,phantom:!1,currY:null!=x?r+x:o,prevY:r,x:n,width:i,isPositive:S,yRange:Math.max(r+(x??-1/0),a),labelText:I,opacity:c,featherRatio:l,crossScale:C?.6:void 0});if(N.push(D),E.push(D),null!=x){const e=T({datum:s[t],datumIndex:t,xValue:y,yValue:x,cumulativeValue:x,phantom:!0,currY:o,prevY:r,x:n,width:i,isPositive:S,yRange:a,labelText:void 0,opacity:c,featherRatio:l,crossScale:void 0});L.push(e)}},[R,P]=l.range,j=Math.abs(P-R),z=r?.find(e=>e.maxRange>j);if("grouped"===n.type){const e=b,i=t.hasColumnById(this,"yValue-start"),r=i?t.resolveColumnById(this,"yValue-start",n):void 0,o=i?t.resolveColumnById(this,"yValue-end",n):void 0,a=i?t.resolveProcessedDataIndexById(this,"yValue-range"):-1;for(const{datumIndex:s,group:{aggregation:l}}of t.forEachGroupDatum(this,n)){const t=C(s),n=w[s],c=n>=0&&!Object.is(n,-0),u=i?Number(r?.[s]):0,d=i?Number(o?.[s]):n;let h=d;i&&(h=l[a][c?1:0]),O(s,t,e,u,d,h)}}else if(null==z){const e=n.invalidData?.get(this.id),t=b;let[i,r]=this.visibleRangeIndices("xValue",o.range);n.input.count<1e3&&(i=0,r=n.input.count);for(let n=i;n<r;n+=1){if(!0===e?.[n])continue;const i=C(n),r=Number(w[n]);O(n,i,t,0,r,r)}}else{const{indexData:e,indices:t}=z,[n,i]=this.visibleRangeIndices("xValue",o.range,t),r=y?-1:1;for(let o=n;o<i;o+=1){const t=4*o,n=e[t+0],i=e[t+1],a=e[t+2],s=e[t+3];if(-1===n)continue;const c=C((n+i)/2|0),u=Math.abs(C(i)-C(n))+b,d=Math.abs(i-n),h=KC.is(l)?l.bandwidth*Math.max(d-1,1)/(l.step*d):1,p=null!=M[s]?Number(w[s]):NaN,g=null!=M[a]?Number(w[a]):NaN;if(p>0){O(s,c,u,0,p,p,g>=0?r*(1-g/p):r,h)}if(g<0){O(a,c,u,0,g,g,p<=0?-r*(1-p/g):-r,h)}}}return{itemId:d,nodeData:L.length>0?[...L,...N]:N,labelData:E,scales:this.calculateScaling(),visible:this.visible||I,groupScale:this.getScaling(this.groupScale)}}nodeFactory(){return new w$}getHighlightData(e,t){const n=e.find(e=>e.datum===t.datum&&!e.phantom);return null!=n?[n]:void 0}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,e=>this.getDatumId(e))}getItemStyle(e,t){const{id:n,properties:i}=this,{xKey:r,yKey:o,itemStyler:a,fillGradientDefaults:s,fillPatternDefaults:l,fillImageDefaults:c}=i,{xValue:u,yValue:d,datum:h,datumIndex:p}=e;let g=qL(Bx(this.getHighlightStyle(t,p),i.getStyle()),s,l,c);if(a&&null!=e){const{xDomain:i,yDomain:f}=this.cachedDatumCallback("domain",()=>({xDomain:this.getSeriesDomain("x"),yDomain:this.getSeriesDomain("y")})),m=this.cachedDatumCallback(PP(this.getDatumId(e),t?"highlight":"node"),()=>{const e=this.ctx.highlightManager?.getActiveHighlight(),s=this.getHighlightStateString(e,t,p);return this.callWithContext(a,{seriesId:n,...TC(u,d,r,o,i,f),datum:h,xValue:u,yValue:d,highlighted:t,highlightState:s,...g})});m&&(g=qL(Bx(m,g),s,l,c))}return g}updateDatumNodes(e){const{shadow:t}=this.properties,n="x"===this.getCategoryDirection(),i=this.getShapeFillBBox(),r=this.getBarDirection();e.datumSelection.each((o,a)=>{const s=this.getItemStyle(a,e.isHighlight);JL(o,s,i);const l=s.cornerRadius??0;o.topLeftCornerRadius=a.topLeftCornerRadius?l:0,o.topRightCornerRadius=a.topRightCornerRadius?l:0,o.bottomRightCornerRadius=a.bottomRightCornerRadius?l:0,o.bottomLeftCornerRadius=a.bottomLeftCornerRadius?l:0,o.visible=n?(a.clipBBox?.width??a.width)>0:(a.clipBBox?.height??a.height)>0,o.direction=r,o.featherRatio=a.featherRatio,o.crisp=a.crisp,o.fillShadow=t})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,e=>{e.pointerEvents=1})}updateLabelNodes(e){const{isHighlight:t=!1}=e,n={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yKey:this.properties.yKey,yName:this.properties.yName??this.properties.yKey,legendItemName:this.properties.legendItemName??this.properties.xName??this.properties.xKey};e.labelSelection.each((e,i)=>{e.fillOpacity=this.getHighlightStyle(t,i?.datumIndex).opacity??1;const r=this.ctx.highlightManager?.getActiveHighlight(),o=this.getHighlightStateString(r,t,i.datumIndex);zB(this,e,n,this.properties.label,i.label,t,o)})}getTooltipContent(e){const{id:t,dataModel:n,processedData:i,properties:r}=this,{xKey:o,xName:a,yKey:s,yName:l,legendItemName:c,stackGroup:u,tooltip:d}=r,h=this.getCategoryAxis(),p=this.getValueAxis(),g=this.contextNodeData?.nodeData?.[e];if(!n||!i||!h||!p||!g)return;const f=i.dataSources.get(this.id)?.[e],m=n.resolveKeysById(this,"xValue",i)[e],y=n.resolveColumnById(this,"yValue-raw",i)[e];if(null==m)return;const b=this.getItemStyle(g,!1);return this.formatTooltipWithContext(d,{heading:this.getAxisValueText(h,"tooltip",m,f,o,c),symbol:this.legendItemSymbol(),data:[{label:l,fallbackLabel:s,value:this.getAxisValueText(p,"tooltip",y,f,s,c)}]},{seriesId:t,datum:f,title:l,xKey:o,xName:a,yKey:s,yName:l,legendItemName:c,stackGroup:u,...b,...this.getModuleTooltipParams()})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:n,fillOpacity:i,strokeOpacity:r,lineDash:o,lineDashOffset:a,fillGradientDefaults:s,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:qL({fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:r,strokeWidth:n,lineDash:o,lineDashOffset:a},s,l,c)}}getLegendData(e){const{showInLegend:t}=this.properties;if("category"!==e)return[];const{id:n,ctx:{legendManager:i},visible:r}=this,{yKey:o,yName:a,legendItemName:s}=this.properties;return[{legendType:"category",id:n,itemId:o,seriesId:n,enabled:r&&i.getItemEnabled({seriesId:n,itemId:o}),label:{text:s??a??o},symbol:this.legendItemSymbol(),legendItemName:s,hideInLegend:!t}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:n,annotationSelections:i}=e;const r=P$(O$(this.isVertical(),this.axes,"normal"));rA(this.id,"nodes",this.ctx.animationManager,[t],r),FB(this,"labels",this.ctx.animationManager,n),FB(this,"annotations",this.ctx.animationManager,...i)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:n,annotationSelections:i,contextData:r,previousContextData:o}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);const a=_$(this.id,t,this.getDatumId.bind(this),e.contextData,o,this.processedData),s=null==o?"fade":"normal",l=P$(O$(this.isVertical(),this.axes,s));rA(this.id,"nodes",this.ctx.animationManager,[t],l,(e,t)=>this.getDatumId(t),a),!a?.changed&&$F(r.groupScale,o?.groupScale)||(FB(this,"labels",this.ctx.animationManager,n),FB(this,"annotations",this.ctx.animationManager,...i))}getDatumId(e){return PP(e.xValue,e.phantom)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(e){let{datumIndex:t}=e;const n=this.contextNodeData?.nodeData[t].clipBBox;return z$(this,n)}hasItemStylers(){return null!=this.properties.itemStyler||null!=this.properties.label.itemStyler}};$$.className="BarSeries",$$.type="bar";var V$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",moduleFactory:e=>new $$(e),stackable:!0,groupable:!0,defaultAxes:_E,themeTemplate:{series:{direction:"vertical",fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:GE,fillPatternDefaults:qE,fillImageDefaults:JE,fillOpacity:1,strokeWidth:{$isUserOption:["./stroke",2,0]},lineDash:[0],lineDashOffset:0,label:{...iO,padding:{$isUserOption:["./spacing",0,8]},enabled:!1,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$if:[{$or:[{$eq:[{$path:"./placement"},"outside-start"]},{$eq:[{$path:"./placement"},"outside-end"]}]},{$ref:"textColor"},{$ref:"chartBackgroundColor"}]},placement:"inside-center"},shadow:{enabled:!1,color:oE,xOffset:3,yOffset:3,blur:5},errorBar:{cap:{lengthRatio:.3}},highlight:rO()}}},G$={type:"series",name:"bar",chartType:"cartesian",options:jj,create:e=>new $$(e)};function W$(e,t,n,i,r,o,a,s,l,c,u){let d=0,h=1/0;const p=(s+c)/2,g=(l+u)/2;for(const f of a){const a=e[f],s=t[f];if(null==a||null==s)continue;const l=(i$(a,n,r)-p)**2+(i$(s,i,o)-g)**2;l<h&&(h=l,d=f)}return d}function H$(e,t,n,i,r,o,a,s,l,c,u){let d=0;for(const h of a){const a=e[h],p=t[h];if(null==a||null==p)continue;const g=i$(a,n,r),f=i$(p,i,o);g>=s&&g<=c&&f>=l&&f<=u&&(d+=1)}return d}function U$(e,t,n,i,r,o,a,s,l,c,u){if(a.length<5)return;if(s===c&&l===u){return{scale:0,x0:s,y0:l,x1:c,y1:u,indices:a,primaryDatumIndex:W$(e,t,n,i,r,o,a,s,l,c,u),children:null}}const d=[{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]},{x0:1,y0:1,x1:0,y1:0,indices:[]}],h=(s+c)/2,p=(l+u)/2;for(const f of a){const a=e[f],s=t[f];if(null==a||null==s)continue;const l=i$(a,n,r),c=i$(s,i,o),u=d[(l>h?1:0)+(c>p?2:0)];u.indices.push(f),u.x0=Math.min(u.x0,l),u.y0=Math.min(u.y0,c),u.x1=Math.max(u.x1,l),u.y1=Math.max(u.y1,c)}let g=[];for(const f of d){const{indices:a,x0:s,x1:l,y0:c,y1:u}=f,d=U$(e,t,n,i,r,o,a,s,c,l,u);null!=d&&g.push(d)}if(1===g.length)return g[0];0===g.length&&(g=null);return{scale:Math.hypot(c-s,u-l),x0:s,y0:l,x1:c,y1:u,indices:a,primaryDatumIndex:W$(e,t,n,i,r,o,a,s,l,c,u),children:g}}function Y$(e,t,n,i,r,o){const{xRange:a,yRange:s,xVisibleRange:[l,c],yVisibleRange:[u,d],minSize:h,maxSize:p}=n,{xValues:g,yValues:f,xd0:m,xd1:y,yd0:b,yd1:v}=t,x=1/Math.min(a/(c-l),s/(d-u));for(const{sizeRatio:S,node:M}of t.filters){const t=.5*(h+S*(p-h)),n=t*x,w=e*n,k=l-t/a,I=c+t/a,C=u-t/s,D=d+t/s,A=[M];for(;A.length>0;){const t=A.pop();if(!(t.x1<k||t.x0>I||t.y1<C||t.y0>D))if(t.scale<=w)null!=i&&(i.count+=1),r?.push({datumIndex:t.primaryDatumIndex,count:t.indices.length,dilation:Ev(1,t.scale/n,e)});else if(null==t.children){const{indices:e}=t;if(null!=i){const n=t.x0>=l&&t.x1<=c&&t.y0>=u&&t.y1<=d?e.length:H$(g,f,m,b,y,v,e,l,u,c,d);i.count+=n}o?.push(...e)}else A.push(...t.children)}}}function K$(e,t,n){const i={count:0};return Y$(e,t,n,i,void 0,void 0),i.count}var Z$=class extends HB{constructor(){super(...arguments),this.maxSize=30}};px([zS,Jx()],Z$.prototype,"maxSize",2),px([zS,nS()],Z$.prototype,"domain",2);var X$=class extends ZA{constructor(){super(...arguments),this.placement="top"}};px([zS],X$.prototype,"placement",2);var q$=class extends iF{constructor(){super(...arguments),this.label=new X$,this.tooltip=KB(),this.maxRenderedItems=1/0,this.marker=new Z$}};px([zS],q$.prototype,"xKey",2),px([zS],q$.prototype,"yKey",2),px([zS],q$.prototype,"sizeKey",2),px([zS],q$.prototype,"labelKey",2),px([zS],q$.prototype,"xFilterKey",2),px([zS],q$.prototype,"yFilterKey",2),px([zS],q$.prototype,"sizeFilterKey",2),px([zS],q$.prototype,"xName",2),px([zS],q$.prototype,"yName",2),px([zS],q$.prototype,"sizeName",2),px([zS],q$.prototype,"labelName",2),px([zS],q$.prototype,"title",2),px([aw("marker.shape")],q$.prototype,"shape",2),px([aw("marker.size")],q$.prototype,"size",2),px([aw("marker.maxSize")],q$.prototype,"maxSize",2),px([aw("marker.domain")],q$.prototype,"domain",2),px([aw("marker.fillGradientDefaults")],q$.prototype,"fillGradientDefaults",2),px([aw("marker.fillPatternDefaults")],q$.prototype,"fillPatternDefaults",2),px([aw("marker.fillImageDefaults")],q$.prototype,"fillImageDefaults",2),px([aw("marker.fill")],q$.prototype,"fill",2),px([aw("marker.fillOpacity")],q$.prototype,"fillOpacity",2),px([aw("marker.stroke")],q$.prototype,"stroke",2),px([aw("marker.strokeWidth")],q$.prototype,"strokeWidth",2),px([aw("marker.strokeOpacity")],q$.prototype,"strokeOpacity",2),px([aw("marker.lineDash")],q$.prototype,"lineDash",2),px([aw("marker.lineDashOffset")],q$.prototype,"lineDashOffset",2),px([aw("marker.itemStyler")],q$.prototype,"itemStyler",2),px([zS],q$.prototype,"label",2),px([zS],q$.prototype,"tooltip",2),px([zS],q$.prototype,"maxRenderedItems",2);var Q$=class extends nF{constructor(e,t,n,i){super(e,t,n,i),this.sizeKey=i.properties.sizeKey}},J$=class extends oF{constructor(e){super({moduleCtx:e,propertyKeys:{...eF,label:["labelKey"],size:["sizeKey"]},propertyNames:{...tF,label:["labelName"],size:["sizeName"]},categoryKey:void 0,pickModes:[2,1,0],pathsPerSeries:[],datumSelectionGarbageCollection:!1,animationResetFns:{label:VB,datum:h$},usesPlacedLabels:!0,clipFocusBox:!1}),this.NodeEvent=Q$,this.properties=new q$,this.dataAggregation=void 0,this.sizeScale=new ij}get pickModeAxis(){return"main-category"}async processData(e){if(null==this.data||!this.visible)return;const t=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:i,yScaleType:r}=this.getScaleInformation({xScale:t,yScale:n}),o=this.sizeScale.type,{xKey:a,yKey:s,sizeKey:l,xFilterKey:c,yFilterKey:u,sizeFilterKey:d,labelKey:h,marker:p}=this.properties,{dataModel:g,processedData:f}=await this.requestDataModel(e,this.data,{props:[cP(a,i,{id:"xValue"}),cP(s,r,{id:"yValue"}),...null!=c?[cP(c,i,{id:"xFilterValue"})]:[],...null!=u?[cP(u,r,{id:"yFilterValue"})]:[],...null!=d?[cP(d,o,{id:"sizeFilterValue"})]:[],...l?[cP(l,o,{id:"sizeValue"})]:[],...h?[cP(h,"category",{id:"labelValue"})]:[]]});this.dataAggregation=this.aggregateData(g,f);const m=l?g.resolveProcessedDataIndexById(this,"sizeValue"):void 0,y=p.domain?[p.domain[0],p.domain[1]]:void 0;this.sizeScale.domain=y??(null==m?void 0:f.domain.values[m])??[],this.animationState.transition("updateData")}xCoordinateRange(e,t,n){const{properties:i,sizeScale:r}=this,{size:o,sizeKey:a}=i,s=this.axes.x.scale.convert(e),l=null!=a?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,c=.5*(null!=l?r.convert(l[n]):o)*t;return[s-c,s+c]}yCoordinateRange(e,t,n){const{properties:i,sizeScale:r}=this,{size:o,sizeKey:a}=i,s=this.axes.y.scale.convert(e[0]),l=null!=a?this.dataModel.resolveColumnById(this,"sizeValue",this.processedData):void 0,c=.5*(null!=l?r.convert(l[n]):o)*t;return[s-c,s+c]}getSeriesDomain(e){const{dataModel:t,processedData:n}=this;if(!n||!t)return[];const i={x:"xValue",y:"yValue"},r=i[e],o=t.resolveProcessedDataDefById(this,r),a=t.getDomain(this,r,"value",n);if("value"===o?.def.type&&"category"===o?.def.valueType)return a;const s=i["x"===e?"y":"x"];return ED(UR(this.domainForClippedRange(e,[r],s)))}getSeriesRange(e,t){return this.domainForVisibleRange("y",["yValue"],"xValue",t)}getVisibleItems(e,t,n){const{dataAggregation:i,axes:r}=this,o=r.x,a=r.y;if(null==i||null==o||null==a)return this.countVisibleItems("xValue",["yValue"],e,t,n);return K$(0,i,this.aggregationOptions(o,a,e,t??[0,1]))}aggregateData(e,t){if("grouped"===t.type)return;if(t.input.count<=this.properties.maxRenderedItems)return;const n=this.axes.x,i=this.axes.y;if(null==n||null==i)return;const r=n.scale,o=i.scale;if(!HC.is(r)||!HC.is(o))return;const{sizeScale:a,properties:s}=this,{sizeKey:l}=s,c=e.resolveColumnById(this,"xValue",t),u=e.resolveColumnById(this,"yValue",t),d=l?e.resolveColumnById(this,"sizeValue",t):void 0,h=e.getDomain(this,"xValue","value",t),p=e.getDomain(this,"yValue","value",t),g=l?a.domain:[0,0];return function(e,t,n,i,r,o,a,s){const[l,c]=t$(e,o),[u,d]=t$(t,a),[h,p]=s,g=[];if(null!=r&&p>h){const e=Array.from({length:3},()=>[]);for(let t=0;t<r.length;t+=1){const n=(r[t]-h)/(p-h)*3|0;n>=0&&n<3&&e[n].push(t)}for(let t=0;t<e.length;t+=1){const r=U$(n,i,l,u,c,d,e[t],0,0,1,1);if(null!=r){const e=t/3;g.push({sizeRatio:e,node:r})}}}else{const e=n.map((e,t)=>t),t=U$(n,i,l,u,c,d,e,0,0,1,1);null!=t&&g.push({sizeRatio:0,node:t})}return g.length>0?{xValues:n,yValues:i,xd0:l,xd1:c,yd0:u,yd1:d,filters:g}:void 0}(r.type,o.type,c,u,d,h,p,g)}aggregationOptions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.visibleRange,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.visibleRange;const{sizeKey:r,marker:o}=this.properties,a=Math.abs(e.range[1]-e.range[0]),s=Math.abs(t.range[1]-t.range[0]),l=o.size;return{xRange:a,yRange:s,minSize:l,maxSize:r?o.maxSize:l,xVisibleRange:n,yVisibleRange:i}}createNodeData(){const{axes:e,dataModel:t,processedData:n,sizeScale:i,visible:r}=this,{xKey:o,yKey:a,sizeKey:s,xFilterKey:l,yFilterKey:c,sizeFilterKey:u,labelKey:d,xName:h,yName:p,sizeName:g,labelName:f,label:m,marker:y,maxRenderedItems:b}=this.properties,{enabled:v,placement:x}=m,S=bN.anchor(y.shape),M=e.x,w=e.y;if(!(t&&n&&r&&M&&w))return;const k=t.resolveColumnById(this,"xValue",n),I=t.resolveColumnById(this,"yValue",n),C=null!=s?t.resolveColumnById(this,"sizeValue",n):void 0,D=null!=d?t.resolveColumnById(this,"labelValue",n):void 0,A=null!=l?t.resolveColumnById(this,"xFilterValue",n):void 0,T=null!=c?t.resolveColumnById(this,"yFilterValue",n):void 0,L=null!=u?t.resolveColumnById(this,"sizeFilterValue",n):void 0;let N;N=d?[]:s?t.getDomain(this,"sizeValue","value",n):[];const E=M.scale,O=w.scale,R=(E.bandwidth??0)/2,P=(O.bandwidth??0)/2,j=[];i.range=[y.size,y.maxSize];const z=Tw.getMeasurer({font:m}),_=n.dataSources.get(this.id);if(null==_)return;const B=XA(m),F=(e,t,n)=>{const r=_[e],l=k[e],c=I[e],u=C?.[e],b=E.convert(l)+R,M=O.convert(c)+P;let w,F;if(null!=A&&null!=T&&(w=A[e]===l&&T[e]===c,null!=L&&w&&(w=L[e]===u)),v){let t,n,i;d&&D?(t=D[e],n=d,i="label"):s?(t=u,n=s,i="size"):(t=c,n=a,i="y");const l=this.getLabelText(t,r,n,i,N,m,{value:t,datum:r,xKey:o,yKey:a,sizeKey:s,labelKey:d,xName:h,yName:p,sizeName:g,labelName:f}),y=z.measureText(String(l));y.width+=B.left+B.right,y.height+=B.bottom+B.top,F={text:l,...y}}else F={text:"",width:0,height:0};const $=null!=u?i.convert(u):y.size;j.push({series:this,itemId:a,yKey:a,xKey:o,datum:r,datumIndex:e,xValue:l,yValue:c,sizeValue:u,capDefaults:{lengthRatioMultiplier:y.getDiameter(),lengthMax:1/0},point:{x:b,y:M,size:Math.sqrt(n)*$},midPoint:{x:b,y:M},label:F,anchor:S,placement:x,count:t,dilation:n,selected:w})},{dataAggregation:$}=this;if(null==$)for(let V=0;V<_.length;V++)F(V,1,1);else{const e=this.aggregationOptions(M,w),t=function(e,t,n){let i=1,r=2;for(;K$(r,e,t)>n&&r<100;)i*=2,r*=2;for(let o=0;o<12;o+=1){const o=(r+i)/2;K$(o,e,t)>n?i=o:r=o}return i}($,e,b),{groupedAggregation:n,singleDatumIndices:i}=function(e,t,n){const i=[],r=[];return Y$(e,t,n,void 0,i,r),{groupedAggregation:i,singleDatumIndices:r}}(t,$,e);for(const{datumIndex:r,count:o,dilation:a}of n)F(r,o,a);for(const r of i)F(r,1,1)}return{itemId:a,nodeData:j,labelData:v?j:[],scales:this.calculateScaling(),visible:this.visible}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e,{sizeKey:i}=this.properties;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());const r=this.properties.marker.enabled?t:[];let o;return i&&(o=e=>PP([e.xValue,e.yValue,e.sizeValue,e.label.text])),n.update(r,void 0,o)}updateDatumNodes(e){const{datumSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,sizeKey:o,labelKey:a,marker:s}=this.properties;this.sizeScale.range=[s.size,s.maxSize];const l=this.getShapeFillBBox(),c=null!=this.dataAggregation,u={xKey:i,yKey:r,sizeKey:o,labelKey:a};t.each((e,t,i)=>{const{count:r,dilation:o}=t,a=this.getMarkerStyle(s,t,u,n);a.fillOpacity=(1-(1-(a.fillOpacity??1))**r)/Math.sqrt(o),this.applyMarkerStyle(a,e,t.point,l,{selected:t.selected}),e.zIndex=c?[-r,i]:0}),n||this.properties.marker.markClean()}updatePlacedLabelData(e){this.labelSelection.update(e.map(e=>({...e.datum,point:{x:e.x,y:e.y,size:e.datum.point.size}})),e=>{e.pointerEvents=1}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{isHighlight:t=!1}=e,n=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((e,i)=>{const r=t||this.isSeriesHighlighted(n),o=this.getHighlightStateString(n,r,i.datumIndex),a=jB(this,i,this.properties,this.properties.label,r,o);e.text=i.label.text,e.fill=a.color,e.x=i.point?.x??0,e.y=i.point?.y??0,e.fontStyle=a.fontStyle,e.fontWeight=a.fontWeight,e.fontSize=a.fontSize,e.fontFamily=a.fontFamily,e.textAlign="left",e.textBaseline="top",e.fillOpacity=this.getHighlightStyle(t,i.datumIndex).opacity??1,e.setBoxing(a)})}getTooltipContent(e){const{id:t,dataModel:n,processedData:i,axes:r,properties:o,ctx:a}=this,{formatManager:s}=a,{xKey:l,xName:c,yKey:u,yName:d,sizeKey:h,sizeName:p,labelKey:g,labelName:f,title:m,tooltip:y,marker:b,legendItemName:v}=o,x=r.x,S=r.y;if(!n||!i||!x||!S)return;const M=i.dataSources.get(this.id)?.[e],w=n.resolveColumnById(this,"xValue",i)[e],k=n.resolveColumnById(this,"yValue",i)[e],I=this.contextNodeData?.nodeData[e];if(null==w||null==I)return;const C=[];if(this.isLabelEnabled()&&null!=g){const r=n.resolveColumnById(this,"labelValue",i)[e],o=s.format(this.callWithContext.bind(this),{type:"category",value:r,datum:M,seriesId:t,legendItemName:v,key:g,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});C.push({label:f,fallbackLabel:g,value:o??rI(r)})}if(C.push({label:c,fallbackLabel:l,value:this.getAxisValueText(x,"tooltip",w,M,l,v)},{label:d,fallbackLabel:u,value:this.getAxisValueText(S,"tooltip",k,M,u,v)}),null!=h){const r=n.resolveColumnById(this,"sizeValue",i)[e],o=n.getDomain(this,"sizeValue","value",i),a=s.format(this.callWithContext.bind(this),{type:"number",value:r,datum:M,seriesId:t,legendItemName:v,key:h,source:"tooltip",property:"size",boundSeries:this.getFormatterContext("size"),domain:o,fractionDigits:void 0});C.push({label:p,fallbackLabel:h,value:a??rI(r)})}const D=this.getMarkerStyle(b,{datum:M,datumIndex:e},{xKey:l,yKey:u,sizeKey:h,labelKey:g,highlighted:!0},!1);return this.formatTooltipWithContext(y,{title:m,symbol:this.legendItemSymbol(),data:C},{seriesId:t,datum:M,title:u,xKey:l,xName:c,yKey:u,yName:d,sizeKey:h,sizeName:p,labelKey:g,labelName:f,...D,...this.getModuleTooltipParams()})}legendItemSymbol(){return{marker:this.getMarkerStyle(this.properties.marker,{},void 0,!1,void 0,void 0,!1)}}getLegendData(){const{id:e,ctx:{legendManager:t},visible:n}=this,{yKey:i,yName:r,title:o}=this.properties;return[{legendType:"category",id:e,itemId:i,seriesId:e,enabled:n&&t.getItemEnabled({seriesId:e,itemId:i}),label:{text:o??r??i},symbol:this.legendItemSymbol()}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:n}=e;u$(this,this.ctx.animationManager,t),FB(this,"labels",this.ctx.animationManager,n)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new bN}getFormattedMarkerStyle(e){const{xKey:t,yKey:n,sizeKey:i,labelKey:r,marker:o}=this.properties;return this.getMarkerStyle(o,e,{xKey:t,yKey:n,sizeKey:i,labelKey:r},!1)}computeFocusBounds(e){return g$(this,e)}hasItemStylers(){const{itemStyler:e,marker:t,label:n}=this.properties;return!!(e??t.itemStyler??n.itemStyler)}};J$.className="BubbleSeries",J$.type="bubble";var eV={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",moduleFactory:e=>new J$(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:YE,fillPatternDefaults:qE,fillImageDefaults:JE,fillOpacity:.8,maxRenderedItems:1e4,label:{...iO,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:rO()}}},tV={type:"series",name:"bubble",chartType:"cartesian",options:_j,create:e=>new J$(e)},nV=class extends iF{constructor(){super(...arguments),this.fillGradientDefaults=new GL,this.fillPatternDefaults=new WL,this.fillImageDefaults=new HL,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new WB,this.label=new ZA,this.tooltip=KB()}getStyle(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:a,cornerRadius:s}=this;return{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:a,cornerRadius:s,opacity:1}}};px([zS],nV.prototype,"xKey",2),px([zS],nV.prototype,"yKey",2),px([zS],nV.prototype,"xName",2),px([zS],nV.prototype,"yName",2),px([zS],nV.prototype,"fill",2),px([zS],nV.prototype,"fillGradientDefaults",2),px([zS],nV.prototype,"fillPatternDefaults",2),px([zS],nV.prototype,"fillImageDefaults",2),px([zS],nV.prototype,"fillOpacity",2),px([zS],nV.prototype,"stroke",2),px([zS],nV.prototype,"strokeWidth",2),px([zS],nV.prototype,"strokeOpacity",2),px([zS],nV.prototype,"lineDash",2),px([zS],nV.prototype,"lineDashOffset",2),px([zS],nV.prototype,"cornerRadius",2),px([zS],nV.prototype,"areaPlot",2),px([zS],nV.prototype,"bins",2),px([zS],nV.prototype,"aggregation",2),px([zS],nV.prototype,"binCount",2),px([zS],nV.prototype,"shadow",2),px([zS],nV.prototype,"label",2),px([zS],nV.prototype,"tooltip",2);var iV=class extends oF{constructor(e){super({moduleCtx:e,propertyKeys:eF,propertyNames:tF,categoryKey:void 0,pickModes:[1,0],datumSelectionGarbageCollection:!0,animationResetFns:{datum:j$,label:VB}}),this.properties=new nV,this.calculatedBins=[]}deriveBins(e){const t=UT(e[0],e[1],10).ticks,n=qT(e[0],e[1],10),[i]=t;return[[i-n,i],...t.map(e=>[e,e+n])]}calculateNiceBins(e,t){const n=Math.floor(e[0]),i=e[1],r=t||1,{start:o,binSize:a}=this.calculateNiceStart(n,i,r);return this.getBins(o,i,a,r)}getBins(e,t,n,i){const r=[],o=this.calculatePrecision(n);for(let a=0;a<i;a++){const s=Math.round((e+a*n)*o)/o;let l=Math.round((e+(a+1)*n)*o)/o;a===i-1&&(l=Math.max(l,t)),r[a]=[s,l]}return r}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,n){const i=Math.abs(t-e)/n,r=Math.floor(Math.log10(i)),o=Math.pow(10,r);return{start:Math.floor(e/o)*o,binSize:i}}async processData(e){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));const{xKey:t,yKey:n,areaPlot:i,aggregation:r}=this.properties,o=this.axes.x?.scale,a=this.axes.y?.scale,{xScaleType:s,yScaleType:l}=this.getScaleInformation({yScale:a,xScale:o}),c=[lP(t,s),xP];if(n){let e=QR("groupAgg");"count"===r||("sum"===r?e=XR("groupAgg"):"mean"===r&&(e=JR("groupAgg"))),i&&(e=eP("groupAgg",e)),c.push(cP(n,l,{invalidValue:void 0}),e)}else{c.push(uP("count"));let e=QR("groupAgg");i&&(e=eP("groupAgg",e)),c.push(e)}!this.ctx.animationManager.isSkipped()&&this.processedData&&c.push(RP(this.id,this.processedData,!1)),await this.requestDataModel(e,this.data,{props:c,groupByFn:e=>{const t=ED(e.domain.keys[0]);if(0===t.length)return e.domain.groups=[],()=>[];const n=Ny(this.properties.binCount)?this.calculateNiceBins(t,this.properties.binCount):this.properties.bins??this.deriveBins(t),i=n.length;return this.calculatedBins=[...n],e=>{let t=e[0];if(wy(t)&&(t=t.getTime()),!Ny(t))return[];for(let r=0;r<i;r++){const e=n[r];if(t>=e[0]&&t<e[1])return e;if(r===i-1&&t<=e[1])return e}return[]}}}),this.animationState.transition("updateData")}xCoordinateRange(){return[NaN,NaN]}yCoordinateRange(){return[NaN,NaN]}getSeriesDomain(e){const{processedData:t,dataModel:n}=this;if(!t||!n||!this.calculatedBins.length)return[];const i=n.getDomain(this,"groupAgg","aggregate",t),r=this.calculatedBins?.[0][0],o=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return ED("x"===e?[r,o]:i)}getSeriesRange(e,t){let[n,i]=t;const{dataModel:r,processedData:o}=this;if(!r||"grouped"!==o?.type)return[NaN,NaN];const a=this.axes.x.scale;let s=-1/0;return o.groups.forEach(e=>{let{keys:t,aggregation:r}=e;const[[o,l]=[0,0]]=r,[c,u]=t,[d,h]=FC([a.convert(c),a.convert(u)]);if(h>=n&&d<=i){const e=o+l;s=Math.max(s,e)}}),0>s?[NaN,NaN]:[0,s]}frequency(e){return e.datumIndices.reduce((e,t)=>e+t.length,0)}createNodeData(){const{axes:e,processedData:t,dataModel:n}=this,i=e.x,r=e.y;if(!i||!r||!n)return;const{scale:o}=i,{scale:a}=r,{xKey:s,yKey:l,xName:c,yName:u,label:d}=this.properties,h=[],p={itemId:this.properties.yKey??this.id,nodeData:h,labelData:h,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return this.visible&&null!=t&&"grouped"===t.type?(t.groups.forEach((e,i)=>{const{keys:p,aggregation:g}=e,[[f,m]=[0,0]]=g,y=this.frequency(e),b=p,[v,x]=b,S=[...n.forEachDatum(this,t,e)],M=o.convert(v),w=o.convert(x),k=f+m,I=a.convert(0),C=a.convert(k),D=Math.abs(w-M),A=Math.abs(C-I),T=Math.min(M,w),L=Math.min(I,C);let N;d.enabled&&0!==k&&(N={x:T+D/2,y:L+A/2,text:this.getLabelText(k,S,l,"y",[],d,{value:k,datum:S,xKey:s,yKey:l,xName:c,yName:u})});const E={x:T+D/2,y:L+A/2},O=r.isReversed();h.push({series:this,datumIndex:i,datum:S,aggregatedValue:k,frequency:y,domain:b,yKey:l,xKey:s,x:T,y:L,xValue:M,yValue:C,width:D,height:A,midPoint:E,topLeftCornerRadius:!O,topRightCornerRadius:!O,bottomRightCornerRadius:O,bottomLeftCornerRadius:O,label:N,crisp:!0})}),h.sort((e,t)=>e.x-t.x),p):p}nodeFactory(){return new Yw}updateDatumSelection(e){const{nodeData:t,datumSelection:n}=e;return n.update(t,void 0,e=>e.domain.join("_"))}getItemStyle(e,t){const{properties:n}=this;return qL(Bx(this.getHighlightStyle(e,t?.datumIndex),n.getStyle()),n.fillGradientDefaults,n.fillPatternDefaults,n.fillImageDefaults)}updateDatumNodes(e){const{isHighlight:t}=e,{shadow:n}=this.properties,i=this.getShapeFillBBox();e.datumSelection.each((e,r)=>{const o=this.getItemStyle(t,r),{cornerRadius:a=0}=o,{topLeftCornerRadius:s,topRightCornerRadius:l,bottomRightCornerRadius:c,bottomLeftCornerRadius:u}=r;JL(e,o,i),e.topLeftCornerRadius=s?a:0,e.topRightCornerRadius=l?a:0,e.bottomRightCornerRadius=c?a:0,e.bottomLeftCornerRadius=u?a:0,e.crisp=r.crisp,e.fillShadow=n,e.visible=r.height>0})}updateLabelSelection(e){const{labelData:t,labelSelection:n}=e;return n.update(t,e=>{e.pointerEvents=1,e.textAlign="center",e.textBaseline="middle"})}updateLabelNodes(e){const t=this.isLabelEnabled();e.labelSelection.each((e,n)=>{const i=jB(this,n,this.properties,this.properties.label),{enabled:r,fontStyle:o,fontWeight:a,fontSize:s,fontFamily:l,color:c}=i;r&&t&&n?.label?(e.text=n.label.text,e.x=n.label.x,e.y=n.label.y,e.fontStyle=o,e.fontWeight=a,e.fontFamily=l,e.fontSize=s,e.fill=c,e.visible=!0,e.fillOpacity=this.getHighlightStyle(!1,n.datumIndex).opacity??1,e.setBoxing(i)):e.visible=!1})}initQuadTree(e){const{value:t}=this.contentGroup.children().next();t instanceof PM&&k$(e,t.children())}pickNodeClosestDatum(e){return I$(this,e)}getTooltipContent(e){const{id:t,dataModel:n,processedData:i,axes:r,properties:o,ctx:{localeManager:a}}=this,{xKey:s,xName:l,yKey:c,yName:u,tooltip:d,legendItemName:h}=o,p=r.x,g=r.y;if(!n||"grouped"!==i?.type||!p||!g)return;const f=i.groups[e],{aggregation:m,keys:y}=f,[[b,v]=[0,0]]=m,x=this.frequency(f),S=y,[M,w]=S,k=b+v,I={data:[...n.forEachDatum(this,i,f)],aggregatedValue:k,frequency:x,domain:S},C=[{label:l,fallbackLabel:s,value:`${this.getAxisValueText(p,"tooltip",M,I,s,h)} - ${this.getAxisValueText(p,"tooltip",w,I,s,h)}`},{label:a.t("seriesHistogramTooltipFrequency"),value:this.getAxisValueText(g,"tooltip",x,I,c,h)}];if(null!=c){let e;switch(o.aggregation){case"sum":e=a.t("seriesHistogramTooltipSum",{yName:u??c});break;case"mean":e=a.t("seriesHistogramTooltipMean",{yName:u??c});break;case"count":e=a.t("seriesHistogramTooltipCount",{yName:u??c})}C.push({label:e,value:this.getAxisValueText(g,"tooltip",k,I,c,h)})}return this.formatTooltipWithContext(d,{symbol:this.legendItemSymbol(),data:C},{seriesId:t,datum:I,title:u,xKey:s,xName:l,yKey:c,yName:u,xRange:[M,w],frequency:x,...this.getItemStyle(!1)})}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:n,strokeWidth:i,strokeOpacity:r,lineDash:o,lineDashOffset:a,fillGradientDefaults:s,fillPatternDefaults:l,fillImageDefaults:c}=this.properties;return{marker:qL({fill:e??"rgba(0, 0, 0, 0)",stroke:n??"rgba(0, 0, 0, 0)",fillOpacity:t,strokeOpacity:r,strokeWidth:i,lineDash:o,lineDashOffset:a},s,l,c)}}getLegendData(e){if("category"!==e)return[];const{id:t,ctx:{legendManager:n},visible:i}=this,{xKey:r,yName:o,showInLegend:a}=this.properties;return[{legendType:"category",id:t,itemId:r,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:r}),label:{text:o??r??"Frequency"},symbol:this.legendItemSymbol(),hideInLegend:!a}]}animateEmptyUpdateReady(e){let{datumSelection:t,labelSelection:n}=e;const i=P$(O$(!0,this.axes,"normal"));rA(this.id,"datums",this.ctx.animationManager,[t],i),FB(this,"labels",this.ctx.animationManager,n)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetDatumAnimation(e)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds(e){let{datumIndex:t}=e;return z$(this,this.contextNodeData?.nodeData[t])}hasItemStylers(){return null!=this.properties.label.itemStyler}};iV.className="HistogramSeries",iV.type="histogram";var rV={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",moduleFactory:e=>new iV(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:GE,fillPatternDefaults:qE,fillImageDefaults:JE,strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{...iO,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},shadow:{enabled:!1,color:oE,xOffset:3,yOffset:3,blur:5},highlight:rO()}}},oV={type:"series",name:"histogram",chartType:"cartesian",enterprise:!0,options:Fj,create:e=>new iV(e)},aV=class extends iF{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new aF,this.marker=new HB,this.label=new ZA,this.tooltip=KB(),this.connectMissingData=!1,this.sparklineMode=!1}};px([zS],aV.prototype,"xKey",2),px([zS],aV.prototype,"yKey",2),px([zS],aV.prototype,"xName",2),px([zS],aV.prototype,"yName",2),px([zS],aV.prototype,"yFilterKey",2),px([zS],aV.prototype,"stackGroup",2),px([zS],aV.prototype,"normalizedTo",2),px([zS],aV.prototype,"title",2),px([zS],aV.prototype,"stroke",2),px([zS],aV.prototype,"strokeWidth",2),px([zS],aV.prototype,"strokeOpacity",2),px([zS],aV.prototype,"lineDash",2),px([zS],aV.prototype,"lineDashOffset",2),px([zS],aV.prototype,"interpolation",2),px([zS],aV.prototype,"marker",2),px([zS],aV.prototype,"label",2),px([zS],aV.prototype,"tooltip",2),px([zS],aV.prototype,"connectMissingData",2),px([zS],aV.prototype,"sparklineMode",2);var sV=OI(l$),lV=class extends oF{constructor(e){super({moduleCtx:e,propertyKeys:eF,propertyNames:tF,categoryKey:"xValue",pickModes:[2,1,0],datumSelectionGarbageCollection:!1,animationResetFns:{path:y$({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:VB,datum:(e,t)=>({opacity:1,scalingX:1,scalingY:1,...p$(0,t)})},clipFocusBox:!1}),this.properties=new aV,this.dataAggregationFilters=void 0}get pickModeAxis(){return this.properties.sparklineMode?"main":"main-category"}async processData(e){if(null==this.data)return;const{data:t,visible:n,seriesGrouping:{groupIndex:i=this.id,stackCount:r=0}={}}=this,{xKey:o,yKey:a,yFilterKey:s,connectMissingData:l,normalizedTo:c}=this.properties,u=!this.ctx.animationManager.isSkipped(),d=this.axes.x?.scale,h=this.axes.y?.scale,{isContinuousX:p,xScaleType:g,yScaleType:f}=this.getScaleInformation({xScale:d,yScale:h}),m=r>1||null!=c,y={invalidValue:null};l&&m&&(y.invalidValue=0),m&&!n&&(y.forceValue=0);const b=[];if(p&&!m||b.push(lP(o,g,{id:"xKey"})),b.push(cP(o,g,{id:"xValue"}),cP(a,f,{id:"yValueRaw",...y,invalidValue:void 0})),null!=s&&b.push(cP(s,f,{id:"yFilterRaw"})),m){const e=[`line-stack-${i}-yValues`,`line-stack-${i}-yValues-trailing`,`line-stack-${i}-yValues-marker`];b.push(...mP(a,"window","current",{id:"yValueEnd",...y,groupId:e[0]},f),...mP(a,"window-trailing","current",{id:"yValueStart",...y,groupId:e[1]},f),...mP(a,"normal","current",{id:"yValueCumulative",...y,groupId:e[2]},f)),Sy(c)&&b.push(MP([e[0],e[1],e[2]],c))}u&&(b.push(CP(p?["xValue"]:void 0)),this.processedData&&b.push(RP(this.id,this.processedData)));const{dataModel:v,processedData:x}=await this.requestDataModel(e,t,{props:b,groupByKeys:m,groupByData:!m});this.dataAggregationFilters=this.aggregateData(v,x),this.animationState.transition("updateData")}xCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.x.scale.convert(e),r=n.enabled?.5*n.size*t:0;return[i-r,i+r]}yCoordinateRange(e,t){const{marker:n}=this.properties,i=this.axes.y.scale.convert(e[0]),r=n.enabled?.5*n.size*t:0;return[i-r,i+r]}getSeriesDomain(e){const{dataModel:t,processedData:n}=this;if(!t||!n)return[];if("x"===e){const e=t.resolveProcessedDataDefById(this,"xValue"),i=t.getDomain(this,"xValue","value",n);return"value"===e?.def.type&&"category"===e.def.valueType?i:ED(UR(i))}const i=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return ED(this.domainForClippedRange("y",[i],"xValue"))}getSeriesRange(e,t){const n=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.domainForVisibleRange("y",[n],"xValue",t)}getVisibleItems(e,t,n){const i=this.dataModel?.hasColumnById(this,"yValueEnd")?"yValueEnd":"yValueRaw";return this.countVisibleItems("xValue",[i],e,t,n)}aggregateData(e,t){if("ungrouped"!==t.type)return;if(iP(t))return;const n=this.axes.x;if(null==n)return;const{scale:i}=n,r=e.resolveColumnById(this,"xValue",t),o=e.resolveColumnById(this,"yValueRaw",t),a=e.getDomain(this,"xValue","value",t);return sV(i.type,r,o,a)}createNodeData(){const{dataModel:e,processedData:t,axes:n,dataAggregationFilters:i}=this,r=n.x,o=n.y;if(!e||!t||!r||!o)return;const{xKey:a,yKey:s,yFilterKey:l,xName:c,yName:u,marker:d,label:h,connectMissingData:p,interpolation:g,legendItemName:f}=this.properties,m=this.dataModel?.hasColumnById(this,"yValueEnd"),y=r.scale,b=o.scale,v=(y.bandwidth??0)/2,x=(b.bandwidth??0)/2,S=d.enabled?d.size:0,M=t.dataSources.get(this.id)??[],w=e.resolveColumnById(this,"xValue",t),k=e.resolveColumnById(this,"yValueRaw",t),I=m?e.resolveColumnById(this,"yValueEnd",t):void 0,C=m?e.resolveColumnById(this,"yValueCumulative",t):k,D=null!=l?e.resolveColumnById(this,"yFilterRaw",t):void 0,A=this.getSeriesDomain("y"),T={lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},L=[],N=[],E=e=>{const t=M[e],n=w[e],i=k[e],r=I?.[e],o=D?.[e],l=y.convert(n)+v,d=b.convert(C[e])+x;if(!Number.isFinite(l))return;if(null!=i){const p=h.enabled?this.getLabelText(i,t,s,"y",A,h,{value:i,datum:t,xKey:a,yKey:s,xName:c,yName:u,legendItemName:f}):void 0;L.push({series:this,datum:t,datumIndex:e,yKey:s,xKey:a,point:{x:l,y:d,size:S},midPoint:{x:l,y:d},cumulativeValue:r,yValue:i,xValue:n,capDefaults:T,labelText:p,selected:o})}const g=N[N.length-1];if(null!=i){const e={point:{x:l,y:d},xDatum:n,yDatum:i};Array.isArray(g)?g.push(e):null!=g?(g.skip+=1,N.push([e])):N.push([e])}else p||(Array.isArray(g)||null==g?N.push({skip:0}):g.skip+=1)},[O,R]=y.range,P=Math.abs(R-O),j=i?.find(e=>e.maxRange>P),z=j?.indices;let[_,B]=this.visibleRangeIndices("xValue",r.range,z);_=Math.max(_-1,0),B=Math.min(B+1,z?.length??w.length),t.input.count<1e3&&(_=0,B=t.input.count);for(let G=_;G<B;G+=1)E(z?.[G]??G);const F=N.flatMap(e=>Array.isArray(e)?GF(e,g):[]),$={itemId:s,spans:F},V=D?.some((e,t)=>e===k[t])??!1;return{itemId:s,nodeData:L,labelData:L,strokeData:$,scales:this.calculateScaling(),visible:this.visible,crossFiltering:V}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){const{paths:[t],visible:n,animationEnabled:i}=e,r=!0===this.contextNodeData?.crossFiltering,{strokeWidth:o,stroke:a,strokeOpacity:s,lineDash:l,lineDashOffset:c,opacity:u}=Bx(this.getHighlightStyle(),this.properties);t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:u,stroke:a,strokeWidth:o,strokeOpacity:s*(r?.25:1),lineDash:l,lineDashOffset:c}),i||(t.visible=n),b$(this,t)}updateDatumSelection(e){let{nodeData:t}=e;const{datumSelection:n}=e;return t=this.properties.marker.enabled||!0===this.contextNodeData?.crossFiltering?t:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(t,void 0,e=>PP(e.xValue))}updateDatumNodes(e){const{datumSelection:t,isHighlight:n}=e,{xKey:i,yKey:r,marker:o,stroke:a,strokeWidth:s,strokeOpacity:l}=this.properties,c=this.getSeriesDomain("x"),u=this.getSeriesDomain("y"),d=this.ctx.animationManager.isSkipped(),h=this.getShapeFillBBox();t.each((e,t)=>{const{xValue:p,yValue:g}=t,f=TC(p,g,i,r,c,u),m=this.getMarkerStyle(o,t,f,n,void 0,{stroke:a,strokeWidth:s,strokeOpacity:l});this.applyMarkerStyle(m,e,t.point,h,{applyTranslation:d,selected:t.selected})}),n||o.markClean()}updateLabelSelection(e){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])}updateLabelNodes(e){const{isHighlight:t=!1}=e,n=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((e,i)=>{const r=t||this.isSeriesHighlighted(n),o=this.getHighlightStateString(n,r,i.datumIndex),a=jB(this,i,this.properties,this.properties.label,r,o),{enabled:s,fontStyle:l,fontWeight:c,fontSize:u,fontFamily:d,color:h}=a;s&&i?.labelText?(e.fontStyle=l,e.fontWeight=c,e.fontSize=u,e.fontFamily=d,e.textAlign="center",e.textBaseline="bottom",e.text=i.labelText,e.x=i.point.x,e.y=i.point.y-10,e.fill=h,e.visible=!0,e.fillOpacity=this.getHighlightStyle(t,i.datumIndex).opacity??1,e.setBoxing(a)):e.visible=!1})}getTooltipContent(e){const{id:t,dataModel:n,processedData:i,axes:r,properties:o}=this,{xKey:a,xName:s,yKey:l,yName:c,tooltip:u,legendItemName:d}=o,h=r.x,p=r.y;if(!n||!i||!h||!p)return;const g=i.dataSources.get(this.id)?.[e],f=n.resolveColumnById(this,"xValue",i)[e],m=n.resolveColumnById(this,"yValueRaw",i)[e];if(null==f)return;const y=TC(f,m,a,l,this.getSeriesDomain("x"),this.getSeriesDomain("y")),b=this.getMarkerStyle(this.properties.marker,{datumIndex:e,datum:g},y,!1);return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(h,"tooltip",f,g,a,d),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(p,"tooltip",m,g,l,d)}]},{seriesId:t,datum:g,title:c,xKey:a,xName:s,yKey:l,yName:c,...b,...this.getModuleTooltipParams()})}legendItemSymbol(){const e="rgba(0, 0, 0, 0)",{stroke:t,strokeOpacity:n,strokeWidth:i,lineDash:r,marker:o}=this.properties;return{marker:{...this.getMarkerStyle(o,{},void 0,!1,{size:o.size,fill:o.fill??e,stroke:o.stroke??t??e},void 0,!1),enabled:o.enabled},line:{stroke:t??e,strokeOpacity:n,strokeWidth:i,lineDash:r}}}getLegendData(e){if("category"!==e)return[];const{id:t,ctx:{legendManager:n},visible:i}=this,{yKey:r,yName:o,title:a,legendItemName:s,showInLegend:l}=this.properties;return[{legendType:"category",id:t,itemId:r,legendItemName:s,seriesId:t,enabled:i&&n.getItemEnabled({seriesId:t,itemId:r}),label:{text:s??a??o??r},symbol:this.legendItemSymbol(),hideInLegend:!l}]}updatePaths(e){this.updateLinePaths(e.paths,e.contextData)}updateLinePaths(e,t){const n=t.strokeData.spans,[i]=e;i.path.clear(),HF(i,n),i.markDirty("LineSeries")}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:n,annotationSelections:i,contextData:r,paths:o}=e,{animationManager:a}=this.ctx;this.updateLinePaths(o,r),f$(this,a,...o),lA([t],p$),d$(this,a,t),FB(this,"labels",a,n),FB(this,"annotations",a,...i)}animateReadyResize(e){const{contextData:t,paths:n}=e;this.updateLinePaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{datumSelection:n,labelSelection:i,annotationSelections:r,contextData:o,paths:a,previousContextData:s}=e,[l]=a;if(!1===o.visible&&!1===s?.visible)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateLinePaths(a,o)},u=()=>{t.skipCurrentBatch(),c()};if(null==o||null==s)return c(),c$(this,t,"added",n),m$(this,"path_properties",t,"add",l),FB(this,"labels",t,i),void FB(this,"annotations",t,...r);if(o.crossFiltering!==s.crossFiltering)return void u();const d=ZF(o,s,this.processedData?.reduced?.diff?.[this.id]);void 0!==d?"no-op"!==d.status&&(rA(this.id,"path_properties",t,[l],d.stroke.pathProperties),"added"===d.status?this.updateLinePaths(a,o):"removed"===d.status?this.updateLinePaths(a,s):PB(this.id,"path_update",t,[l],d.stroke.path),d.hasMotion&&(c$(this,t,void 0,n),FB(this,"labels",t,i),FB(this,"annotations",t,...r))):u()}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new bN}getFormattedMarkerStyle(e){const{xKey:t,yKey:n}=this.properties,{xValue:i,yValue:r}=e,o=this.getSeriesDomain("x"),a=this.getSeriesDomain("y");return this.getMarkerStyle(this.properties.marker,e,TC(i,r,t,n,o,a),!0)}computeFocusBounds(e){return g$(this,e)}hasItemStylers(){return null!=this.properties.marker.itemStyler||null!=this.properties.label.itemStyler}};lV.className="LineSeries",lV.type="line";var cV={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",moduleFactory:e=>new lV(e),stackable:!0,defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{stroke:$E,strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear"},marker:{shape:"circle",size:7,strokeWidth:{$isUserOption:["./stroke",1,0]},fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:YE,fillPatternDefaults:qE,fillImageDefaults:JE},label:{...iO,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:rO()}}},uV={type:"series",name:"line",chartType:"cartesian",options:Gj,create:e=>new lV(e)},dV=class extends J${};dV.className="ScatterSeries",dV.type="scatter";var hV={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",moduleFactory:e=>new dV(e),defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fill:{$palette:"fill"},stroke:{$palette:"stroke"},fillGradientDefaults:YE,fillPatternDefaults:qE,fillImageDefaults:JE,fillOpacity:.8,maxRenderedItems:1e4,label:{...iO,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},errorBar:{cap:{lengthRatio:1}},tooltip:{range:{$path:["/tooltip/range","nearest"]},position:{anchorTo:{$path:["/tooltip/position/anchorTo","node"]}}},highlight:rO()}}},pV={type:"series",name:"scatter",chartType:"cartesian",options:Hj,create:e=>new dV(e)},gV=class e{constructor(e,t,n,i){this.startAngle=e,this.endAngle=t,this.innerRadius=n,this.outerRadius=i}clone(){const{startAngle:t,endAngle:n,innerRadius:i,outerRadius:r}=this;return new e(t,n,i,r)}equals(e){return this.startAngle===e.startAngle&&this.endAngle===e.endAngle&&this.innerRadius===e.innerRadius&&this.outerRadius===e.outerRadius}[mx](t,n){return new e(this.startAngle*(1-n)+t.startAngle*n,this.endAngle*(1-n)+t.endAngle*n,this.innerRadius*(1-n)+t.innerRadius*n,this.outerRadius*(1-n)+t.outerRadius*n)}};function fV(e){let{startAngle:t,endAngle:n,innerRadius:i,outerRadius:r}=e,o=1/0,a=1/0,s=-1/0,l=-1/0;const c=(e,t)=>{o=Math.min(e,o),a=Math.min(t,a),s=Math.max(e,s),l=Math.max(t,l)};return c(i*Math.cos(t),i*Math.sin(t)),c(i*Math.cos(n),i*Math.sin(n)),c(r*Math.cos(t),r*Math.sin(t)),c(r*Math.cos(n),r*Math.sin(n)),gS(0,t,n)&&c(r,0),gS(.5*Math.PI,t,n)&&c(0,r),gS(Math.PI,t,n)&&c(-r,0),gS(1.5*Math.PI,t,n)&&c(0,-r),new Sx(o,a,s-o,l-a)}function mV(e,t,n){const i=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:r,outerRadius:o}=n;if(n.startAngle===n.endAngle||i<Math.min(r,o)||i>Math.max(r,o))return!1;const a=pS(n.startAngle),s=pS(n.endAngle),l=Math.atan2(t,e);return a<s?l<=s&&l>=a:l<=s&&l>=-Math.PI||l>=a&&l<=Math.PI}function yV(e,t){const{startAngle:n,endAngle:i,innerRadius:r,outerRadius:o}=t,a={x:o*Math.cos(n),y:o*Math.sin(n)},s={x:o*Math.cos(i),y:o*Math.sin(i)},l=0===r?{x:0,y:0}:{x:r*Math.cos(n),y:r*Math.sin(n)},c=0===r?{x:0,y:0}:{x:r*Math.cos(i),y:r*Math.sin(i)};return eM(e.start.x,e.start.y,e.end.x,e.end.y,a.x,a.y,l.x,l.y)||eM(e.start.x,e.start.y,e.end.x,e.end.y,s.x,s.y,c.x,c.y)||function(e,t,n,i,r,o,a,s,l,c){if(isNaN(e)||isNaN(t))return 0;o&&([r,i]=[i,r]);const u=(c-s)/(l-a),d=s-u*a,h=Math.pow(u,2)+1,p=2*(u*(d-t)-e),g=Math.pow(e,2)+Math.pow(d-t,2)-Math.pow(n,2),f=Math.pow(p,2)-4*h*g;if(f<0)return 0;const m=(-p+Math.sqrt(f))/2/h,y=(-p-Math.sqrt(f))/2/h;let b=0;return[m,y].forEach(n=>{if(!(n>=Math.min(a,l)&&n<=Math.max(a,l)))return;const o=n-e,s=u*n+d-t;gS(Math.atan2(s,o),i,r)&&b++}),b}(0,0,o,n,i,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function bV(e,t,n,i){if(0===n&&0===i)return 0;if(Math.asin(Math.abs(1*n)/(e+1*n))+Math.asin(Math.abs(1*i)/(e+1*i))-t<0)return 1;let r=0,o=1;for(let a=0;a<8;a+=1){const a=(r+o)/2;Math.asin(Math.abs(a*n)/(e+a*n))+Math.asin(Math.abs(a*i)/(e+a*i))-t<0?r=a:o=a}return r}function vV(e,t){return yS(e,t)<1e-6?t:dS(e-t)+t}function xV(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Math.abs(t-e)>=2*Math.PI?2*Math.PI:dS(t-e);return{startAngle:e=vV(e,n),endAngle:t=e+i}}function SV(e,t,n,i,r,o){const a=Math.sin(o),s=Math.cos(o),l=e**2+t**2-n**2;let c,u,d,h;if(s>.5){const n=a/s,i=1+n**2,r=-2*(e+t*n),o=r**2-4*i*l;if(o<0)return;const p=(-r+Math.sqrt(o))/(2*i),g=(-r-Math.sqrt(o))/(2*i);c=p,u=p*n,d=g,h=g*n}else{const n=s/a,i=1+n**2,r=-2*(t+e*n),o=r**2-4*i*l;if(o<0)return;const p=(-r+Math.sqrt(o))/(2*i),g=(-r-Math.sqrt(o))/(2*i);c=p*n,u=p,d=g*n,h=g}const p=d*s+h*a,g=c*s+u*a>0?vV(Math.atan2(u-t,c-e),i):NaN,f=p>0?vV(Math.atan2(h-t,d-e),i):NaN;return g>=i&&g<=r?g:f>=i&&f<=r?f:void 0}function MV(e,t,n,i,r,o){const a=Math.hypot(e,t),s=a-(a**2-n**2+o**2)/(2*a),l=Math.atan2(t,e),c=Math.acos(-s/n),u=vV(l+c,i),d=vV(l-c,i);return u>=i&&u<=r?u:d>=i&&d<=r?d:void 0}var wV=class{constructor(e,t,n,i,r){this.cx=e,this.cy=t,this.r=n,this.a0=i,this.a1=r,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){null==e||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){null==e||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},kV=class extends Gw{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=2*Math.PI,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return fV(this).translate(this.centerX,this.centerY)}normalizedRadii(){const{concentricEdgeInset:e}=this;let{innerRadius:t,outerRadius:n}=this;return t=t>0?t+e:0,n=Math.max(n-e,0),{innerRadius:t,outerRadius:n}}normalizedClipSector(){const{clipSector:e}=this;if(null==e)return;const{startAngle:t,endAngle:n}=xV(this.startAngle,this.endAngle),{innerRadius:i,outerRadius:r}=this.normalizedRadii(),o=xV(e.startAngle,e.endAngle,t);return new gV(Math.max(t,o.startAngle),Math.min(n,o.endAngle),Math.max(i,e.innerRadius),Math.min(r,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,n,i,r,o,a,s){if(e<=0)return;const{startAngle:l,endAngle:c}=xV(this.startAngle,this.endAngle),{innerRadius:u,outerRadius:d}=this.normalizedRadii(),h=this.normalizedClipSector();if(s&&u<=0)return;const p=s?this.getAngleOffset(u+e):this.getAngleOffset(d-e),g=a?l+p+t:c-p-t,f=s?u+e:d-e,m=f*Math.cos(g),y=f*Math.sin(g);if(null!=h){const e=1e-6;if(!a&&!(g>=l-e&&g<=h.endAngle-e))return;if(a&&!(g>=h.startAngle+e&&g<=c-e))return;if(s&&f<h.innerRadius-e)return;if(!s&&f>h.outerRadius+e)return}const b=new wV(m,y,e,n,i);if(null!=h){let t,c;if(s?(b.clipStart(SV(m,y,e,n,i,h.endAngle)),b.clipEnd(SV(m,y,e,n,i,h.startAngle))):(b.clipStart(SV(m,y,e,n,i,h.startAngle)),b.clipEnd(SV(m,y,e,n,i,h.endAngle))),a?(t=MV(m,y,e,n,i,h.innerRadius),c=MV(m,y,e,n,i,h.outerRadius)):(t=MV(m,y,e,n,i,h.outerRadius),c=MV(m,y,e,n,i,h.innerRadius)),b.clipStart(t),b.clipEnd(c),null!=t){const{x:e,y:n}=b.pointAt(t),i=vV(Math.atan2(n,e),l);a?o?.clipStart(i):r.clipEnd(i)}if(null!=c){const{x:e,y:t}=b.pointAt(c),n=vV(Math.atan2(t,e),l);a?r.clipStart(n):o?.clipEnd(n)}}if(null!=h){const{x:e,y:t}=b.pointAt((b.a0+b.a1)/2);if(!mV(e,t,h))return}const{x:v,y:x}=b.pointAt(a===s?b.a0:b.a1),S=vV(Math.atan2(x,v),l),M=s?o:r;return a?M?.clipStart(S):M?.clipEnd(S),b}updatePath(){const e=1e-6,{path:t,centerX:n,centerY:i,concentricEdgeInset:r,radialEdgeInset:o}=this;let{startOuterCornerRadius:a,endOuterCornerRadius:s,startInnerCornerRadius:l,endInnerCornerRadius:c}=this;const{startAngle:u,endAngle:d}=xV(this.startAngle,this.endAngle),{innerRadius:h,outerRadius:p}=this.normalizedRadii(),g=this.normalizedClipSector(),f=d-u,m=f>=2*Math.PI-e;if(t.clear(),0===h&&0===p||h>p)return;if((g?.startAngle??u)===(g?.endAngle??d))return;if(m&&null==this.clipSector&&0===a&&0===s&&0===l&&0===c)return t.moveTo(n+p*Math.cos(u),i+p*Math.sin(u)),t.arc(n,i,p,u,d),h>r&&(t.moveTo(n+h*Math.cos(d),i+h*Math.sin(d)),t.arc(n,i,h,d,u,!0)),void t.closePath();if(null==this.clipSector&&Math.abs(h-p)<1e-6)return t.arc(n,i,p,u,d,!1),t.arc(n,i,p,d,u,!0),void t.closePath();const y=this.getAngleOffset(h),b=this.getAngleOffset(p);if(f<2*b)return;const v=(g?.innerRadius??h)>r,x=h<r||f<2*y,S=p-h,M=Math.max(a,l,s,c),w=M>0?Math.min(S/M,1):1;a*=w,s*=w,l*=w,c*=w;const k=bV(p,f-2*b,-a,-s);if(a*=k,s*=k,!x&&v){const e=bV(h,f-2*y,l,c);l*=e,c*=e}else l=0,c=0;const I=Math.max(a+l,s+c),C=I>0?Math.min(S/I,1):1;a*=C,s*=C,l*=C,c*=C;let D=0,A=0;const T=a/(p-a),L=s/(p-s);if(T>=0&&T<.999999)D=Math.asin(T);else{D=f/2;const e=p/(1/Math.sin(D)+1);a=Math.min(e,a)}if(L>=0&&L<.999999)A=Math.asin(L);else{A=f/2;const e=p/(1/Math.sin(A)+1);s=Math.min(e,s)}const N=Math.asin(l/(h+l)),E=Math.asin(c/(h+c)),O=g?.outerRadius??p,R=this.getAngleOffset(O),P=new wV(0,0,O,u+R,d-R),j=g?.innerRadius??h,z=this.getAngleOffset(j),_=v?new wV(0,0,j,u+z,d-z):void 0;null!=g&&(P.clipStart(g.startAngle),P.clipEnd(g.endAngle),_?.clipStart(g.startAngle),_?.clipEnd(g.endAngle));const B=this.arc(a,D,u-.5*Math.PI,u+D,P,_,!0,!1),F=this.arc(s,A,d-A,d+.5*Math.PI,P,_,!1,!1),$=this.arc(c,E,d+.5*Math.PI,d+Math.PI-E,P,_,!1,!0),V=this.arc(l,N,u+Math.PI+N,u+1.5*Math.PI,P,_,!0,!0);if(x){const e=f<.5*Math.PI?o*(1+Math.cos(f))/Math.sin(f):NaN;let r;r=e>0&&e<p?Math.max(Math.hypot(o,e),h):o,r=Math.max(r,h);const a=u+.5*f;t.moveTo(n+r*Math.cos(a),i+r*Math.sin(a))}else if(!0===V?.isValid()||!0===_?.isValid());else{const e=u+f/2,r=h*Math.cos(e),o=h*Math.sin(e);t.moveTo(n+r,i+o)}if(!0===B?.isValid()){const{cx:e,cy:r,r:o,a0:a,a1:s}=B;t.arc(n+e,i+r,o,a,s)}if(P.isValid()){const{r:e,a0:r,a1:o}=P;t.arc(n,i,e,r,o)}if(!0===F?.isValid()){const{cx:e,cy:r,r:o,a0:a,a1:s}=F;t.arc(n+e,i+r,o,a,s)}if(!x){if(!0===$?.isValid()){const{cx:e,cy:r,r:o,a0:a,a1:s}=$;t.arc(n+e,i+r,o,a,s)}if(!0===_?.isValid()){const{r:e,a0:r,a1:o}=_;t.arc(n,i,e,o,r,!0)}if(!0===V?.isValid()){const{cx:e,cy:r,r:o,a0:a,a1:s}=V;t.arc(n+e,i+r,o,a,s)}}t.closePath()}isPointInPath(e,t){const{startAngle:n,endAngle:i,innerRadius:r,outerRadius:o}=this.clipSector??this;return mV(e-this.centerX,t-this.centerY,{startAngle:n,endAngle:i,innerRadius:Math.min(r,o),outerRadius:Math.max(r,o)})}};kV.className="Sector",px([Jx()],kV.prototype,"centerX",2),px([Jx()],kV.prototype,"centerY",2),px([Jx()],kV.prototype,"innerRadius",2),px([Jx()],kV.prototype,"outerRadius",2),px([Jx()],kV.prototype,"startAngle",2),px([Jx()],kV.prototype,"endAngle",2),px([tS({equals:(e,t)=>e.equals(t)})],kV.prototype,"clipSector",2),px([Jx()],kV.prototype,"concentricEdgeInset",2),px([Jx()],kV.prototype,"radialEdgeInset",2),px([Jx()],kV.prototype,"startOuterCornerRadius",2),px([Jx()],kV.prototype,"endOuterCornerRadius",2),px([Jx()],kV.prototype,"startInnerCornerRadius",2),px([Jx()],kV.prototype,"endInnerCornerRadius",2);var IV=class extends ck{constructor(){super(...arguments),this.showInLegend=!1}};px([zS],IV.prototype,"showInLegend",2);var CV=class extends ZA{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};px([zS],CV.prototype,"text",2),px([zS],CV.prototype,"spacing",2);var DV=class extends _S{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};px([zS],DV.prototype,"fill",2),px([zS],DV.prototype,"fillOpacity",2);var AV=class extends ZA{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};px([zS],AV.prototype,"offset",2),px([zS],AV.prototype,"minAngle",2),px([zS],AV.prototype,"minSpacing",2),px([zS],AV.prototype,"maxCollisionOffset",2),px([zS],AV.prototype,"avoidCollisions",2);var TV=class extends ZA{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};px([zS],TV.prototype,"positionOffset",2),px([zS],TV.prototype,"positionRatio",2);var LV=class extends _S{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};px([zS],LV.prototype,"colors",2),px([zS],LV.prototype,"length",2),px([zS],LV.prototype,"strokeWidth",2);var NV=class extends YL{constructor(){super(...arguments),this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=Object.values(eE),this.strokes=Object.values(tE),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.hideZeroValueSectorsInLegend=!1,this.innerLabels=new BS(CV),this.title=new IV,this.innerCircle=new DV,this.shadow=new WB,this.calloutLabel=new AV,this.sectorLabel=new TV,this.calloutLine=new LV,this.tooltip=KB()}};function EV(e,t,n,i){const r=[n.convert(0),n.convert(1)],o=[i.convert(0),i.convert(1)],a=Math.PI/-2+fS(t),s=e?"initial":"update";return{nodes:{toFn:(e,t,n,i)=>{let{prevLive:o}=i,{startAngle:s,endAngle:l,innerRadius:c,outerRadius:u}=t;const{stroke:d,fill:h}=t.sectorFormat;if("removed"===n&&o?(s=o.datum?.endAngle,l=o.datum?.endAngle):"removed"!==n||o||(s=a,l=a),"removed"===n){const e=(e=>{let{radius:t}=e;return{innerRadius:r[0],outerRadius:r[0]+(r[1]-r[0])*t}})(t);c=e.innerRadius,u=e.outerRadius}return{startAngle:s,endAngle:l,outerRadius:u,innerRadius:c,stroke:d,fill:h}},fromFn:(t,n,i,r)=>{let{prevFromProps:l}=r,{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h}=t,{fill:p,stroke:g}=n.sectorFormat;if("updated"===i&&null==t.previousDatum&&(i="added"),"unknown"===i||"added"===i&&!l?(c=a,u=a,d=n.innerRadius,h=n.outerRadius):"added"===i&&l&&(c=l.endAngle??a,u=l.endAngle??a,d=l.innerRadius??n.innerRadius,h=l.outerRadius??n.outerRadius),"added"===i&&!e){const e=(e=>{let{radius:t}=e;return{innerRadius:o[0],outerRadius:o[0]+(o[1]-o[0])*t}})(n);d=e.innerRadius,h=e.outerRadius}return"updated"===i&&(p=t.fill??p,g=("string"===typeof t.stroke?t.stroke:void 0)??g),{startAngle:c,endAngle:u,innerRadius:d,outerRadius:h,fill:p,stroke:g,phase:s}}},innerCircle:{fromFn:(e,t)=>({size:e.previousDatum?.radius??e.size??0,phase:s}),toFn:(e,t)=>({size:t.radius??0})}}}function OV(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,stroke:t.sectorFormat.stroke}}function RV(e,t){const n=t.y-e.centerY,i=t.x-e.centerX,r=Math.atan2(n,i),o=e.getItemNodes();for(const a of o)if(!0!==a.datum.missing&&gS(r,a.startAngle,a.endAngle)){const e=Math.sqrt(i*i+n*n);let t=0;return e<a.innerRadius?t=a.innerRadius-e:e>a.outerRadius&&(t=e-a.outerRadius),{datum:a.datum,distance:t}}}px([zS],NV.prototype,"angleKey",2),px([zS],NV.prototype,"angleName",2),px([zS],NV.prototype,"angleFilterKey",2),px([zS],NV.prototype,"radiusKey",2),px([zS],NV.prototype,"radiusName",2),px([zS],NV.prototype,"radiusMin",2),px([zS],NV.prototype,"radiusMax",2),px([zS],NV.prototype,"calloutLabelKey",2),px([zS],NV.prototype,"calloutLabelName",2),px([zS],NV.prototype,"sectorLabelKey",2),px([zS],NV.prototype,"sectorLabelName",2),px([zS],NV.prototype,"legendItemKey",2),px([zS],NV.prototype,"defaultColorRange",2),px([zS],NV.prototype,"defaultPatternFills",2),px([zS],NV.prototype,"fills",2),px([zS],NV.prototype,"strokes",2),px([zS],NV.prototype,"fillOpacity",2),px([zS],NV.prototype,"strokeOpacity",2),px([zS],NV.prototype,"lineDash",2),px([zS],NV.prototype,"lineDashOffset",2),px([zS],NV.prototype,"cornerRadius",2),px([zS],NV.prototype,"itemStyler",2),px([zS],NV.prototype,"rotation",2),px([zS],NV.prototype,"outerRadiusOffset",2),px([zS],NV.prototype,"outerRadiusRatio",2),px([zS],NV.prototype,"innerRadiusOffset",2),px([zS],NV.prototype,"innerRadiusRatio",2),px([zS],NV.prototype,"strokeWidth",2),px([zS],NV.prototype,"sectorSpacing",2),px([zS],NV.prototype,"hideZeroValueSectorsInLegend",2),px([zS],NV.prototype,"innerLabels",2),px([zS],NV.prototype,"title",2),px([zS],NV.prototype,"innerCircle",2),px([zS],NV.prototype,"shadow",2),px([zS],NV.prototype,"calloutLabel",2),px([zS],NV.prototype,"sectorLabel",2),px([zS],NV.prototype,"calloutLine",2),px([zS],NV.prototype,"tooltip",2);var PV=(e=>(e[e.BACKGROUND=0]="BACKGROUND",e[e.FOREGROUND=1]="FOREGROUND",e[e.HIGHLIGHT=2]="HIGHLIGHT",e[e.LABEL=3]="LABEL",e))(PV||{}),jV={angle:["angleKey"],radius:["radiusKey"]},zV={angle:["angleName"],radius:["radiusName"]},_V=class extends JB{constructor(e){let{categoryKey:t,pickModes:n=[1,0],canHaveAxes:i=!1,animationResetFns:r,...o}=e;super({...o,categoryKey:t,pickModes:n,canHaveAxes:i}),this.directions=["angle","radius"],this.itemGroup=this.contentGroup.appendChild(new PM),this.nodeData=[],this.itemSelection=cA.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=cA.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=cA.select(this.highlightGroup,()=>this.nodeFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.animationResetFns=r,this.animationState=new yA("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),highlightMarkers:e=>this.animateReadyHighlightMarkers(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return[...this.itemGroup.children()]}getNodeData(){return this.nodeData}setZIndex(e){super.setZIndex(e),this.contentGroup.zIndex=[e,1],this.highlightGroup.zIndex=[e,2],this.labelGroup.zIndex=[e,3]}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}labelFactory(){const e=new Xw;return e.pointerEvents=1,e}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)),this.ctx.eventsHub.on("legend:item-double-click",e=>this.onLegendItemDoubleClick(e)))}getInnerRadius(){return 0}computeLabelsBBox(e,t){return null}getShapeFillBBox(){const e=this.radius;return{series:new Sx(-e,-e,2*e,2*e),axis:new Sx(-e,-e,2*e,2*e)}}resetAllAnimation(){const{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&lA([this.itemSelection,this.highlightSelection],e),t&&lA([this.labelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){const{item:t}=this.animationResetFns??{};t&&lA([this.highlightSelection],t)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(void 0!==t)return this.itemSelection.select(e=>e instanceof Gw&&e.datum===t)[0]}getSeriesRange(e,t){return[NaN,NaN]}isSeriesHighlighted(e,t){const{series:n,legendItemName:i,itemId:r}=e??{},o=t?.[r];return n===this||null!=o&&o===i}},BV=class extends tN{constructor(e,t,n,i){super(e,t,n,i),this.angleKey=i.properties.angleKey,this.radiusKey=i.properties.radiusKey,this.calloutLabelKey=i.properties.calloutLabelKey,this.sectorLabelKey=i.properties.sectorLabelKey}},FV=class extends _V{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{...jV,sectorLabel:["sectorLabelKey"],calloutLabel:["calloutLabelKey"]},propertyNames:{...zV,sectorLabel:["sectorLabelName"],calloutLabel:["calloutLabelName"]},pickModes:[1,0],animationResetFns:{item:OV,label:VB}}),this.properties=new NV,this.phantomNodeData=void 0,this.backgroundGroup=new _M({name:`${this.id}-background`,zIndex:0}),this.noVisibleData=!1,this.previousRadiusScale=new ij,this.radiusScale=new ij,this.phantomGroup=this.backgroundGroup.appendChild(new PM({name:"phantom"})),this.phantomSelection=cA.select(this.phantomGroup,()=>this.nodeFactory(),!1),this.calloutLabelGroup=this.contentGroup.appendChild(new PM({name:"pieCalloutLabels"})),this.calloutLabelSelection=new cA(this.calloutLabelGroup,PM),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new PM({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new bN({shape:"circle"})),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new bN({shape:"circle"})),this.innerLabelsGroup=this.contentGroup.appendChild(new PM({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new PM({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=cA.select(this.innerLabelsGroup,Xw),this.innerCircleSelection=cA.select(this.innerCircleGroup,()=>new bN({shape:"circle"})),this.surroundingRadius=void 0,this.NodeEvent=BV,this.angleScale=new ij,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(e=>e+Math.PI/2),this.phantomGroup.opacity=.2,this.innerLabelsGroup.pointerEvents=1}get calloutNodeData(){return this.phantomNodeData??this.nodeData}attachSeries(e,t,n){super.attachSeries(e,t,n),e?.appendChild(this.backgroundGroup)}detachSeries(e,t,n){super.detachSeries(e,t,n),e?.removeChild(this.backgroundGroup)}setZIndex(e){super.setZIndex(e),this.backgroundGroup.zIndex=[0,e]}nodeFactory(){const e=new kV;return e.miterLimit=1e9,e}getSeriesDomain(e){return"angle"===e?this.angleScale.domain:this.radiusScale.domain}async processData(e){if(null==this.data)return;const{visible:t,id:n,ctx:{legendManager:i}}=this,{angleKey:r,angleFilterKey:o,radiusKey:a,calloutLabelKey:s,sectorLabelKey:l,legendItemKey:c}=this.properties,u=()=>(e,r)=>t&&i.getItemEnabled({seriesId:n,itemId:r})?e:0,d=!this.ctx.animationManager.isSkipped(),h=[],p=[];c?h.push(lP(c,"category",{id:"legendItemKey"})):s?h.push(lP(s,"category",{id:"calloutLabelKey"})):l&&h.push(lP(l,"category",{id:"sectorLabelKey"}));const g=this.radiusScale.type,f=this.angleScale.type;a&&p.push(pP(a,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax,missingValue:this.properties.radiusMax??1,processor:u}),cP(a,g,{id:"radiusRaw",processor:u}),kP("radiusValue",[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),s&&p.push(cP(s,"category",{id:"calloutLabelValue"})),l&&p.push(cP(l,"category",{id:"sectorLabelValue"})),c&&p.push(cP(c,"category",{id:"legendItemValue"})),o&&p.push(gP(o,f,{id:"angleFilterValue",onlyPositive:!0,invalidValue:0,processor:u}),cP(o,f,{id:"angleFilterRaw"}),kP("angleFilterValue",[0,1],0,0)),d&&this.processedData?.reduced?.animationValidation?.uniqueKeys&&h.length>0&&p.push(RP(this.id,this.processedData)),p.push(CP()),await this.requestDataModel(e,this.data,{props:[...h,gP(r,f,{id:"angleValue",onlyPositive:!0,invalidValue:0,processor:u}),cP(r,f,{id:"angleRaw"}),kP("angleValue",[0,1],0,0),...p]});for(const m of this.processedData?.defs?.values??[]){const{id:e,missing:t,property:n}=m,i=OD(this,t);"angleRaw"!==e&&i>0&&Gm.warnOnce(`no value was found for the key '${String(n)}' on ${i} data element${i>1?"s":""}`)}this.animationState.transition("updateData")}maybeRefreshNodeData(){if(!this.nodeDataRefresh)return;const{nodeData:e=[],phantomNodeData:t}=this.createNodeData()??{};this.nodeData=e,this.phantomNodeData=t,this.nodeDataRefresh=!1}getProcessedDataValues(e,t){return{angleValues:e.resolveColumnById(this,"angleValue",t),angleRawValues:e.resolveColumnById(this,"angleRaw",t),angleFilterValues:null!=this.properties.angleFilterKey?e.resolveColumnById(this,"angleFilterValue",t):void 0,angleFilterRawValues:null!=this.properties.angleFilterKey?e.resolveColumnById(this,"angleFilterRaw",t):void 0,radiusValues:this.properties.radiusKey?e.resolveColumnById(this,"radiusValue",t):void 0,radiusRawValues:this.properties.radiusKey?e.resolveColumnById(this,"radiusRaw",t):void 0,calloutLabelValues:this.properties.calloutLabelKey?e.resolveColumnById(this,"calloutLabelValue",t):void 0,sectorLabelValues:this.properties.sectorLabelKey?e.resolveColumnById(this,"sectorLabelValue",t):void 0,legendItemValues:this.properties.legendItemKey?e.resolveColumnById(this,"legendItemValue",t):void 0}}createNodeData(){const{id:e,processedData:t,dataModel:n,angleScale:i,ctx:{legendManager:r},visible:o}=this,{rotation:a,innerRadiusRatio:s}=this.properties;if(!n||"ungrouped"!==t?.type)return;const l=this.getProcessedDataValues(n,t),{angleValues:c,angleRawValues:u,angleFilterValues:d,angleFilterRawValues:h,radiusValues:p,radiusRawValues:g,legendItemValues:f}=l,m=h?.some((e,t)=>e>u[t])??!1;let y=0,b=0;const v=[],x=null!=h?[]:void 0,S=t.dataSources.get(this.id)??[],M=t.invalidData?.get(this.id);return S.forEach((t,n)=>{if(!0===M?.[n])return;const s=m?d[n]:c[n],S=null==h||m?1:Math.sqrt(h[n]/u[n]),w=i.convert(y)+fS(a);y=s,b+=s;const k=i.convert(y)+fS(a),I=Math.abs(k-w),C=w+I/2,D=u[n],A=(p?.[n]??1)*S,T=g?.[n],L=f?.[n],N=this.getLabels(n,t,C,I,l),E=this.getSectorFormat(t,n,!1),O={itemId:n,series:this,datum:t,datumIndex:n,angleValue:D,midAngle:C,midCos:Math.cos(C),midSin:Math.sin(C),startAngle:w,endAngle:k,radius:A,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(A),0),sectorFormat:E,radiusValue:T,legendItemValue:L,enabled:o&&r.getItemEnabled({seriesId:e,itemId:n}),focusable:!0,...N};v.push(O),null!=x&&x.push({...O,radius:1,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(1),0),focusable:!1})}),this.zerosumOuterRing.visible=0===b,this.zerosumInnerRing.visible=0===b&&null!=s&&1!==s&&s>0,{itemId:e,nodeData:v,labelData:v,phantomNodeData:x}}getLabelContent(e,t,n){const{id:i,ctx:r,properties:o}=this,{formatManager:a}=r,{calloutLabel:s,sectorLabel:l,calloutLabelKey:c,sectorLabelKey:u,legendItemKey:d}=o,h=n.calloutLabelValues?.[e],p=n.sectorLabelValues?.[e],g=n.legendItemValues?.[e],f={datum:t,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},m={callout:void 0,sector:void 0,legendItem:void 0};return c&&(m.callout=this.getLabelText(h,t,c,"calloutLabel",[],s,{...f,value:h})),u&&(m.sector=this.getLabelText(p,t,u,"sectorLabel",[],l,{...f,value:p})),null!=d&&null!=g&&(m.legendItem=a.format(this.callWithContext.bind(this),{type:"category",value:g,datum:t,seriesId:i,legendItemName:void 0,key:d,source:"legend-label",property:"legendItem",domain:[],boundSeries:this.getFormatterContext("legendItem")})??g),m}getLabels(e,t,n,i,r){const{properties:o}=this,{calloutLabel:a,sectorLabel:s,legendItemKey:l}=o,c=this.getLabelContent(e,t,r),u={};return a.enabled&&c.callout&&i>=fS(a.minAngle)&&(u.calloutLabel={...this.getTextAlignment(n),text:c.callout,hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0}),s.enabled&&c.sector&&(u.sectorLabel={text:c.sector}),l&&c.legendItem&&(u.legendItem={key:l,text:c.legendItem}),u}getTextAlignment(e){const t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"top"},{textAlign:"right",textBaseline:"middle"}],n=pS(e)- -.75*Math.PI,i=Math.floor(n/(Math.PI/2));var r,o;return t[(r=i,o=t.length,Math.floor(r%o+(r<0?Math.abs(o):0)))]}getNodeFill(e,t,n){return XL(e,{type:"gradient",bounds:"series",colorStops:t.map(e=>({color:e})),gradient:"radial",rotation:0,reverse:!0},{type:"pattern",pattern:"forward-slanted-lines",fill:n,fillOpacity:1,backgroundFill:"none",backgroundFillOpacity:1,stroke:n,strokeOpacity:1,strokeWidth:4,rotation:0},{type:"image",backgroundFill:n,backgroundFillOpacity:1,fit:"contain",repeat:"no-repeat",rotation:0})}getFillParams(e,t,n){if(yM(e)&&"item"!==e.bounds)return{centerX:0,centerY:0,innerRadius:t,outerRadius:n}}getSectorFormat(e,t,n,i,r,o){const{angleKey:a,radiusKey:s,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:u,fills:d,strokes:h,defaultColorRange:p,defaultPatternFills:g,itemStyler:f}=this.properties,m=h[t%h.length],y=d[t%d.length],{fill:b,fillOpacity:v,stroke:x,strokeWidth:S,strokeOpacity:M,lineDash:w,lineDashOffset:k,cornerRadius:I,opacity:C}=Bx(this.getHighlightStyle(n,i?.datumIndex,r),{fill:y,stroke:m},this.properties),D=p[t%p.length],A=g[t%g.length],T=b??"black";let L;return f&&(L=this.cachedDatumCallback(this.getDatumId(t)+(n?"-highlight":"-hide"),()=>this.callWithContext(f,{datum:e,angleKey:a,radiusKey:s,calloutLabelKey:l,sectorLabelKey:c,legendItemKey:u,fill:this.getNodeFill(T,D,A),fillOpacity:v,stroke:x,strokeWidth:S,strokeOpacity:M,lineDash:w,lineDashOffset:k,cornerRadius:I,highlighted:n,highlightState:this.getHighlightStateString(o??this.ctx.highlightManager?.getActiveHighlight(),n,t),seriesId:this.id}))),{fill:this.getNodeFill(L?.fill??T,D,A),fillOpacity:L?.fillOpacity??v,stroke:L?.stroke??x,strokeWidth:L?.strokeWidth??S,strokeOpacity:L?.strokeOpacity??M,lineDash:L?.lineDash??w,lineDashOffset:L?.lineDashOffset??k,cornerRadius:L?.cornerRadius??I,opacity:C}}getInnerRadius(){const{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:n=0}=this.properties,i=e*t+n;return i===e||i<0?0:i}getOuterRadius(){const{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){const t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t);const n=e=>({...e,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(e.radius),0)});this.nodeData=this.nodeData.map(n),this.phantomNodeData=this.phantomNodeData?.map(n)}getTitleTranslationY(){const e=Math.max(0,this.radiusScale.range[1]);if(0===e)return NaN;return-e-(2+(this.properties.title?.spacing??0))-Math.max(0,-e)}update(e){let{seriesRect:t}=e;const{title:n}=this.properties,i={seriesRectWidth:t?.width,seriesRectHeight:t?.height},r=null!=XM(this.nodeDataDependencies,i);if(r&&(this._nodeDataDependencies=i),this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(r),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){const e=this.getTitleTranslationY();n.node.y=isFinite(e)?e:0;const t=n.node.getBBox(!1);n.node.visible=n.enabled&&isFinite(e)&&!this.bboxIntersectsSurroundingSeries(t)}for(const o of[this.zerosumInnerRing,this.zerosumOuterRing])o.fillOpacity=0,o.stroke=this.properties.calloutLabel.color,o.strokeWidth=1,o.strokeOpacity=1;this.updateNodeMidPoint(),this.updateSelections(),this.updateNodes(t)}updateTitleNodes(){const{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){const e=e=>{const t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}};this.nodeData.forEach(e),this.phantomNodeData?.forEach(e)}updateSelections(){this.updateGroupSelection(),this.updateInnerCircleSelection()}updateGroupSelection(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,calloutLabelSelection:i,labelSelection:r,innerLabelsSelection:o}=this,a=this.nodeData.map(e=>({...e,sectorFormat:{...e.sectorFormat}})),s=(e,t)=>{e.update(t,void 0,e=>this.getDatumId(e.datumIndex)),this.ctx.animationManager.isSkipped()&&e.cleanup()};s(e,this.nodeData),s(t,a),s(n,this.phantomNodeData??[]),i.update(this.calloutNodeData,e=>{const t=new uA;t.tag=0,t.pointerEvents=1,e.appendChild(t);const n=new Xw;n.tag=1,n.pointerEvents=1,e.appendChild(n)}),r.update(this.nodeData),o.update(this.properties.innerLabels,e=>{e.pointerEvents=1})}updateInnerCircleSelection(){const{innerCircle:e}=this.properties;let t=0;const n=this.getInnerRadius();if(n>0){const e=Math.min(n,this.getOuterRadius()),i=1;t=Math.ceil(2*e+i)}const i=e?[{radius:t}]:[];this.innerCircleSelection.update(i)}updateNodes(e){const t=this.ctx.highlightManager.getActiveHighlight(),{visible:n,dataModel:i,processedData:r}=this;if(this.backgroundGroup.visible=n,this.contentGroup.visible=n,!i||!r)return;const{legendItemValues:o}=this.getProcessedDataValues(i,r),a=this.isSeriesHighlighted(t,o);this.highlightGroup.visible=n&&a,this.labelGroup.visible=n,this.innerCircleSelection.each((e,t)=>{let{radius:n}=t;e.setProperties({fill:this.getNodeFill(this.properties.innerCircle?.fill,["black"],"black"),opacity:this.properties.innerCircle?.fillOpacity,size:n})});const s=this.radiusScale.range[0],l=this.radiusScale.range[1],c=this.getShapeFillBBox(),u=this.ctx.animationManager.isSkipped(),d=(e,n,i,r)=>{const a=this.getSectorFormat(n.datum,n.itemId,r,n,o,t);n.sectorFormat.fill=a.fill,n.sectorFormat.stroke=a.stroke,u&&(e.startAngle=n.startAngle,e.endAngle=n.endAngle,e.innerRadius=n.innerRadius,e.outerRadius=n.outerRadius),(r||u)&&(e.fill=a.fill,e.stroke=a.stroke);const d=this.getFillParams(a.fill,s,l);JL(e,a,c,d),e.cornerRadius=a.cornerRadius,e.fillShadow=this.properties.shadow;const h=Math.max((this.properties.sectorSpacing+(null!=a.stroke?a.strokeWidth:0))/2,0);e.inset=h,e.lineJoin=this.properties.sectorSpacing>=0||h>0?"miter":"round"};this.itemSelection.each((e,t,n)=>d(e,t,0,!1)),this.highlightSelection.each((e,n,i)=>{d(e,n,0,!0),e.visible=n.itemId===t?.itemId}),this.phantomSelection.each((e,t,n)=>d(e,t,0,!1)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")}updateCalloutLineNodes(){const{calloutLine:{length:e,strokeWidth:t,colors:n},strokes:i}=this.properties,r=t,o=My(a=n)&&a.every(e=>"string"===typeof e)?n??this.properties.strokes:i;var a;const{offset:s}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach(t=>{const n=t.closestDatum(),{calloutLabel:i,outerRadius:a,datumIndex:l}=n;if(i?.text&&!i.hidden&&0!==a){t.visible=!0,t.strokeWidth=r,t.stroke=o[l%o.length],t.strokeOpacity=this.getHighlightStyle(!1,n.datumIndex).opacity??1,t.fill=void 0;const c=n.midCos*a,u=n.midSin*a;let d=n.midCos*(a+e),h=n.midSin*(a+e);if((i.collisionTextAlign??0!==i.collisionOffsetY)&&null!=i.box){const e=i.box;let t=d,n=h;d<e.x?t=e.x:d>e.x+e.width&&(t=e.x+e.width),h<e.y?n=e.y:h>e.y+e.height&&(n=e.y+e.height);const r=t-d,o=n-h,a=Math.sqrt(Math.pow(r,2)+Math.pow(o,2)),l=a-s;l>0&&(d+=r*l/a,h+=o*l/a)}t.x1=c,t.y1=u,t.x2=d,t.y2=h}else t.visible=!1})}getLabelOverflow(e,t,n){const i=-this.centerX,r=i+n.width,o=-this.centerY,a=o+n.height;let s=1;t.x+1<i?s=(t.x+t.width-i)/t.width:t.x+t.width-1>r&&(s=(r-t.x)/t.width);const l=t.y+1<o||t.y+t.height-1>a;return{textLength:1===s?e.length:Math.floor(e.length*s)-1,hasVerticalOverflow:l,hasSurroundingSeriesOverflow:this.bboxIntersectsSurroundingSeries(t)}}bboxIntersectsSurroundingSeries(e){const{surroundingRadius:t}=this;if(null==t)return!1;const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=t**2;return n.some(e=>e.x**2+e.y**2>i)}computeCalloutLabelCollisionOffsets(){const{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:i,minSpacing:r}=t,o=e.convert(0),a=this.calloutNodeData,s=a.filter(e=>{return!(!(t=e).calloutLabel||0===t.outerRadius);var t});if(s.forEach(e=>{const t=e.calloutLabel;null!=t&&(t.hidden=!1,t.collisionTextAlign=void 0,t.collisionOffsetY=0)}),s.length<=1)return;const l=s.filter(e=>e.midCos<0).sort((e,t)=>e.midSin-t.midSin),c=s.filter(e=>e.midCos>=0).sort((e,t)=>e.midSin-t.midSin),u=s.filter(e=>e.midSin<0&&"center"===e.calloutLabel?.textAlign).sort((e,t)=>e.midCos-t.midCos),d=s.filter(e=>e.midSin>=0&&"center"===e.calloutLabel?.textAlign).sort((e,t)=>e.midCos-t.midCos),h={angleKey:this.properties.angleKey},p=e=>{const r=e.calloutLabel;if(null==r)return Sx.zero.clone();const o=XA(jB(this,e,h,t)),a=e.outerRadius+n.length+i,s=e.midCos*a,l=e.midSin*a+r.collisionOffsetY,c=r.collisionTextAlign??r.textAlign,u=r.textBaseline;return Xw.computeBBox(r.text,s,l,{font:this.properties.calloutLabel,textAlign:c,textBaseline:u},!1).grow(o)},g=(e,t,n)=>{const i=p(e).grow(r/2),o=p(t).grow(r/2);i.x<o.x+o.width&&i.x+i.width>o.x&&("to-top"===n?i.y<o.y+o.height:i.y+i.height>o.y)&&(t.calloutLabel.collisionOffsetY="to-top"===n?i.y-o.y-o.height:i.y+i.height-o.y)},f=e=>{const t=e.slice().sort((e,t)=>Math.abs(e.midSin)-Math.abs(t.midSin))[0],n=e.indexOf(t);for(let i=n-1;i>=0;i--){const t=e[i+1],n=e[i];g(t,n,"to-top")}for(let i=n+1;i<e.length;i++){const t=e[i-1],n=e[i];g(t,n,"to-bottom")}},m=e=>{const t=s.some(e=>0!==e.calloutLabel.collisionOffsetY),n=e.map(e=>p(e)),i=n.map(e=>e.clone().grow(r/2));let l=!1;for(let r=0;r<i.length&&!l;r++){const t=i[r];for(let n=r+1;n<e.length;n++){const e=i[n];if(t.collidesBBox(e)){l=!0;break}}}const c=a.map(e=>{const{startAngle:t,endAngle:n,outerRadius:i}=e;return{startAngle:t,endAngle:n,innerRadius:o,outerRadius:i}}),u=n.some(e=>c.some(t=>function(e,t){const n={x:e.x,y:e.y},i={x:e.x+e.width,y:e.y},r={x:e.x,y:e.y+e.height},o={x:e.x+e.width,y:e.y+e.height};return yV({start:n,end:i},t)||yV({start:r,end:o},t)}(e,t)));(l||t||u)&&e.filter(e=>"center"===e.calloutLabel.textAlign).forEach(e=>{const t=e.calloutLabel;e.midCos<0?t.collisionTextAlign="right":e.midCos>0?t.collisionTextAlign="left":t.collisionTextAlign="center"})};f(l),f(c),m(u),m(d)}updateCalloutLabelNodes(e){const{radiusScale:t}=this,{calloutLabel:n,calloutLine:i}=this.properties,r=new Xw;this.calloutLabelSelection.selectByTag(1).forEach(o=>{const a=o.closestDatum(),s=a.calloutLabel,l=t.convert(a.radius),c=Math.max(0,l);if(!s?.text||0===c||s.hidden)return void(o.visible=!1);const u=this.ctx.highlightManager?.getActiveHighlight(),d=!1,h=this.getHighlightStateString(u,d,a.datumIndex),p=jB(this,a,this.properties,n,d,h),g=c+i.length+n.offset,f=a.midCos*g,m=a.midSin*g+s.collisionOffsetY,y={textAlign:s.collisionTextAlign??s.textAlign,textBaseline:s.textBaseline};r.text=s.text,r.x=f,r.y=m,r.setFont(p),r.setAlign(y),r.setBoxing(p);const b=r.getBBox(!1);let v=s.text,x=!0;if(n.avoidCollisions){const{textLength:t,hasVerticalOverflow:n}=this.getLabelOverflow(s.text,b,e);v=s.text.length===t?s.text:`${s.text.substring(0,t)}\u2026`,x=!n}o.text=v,o.x=f,o.y=m,o.setFont(p),o.setAlign(y),o.setBoxing(p),o.fill=p.color,o.fillOpacity=this.getHighlightStyle(!1,a.datumIndex).opacity??1,o.visible=x})}computeLabelsBBox(e,t){const{calloutLabel:n,calloutLine:i}=this.properties,r=i.length,{offset:o,maxCollisionOffset:a,minSpacing:s}=n;if(!n.avoidCollisions)return null;this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();const l=[],c=new Xw;let u;const{title:d}=this.properties;if(d?.text&&d.enabled){const e=this.getTitleTranslationY();isFinite(e)&&(c.text=d.text,c.x=0,c.y=e,c.setFont(d),c.setAlign({textBaseline:"bottom",textAlign:"center"}),u=c.getBBox(!1),l.push(u))}const h={angleKey:this.properties.angleKey};return this.calloutNodeData.forEach(i=>{const d=i.calloutLabel;if(!d||0===i.outerRadius)return null;const p=jB(this,i,h,n),g=i.outerRadius+r+o,f=i.midCos*g,m=i.midSin*g+d.collisionOffsetY;c.text=d.text,c.x=f,c.y=m,c.setFont(p),c.setAlign({textAlign:d.collisionTextAlign??d.textAlign,textBaseline:d.textBaseline}),c.setBoxing(p);const y=c.getBBox(!1);if(d.box=y,Math.abs(d.collisionOffsetY)>a)d.hidden=!0;else{if(u){const e=-this.centerY,t=new Sx(u.x-s,e,u.width+2*s,u.y+u.height+s-e);if(y.collidesBBox(t))return void(d.hidden=!0)}if(e.hideWhenNecessary){const{textLength:e,hasVerticalOverflow:n,hasSurroundingSeriesOverflow:i}=this.getLabelOverflow(d.text,y,t),r=d.text.length>2&&e<2;if(n||r||i)return void(d.hidden=!0)}d.hidden=!1,l.push(y)}}),0===l.length?null:Sx.merge(l)}updateSectorLabelNodes(){const{properties:e}=this,{positionOffset:t,positionRatio:n}=this.properties.sectorLabel,i=this.radiusScale.convert(0),r=i<=0&&1===this.ctx.legendManager.getData(this.id)?.filter(e=>e.enabled).length,o={textAlign:"center",textBaseline:"middle"};this.labelSelection.each((a,s)=>{const{outerRadius:l,startAngle:c,endAngle:u}=s;let d=!1;if(s.sectorLabel&&0!==l){const h=this.ctx.highlightManager?.getActiveHighlight(),p=!1,g=this.getHighlightStateString(h,p,s.datumIndex),f=jB(this,s,e,e.sectorLabel,p,g),m=i*(1-n)+l*n+t;a.fill=f.color,a.fillOpacity=this.getHighlightStyle(!1,s.datumIndex).opacity??1,a.text=s.sectorLabel.text,r?(a.x=0,a.y=0):(a.x=s.midCos*m,a.y=s.midSin*m),a.setFont(f),a.setAlign(o),a.setBoxing(f);const y=a.getBBox(!1),b=[[y.x,y.y],[y.x+y.width,y.y],[y.x+y.width,y.y+y.height],[y.x,y.y+y.height]],v={startAngle:c,endAngle:u,innerRadius:i,outerRadius:l};b.every(e=>{let[t,n]=e;return mV(t,n,v)})&&(d=!0)}a.visible=d})}updateInnerLabelNodes(){const e=[],t=[];this.innerLabelsSelection.each((n,i)=>{const{fontStyle:r,fontWeight:o,fontSize:a,fontFamily:s,color:l}=i;n.fontStyle=r,n.fontWeight=o,n.fontSize=a,n.fontFamily=s,n.text=i.text,n.x=0,n.y=0,n.fill=l,n.textAlign="center",n.textBaseline="alphabetic",e.push(n.getBBox()),t.push(i.spacing)});const n=e=>0===e?0:t[e],i=e=>e===t.length-1?0:t[e],r=e.reduce((e,t)=>e<t.width?t.width:e,0),o=e.reduce((e,t,r)=>e+t.height+n(r)+i(r),0),a=this.getInnerRadius(),s=Math.sqrt(Math.pow(r/2,2)+Math.pow(o/2,2))<=(a>0?a:this.getOuterRadius()),l=[];for(let c=0,u=-o/2;c<e.length;c++){const t=e[c].height+u+n(c);l.push(t),u=t+i(c)}this.innerLabelsSelection.each((t,n,i)=>{t.visible=s,Array.isArray(t.text)?t.y=l[i]-e[i].height:t.y=l[i]})}updateZerosumRings(){this.zerosumOuterRing.size=2*this.getOuterRadius(),this.zerosumInnerRing.size=2*this.getInnerRadius()}pickNodeClosestDatum(e){return RV(this,e)}getTooltipContent(e){const{id:t,dataModel:n,processedData:i,properties:r,ctx:{formatManager:o}}=this,{legendItemKey:a,calloutLabelKey:s,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:u,angleKey:d,angleName:h,radiusKey:p,radiusName:g,tooltip:f}=r,m=this.properties.title.node.getPlainText();if(!n||!i)return;const y=i.dataSources.get(this.id)?.[e],b=this.getProcessedDataValues(n,i),{angleRawValues:v}=b,x=v[e],S=this.getLabelContent(e,y,b),M=S.legendItem??S.callout??S.sector??h,w=n.getDomain(this,"angleRaw","value",i),k=o.format(this.callWithContext.bind(this),{type:"number",value:x,datum:y,seriesId:t,legendItemName:void 0,key:d,source:"tooltip",property:"angle",domain:w,boundSeries:this.getFormatterContext("angle"),fractionDigits:void 0})??rI(x,3);return this.formatTooltipWithContext(f,{title:m,symbol:this.legendItemSymbol(e),data:[{label:M,fallbackLabel:d,value:k}]},{seriesId:t,datum:y,title:h,legendItemKey:a,calloutLabelKey:s,calloutLabelName:l,sectorLabelKey:c,sectorLabelName:u,angleKey:d,angleName:h,radiusKey:p,radiusName:g,...this.getSectorFormat(y,e,!1)})}legendItemSymbol(e){const t=this.processedData?.dataSources.get(this.id)?.[e],n=this.getSectorFormat(t,e,!1),{fillOpacity:i,strokeOpacity:r,strokeWidth:o,lineDash:a,lineDashOffset:s}=this.properties;let{fill:l}=n;const{stroke:c}=n;return yM(l)&&(l={...l,gradient:"linear",rotation:0,reverse:!1}),{marker:{fill:l,stroke:c,fillOpacity:i,strokeOpacity:r,strokeWidth:o,lineDash:a,lineDashOffset:s}}}getLegendData(e){const{visible:t,processedData:n,dataModel:i,id:r,ctx:{legendManager:o}}=this;if(!i||!n||"category"!==e)return[];const{angleKey:a,calloutLabelKey:s,sectorLabelKey:l,legendItemKey:c,showInLegend:u}=this.properties;if(!c&&(!s||s===a)&&(!l||l===a))return[];const d=this.getProcessedDataValues(i,n),{angleRawValues:h}=d,p=this.properties.title?.showInLegend&&this.properties.title.text,g=[],f=this.properties.hideZeroValueSectorsInLegend,m=n.dataSources.get(this.id),y=n.invalidData?.get(this.id);for(let b=0;b<n.input.count;b++){const e=m?.[b],n=h[b];if(!0===y?.[b]||f&&0===n)continue;const i=[];p&&i.push(p);const v=this.getLabelContent(b,e,d);c&&void 0!==v.legendItem?i.push(v.legendItem):s&&s!==a&&void 0!==v.callout?i.push(v.callout):l&&l!==a&&void 0!==v.sector&&i.push(v.sector),0!==i.length&&g.push({legendType:"category",id:r,datum:e,itemId:b,seriesId:r,hideToggleOtherSeries:!0,enabled:t&&o.getItemEnabled({seriesId:r,itemId:b}),label:{text:i.join(" - ")},symbol:this.legendItemSymbol(b),legendItemName:null!=c?e[c]:void 0,hideInLegend:!u})}return g}setLegendState(e){const{id:t,ctx:{legendManager:n,updateService:i}}=this;e.forEach((e,i)=>n.toggleItem(e,t,i)),n.update(),i.update(5)}animateEmptyUpdateReady(e){const{animationManager:t}=this.ctx,n=EV(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);rA(this.id,"nodes",t,[this.itemSelection,this.highlightSelection,this.phantomSelection],n.nodes,(e,t)=>this.getDatumId(t.datumIndex)),rA(this.id,"innerCircle",t,[this.innerCircleSelection],n.innerCircle),FB(this,"callout",t,this.calloutLabelSelection),FB(this,"sector",t,this.labelSelection),FB(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,processedData:i,radiusScale:r,previousRadiusScale:o}=this,{animationManager:a}=this.ctx,s=i?.reduced?.diff?.[this.id];this.ctx.animationManager.stopByAnimationGroupId(this.id);const l=0===(s?.moved.size??0),c=(i?.defs.keys.length??0)>0;l&&c&&(i?.reduced?.animationValidation?.uniqueKeys??!0)||this.ctx.animationManager.skipCurrentBatch();const u=!this.nodeData.some(e=>e.enabled),d=EV(!1,this.properties.rotation,r,o);rA(this.id,"nodes",a,[e,t,n],d.nodes,(e,t)=>this.getDatumId(t.datumIndex),s),rA(this.id,"innerCircle",a,[this.innerCircleSelection],d.innerCircle),FB(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),FB(this,"sector",this.ctx.animationManager,this.labelSelection),this.noVisibleData!==u&&(this.noVisibleData=u,FB(this,"inner",this.ctx.animationManager,this.innerLabelsSelection)),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){const{itemSelection:e,highlightSelection:t,phantomSelection:n,radiusScale:i,previousRadiusScale:r}=this,{animationManager:o}=this.ctx,a=EV(!1,this.properties.rotation,i,r);rA(this.id,"nodes",o,[e,t,n],a.nodes,(e,t)=>this.getDatumId(t.datumIndex)),rA(this.id,"innerCircle",o,[this.innerCircleSelection],a.innerCircle),$B(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),$B(this,"sector",this.ctx.animationManager,this.labelSelection),$B(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumId(e){return`${e}`}hasItemStylers(){const{itemStyler:e,calloutLabel:t,sectorLabel:n}=this.properties;return null!=(e??t.itemStyler??n.itemStyler)}};FV.className="DonutSeries",FV.type="donut";var $V={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",moduleFactory:e=>new FV(e),themeTemplate:{series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:rk.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{...iO,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{...iO,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:FE,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,innerRadiusRatio:{$if:[{$eq:[{$path:["./innerRadiusOffset",void 0]},void 0]},.7,void 0]},shadow:{enabled:!1,color:oE,xOffset:3,yOffset:3,blur:5},innerLabels:{$apply:{...iO,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:2}},highlight:oO()},legend:{enabled:!0}}},VV={type:"series",name:"donut",chartType:"polar",options:Xj,create:e=>new FV(e)},GV=class extends FV{};GV.className="PieSeries",GV.type="pie";var WV={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",moduleFactory:e=>new GV(e),themeTemplate:{series:{title:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:rk.LARGE},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"},spacing:5},calloutLabel:{...iO,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},offset:3,minAngle:.001},sectorLabel:{...iO,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"chartBackgroundColor"},positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2,colors:{$map:[{$if:[{$or:[{$isGradient:{$value:"$1"}},{$isPattern:{$value:"$1"}},{$isImage:{$value:"$1"}}]},{$path:["../../strokes/$index",{$ref:"foregroundColor"}]},{$value:"$1"}]},{$if:[{$eq:[{$path:"../strokeWidth"},0]},{$path:"../fills"},{$path:"../strokes"}]}]}},fills:{$palette:"fills"},strokes:{$palette:"strokes"},defaultColorRange:{$palette:"gradients"},defaultPatternFills:FE,fillOpacity:1,strokeOpacity:1,strokeWidth:{$isUserOption:["./strokes/0",2,0]},lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:oE,xOffset:3,yOffset:3,blur:5},highlight:rO()},legend:{enabled:!0}}},HV={type:"series",name:"pie",chartType:"polar",options:Kj,create:e=>new GV(e)};function UV(){fx.register(uB,RB,EB,lB,S$,V$,eV,cV,hV,$V,WV,rV);for(const e of[rj,WR,sj,ZP,oj,hj])VD.register(e.type,{moduleFactory:t=>new e(t)})}function YV(){for(const e of fx.modules){if("enterprise"!==e.packageType||HD(e)||Gm.errorOnce("Unexpected enterprise module registered: "+e.identifier),"root"===e.type&&e.themeTemplate)for(const t of e.chartTypes)qD.set(t,e.themeTemplate);if("series"===e.type){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);QD.register(e.identifier,e)}if("series-option"===e.type&&e.themeTemplate)for(const t of e.seriesTypes)QD.setThemeTemplate(t,e.themeTemplate);if("axis-option"===e.type&&e.themeTemplate)for(const t of e.axisTypes){const n=VD.getThemeTemplate(t),i=Bx(e.themeTemplate,n);VD.setThemeTemplate(t,i)}"axis"===e.type&&VD.register(e.identifier,e),"legend"===e.type&&UD.register(e.identifier,e)}if(fx.hasEnterpriseModules()){const e=GD.filter(e=>{let{useCount:t}=e;return null==t||0===t});e.length>0&&Gm.errorOnce("Enterprise modules expected but not registered: ",e)}}var KV=Symbol("IGNORED_PROP");function ZV(e,t){const n={};for(const i of Object.keys(t)){const r=t[i];r!==KV&&Object.hasOwn(e,i)&&(n[i]=r)}return n}function XV(e){const{enabled:t,mode:n,showArrow:i,range:r,position:o,pagination:a,delay:s,wrapping:l,interaction:c,renderer:u,...d}=e,h=ZV(e,{enabled:t,showArrow:i,range:r,position:o,interaction:c,renderer:u,...d});return{chartTooltipOptions:ZV(e,{enabled:KV,showArrow:KV,range:KV,position:KV,mode:n,pagination:a,delay:s,wrapping:l,...d}),seriesTooltipOptions:h}}function qV(e,t){if(null==t)return e;const{targets:n,...i}=t;return null!=(e=Bx(e,i)).targets&&null!=n&&(e.targets=$x(e.targets,n)),e}var QV={stroke:ME},JV={fill:CE},eG={color:"white",fill:ME},tG={color:ME},nG={color:kE,fontSize:{$rem:rk.LARGE},fontFamily:{$ref:"fontFamily"}},iG={...nG,fontSize:{$ref:"fontSize"},color:TE,fill:DE,stroke:AE,strokeWidth:1,divider:{stroke:LE,strokeWidth:1,strokeOpacity:.5}},rG={...QV,background:{fill:IE,fillOpacity:.2},handle:{...JV},text:{...tG},statistics:{...iG}},oG={line:{...QV,handle:{...JV},text:{...tG}},"horizontal-line":{...QV,handle:{...JV},axisLabel:{...eG},text:{...tG}},"vertical-line":{...QV,handle:{...JV},axisLabel:{...eG},text:{...tG}},"disjoint-channel":{...QV,background:{fill:IE,fillOpacity:.2},handle:{...JV},text:{...tG}},"parallel-channel":{...QV,background:{fill:IE,fillOpacity:.2},handle:{...JV},text:{...tG}},"fibonacci-retracement":{...QV,strokes:wE,rangeStroke:ME,handle:{...JV},text:{...tG,position:"center"},label:{...nG,color:void 0,fontSize:{$rem:rk.SMALLER}}},"fibonacci-retracement-trend-based":{...QV,strokes:wE,rangeStroke:ME,handle:{...JV},text:{...tG,position:"center"},label:{...nG,color:void 0,fontSize:{$rem:rk.SMALLER}}},callout:{...QV,...nG,color:{$ref:"textColor"},handle:{...JV},fill:IE,fillOpacity:.2},comment:{...nG,color:"white",fontWeight:700,handle:{...JV},fill:ME},note:{...nG,color:PE,fill:ME,stroke:{$ref:"chartBackgroundColor"},strokeWidth:1,strokeOpacity:1,handle:{...JV},background:{fill:OE,stroke:RE,strokeWidth:1}},text:{...nG,handle:{...JV}},arrow:{...QV,handle:{...JV},text:{...tG}},"arrow-up":{fill:{$palette:"up.fill"},handle:{...JV,stroke:ME}},"arrow-down":{fill:{$palette:"down.fill"},handle:{...JV,stroke:ME}},"date-range":{...rG},"price-range":{...rG},"date-price-range":{...rG},"quick-date-price-range":{up:{...QV,fill:IE,fillOpacity:.2,handle:{...JV},statistics:{...iG,color:"#fff",fill:IE,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}},down:{...QV,stroke:EE,fill:NE,fillOpacity:.2,handle:{...JV,stroke:EE},statistics:{...iG,color:"#fff",fill:NE,strokeWidth:0,divider:{stroke:"#fff",strokeWidth:1,strokeOpacity:.5}}}},axesButtons:{enabled:!0}},aG=["ohlc","line","step-line","hlc","high-low","candlestick","hollow-candlestick"],sG=[{icon:"trend-line-drawing",tooltip:"toolbarAnnotationsLineAnnotations",value:"line-menu"},{icon:"fibonacci-retracement-drawing",tooltip:"toolbarAnnotationsFibonacciAnnotations",value:"fibonacci-menu"},{icon:"text-annotation",tooltip:"toolbarAnnotationsTextAnnotations",value:"text-menu"},{icon:"arrow-drawing",tooltip:"toolbarAnnotationsShapeAnnotations",value:"shape-menu"},{icon:"measurer-drawing",tooltip:"toolbarAnnotationsMeasurerAnnotations",value:"measurer-menu"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear"}];var lG="range-area";function cG(e,t){return[{type:"candlestick",focusPriority:0,...e,...t}]}function uG(e,t){return t[e]??t.default}var dG={title:{enabled:!1},label:{enabled:!1},line:{enabled:!1},gridLine:{enabled:!1},crosshair:{enabled:!1,stroke:SE,lineDash:[0],label:{enabled:!1}}},hG={...dG,nice:!1},pG={mode:"compact",position:{anchorTo:"node",placement:["right","left"]},showArrow:!1},gG={style:[{stroke:{$ref:"gridLineColor"}}],width:2},fG={number:{gridLine:gG},time:{gridLine:gG},category:{gridLine:gG}},mG={overrides:{common:{animation:{enabled:!1},contextMenu:{enabled:!1},keyboard:{enabled:!1},background:{visible:!1},navigator:{enabled:!1},padding:{top:0,right:0,bottom:0,left:0},axes:{number:{...hG,interval:{values:[0]}},log:{...hG},time:{...hG},category:{...dG}}},bar:{series:{crisp:!1,label:{placement:"inside-end",padding:4},sparklineMode:!0},tooltip:{...pG,position:{...pG.position,anchorTo:"pointer"},range:"nearest"},axes:fG},line:{seriesArea:{padding:{top:2,right:2,bottom:2,left:2}},series:{sparklineMode:!0,strokeWidth:1,marker:{enabled:!1,size:3}},tooltip:pG},area:{seriesArea:{padding:{top:1,right:0,bottom:1,left:0}},series:{strokeWidth:1,fillOpacity:.4},tooltip:pG}}},yG=RI(function(e,t){if("string"===typeof e)return{...t,baseTheme:e};if(null!=e)return{...e,baseTheme:yG(e.baseTheme,t)};return t});function bG(e){if(Array.isArray(e)&&0!==e.length){const t=e.find(e=>null!=e);if("number"===typeof t){return{data:e.map((e,t)=>({x:t,y:e})),series:[{xKey:"x",yKey:"y"}],datumKey:"y"}}if(Array.isArray(t)){return{data:e.map(e=>({x:e?.[0],y:e?.[1],datum:e})),series:[{xKey:"x",yKey:"y"}],datumKey:"datum"}}}else if(0===e?.length)return{data:e,series:[{xKey:"x",yKey:"y"}],datumKey:"y"};return{data:e}}function vG(e){switch(e?.type){case"number":{const{type:t,min:n,max:i,reverse:r}=e;return ZV(e,{type:t,reverse:r,min:n,max:i})}case"time":{const{type:t,min:n,max:i,reverse:r}=e;return ZV(e,{type:t,reverse:r,min:n,max:i})}default:{const{paddingInner:t,paddingOuter:n,reverse:i}=e??{};return ZV({...e,type:"category"},{type:"category",reverse:i,paddingInner:t,paddingOuter:n})}}}function xG(e,t,n){const i={};return null!=e?.stroke&&(i.style=[{stroke:e?.stroke}],i.enabled??(i.enabled=!0)),null!=e?.strokeWidth&&(i.width=e?.strokeWidth,i.enabled??(i.enabled=!0)),"bar"===n.type&&"horizontal"!==n.direction&&(i.enabled??(i.enabled=!0)),null!=e?.visible&&(i.enabled=e.visible),i.enabled??(i.enabled=t),i}var SG=RI((e,t,n)=>i=>{const r=i.datum[i.xKey],o=i.datum[i.yKey],a=null!=n?i.datum[n]:i.datum,s=t?.renderer?.({context:e,datum:a,xValue:r,yValue:o});if("string"===typeof s)return s;const l=s?.content??o.toFixed(2);return s?.title?{heading:void 0,title:void 0,data:[{label:s.title,value:l}]}:{heading:void 0,title:l,data:[]}});var MG={chartType:Db("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),dateKey:yb,openKey:yb,highKey:yb,lowKey:yb,closeKey:yb,volumeKey:yb,navigator:ub,volume:ub,rangeButtons:ub,statusBar:ub,toolbar:ub,zoom:ub,sync:ub,theme:gb,container:gb,width:gb,height:gb,minWidth:gb,minHeight:gb,listeners:gb,initialState:gb,title:gb,data:cb,formatter:gb},wG={theme:gb,container:gb,animation:gb,background:gb,contextMenu:gb,context:()=>!0,listeners:gb,locale:gb,width:gb,height:gb,minWidth:gb,minHeight:gb,title:gb,subtitle:gb,footnote:gb,padding:gb,tooltip:{...gR,...aR.tooltip}};wG.overrideDevicePixelRatio=tb(Mb);var kG=["showInLegend","showInMiniChart","grouped","stacked","stackGroup","tooltip","listeners","errorBar","xKey","yKey","type"],IG={visible:ub,reverse:ub,stroke:hb,strokeWidth:Mb},CG={context:()=>!0,tooltip:gb,theme:gb,background:gb,container:gb,width:gb,height:gb,minWidth:gb,minHeight:gb,padding:gb,listeners:gb,locale:gb,data:gb,styleNonce:yb,axis:ob({number:{...IG,min:ab(fb,Ib("max")),max:ab(fb,Cb("min"))},category:{...IG,paddingInner:kb,paddingOuter:kb},time:{...IG,min:ab(sb(fb,pb),Ib("max")),max:ab(sb(fb,pb),Cb("min"))}},"axis options","category"),min:ab(fb,Ib("max")),max:ab(fb,Cb("min")),crosshair:{enabled:ub,snap:ub,...$b,...Kb},xKey:yb,yKey:yb},DG={type:"preset",name:"price-volume",enterprise:!0,options:MG,create:function(e,t,n){const{dateKey:i="date",highKey:r="high",openKey:o="open",lowKey:a="low",closeKey:s="close",volumeKey:l="volume",chartType:c="candlestick",navigator:u=!1,volume:d=!0,rangeButtons:h=!0,statusBar:p=!0,toolbar:g=!0,zoom:f=!0,sync:m=!1,theme:y,data:b,formatter:v,...x}=e,S=function(e,t,n,i,r,o){const a={xKey:t,openKey:r,closeKey:o,highKey:n,lowKey:i},s={xKey:t,yKey:o},l={pickOutsideVisibleMinorAxis:!0};switch(e??"candlestick"){case"ohlc":return function(e,t){return[{type:"ohlc",focusPriority:0,...e,...t}]}(l,a);case"line":case"step-line":return function(e,t){return[{type:"line",focusPriority:0,...e,...t}]}(l,s);case"hlc":return function(e,t,n){let{xKey:i,highKey:r,closeKey:o,lowKey:a}=n;return[{type:lG,focusPriority:0,...e,xKey:i,yHighKey:r,yLowKey:o,fill:uE,stroke:lE},{type:lG,focusPriority:0,...e,xKey:i,yHighKey:o,yLowKey:a,fill:dE,stroke:cE},{type:"line",...e,...t}]}(l,s,a);case"high-low":return function(e,t){let{xKey:n,highKey:i,lowKey:r}=t;return[{type:"range-bar",...e,xKey:n,yHighKey:i,yLowKey:r,fill:pE,stroke:hE,tooltip:{range:"nearest"},focusPriority:0}]}(l,a);case"candlestick":case"hollow-candlestick":return cG(l,a);default:return Gm.warnOnce(`unknown chart type: ${e}; expected one of: ${aG.join(", ")}`),cG(l,a)}}(c,i,r,a,o,s),M=function(e,t,n,i,r){return i?[{type:"bar",xKey:"date",yKey:r,tooltip:{enabled:!1},itemStyler(i){let{datum:r}=i;const{up:o,down:a}=e().palette;return{fill:r[t]<r[n]?o?.fill:a?.fill}},focusPriority:1,highlight:{enabled:!1}}]:[]}(n,o,s,d,l),w={navigator:{enabled:u,...d?{miniChart:{enabled:u,series:[{type:"line",xKey:i,yKey:l,stroke:$E,marker:{enabled:!1}}]},height:40,minHandle:{height:46},maxHandle:{height:46}}:null}},k={annotations:{enabled:g,optionsToolbar:{enabled:g},snap:!0,toolbar:{enabled:g,buttons:sG,padding:0},data:b,xKey:i,volumeKey:d?l:void 0}},I=p?{statusBar:{enabled:!0,data:b,highKey:r,openKey:o,lowKey:a,closeKey:s,volumeKey:d?l:void 0}}:null,C={zoom:{enabled:f,autoScaling:{enabled:!0},enableIndependentAxes:!0}},D={ranges:{enabled:h}},A=m?{sync:{enabled:m,nodeInteraction:!0,zoom:!0}}:null,T=d?[{type:"number",position:"left",keys:[l],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percent",align:"end"}}]:[];return{theme:{baseTheme:"string"===typeof y?y:"ag-financial",...Bx("object"===typeof y?y:null,{overrides:{common:{title:{padding:4},padding:{top:6,right:8,bottom:6},chartToolbar:{enabled:g},annotations:{...oG},axes:{number:{interval:{maxSpacing:45},label:{format:".2f"}}}},bar:{series:{fillOpacity:.5}},line:{series:{marker:{enabled:!1},...uG(c,{hlc:{stroke:{$palette:"altNeutral.stroke"},strokeWidth:2},line:{stroke:{$palette:"neutral.stroke"}},"step-line":{stroke:{$palette:"neutral.stroke"},interpolation:{type:"step"}}})}},candlestick:{series:{...uG(c,{"hollow-candlestick":{item:{up:{fill:"transparent"}}}})}},"range-area":{series:{fillOpacity:.3,strokeWidth:2}}}})},animation:{enabled:!1},legend:{enabled:!1},series:[...M,...S],axes:[{type:"number",position:"right",keys:[o,s,r,a],crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percent",align:"start"}},...T,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],tooltip:{enabled:!1},data:b,formatter:v,...k,...w,...I,...C,...D,...A,...x}}},AG={type:"preset",name:"gauge-preset",enterprise:!0,options:ob({"linear-gauge":{...Gx(SR,["type"]),...wG},"radial-gauge":{...Gx(wR,["type"]),...wG}},"gauge options"),create:function(e,t){switch(e.type){case"radial-gauge":return function(e){const{animation:t,background:n,container:i,contextMenu:r,context:o,footnote:a,height:s,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:p,subtitle:g,theme:f,title:m,width:y,type:b,cursor:v,nodeClickRange:x,tooltip:S={},value:M,scale:w={},startAngle:k,endAngle:I,highlightStyle:C,highlight:D,segmentation:A,bar:T,needle:L,targets:N,outerRadius:E,innerRadius:O,outerRadiusRatio:R,innerRadiusRatio:P,cornerRadius:j,cornerMode:z,label:_,secondaryLabel:B,spacing:F,...$}=e,{chartTooltipOptions:V,seriesTooltipOptions:G}=XV(S);return{...ZV(e,{animation:t,background:n,container:i,contextMenu:r,context:o,footnote:a,height:s,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:p,subtitle:g,theme:f,title:m,tooltip:V,width:y}),series:[ZV(e,{needle:null!=L?{enabled:!0,...L}:KV,startAngle:k,endAngle:I,scale:w,type:b,cursor:v,context:o,nodeClickRange:x,tooltip:G,value:M,highlightStyle:C,highlight:D,segmentation:A,bar:T,targets:N,outerRadius:E,innerRadius:O,outerRadiusRatio:R,innerRadiusRatio:P,cornerRadius:j,cornerMode:z,label:_,secondaryLabel:B,spacing:F,...$})]}}(qV(e,t));case"linear-gauge":return function(e){const{animation:t,background:n,container:i,contextMenu:r,context:o,footnote:a,height:s,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:p,subtitle:g,theme:f,title:m,width:y,type:b,cursor:v,nodeClickRange:x,tooltip:S={},value:M,scale:w={},direction:k="vertical",thickness:I,highlightStyle:C,highlight:D,segmentation:A,bar:T,targets:L,cornerRadius:N,cornerMode:E,label:O,...R}=e,{chartTooltipOptions:P,seriesTooltipOptions:j}=XV(S);return{...ZV(e,{animation:t,background:n,container:i,contextMenu:r,context:o,footnote:a,height:s,listeners:l,locale:c,minHeight:u,minWidth:d,overrideDevicePixelRatio:h,padding:p,subtitle:g,theme:f,title:m,tooltip:P,width:y}),series:[ZV(e,{scale:w,type:b,cursor:v,context:o,nodeClickRange:x,tooltip:j,value:M,direction:k,thickness:I,highlightStyle:C,highlight:D,segmentation:A,bar:T,targets:L,cornerRadius:N,cornerMode:E,label:O,...R})]}}(qV(e,t));default:return{}}}},TG={type:"preset",name:"sparkline",options:ob({area:{...CG,...Gx(Oj,kG)},bar:{...CG,...Gx(jj,kG)},line:{...CG,...Gx(Gj,kG)}},"sparkline options"),create:function(e){const{background:t,container:n,height:i,listeners:r,locale:o,minHeight:a,minWidth:s,overrideDevicePixelRatio:l,padding:c,width:u,theme:d,data:h,crosshair:p,axis:g,min:f,max:m,tooltip:y,context:b,styleNonce:v,...x}=e,S=ZV(e,{background:t,container:n,height:i,listeners:r,locale:o,minHeight:a,minWidth:s,overrideDevicePixelRatio:l,padding:c,width:u,styleNonce:v,tooltip:KV,context:KV,data:KV,crosshair:KV,axis:KV,min:KV,max:KV,theme:KV}),{data:M,series:[w]=[],datumKey:k}=bG(h),I=x;null!=w&&Object.assign(I,w),I.tooltip={...y,renderer:SG(b,y,k)},S.theme=yG(d,mG),S.data=M,S.series=[I];const C="bar"!==I.type||"horizontal"!==I.direction,[D,A]=C?["bottom","left"]:["left","bottom"],T={...vG(g),position:D,...ZV(e,{crosshair:p})},L={type:"number",gridLine:xG(g,!1,e),position:A,...ZV(e,{min:f,max:m})};return S.axes=C?[L,T]:[T,L],S},processData:bG},LG=["top","right","bottom","left"],NG=class e extends qN{constructor(e,t){super(e,t),this.paired=!0,this.lastUpdateClipRect=void 0,this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}onAxisChange(e,t){super.onAxisChange(e,t),this.syncAxisChanges(e,t),null!=this.ctx&&this.ctx.zoomManager.updateAxes(e)}destroySeries(e){super.destroySeries(e),this.lastLayoutWidth=NaN,this.lastLayoutHeight=NaN}getChartType(){return"cartesian"}setRootClipRects(e){const{seriesRoot:t,annotationRoot:n}=this;t.setClipRect(e),n.setClipRect(e)}async processData(){await super.processData(),"init"===this.syncStatus&&(this.syncStatus="domains-calculated"),this.ctx.updateService.dispatchProcessData({series:{shouldFlipXY:this.shouldFlipXY()}})}async processDomains(){await super.processDomains();for(const e of this.axes){const t=await this.getSyncedDomain(e);null!=t&&e.setDomains(t)}}performLayout(e){const{seriesRoot:t,annotationRoot:n}=this,{clipSeries:i,seriesRect:r,visible:o}=this.updateAxes(e.layoutBox);this.seriesRoot.visible=o,this.seriesRect=r,this.animationRect=e.layoutBox;const{x:a,y:s}=r;if(e.width!==this.lastLayoutWidth||e.height!==this.lastLayoutHeight)for(const h of[t,n])h.translationX=Math.floor(a),h.translationY=Math.floor(s);else{const{translationX:e,translationY:i}=t;oA(this.id,"seriesRect",this.ctx.animationManager,[t,n],{translationX:e,translationY:i},{translationX:Math.floor(a),translationY:Math.floor(s)},{phase:"update"})}this.lastLayoutWidth=e.width,this.lastLayoutHeight=e.height;const l=this.modulesManager.getModule("seriesArea"),c=r.clone().grow(l.getPadding()),u=l.clip||i?c:void 0,{lastUpdateClipRect:d}=this;this.lastUpdateClipRect=u,this.ctx.animationManager.isActive()&&null!=d?this.ctx.animationManager.animate({id:this.id,groupId:"clip-rect",phase:"update",from:d,to:c,onUpdate:e=>this.setRootClipRects(e),onComplete:()=>this.setRootClipRects(u)}):this.setRootClipRects(u),this.ctx.layoutManager.emitLayoutComplete(e,{axes:this.axes.map(e=>e.getLayoutState()),series:{visible:o,rect:r,paddedRect:c},clipSeries:i})}updateAxes(e){const{clipSeries:t,seriesRect:n,overflows:i}=this.resolveAxesLayout(e);for(const r of this.axes)r.update(),r.setCrossLinesVisible(!i),this.clipAxis(r,n,e);return{clipSeries:t,seriesRect:n,visible:!i}}resolveAxesLayout(e){let t,n,i=0;do{if(n=t??this.getDefaultState(),t=this.updateAxesPass(new Map(n.axisAreaWidths),e.clone()),i++>10){Gm.warn("Max iterations reached. Unable to stabilize axes layout.");break}}while(!this.isLayoutStable(t,n));return this.lastAreaWidths=t.axisAreaWidths,t}updateAxesPass(t,n){const i=new Map,r={};let o=!1,a=!1;for(const e of LG){const t=this.modulesManager.getModule("seriesArea").getPadding()[e],i=this.axes.findLast(t=>t.position===e);i?i.seriesAreaPadding=t:n.shrink(t,e)}const s=(t.get("left")??0)+(t.get("right")??0),l=(t.get("top")??0)+(t.get("bottom")??0),c=this.buildCrossLinePadding(t),u=c.left+c.right,d=c.top+c.bottom;n.width<=s+u||n.height<=l+d?o=!0:n.shrink(c);const{scene:h}=this.ctx,p=n.clone().shrink(Object.fromEntries(t));for(const e of this.axes){const{position:t="left",direction:n}=e,o="y"===n;let s;if(this.sizeAxis(e,p,t),null==e.thickness){s=OG(o,h)*(e.maxThicknessRatio??1)}else s=e.thickness;const{primaryTickCount:l,bbox:c}=e.calculateLayout(e.nice?r[n]:void 0,{sizeLimit:s,padding:this.padding});r[n]??(r[n]=l),a||(a=e.dataDomain.clipped||e.visibleRange[0]>0||e.visibleRange[1]<1),null==e.thickness&&(s=Math.min(OG(o,c)??0,s)),i.set(e.id,Math.ceil(s))}const g=lv(this.axes,e=>e.position??"left"),f=new Map,m=new Map;for(const[y,b]of yv(g)){let t=OG("left"!==y&&"right"!==y,h)%h.pixelRatio,n=0;for(const r of b??[]){m.set(r.id,t);const o=i.get(r.id)??0;n=Math.max(n,t+o),r.layoutConstraints.stacked&&(t+=o+e.AxesPadding)}f.set(y,Math.ceil(n))}for(const[e,y]of yv(g))this.positionAxes({axes:y??[],position:e,axisWidths:i,axisOffsets:m,axisAreaWidths:f,axisBound:n,seriesRect:p});return{clipSeries:a,seriesRect:p,axisAreaWidths:f,overflows:o}}buildCrossLinePadding(e){const t={top:0,right:0,bottom:0,left:0};this.axes.forEach(e=>{const{position:n,label:i}=e;e.crossLines?.forEach(e=>{var r;e instanceof cT&&(e.position=n??"top",(r=e.label).parallel??(r.parallel=i.parallel)),e.calculatePadding?.(t)})});for(const[n,i=0]of yv(t))t[n]=Math.max(i-(e.get(n)??0),0);return t}clampToOutsideSeriesRect(e,t,n,i){const r="x"===n?e.x:e.y,o="x"===n?e.width:e.height;return 1===i?Math.min(t,r+o):Math.max(t,r)}async getSyncedDomain(e){const t=this.modulesManager.getModule("sync");if(t?.enabled)return await t.getSyncedDomain(e)}syncAxisChanges(e,t){const n=this.modulesManager.getModule("sync");if(!n?.enabled)return;const i=new Set(t??[]);for(const r of e)i.delete(r);for(const r of i)n.removeAxis(r)}sizeAxis(e,t,n){const i=e instanceof rj,r="left"===n||"right"===n,{width:o,height:a}=t,s=r?a:o;let l=0,c=s,{min:u,max:d}=this.ctx.zoomManager.getAxisZoom(e.id);const{width:h,unit:p,align:g}=e.layoutConstraints;c="px"===p?l+h:c*h/100,"end"===g&&(l=s-(c-l),c=s),r&&(i?[l,c]=[c,l]:[u,d]=[1-d,1-u]),e.range=[l,c],e.visibleRange=[u,d],e.gridLength=r?o:a}positionAxes(e){const{axes:t,axisBound:n,axisWidths:i,axisOffsets:r,axisAreaWidths:o,seriesRect:a,position:s}=e,l=o.get(s)??0;let c="x",u="y",d=1;"top"!==s&&"bottom"!==s||(c="y",u="x");let h=n[c];"right"!==s&&"bottom"!==s||(d=-1,h+="x"===c?n.width:n.height);for(const p of t){const e=o.get("x"===u?"left":"top")??0,t=i.get(p.id)??0,s=r.get(p.id)??0;p.gridPadding=l-s-t,p.translation[u]=n[u]+e,p.translation[c]=this.clampToOutsideSeriesRect(a,h+d*(s+t),c,d)}}shouldFlipXY(){return this.series.every(e=>e instanceof oF&&e.shouldFlipXY())}getDefaultState(){const e=new Map;if(this.lastAreaWidths)for(const{position:t="left"}of this.axes){const n=this.lastAreaWidths.get(t);null!=n&&e.set(t,n)}return{axisAreaWidths:e,clipSeries:!1,overflows:!1}}isLayoutStable(e,t){if(t.overflows!==e.overflows||t.clipSeries!==e.clipSeries)return!1;for(const n of e.axisAreaWidths.keys())if(!t.axisAreaWidths.has(n))return!1;for(const[n,i]of t.axisAreaWidths.entries()){const t=e.axisAreaWidths.get(n);if((null!=i||null!=t)&&i!==t)return!1}return!0}clipAxis(e,t,n){const i=Math.ceil(e.gridLine?.width??0),r=Math.ceil(e.line?.width??0);let{width:o,height:a}=t;switch(o+="x"===e.direction?i:r,a+="y"===e.direction?i:r,e.clipGrid(t.x,t.y,o,a),e.position){case"left":case"right":e.clipTickLines(n.x,t.y-i,n.width+i,t.height+2*i);break;case"top":case"bottom":e.clipTickLines(t.x-i,n.y,t.width+2*i,n.height+i)}}};NG.className="CartesianChart",NG.type="cartesian",NG.AxesPadding=15;var EG=NG;function OG(e,t){return e?t?.width:t?.height}var RG={mode:tb(Db("integrated","standalone")),container:bb,context:()=>!0,theme:gb,series:cb,annotations:gb,navigator:gb,initialState:{chartType:yb,annotations:gb,legend:Lb({visible:ub,seriesId:yb,itemId:yb,legendItemName:yb},"legend state array"),zoom:gb}},PG={...aR,...RG,axes:vb(2),data:cb},jG={...aR,...RG,axes:vb(2),data:cb},zG={...aR,...RG,data:cb,topology:Gv},_G={...aR,...RG,data:cb},BG=new Set(["number","log","time"]),FG=e=>Cy(e)&&!BG.has(e.type),$G={type:"chart",name:"cartesian",options:PG,detect:LL,create:(e,t)=>new EG(e,t),validate(e,t,n){const i=[];"histogram"===e?.series?.[0]?.type&&e?.axes?.some(FG)&&(i.push(new Xy("invalid","only continuous axis types when histogram series is used",e.axes,n,"axes")),e=Gx(e,["axes"]));const r=Qy(e,t,n);return r.invalid.push(...i),r}},VG=()=>{throw new Error("Enterprise module placeholder cannot be initialised")},GG={type:"chart",name:"standalone",placeholder:!0,options:{},detect:EL,create:VG},WG={type:"chart",name:"topology",placeholder:!0,options:{},detect:NL,create:VG},HG=class extends AT{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}layoutCrossLines(){const e=this.label.getSideFlag(),t=this.hasDefinedDomain()||this.hasVisibleSeries(),{rotation:n,parallelFlipRotation:i,regularFlipRotation:r}=this.calculateRotations();this.crossLines.forEach(o=>{o.sideFlag=-e,o.direction=n===-Math.PI/2?"angle":"radius",o.parallelFlipRotation=i,o.regularFlipRotation=r,o.calculateLayout?.(t,this.reverse)})}updatePosition(){super.updatePosition();const e=Math.floor(this.translation.x),t=Math.floor(this.translation.y);this.tickLineGroup.translationX=e,this.tickLineGroup.translationY=t,this.tickLabelGroup.translationX=e,this.tickLabelGroup.translationY=t,this.crossLineRangeGroup.translationX=e,this.crossLineRangeGroup.translationY=t,this.crossLineLineGroup.translationX=e,this.crossLineLineGroup.translationY=t,this.crossLineLabelGroup.translationX=e,this.crossLineLabelGroup.translationY=t,this.tickLabelGroupSelection.each((e,t)=>({x:t.x,y:t.y,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,rotation:t.rotation}))}computeLabelsBBox(e,t){return null}computeRange(){}getAxisLinePoints(){}};px([zS],HG.prototype,"shape",2),px([zS],HG.prototype,"innerRadiusRatio",2);var UG=class extends qN{constructor(e,t){super(e,t),this.padding=new ow(40),this.ctx.axisManager.axisGroup.zIndex=8}getChartType(){return"polar"}async performLayout(e){const{layoutBox:t}=e,n=t.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=n,this.animationRect=n,this.seriesRoot.translationX=n.x,this.seriesRoot.translationY=n.y,await this.computeCircle(n),this.axes.forEach(e=>e.update()),this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:n,paddedRect:t}})}updateAxes(e,t,n,i){const r=this.axes.find(e=>"angle"===e.direction),o=this.axes.find(e=>"radius"===e.direction);if(!(r instanceof HG)||!(o instanceof HG))return;const a=r.scale,s=o.innerRadiusRatio;r.innerRadiusRatio=s,r.computeRange(),r.gridLength=i,o.gridAngles=a.ticks({nice:r.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.map(e=>a.convert(e)),o.gridRange=r.range,o.range=[i,i*s],[r,o].forEach(i=>{i.translation.x=e.x+t,i.translation.y=e.y+n,i.calculateLayout()})}async computeCircle(e){var t=this;const n=this.series.filter(YG),i=this.axes.filter(KG),r=(t,i,r)=>{this.updateAxes(e,t,i,r),n.forEach(e=>{e.centerX=t,e.centerY=i,e.radius=r});const o=n.filter(e=>"donut"===e.type||"pie"===e.type);if(o.length>1){const e=o.map(e=>{const t=e.getInnerRadius();return{series:e,innerRadius:t}}).sort((e,t)=>e.innerRadius-t.innerRadius);e.at(-1).series.surroundingRadius=void 0;for(let t=0;t<e.length-1;t++)e[t].series.surroundingRadius=e[t+1].innerRadius}},o=e.width/2,a=e.height/2,s=Math.max(0,Math.min(e.width,e.height)/2);let l=s;r(o,a,l);const c=async function(){let{hideWhenNecessary:c=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const u=[];for(const t of fv(i,n)){const n=await t.computeLabelsBBox({hideWhenNecessary:c},e);n&&u.push(n)}if(0===u.length)return void r(o,a,s);const d=Sx.merge(u),h=t.refineCircle(d,l,e);r(h.centerX,h.centerY,h.radius),l=h.radius};await c(),await c(),await c(),await c({hideWhenNecessary:!0}),await c({hideWhenNecessary:!0});for(const u of fv(i,n))await u.computeLabelsBBox({hideWhenNecessary:!0},e);return{radius:l,centerX:o,centerY:a}}refineCircle(e,t,n){const i=-t,r=-t,o=t,a=t;let s=Math.max(0,i-e.x),l=Math.max(0,r-e.y),c=Math.max(0,e.x+e.width-o),u=Math.max(0,e.y+e.height-a);s=c=Math.max(s,c),l=u=Math.max(l,u);const d=n.width-s-c,h=n.height-l-u;let p=Math.min(d,h)/2;const g=.5*n.width/2,f=.5*n.height/2,m=Math.min(g,f);if(p<m){p=m;const e=s+c;if(2*p+(l+u)>n.height){const e=n.height-2*p;2*Math.min(l,u)>e?(l=e/2,u=e/2):l>u?l=e-u:u=e-l}if(2*p+e>n.width){const e=n.width-2*p;2*Math.min(s,c)>e?(s=e/2,c=e/2):s>c?s=e-c:c=e-s}}const y=s+2*p+c,b=l+2*p+u;return{centerX:(n.width-y)/2+s+p,centerY:(n.height-b)/2+l+p,radius:p}}};function YG(e){return e instanceof _V}function KG(e){return e instanceof HG}UG.className="PolarChart",UG.type="polar";var ZG=[...[$G,vj,xj,Sj,Mj,wj,kj,M$,G$,tV,oV,uV,pV],...[{type:"chart",name:"polar",options:jG,detect:function(e){const t=TL(e);return ZD.isPolar(t)||function(e){const t=WD(e)?.find(e=>"polar"===e);return"polar"===t}(t)},create:(e,t)=>new UG(e,t),validate(e,t,n){const i=[],r=e?.series?.[0]?.type;"pie"!==r&&"donut"!==r||e?.axes&&(i.push(new qy([],e.axes,n,"axes")),e=Gx(e,["axes"]));const o=Qy(e,t,n);return o.invalid.push(...i),o}},VV,HV],GG,WG,DG,AG,TG],XG=class e{constructor(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1e3;this.name=e,this.buildItem=t,this.releaseItem=n,this.destroyItem=i,this.maxPoolSize=r,this.cleanupTimeMs=o,this.freePool=[],this.busyPool=new Set}static getPool(t,n,i,r,o){return this.pools.has(t)||this.pools.set(t,new e(t,n,i,r,o)),this.pools.get(t)}isFull(){return this.freePool.length+this.busyPool.size>=this.maxPoolSize}hasFree(){return this.freePool.length>0}obtain(t){if(!this.hasFree()&&this.isFull())throw new Error("AG Charts - pool exhausted");let n=this.freePool.pop();return null==n?(n=this.buildItem(t),e.debug(()=>[`Pool[name=${this.name}]: Created instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n])):e.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,n]),this.busyPool.add(n),{item:n,release:()=>this.release(n)}}obtainFree(){const t=this.freePool.pop();if(null==t)throw new Error("AG Charts - pool has no free instances");return e.debug(()=>[`Pool[name=${this.name}]: Re-used instance (${this.freePool.length} / ${this.busyPool.size+1} / ${this.maxPoolSize})`,t]),this.busyPool.add(t),{item:t,release:()=>this.release(t)}}release(t){if(!this.busyPool.has(t))throw new Error("AG Charts - cannot free item from pool which is not tracked as busy.");e.debug(()=>[`Pool[name=${this.name}]: Releasing instance (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]),this.releaseItem(t),this.busyPool.delete(t),this.freePool.push(t),e.debug(()=>[`Pool[name=${this.name}]: Returned instance to free pool (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`,t]);const n=Date.now(),i=n+.5*this.cleanupTimeMs;this.cleanPoolTimer&&(this.cleanPoolDue??1/0)<i&&(clearTimeout(this.cleanPoolTimer),this.cleanPoolTimer=void 0),this.cleanPoolTimer||(this.cleanPoolDue=n+this.cleanupTimeMs,this.cleanPoolTimer=setTimeout(this.cleanPool.bind(this),this.cleanupTimeMs))}cleanPool(){const t=this.freePool.splice(0);for(const e of t)this.destroyItem(e);e.debug(()=>[`Pool[name=${this.name}]: Cleaned pool of ${t.length} items (${this.freePool.length} / ${this.busyPool.size} / ${this.maxPoolSize})`])}destroy(){this.cleanPool();for(const e of this.busyPool.values())this.destroyItem(e);this.busyPool.clear()}};XG.pools=new Map,XG.debug=wx.create(!0,"pool");var qG=XG;ey.registerMany(ZG,fk);var QG=wx.create(!0,"opts"),JG=class{static licenseCheck(e){this.licenseChecked||(this.licenseManager=f_.licenseManager?.(e),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static getLicenseDetails(e){return f_.licenseManager?.({}).getLicenseDetails(e)}static getInstance(e){return tW.getInstance(e)}static create(e,t){const n=wx.check("scene:stats","scene:stats:verbose")?performance.now():void 0;return QG.group("AgCharts.create()",()=>{e=wx.inDevelopmentMode(()=>Zx(QM(e)))??e,this.licenseCheck(e);const i=tW.createOrUpdate({userOptions:e,licenseManager:this.licenseManager,optionsMetadata:t,apiStartTime:n});return this.licenseManager?.isDisplayWatermark()&&this.licenseManager&&f_.injectWatermark?.(i.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),i})}static createFinancialChart(e){return QG.group("AgCharts.createFinancialChart()",()=>this.create(e,{presetType:"price-volume"}))}static createGauge(e){return QG.group("AgCharts.createGauge()",()=>this.create(e,{presetType:"gauge-preset"}))}static __createSparkline(e){return QG.group("AgCharts.__createSparkline()",()=>{const{pool:t,...n}=e;return this.create(n,{presetType:"sparkline",pool:t??!0,domMode:"minimal",withDragInterpretation:!1})})}};JG.licenseChecked=!1;var eW=class e{static getInstance(e){const t=qN.getInstance(e);return t?aB.chartInstances.get(t):void 0}static initialiseModules(){e.initialised||(UV(),YV(),e.initialised=!0)}static createOrUpdate(t){let{proxy:n}=t;const{userOptions:i,licenseManager:r,processedOverrides:o=n?.chart?.chartOptions.processedOverrides??{},specialOverrides:a=n?.chart?.chartOptions.specialOverrides??{},optionsMetadata:s=n?.chart?.chartOptions.optionMetadata??{},deltaOptions:l,data:c,stripSymbols:u=!1,apiStartTime:d}=t,h=null!=f_.styles?[["ag-charts-enterprise",f_.styles]]:[];e.initialiseModules(),QG(()=>[">>> AgCharts.createOrUpdate() user options",QM(i)]);const{presetType:p}=s;let g=i;JG.optionsMutationFn&&g&&(g=JG.optionsMutationFn(QM(g,nB.OPTIONS_CLONE_OPTS_FAST),p),QG(()=>[">>> AgCharts.createOrUpdate() MUTATED user options",QM(g)]));const f=this.getPool(s);let m,y=!1,b=n?.chart;null==b&&f?.hasFree()&&(m=f.obtainFree(),b=m.item);const{document:v,window:x,styleContainer:S,...M}=g??{},w=b?.getChartOptions(),k=new nB(w,M,o,{...a,document:v,window:x,styleContainer:S},s,l,u,d);return null!=b&&ey.detectChartDefinition(k.processedOptions)===ey.detectChartDefinition(b.chartOptions.processedOptions)||(m?.release(),m=this.getPool(k.optionMetadata)?.obtain(k),m?b=m.item:(y=!0,b=e.createChartInstance(k,b))),h.forEach(e=>{let[t,n]=e;b.ctx.domManager.addStyles(t,n)}),b.ctx.fontManager.updateFonts(k.googleFonts),null!=c&&b.ctx.dataService.restoreData(c),null==n?(n=new aB(b,e.callbackApi,r),n.releaseChart=m?.release):(m||y)&&(n.releaseChart?.(),n.chart=b,n.releaseChart=m?.release),QG.check()&&"undefined"!==typeof window&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[b.id]=b),b.queuedUserOptions.push(k.userOptions),b.queuedChartOptions.push(k),b.requestFactoryUpdate(e=>{QG.group(">>>> Chart.applyOptions()",()=>{e.applyOptions(k);const t=e.queuedUserOptions.indexOf(k.userOptions)+1;e.queuedUserOptions.splice(0,t),e.queuedChartOptions.splice(0,t)})}),n}static markRemovedProperties(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"!==typeof e)return n;for(const i of Object.keys(e)){"undefined"===typeof e[i]&&(Object.assign(e,{[i]:Symbol("UNSET")}),n||(n=!0))}return n}static updateUserDelta(t,n,i){const r=ew(n=QM(n,nB.OPTIONS_CLONE_OPTS_FAST),e.markRemovedProperties,new Set(["data"]),void 0,void 0,!1);QG(()=>[">>> AgCharts.updateUserDelta() user delta",QM(n)]),e.createOrUpdate({proxy:t,deltaOptions:n,stripSymbols:r,apiStartTime:i})}static createChartInstance(e,t){const n=t?.destroy({keepTransferableResources:!0});return ey.detectChartDefinition(e.processedOptions).create(e,n)}static getPool(e){if(!0===e.pool)return qG.getPool(e.presetType??"default",this.createChartInstance,this.detachAndClear,this.destroy,1/0)}};eW.caretaker=new bk(fk),eW.initialised=!1,eW.callbackApi={caretaker:eW.caretaker,create:(e,t,n,i,r)=>eW.createOrUpdate({userOptions:e,processedOverrides:t,specialOverrides:n,optionsMetadata:i,data:r}),update:(e,t,n,i)=>eW.createOrUpdate({userOptions:e,proxy:t,specialOverrides:n,apiStartTime:i}),updateUserDelta:(e,t,n)=>eW.updateUserDelta(e,t,n)},eW.detachAndClear=e=>e.detachAndClear(),eW.destroy=e=>e.destroy();var tW=eW,nW={};hx(nW,{Arc:()=>iW,BBox:()=>Sx,Caption:()=>ck,CategoryScale:()=>PT,Group:()=>PM,Line:()=>uA,LinearScale:()=>ij,Marker:()=>bN,Path:()=>Gw,RadialColumnShape:()=>oW,Rect:()=>Yw,Scene:()=>MI,Sector:()=>kV,Shape:()=>MM,TranslatableGroup:()=>_M,getRadialColumnWidth:()=>aW,toRadians:()=>fS});var iW=class extends Gw{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=2*Math.PI,this.counterClockwise=!1,this.type=0}get fullPie(){return Ov(dS(this.startAngle),dS(this.endAngle))}updatePath(){const e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),1===this.type?e.closePath():2!==this.type||this.fullPie||(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new Sx(this.centerX-this.radius,this.centerY-this.radius,2*this.radius,2*this.radius)}isPointInPath(e,t){const n=this.getBBox();return 0!==this.type&&n.containsPoint(e,t)&&this.path.isPointInPath(e,t)}};function rW(e,t,n){const i=Math.sqrt(e**2+t**2),r=Math.atan2(t,e)+n;return{x:Math.cos(r)*i,y:Math.sin(r)*i}}iW.className="Arc",px([Jx()],iW.prototype,"centerX",2),px([Jx()],iW.prototype,"centerY",2),px([Jx()],iW.prototype,"radius",2),px([Jx()],iW.prototype,"startAngle",2),px([Jx()],iW.prototype,"endAngle",2),px([Jx()],iW.prototype,"counterClockwise",2),px([Jx()],iW.prototype,"type",2);var oW=class extends Gw{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){const{innerRadius:e,outerRadius:t,columnWidth:n}=this,i=this.getRotation(),r=-n/2,o=n/2,a=-t,s=-e;let l=1/0,c=1/0,u=-1/0,d=-1/0;for(let h=0;h<4;h+=1){const{x:e,y:t}=rW(h%2===0?r:o,h<2?a:s,i);l=Math.min(e,l),c=Math.min(t,c),u=Math.max(e,u),d=Math.max(t,d)}return new Sx(l,c,u-l,d-c)}getRotation(){const{startAngle:e,endAngle:t}=this;return dS(e+yS(e,t)/2+Math.PI/2)}updatePath(){const{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){const{columnWidth:e,innerRadius:t,outerRadius:n,path:i}=this,r=-e/2,o=e/2,a=-n,s=-t,l=this.getRotation(),c=[[r,s],[r,a],[o,a],[o,s]].map(e=>{let[t,n]=e;return rW(t,n,l)});i.clear(!0),i.moveTo(c[0].x,c[0].y),i.lineTo(c[1].x,c[1].y),i.lineTo(c[2].x,c[2].y),i.lineTo(c[3].x,c[3].y),i.closePath()}updateBeveledPath(){const{columnWidth:e,path:t,outerRadius:n,innerRadius:i,axisInnerRadius:r,axisOuterRadius:o,isRadiusAxisReversed:a}=this,s=Ov(i,r),l=Math.asin(e/2/i),c=this.getRotation(),u=(e,t)=>rW(e,t,c),d=(e,t)=>Math.sqrt(e**2+t**2),h=(e,t)=>t>e?0:Math.sqrt(e**2-t**2),p=(e,t,n)=>n?e<t:e>t,g=s&&!isNaN(l)&&l<Math.PI/6;let f=-e/2,m=e/2;const y=-n,b=-i*(g?Math.cos(l):1),v=p(o,d(i,e/2),!a);if(v){const e=h(o,i);f=-e,m=e}t.clear(!0);const x=u(f,b);t.moveTo(x.x,x.y);const S=Ov(i,n),M=p(o,d(n,e/2),!a);if(S&&g)t.arc(0,0,i,dS(-l-Math.PI/2)+c,dS(l-Math.PI/2)+c,!1);else if(M){const i=-h(o,e/2),r=h(o,n);if(!v){const e=u(f,i);t.lineTo(e.x,e.y)}if(t.arc(0,0,o,Math.atan2(i,f)+c,Math.atan2(y,-r)+c,!1),!Ov(r,0)){const e=u(r,y);t.lineTo(e.x,e.y)}t.arc(0,0,o,Math.atan2(y,r)+c,Math.atan2(i,m)+c,!1)}else{const e=u(f,y),n=u(m,y);t.lineTo(e.x,e.y),t.lineTo(n.x,n.y)}const w=u(m,b);if(t.lineTo(w.x,w.y),g)t.arc(0,0,i,dS(l-Math.PI/2)+c,dS(-l-Math.PI/2)+c,!0);else{const e=u(f,b);t.lineTo(e.x,e.y)}t.closePath()}};function aW(e,t,n,i,r){const o=yS(e,t),a=o*(1-i)/2;if(e+=a,t-=a,o<.001)return 2*n*r;if(o>=2*Math.PI){const n=e+o/2;e=n-Math.PI,t=n+Math.PI}const s=n*Math.cos(e),l=n*Math.sin(e),c=n*Math.cos(t),u=n*Math.sin(t),d=Math.floor(Math.sqrt((s-c)**2+(l-u)**2)),h=2*n*r;return Math.max(1,Math.min(h,d))}oW.className="RadialColumnShape",px([Jx()],oW.prototype,"isBeveled",2),px([Jx()],oW.prototype,"columnWidth",2),px([Jx()],oW.prototype,"startAngle",2),px([Jx()],oW.prototype,"endAngle",2),px([Jx()],oW.prototype,"outerRadius",2),px([Jx()],oW.prototype,"innerRadius",2),px([Jx()],oW.prototype,"axisInnerRadius",2),px([Jx()],oW.prototype,"axisOuterRadius",2),px([Jx()],oW.prototype,"isRadiusAxisReversed",2);var sW={};hx(sW,{ChartTheme:()=>dO,DEFAULT_ANNOTATION_HANDLE_FILL:()=>CE,DEFAULT_ANNOTATION_STATISTICS_COLOR:()=>TE,DEFAULT_ANNOTATION_STATISTICS_DIVIDER_STROKE:()=>LE,DEFAULT_ANNOTATION_STATISTICS_DOWN_FILL:()=>NE,DEFAULT_ANNOTATION_STATISTICS_DOWN_STROKE:()=>EE,DEFAULT_ANNOTATION_STATISTICS_FILL:()=>DE,DEFAULT_ANNOTATION_STATISTICS_STROKE:()=>AE,DEFAULT_CAPTION_ALIGNMENT:()=>sE,DEFAULT_CAPTION_LAYOUT_STYLE:()=>aE,DEFAULT_FIBONACCI_STROKES:()=>wE,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_BACKGROUND_FILL:()=>IE,DEFAULT_FINANCIAL_CHARTS_ANNOTATION_COLOR:()=>ME,DEFAULT_GRIDLINE_ENABLED:()=>zE,DEFAULT_POLAR_SERIES_STROKE:()=>xE,DEFAULT_SEPARATION_LINES_COLOUR:()=>rE,DEFAULT_SHADOW_COLOUR:()=>oE,DEFAULT_SPARKLINE_CROSSHAIR_STROKE:()=>SE,DEFAULT_TEXTBOX_COLOR:()=>PE,DEFAULT_TEXTBOX_FILL:()=>OE,DEFAULT_TEXTBOX_STROKE:()=>RE,DEFAULT_TEXT_ANNOTATION_COLOR:()=>kE,DEFAULT_TOOLBAR_POSITION:()=>jE,IS_DARK_THEME:()=>iE,PALETTE_ALT_DOWN_FILL:()=>yE,PALETTE_ALT_DOWN_STROKE:()=>fE,PALETTE_ALT_NEUTRAL_FILL:()=>bE,PALETTE_ALT_NEUTRAL_STROKE:()=>vE,PALETTE_ALT_UP_FILL:()=>mE,PALETTE_ALT_UP_STROKE:()=>gE,PALETTE_DOWN_FILL:()=>dE,PALETTE_DOWN_STROKE:()=>cE,PALETTE_NEUTRAL_FILL:()=>pE,PALETTE_NEUTRAL_STROKE:()=>hE,PALETTE_UP_FILL:()=>uE,PALETTE_UP_STROKE:()=>lE,getChartTheme:()=>h_,resolveOperation:()=>cW,themeNames:()=>lW,themeSymbols:()=>nE,themes:()=>d_});var lW=Object.keys(d_);function cW(e){const t=dO.getDefaultPublicParameters(),n=dO.getDefaultColors();return new J_({line:{operation:e}},{series:[{type:"line"}]},t,n).resolve().operation}var uW={};hx(uW,{Color:()=>IS,interpolateColor:()=>tC});function dW(){return(e,t)=>{const n=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");Gm.warnOnce(n)}}function hW(e,t){const n=dW(),i=t?.default;return Ex((t,r,o)=>(o!==i&&n(r.toString(),e),o))}function pW(e,t){const n=dW();return Ex((i,r,o)=>(o!==i[e]&&(n(r.toString(),`Use [${e}] instead.`),Yx(i,e,t?t(o):o)),Ax),(t,i)=>(n(i.toString(),`Use [${e}] instead.`),Hx(t,e)))}hx({},{AGGREGATION_INDEX_X_MAX:()=>1,AGGREGATION_INDEX_X_MIN:()=>0,AGGREGATION_INDEX_Y_MAX:()=>3,AGGREGATION_INDEX_Y_MIN:()=>2,AGGREGATION_SPAN:()=>4,AbstractBarSeries:()=>D$,AbstractBarSeriesProperties:()=>C$,ActionOnSet:()=>cw,AnchoredPopover:()=>UW,Animation:()=>yC,AnimationManager:()=>MC,Arc:()=>iW,Axis:()=>AT,AxisGroupZIndexMap:()=>IT,AxisInterval:()=>dT,AxisLabel:()=>hT,AxisTick:()=>gT,AxisTickGenerator:()=>vL,BASE_FONT_SIZE:()=>ik,BBox:()=>Sx,Background:()=>cB,BackgroundModule:()=>uB,BandScale:()=>KC,BarSeries:()=>$$,BarSeriesModule:()=>V$,BaseModuleInstance:()=>gx,BaseProperties:()=>_S,BaseToolbar:()=>QW,Border:()=>dB,ButtonWidget:()=>Qk,CachedTextMeasurer:()=>Lw,CachedTextMeasurerPool:()=>Tw,CallbackCache:()=>VM,Caption:()=>ck,CartesianAxis:()=>IL,CartesianSeries:()=>oF,CartesianSeriesNodeEvent:()=>nF,CartesianSeriesProperties:()=>iF,CategoryAxis:()=>WR,CategoryScale:()=>PT,ChangeDetectableProperties:()=>GB,Chart:()=>qN,ChartAxisDirection:()=>uk,ChartOptions:()=>nB,ChartUpdateType:()=>CI,CollapseMode:()=>MF,Color:()=>IS,ColorScale:()=>ES,ConicGradient:()=>RS,ContextMenuBuiltins:()=>IC,ContextMenuRegistry:()=>CC,ContinuousScale:()=>HC,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>eF,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>tF,DEFAULT_POLAR_DIRECTION_KEYS:()=>jV,DEFAULT_POLAR_DIRECTION_NAMES:()=>zV,DEFAULT_TOOLTIP_CLASS:()=>xN,DEFAULT_TOOLTIP_DARK_CLASS:()=>SN,DIRECTION_SWAP_AXES:()=>_E,DOMManager:()=>Zk,DataController:()=>$D,DataModel:()=>BD,DataModelSeries:()=>JB,DataService:()=>DI,Debug:()=>wx,Deprecated:()=>hW,DeprecatedAndRenamedTo:()=>pW,DiscreteTimeAxis:()=>dj,DiscreteTimeScale:()=>ZC,DragInterpreter:()=>jC,DraggablePopover:()=>KW,DropShadow:()=>WB,ExtendedPath2D:()=>dM,FILL_GRADIENT_CONIC_DEFAULTS:()=>XE,FILL_GRADIENT_LINEAR_DEFAULTS:()=>GE,FILL_GRADIENT_LINEAR_HIERARCHY_DEFAULTS:()=>WE,FILL_GRADIENT_LINEAR_SHADED_DEFAULTS:()=>HE,FILL_GRADIENT_RADIAL_DEFAULTS:()=>UE,FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS:()=>YE,FILL_GRADIENT_RADIAL_REVERSED_SERIES_DEFAULTS:()=>ZE,FILL_GRADIENT_RADIAL_SERIES_DEFAULTS:()=>KE,FILL_IMAGE_DEFAULTS:()=>JE,FILL_PATTERN_DEFAULTS:()=>qE,FILL_PATTERN_HIERARCHY_DEFAULTS:()=>QE,FONT_SIZE:()=>nk,FONT_SIZE_RATIO:()=>rk,FillGradientDefaults:()=>GL,FillImageDefaults:()=>HL,FillPatternDefaults:()=>WL,FloatingToolbar:()=>tH,FormatManager:()=>eC,Gradient:()=>OS,Group:()=>PM,GroupedCategoryAxis:()=>ZP,HdpiCanvas:()=>vI,HierarchyNode:()=>vW,HierarchySeries:()=>xW,HierarchySeriesProperties:()=>SW,HighlightManager:()=>DC,HighlightProperties:()=>FL,HighlightState:()=>_L,HighlightStyle:()=>UL,Image:()=>FW,InteractionManager:()=>xC,InteractionState:()=>vC,InterpolationProperties:()=>aF,Invalidating:()=>AS,LABEL_BOXING_DEFAULTS:()=>iO,LARGEST_KEY_INTERVAL:()=>vP,LEGEND_CONTAINER_THEME:()=>aO,Label:()=>ZA,LayoutElement:()=>lD,LayoutManager:()=>cD,LegendMarkerLabel:()=>SB,Line:()=>uA,LineSeries:()=>lV,LineSeriesModule:()=>cV,LinearGradient:()=>PS,LinearScale:()=>ij,LogScale:()=>nj,LonLatBBox:()=>MW,Marker:()=>bN,Menu:()=>YW,MenuItemWidget:()=>$W,MenuWidget:()=>GW,MercatorScale:()=>AW,ModuleRegistry:()=>ey,Motion:()=>nC,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>iA,NativeWidget:()=>nI,NewAreaSeriesModule:()=>M$,NewBarSeriesModule:()=>G$,NewBubbleSeriesModule:()=>tV,NewHistogramSeriesModule:()=>oV,NewLineSeriesModule:()=>uV,NewScatterSeriesModule:()=>pV,NiceMode:()=>mT,Node:()=>lS,NumberAxis:()=>rj,ObserveChanges:()=>uw,OrdinalTimeScale:()=>cL,PHASE_METADATA:()=>pC,PHASE_ORDER:()=>hC,PREV_NEXT_KEYS:()=>Lk,Padding:()=>ow,ParallelStateMachine:()=>bA,Path:()=>Gw,PointerEvents:()=>aS,PolarAxis:()=>HG,PolarSeries:()=>_V,PolarZIndexMap:()=>PV,Popover:()=>HW,PropertiesArray:()=>BS,Property:()=>zS,ProxyInteractionService:()=>gI,ProxyOnWrite:()=>sw,ProxyProperty:()=>aw,ProxyPropertyOnWrite:()=>lw,QUICK_TRANSITION:()=>dC,QuadtreeNearest:()=>ZB,RENDER_TO_OFFSCREEN_CANVAS_THRESHOLD:()=>rF,RadialColumnShape:()=>oW,Range:()=>JA,Rect:()=>Yw,RepeatType:()=>gC,Rotatable:()=>TM,RotatableGroup:()=>zM,RotatableText:()=>qw,SAFE_FILLS_OPERATION:()=>FE,SAFE_FILL_OPERATION:()=>BE,SAFE_RANGE2_OPERATION:()=>VE,SAFE_STROKE_FILL_OPERATION:()=>$E,SKIP_JS_BUILTINS:()=>Ux,SMALLEST_KEY_INTERVAL:()=>bP,SORT_DOMAIN_GROUPS:()=>xP,Scalable:()=>LM,ScalableGroup:()=>jM,ScaleAlignment:()=>CS,Scene:()=>MI,SceneArrayChangeDetection:()=>nS,SceneChangeDetection:()=>Jx,SceneObjectChangeDetection:()=>tS,SceneRefChangeDetection:()=>eS,Sector:()=>kV,SectorBox:()=>gV,Selection:()=>cA,Series:()=>oN,SeriesContentZIndexMap:()=>ZL,SeriesGroupingChangedEvent:()=>nN,SeriesItemHighlightStyle:()=>BL,SeriesMarker:()=>HB,SeriesNodeEvent:()=>tN,SeriesNodePickMode:()=>eN,SeriesProperties:()=>YL,SeriesTooltip:()=>YB,SeriesZIndexMap:()=>KL,Shape:()=>MM,SimpleTextMeasurer:()=>Ew,SliderWidget:()=>cI,StateMachine:()=>yA,StateMachineProperty:()=>pA,StopProperties:()=>$S,SvgPath:()=>_W,TRIPLE_EQ:()=>Qx,Text:()=>Xw,TextUtils:()=>Nw,TextWrapper:()=>Jw,ThemeConstants:()=>ek,ThemeSymbols:()=>nE,TimeAxisParentLevel:()=>aj,TimeScale:()=>oL,Toolbar:()=>JW,ToolbarButtonProperties:()=>ZW,ToolbarButtonWidget:()=>XW,ToolbarWidget:()=>dI,Tooltip:()=>RN,TooltipManager:()=>OC,TooltipPosition:()=>ON,Transformable:()=>OM,TransformableGroup:()=>BM,TransformableText:()=>Qw,Translatable:()=>NM,TranslatableGroup:()=>_M,TranslatableSvgPath:()=>BW,UnitTimeScale:()=>hL,UpdateService:()=>yD,Vec2:()=>gW,Vec4:()=>XC,WIDGET_HTML_EVENTS:()=>hw,Widget:()=>Dw,WidgetEventUtil:()=>mw,ZIndexMap:()=>kI,ZoomManager:()=>aD,accumulateGroup:()=>TP,accumulateStack:()=>NP,accumulatedValue:()=>tP,accumulativeValueProperty:()=>gP,addEscapeEventListener:()=>Mk,addHitTestersToQuadtree:()=>k$,addMouseCloseListener:()=>wk,addOverrideFocusVisibleEventListener:()=>Ck,addTouchCloseListener:()=>kk,adjustLabelPlacement:()=>BB,aggregationDomain:()=>t$,aggregationIndexForXRatio:()=>r$,aggregationRangeFittingPoints:()=>e$,aggregationXRatioForDatumIndex:()=>n$,aggregationXRatioForXValue:()=>i$,angleBetween:()=>yS,angleCategoryAxisOptionsDefs:()=>Aj,angleNumberAxisOptionsDefs:()=>Cj,angularPadding:()=>vS,animationValidation:()=>CP,annotationCalloutStylesDefs:()=>hz,annotationChannelStyleDefs:()=>lz,annotationChannelTextDefs:()=>tz,annotationCommentStylesDefs:()=>pz,annotationCrossLineStyleDefs:()=>sz,annotationDisjointChannelStyleDefs:()=>cz,annotationFibonacciStylesDefs:()=>dz,annotationLineStyleDefs:()=>az,annotationLineTextDefs:()=>ez,annotationMeasurerStylesDefs:()=>mz,annotationNoteStylesDefs:()=>gz,annotationOptionsDef:()=>bz,annotationParallelChannelStyleDefs:()=>uz,annotationQuickMeasurerStylesDefs:()=>yz,annotationShapeStylesDefs:()=>fz,annotationTextStylesDef:()=>Jj,applyShapeFillBBox:()=>QL,applyShapeStyle:()=>JL,areScalingEqual:()=>$F,area:()=>eP,autoSizedLabelOptionsDefs:()=>dR,bezier2DDistance:()=>cM,bezier2DExtrema:()=>sM,boxPlotHighlightStyleOptionsDef:()=>xz,boxPlotSeriesThemeableOptionsDef:()=>Sz,boxPlotStyleOptionsDef:()=>vz,buildDateFormatter:()=>VI,buildResetPathFn:()=>y$,calculateDataDiff:()=>_$,calculateLabelTranslation:()=>NW,calculatePlacement:()=>dN,callWithContext:()=>$M,candlestickSeriesThemeableOptionsDef:()=>kz,cartesianAxisBandHighlightOptions:()=>BR,cartesianAxisCrosshairOptions:()=>FR,cartesianAxisLabelOptionsDefs:()=>NR,cartesianAxisOptionsDefs:()=>_R,cartesianChartOptionsDefs:()=>PG,cartesianCrossLineOptionsDefs:()=>TR,cartesianNumericAxisLabel:()=>ER,cartesianTimeAxisLabel:()=>OR,cartesianTimeAxisParentLevel:()=>PR,checkCrisp:()=>N$,chordSeriesThemeableOptionsDef:()=>Iz,clampArray:()=>BC,clippedRoundRect:()=>Uw,collapsedStartingBarPosition:()=>O$,commonAxisIntervalOptionsDefs:()=>jR,commonAxisLabelOptionsDefs:()=>LR,commonAxisOptionsDefs:()=>zR,commonChartOptionsDefs:()=>aR,commonCrossLineLabelOptionsDefs:()=>DR,commonCrossLineOptionsDefs:()=>AR,commonSeriesOptionsDefs:()=>lR,commonSeriesThemeableOptionsDefs:()=>sR,compactAggregationIndices:()=>a$,compareDates:()=>_T,computeBarFocusBounds:()=>z$,computeMarkerFocusBounds:()=>g$,coneFunnelSeriesThemeableOptionsDef:()=>Cz,continuousAxisOptions:()=>$R,countExpandingSearch:()=>EC,createAggregationIndices:()=>o$,createButton:()=>EW,createCheckbox:()=>OW,createDatumId:()=>PP,createDeprecationWarning:()=>dW,createIcon:()=>jW,createIdsGenerator:()=>mL,createSelect:()=>RW,createTextArea:()=>PW,dateToNumber:()=>TT,dateTruncationForDomain:()=>OT,datesSortOrder:()=>FT,datumKeys:()=>jD,datumStylerProperties:()=>TC,deconstructSelectionsOrNodes:()=>fC,deepClone:()=>QM,deepFreeze:()=>Zx,diff:()=>RP,discreteTimeAxisIntervalOptionsDefs:()=>VR,drawCorner:()=>Vw,drawMarkerUnitPolygon:()=>fN,durationDay:()=>MA,durationHour:()=>SA,durationMinute:()=>xA,durationMonth:()=>kA,durationSecond:()=>vA,durationWeek:()=>wA,durationYear:()=>IA,easing:()=>nC,enterpriseModule:()=>f_,errorBarOptionsDefs:()=>pR,errorBarThemeableOptionsDefs:()=>hR,estimateTickCount:()=>iL,evaluateBezier:()=>iM,expandLegendPosition:()=>MB,extent:()=>UR,extractDecoratedProperties:()=>jx,fillsOptionsDef:()=>yR,findMinMax:()=>FC,findQuadtreeMatch:()=>I$,findRangeExtent:()=>$C,fixNumericExtent:()=>ED,focusCursorAtEnd:()=>HM,formatNumber:()=>sI,formatObjectValidator:()=>rR,formatPercent:()=>oI,formatValue:()=>rI,fromToMotion:()=>rA,funnelSeriesThemeableOptionsDef:()=>Dz,getAngleRatioRadians:()=>bS,getColorStops:()=>GS,getCrossLineValue:()=>nT,getDateTicksForInterval:()=>sL,getDatumRefPoint:()=>NC,getElementBBox:()=>WM,getIconClassNames:()=>YM,getLabelStyles:()=>jB,getLastFocus:()=>jk,getMissCount:()=>OD,getPath:()=>Hx,getPathComponents:()=>zD,getRadialColumnWidth:()=>aW,getSequentialColors:()=>eO,getShapeFill:()=>XL,getShapeStyle:()=>qL,groupAccumulativeValueProperty:()=>mP,groupAverage:()=>JR,groupCount:()=>QR,groupStackValueProperty:()=>yP,groupSum:()=>XR,hasNoModifiers:()=>Dk,heatmapSeriesThemeableOptionsDef:()=>Az,initMenuKeyNav:()=>Ok,initRovingTabIndex:()=>Nk,interpolatePoints:()=>GF,interpolationOptionsDefs:()=>mR,intervalCeil:()=>PA,intervalEpoch:()=>HA,intervalExtent:()=>_A,intervalFloor:()=>RA,intervalHierarchy:()=>UA,intervalMilliseconds:()=>YA,intervalNext:()=>zA,intervalPrevious:()=>jA,intervalRange:()=>$A,intervalRangeCount:()=>FA,intervalRangeStartIndex:()=>VA,intervalStep:()=>WA,intervalUnit:()=>GA,isAgStandaloneChartOptions:()=>EL,isAgTopologyChartOptions:()=>NL,isBetweenAngles:()=>gS,isButtonClickEvent:()=>Pk,isChartAxisDirection:()=>dk,isContinuous:()=>eT,isDecoratedObject:()=>Rx,isDenseInterval:()=>tL,isGradientFill:()=>yM,isGradientOrPatternFill:()=>xM,isImageFill:()=>vM,isInputPending:()=>UM,isObjectWithProperty:()=>Xx,isObjectWithStringProperty:()=>qx,isPatternFill:()=>bM,isProperties:()=>FS,isScaleValid:()=>VF,jsonApply:()=>tw,jsonDiff:()=>XM,jsonPropertyCompare:()=>qM,jsonWalk:()=>ew,keyProperty:()=>lP,legendSymbolSvg:()=>vN,lineDistanceSquared:()=>US,linearGaugeSeriesOptionsDef:()=>SR,linearGaugeSeriesThemeableOptionsDef:()=>xR,linearGaugeTargetOptionsDef:()=>bR,listDecoratedProperties:()=>Px,lowestGranularityForInterval:()=>LT,lowestGranularityUnitForTicks:()=>NT,lowestGranularityUnitForValue:()=>ET,makeAccessibleClickListener:()=>Rk,makeSeriesTooltip:()=>KB,mapLineBackgroundSeriesThemeableOptionsDef:()=>Nz,mapLineSeriesThemeableOptionsDef:()=>Lz,mapMarkerSeriesThemeableOptionsDef:()=>Ez,mapShapeBackgroundSeriesThemeableOptionsDef:()=>Rz,mapShapeSeriesThemeableOptionsDef:()=>Oz,mapValues:()=>Vx,markerFadeInAnimation:()=>c$,markerOptionsDefs:()=>cR,markerScaleInAnimation:()=>u$,markerSwipeScaleInAnimation:()=>d$,memo:()=>NI,merge:()=>Fx,mergeArrayDefaults:()=>$x,mergeDefaults:()=>Bx,midpointStartingBarPosition:()=>R$,minimumTimeAxisDatumGranularity:()=>lj,moduleRegistry:()=>fx,motion:()=>iH,multiSeriesHighlightStyle:()=>rO,nearestSquared:()=>bx,nearestSquaredInContainer:()=>vx,nextPowerOf2:()=>VC,nightingaleSeriesThemeableOptionsDef:()=>Pz,normaliseGroupTo:()=>MP,normalisePropertyTo:()=>kP,normalisedExtentWithMetadata:()=>YR,normalizeAngle180:()=>pS,normalizeAngle360:()=>dS,normalizeAngle360FromDegrees:()=>xS,normalizeAngle360Inclusive:()=>hS,normalizeContinuousDomains:()=>UC,numberFormatValidator:()=>oR,objectsEqual:()=>zx,objectsEqualWith:()=>_x,ohlcSeriesThemeableOptionsDef:()=>Tz,ordinalTimeAxisOptionsDefs:()=>Ij,pairUpSpans:()=>_F,partialAssign:()=>Kx,pathFadeInAnimation:()=>m$,pathMotion:()=>PB,pathSwipeInAnimation:()=>f$,pick:()=>Wx,pickByMatchingAngle:()=>RV,plotAreaPathFill:()=>XF,plotInterpolatedAreaSeriesFillSpans:()=>qF,plotInterpolatedLinePathStroke:()=>UF,plotLinePathStroke:()=>HF,pointsEq:()=>WF,polarChartOptionsDefs:()=>jG,prepareAreaFillAnimationFns:()=>QF,prepareAreaPathAnimation:()=>JF,prepareAxisAnimationContext:()=>yT,prepareAxisAnimationFunctions:()=>xT,prepareBarAnimationFunctions:()=>P$,prepareLinePathAnimation:()=>ZF,prepareLinePathPropertyAnimation:()=>KF,prepareLinePathStrokeAnimationFns:()=>YF,preparePieSeriesAnimationFunctions:()=>EV,previousPowerOf2:()=>GC,processedDataIsAnimatable:()=>iP,pyramidSeriesThemeableOptionsDef:()=>jz,radarAreaSeriesThemeableOptionsDef:()=>zz,radarLineSeriesThemeableOptionsDef:()=>_z,radialBarSeriesThemeableOptionsDef:()=>Bz,radialColumnSeriesThemeableOptionsDef:()=>Fz,radialGaugeSeriesOptionsDef:()=>wR,radialGaugeSeriesThemeableOptionsDef:()=>MR,radialGaugeTargetOptionsDef:()=>vR,radiusCategoryAxisOptionsDefs:()=>Lj,radiusNumberAxisOptionsDefs:()=>Tj,range:()=>eL,rangeAreaSeriesThemeableOptionsDef:()=>$z,rangeBarSeriesThemeableOptionsDef:()=>Vz,rangeValidator:()=>UO,rangedValueProperty:()=>pP,resetAxisFillSelectionFn:()=>kT,resetAxisGroupFn:()=>ST,resetAxisLabelSelectionFn:()=>MT,resetAxisLineSelectionFn:()=>wT,resetBarSelectionsFn:()=>j$,resetLabelFn:()=>VB,resetMarkerFn:()=>h$,resetMarkerPositionFn:()=>p$,resetMotion:()=>lA,resetPieSelectionsFn:()=>OV,rowCountProperty:()=>uP,sankeySeriesThemeableOptionsDef:()=>Gz,scale:()=>kF,sectorBox:()=>fV,seriesLabelFadeInAnimation:()=>FB,seriesLabelFadeOutAnimation:()=>$B,seriesLabelOptionsDefs:()=>uR,setElementBBox:()=>GM,setPath:()=>Yx,shadowOptionsDefs:()=>fR,shallowClone:()=>JM,simpleMemorize:()=>RI,simpleMemorize2:()=>OI,singleSeriesHighlightStyle:()=>oO,solveBezier:()=>rM,sortAndUniqueDates:()=>BT,splitBezier2D:()=>oM,standaloneChartOptionsDefs:()=>_G,staticFromToMotion:()=>oA,stopPageScrolling:()=>zk,sum:()=>ZR,sumValues:()=>KR,sunburstSeriesThemeableOptionsDef:()=>Wz,textOrSegments:()=>YO,tickFormat:()=>JT,timeInterval:()=>CR,timeIntervalUnit:()=>kR,toDegrees:()=>mS,toRadians:()=>fS,toolbarButtonOptionsDefs:()=>nR,tooltipContentAriaLabel:()=>wN,tooltipHtml:()=>DN,tooltipOptionsDefs:()=>gR,topologyChartOptionsDefs:()=>zG,trailingAccumulatedValue:()=>nP,trailingAccumulatedValueProperty:()=>fP,treemapSeriesThemeableOptionsDef:()=>Hz,updateClipPath:()=>b$,updateLabelNode:()=>zB,validateCrossLineValue:()=>iT,valueProperty:()=>cP,visibleRangeIndices:()=>LC,waterfallSeriesThemeableOptionsDef:()=>Yz,without:()=>Gx});var gW={add:function(e,t){if("number"===typeof t)return{x:e.x+t,y:e.y+t};return{x:e.x+t.x,y:e.y+t.y}},angle:function(e,t){return null==t?Math.atan2(e.y,e.x):Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)},apply:function(e,t){return e.x=t.x,e.y=t.y,e},equal:function(e,t){return e.x===t.x&&e.y===t.y},distance:function(e,t){const n=fW(e,t);return Math.sqrt(n.x*n.x+n.y*n.y)},distanceSquared:function(e,t){const n=fW(e,t);return n.x*n.x+n.y*n.y},from:function(e,t){if("number"===typeof e)return{x:e,y:t};if("currentX"in e)return{x:e.currentX,y:e.currentY};if("offsetWidth"in e)return{x:e.offsetWidth,y:e.offsetHeight};if("width"in e)return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y+e.height}];if("x1"in e)return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2}];throw new Error(`Values can not be converted into a vector: [${JSON.stringify(e)}] [${t}]`)},gradient:function(e,t,n){const i=t.x-e.x;return(null==n?t.y-e.y:n-t.y-(n-e.y))/i},intercept:function(e,t,n){return(null==n?e.y:n-e.y)-t*e.x},intersectAtX:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;const r=e===1/0?1/0:e*n+t;return{x:n,y:null==i?r:i-r}},intersectAtY:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0;return{x:e===1/0?1/0:(n-t)/e,y:null==i?n:i-n}},length:mW,lengthSquared:function(e){return e.x*e.x+e.y*e.y},multiply:function(e,t){if("number"===typeof t)return{x:e.x*t,y:e.y*t};return{x:e.x*t.x,y:e.y*t.y}},normalized:function(e){const t=mW(e);return{x:e.x/t,y:e.y/t}},origin:yW,required:function(e){return{x:e?.x??0,y:e?.y??0}},rotate:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};const i=mW(e);return{x:n.x+i*Math.cos(t),y:n.y+i*Math.sin(t)}},round:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return{x:Pv(e.x,t),y:Pv(e.y,t)}},sub:fW};function fW(e,t){return"number"===typeof t?{x:e.x-t,y:e.y-t}:{x:e.x-t.x,y:e.y-t.y}}function mW(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function yW(){return{x:0,y:0}}var bW=class e{constructor(e,t,n,i,r,o,a,s,l){this.series=e,this.datumIndex=t,this.datum=n,this.sizeValue=i,this.colorValue=r,this.sumSize=o,this.depth=a,this.parent=s,this.children=l,this.midPoint={x:0,y:0}}get hasChildren(){return this.children.length>0}walk(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.Walk.PreOrder;n===e.Walk.PreOrder&&t(this),this.children.forEach(e=>{e.walk(t,n)}),n===e.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(const e of this.children)yield*e}};bW.Walk={PreOrder:0,PostOrder:1};var vW=bW,xW=class extends oN{constructor(e){super({moduleCtx:e,pickModes:[1,0]}),this.colorDomain=[0,0],this.maxDepth=0,this.colorScale=new ES,this.animationState=new yA("empty",{empty:{update:{target:"ready",action:e=>this.animateEmptyUpdateReady(e)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:e=>this.animateReadyHighlight(e),resize:e=>this.animateReadyResize(e),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:e=>this.animateWaitingUpdateReady(e)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:e=>this.animateClearingUpdateEmpty(e)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){"initial"===e?this.animationState.transition("reset"):"ready"===e&&this.animationState.transition("skip")}processData(){const{NodeClass:e}=this,{childrenKey:t,sizeKey:n,colorKey:i,colorRange:r}=this.properties;let o=0,a=1/0,s=-1/0;const l=(r,l,u)=>{const d=null!=u.depth?u.depth+1:0,h=null!=t?r[t]:void 0,p=null==h||0===h.length;let g=null!=n?r[n]:void 0;g=Number.isFinite(g)?Math.max(g,0):p?1:0;const f=g;o=Math.max(o,d);const m=null!=i?r[i]:void 0;return"number"===typeof m&&(a=Math.min(a,m),s=Math.max(s,m)),c(new e(this,l,r,g,m,f,d,u,[]),h)},c=(e,t)=>{const{datumIndex:n}=e;return t?.forEach((t,i)=>{const r=l(t,n.concat(i),e);e.children.push(r),e.sumSize+=r.sumSize}),e},u=c(new e(this,[],void 0,0,void 0,0,void 0,void 0,[]),this.data),d=[a,s];this.colorScale.domain=a<s?[a,s]:[0,1],this.colorScale.range=r??["black"],this.colorScale.update(),this.rootNode=u,this.maxDepth=o,this.colorDomain=d}update(e){let{seriesRect:t}=e;this.updateSelections(),this.updateNodes();const n=this.getAnimationData();this.checkResize(t)&&this.animationState.transition("resize",n),this.animationState.transition("update",n)}resetAllAnimation(e){this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}getAnimationData(){return{}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}dataCount(){return NaN}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(e){const{colorKey:t,colorRange:n}=this.properties,{id:i,ctx:{legendManager:r},visible:o}=this;return"gradient"===e&&null!=t&&null!=n?[{legendType:"gradient",enabled:o&&r.getItemEnabled({seriesId:i}),seriesId:i,series:this.getFormatterContext("color"),colorRange:n,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return e.datumIndex.join(":")}getDatumId(e){return this.getDatumIdFromData(e)}removeMeIndexPathForIndex(e){return this.datumSelection.at(e+1)?.datum.datumIndex??[]}removeMeIndexForIndexPath(e){for(const{index:t,datum:n}of this.datumSelection)if(cv(n.datumIndex,e))return t-1;return 0}pickFocus(e){if(!this.rootNode?.children.length)return;const t=Ev(0,e.datumIndex-e.datumIndexDelta,this.datumSelection.length-1),{datumIndexDelta:n,otherIndexDelta:i}=e;let r=this.removeMeIndexPathForIndex(t);const o=r.reduce((e,t)=>e.children[t],this.rootNode);if(i>0&&o.hasChildren)r=[...r,0];else if(i<0&&r.length>1)r=r.slice(0,-1);else if(0===i&&0!==n){const e=o.parent.children.length-1;r=r.slice(),r[r.length-1]=Ev(0,r[r.length-1]+n,e)}const a=r.reduce((e,t)=>e.children[t],this.rootNode),s=this.computeFocusBounds(this.datumSelection.at(t+1));return null!=s?{datum:a,datumIndex:this.removeMeIndexForIndexPath(r),otherIndex:a.depth,bounds:s,clipFocusBox:!0}:void 0}getDatumAriaText(e,t){if(e instanceof this.NodeClass)return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t});Gm.error(`datum is not HierarchyNode: ${JSON.stringify(e)}`)}getCategoryValue(e){}datumIndexForCategoryValue(e){}},SW=class extends YL{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(eE),this.fillGradientDefaults=new GL,this.fillPatternDefaults=new WL,this.fillImageDefaults=new HL,this.strokes=Object.values(tE)}};px([zS],SW.prototype,"childrenKey",2),px([zS],SW.prototype,"sizeKey",2),px([zS],SW.prototype,"colorKey",2),px([zS],SW.prototype,"colorName",2),px([zS],SW.prototype,"fills",2),px([zS],SW.prototype,"fillGradientDefaults",2),px([zS],SW.prototype,"fillPatternDefaults",2),px([zS],SW.prototype,"fillImageDefaults",2),px([zS],SW.prototype,"strokes",2),px([zS],SW.prototype,"colorRange",2);var MW=class e{constructor(e,t,n,i){this.lon0=e,this.lat0=t,this.lon1=n,this.lat1=i}extend(e,t,n,i){return this.lon0=Math.min(this.lon0,e),this.lat0=Math.min(this.lat0,t),this.lon1=Math.max(this.lon1,n),this.lat1=Math.max(this.lat1,i),this}merge(e){return this.extend(e.lon0,e.lat0,e.lon1,e.lat1)}static extend(t,n,i,r,o){return t?t.extend(n,i,r,o):new e(n,i,r,o)}},wW=Math.PI/180,kW=e=>e*wW,IW=e=>-Math.log(Math.tan(.25*Math.PI+e*wW*.5)),CW=e=>e/wW,DW=e=>(Math.atan(Math.exp(-e))-.25*Math.PI)/(.5*wW),AW=class e extends DS{constructor(t,n){super(),this.domain=t,this.range=n,this.type="mercator",this.defaultTickCount=0,this.bounds=e.bounds(t)}static bounds(e){const[[t,n],[i,r]]=e,o=kW(t),a=IW(n),s=kW(i),l=IW(r);return new Sx(Math.min(o,s),Math.min(a,l),Math.abs(s-o),Math.abs(l-a))}static fixedScale(){return new e([[CW(0),DW(0)],[CW(1),DW(1)]],[[0,0],[1,1]])}toDomain(){}normalizeDomains(){let e=-1/0,t=1/0,n=-1/0,i=1/0;for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];for(const s of o)for(const[r,o]of s)e=Math.min(r,e),t=Math.max(r,t),n=Math.min(o,n),i=Math.max(o,i);return{domain:[[e,n],[t,i]],animatable:!0}}convert(e){let[t,n]=e;const[[i,r],[o,a]]=this.range,s=(o-i)/this.bounds.width,l=(a-r)/this.bounds.height;return[(kW(t)-this.bounds.x)*s+i,(IW(n)-this.bounds.y)*l+r]}invert(e){let[t,n]=e;const[[i,r],[o,a]]=this.range,s=(o-i)/this.bounds.width,l=(a-r)/this.bounds.height;return[CW((t-i)/s+this.bounds.x),DW((n-r)/l+this.bounds.y)]}},TW={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},"top-left":{xTranslationDirection:1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"bottom-right":{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:1,yTranslationDirection:0},"inside-right":{xTranslationDirection:-1,yTranslationDirection:0},"inside-top":{xTranslationDirection:0,yTranslationDirection:1},"inside-bottom":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-right":{xTranslationDirection:-1,yTranslationDirection:-1}},LW={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},"top-left":{xTranslationDirection:-1,yTranslationDirection:-1},"top-right":{xTranslationDirection:-1,yTranslationDirection:1},"bottom-left":{xTranslationDirection:1,yTranslationDirection:-1},"bottom-right":{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},"inside-left":{xTranslationDirection:0,yTranslationDirection:1},"inside-right":{xTranslationDirection:0,yTranslationDirection:-1},"inside-top":{xTranslationDirection:-1,yTranslationDirection:0},"inside-bottom":{xTranslationDirection:1,yTranslationDirection:0},"inside-top-left":{xTranslationDirection:-1,yTranslationDirection:1},"inside-bottom-left":{xTranslationDirection:1,yTranslationDirection:1},"inside-top-right":{xTranslationDirection:-1,yTranslationDirection:-1},"inside-bottom-right":{xTranslationDirection:1,yTranslationDirection:-1}};function NW(e){let{yDirection:t,padding:n=0,position:i="top",bbox:r}=e;const o=t?TW:LW,{xTranslationDirection:a,yTranslationDirection:s}=o[i];return{xTranslation:a*(n+r.width/2),yTranslation:s*(n+r.height/2)}}function EW(e,t){const n=by("button",zW("ag-charts-input ag-charts-button",t));return void 0!==e.label?n.append(e.label):(n.append(jW(e.icon)),n.ariaLabel=e.altText),n.addEventListener("click",e.onPress),Mv(n,t),n}function OW(e,t){const n=by("input",zW("ag-charts-input ag-charts-checkbox",t));return n.type="checkbox",n.checked=e.checked,n.addEventListener("change",t=>e.onChange(n.checked,t)),n.addEventListener("keydown",e=>{Pk(e)&&(e.preventDefault(),n.click())}),Mv(n,t),n}function RW(e,t){const n=by("select",zW("ag-charts-input ag-charts-select",t));return n.append(...e.options.map(e=>{const t=by("option");return t.value=e.value,t.textContent=e.label,t})),Sv(n,"data-preventdefault",!1),n.value=e.value,n.addEventListener("change",t=>e.onChange(n.value,t)),Mv(n,t),n}function PW(e,t){const n=by("textarea",zW("ag-charts-input ag-charts-textarea",t));return n.value=e.value,n.addEventListener("input",t=>e.onChange(n.value,t)),Mv(n,t),Sv(n,"data-preventdefault",!1),n}function jW(e){const t=by("span",`ag-charts-icon ag-charts-icon-${e}`);return Sv(t,"aria-hidden",!0),t}function zW(e,t){return null==t?e:`${e} ${t.class}`}var _W=class extends Gw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";super(),this._d="",this.d=e}get d(){return this._d}set d(e){e!==this._d&&(this._d=e,this.path.clear(),this.path.appendSvg(e),this.checkPathDirty())}},BW=class extends(NM(_W)){isPointInPath(e,t){return super.isPointInPath(e-this.translationX,t-this.translationY)}},FW=class extends lS{constructor(e){super(),this.sourceImage=e,this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1}render(e){const{ctx:t}=e,n=this.sourceImage;n&&(t.globalAlpha=this.opacity,t.drawImage(n,0,0,n.width,n.height,this.x,this.y,this.width,this.height)),super.render(e)}};px([Jx()],FW.prototype,"x",2),px([Jx()],FW.prototype,"y",2),px([Jx()],FW.prototype,"width",2),px([Jx()],FW.prototype,"height",2),px([Jx()],FW.prototype,"opacity",2);hx({},{ButtonWidget:()=>Qk,MenuItemWidget:()=>$W,MenuWidget:()=>GW,NativeWidget:()=>nI,SliderWidget:()=>cI,ToolbarWidget:()=>dI,WIDGET_HTML_EVENTS:()=>hw,Widget:()=>Dw,WidgetEventUtil:()=>mw});var $W=class extends qk{constructor(){super(by("div"),"menuitem")}},VW=["Escape","ArrowLeft"],GW=class e extends eI{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"vertical","menu"),this.closeSubMenu=e=>this.openSubMenu(e,void 0)}destructor(){this.selfClose("2")}addSeparator(){const e=my().createElement("div");return Sv(e,"role","separator"),this.elem.appendChild(e),e}onChildAdded(e){super.onChildAdded(e),e.hasPopup()||e.addListener("mouseenter",this.closeSubMenu)}onChildRemoved(e){super.onChildRemoved(e),e.hasPopup()||e.removeListener("mouseenter",this.closeSubMenu)}addSubMenu(){const t=new $W,n=Zv(),i=new e(this.orientation),r=e=>{t.isDisabled()||this.openSubMenu(e,i)};return t.setAriaHasPopup("menu"),t.setAriaExpanded(!1),t.setAriaControls(n),t.addListener("click",r),t.addListener("mouseenter",r),t.addListener("keydown",e=>{Dk(e.sourceEvent)&&"ArrowRight"===e.sourceEvent.code&&r(e)}),i.addListener("close-widget",()=>t.setAriaExpanded(!1)),i.addListener("open-widget",()=>t.setAriaExpanded(!0)),i.id=n,this.addChild(t),{subMenuButton:t,subMenu:i}}openSubMenu(e,t){const{openScope:n}=this;n&&(n.openSubMenu?.selfClose("4"),t?.open(e),n.openSubMenu=t)}open(e,t){if(null!=this.openScope)return;this.openScope={lastFocus:jk(e.sourceEvent),openSubMenu:void 0,abort:()=>this.selfClose("1"),close:()=>this.selfClose("0"),removers:new Nv};const n=this.openScope,i=this.children.map(e=>e.getElement());Sv(n.lastFocus,"aria-expanded",!0),n.removers.register(wk(this.elem,n.abort),kk(this.elem,n.abort),...this.children.map(e=>Mk(e.getElement(),n.close,VW)),t?.overrideFocusVisible&&Ck(this.elem,i,t.overrideFocusVisible)),this.internalListener?.dispatch("open-widget",this,{type:"open-widget"}),this.children[0]?.focus({preventScroll:!0})}selfClose(e){if(void 0===this.openScope)return;const{lastFocus:t,removers:n,openSubMenu:i}=this.openScope;this.openScope=void 0,i?.selfClose("3"),Sv(t,"aria-expanded",!1),"0"===e&&t?.focus({preventScroll:!0}),n.flush(),this.internalListener?.dispatch("close-widget",this,{type:"close-widget"})}close(){this.selfClose("0")}},WW="canvas-overlay",HW=class extends gx{constructor(e,t,n){super(),this.ctx=e,this.hideFns=[],this.moduleId=`popover-${t}`,this.element=n?.detached?by("div"):e.domManager.addChild(WW,this.moduleId),this.element.setAttribute("role","presentation"),this.cleanup.register(()=>e.domManager.removeChild(WW,this.moduleId))}attachTo(e){this.element.parentElement||e.element.append(this.element)}hide(e){const{lastFocus:t=this.lastFocus}=e??{};0!==this.element.children.length&&(this.hideFns.forEach(e=>e()),t?.focus(),this.lastFocus=void 0)}removeChildren(){this.element.replaceChildren()}showWithChildren(e,t){if(!this.element.parentElement)throw new Error("Can not show popover that has not been attached to a parent.");const n=by("div","ag-charts-popover");if(null!=t.ariaLabel&&n.setAttribute("aria-label",t.ariaLabel),null!=t.class&&n.classList.add(t.class),n.replaceChildren(...e),this.element.replaceChildren(n),this.hideFns.push(()=>this.removeChildren()),t.onHide&&this.hideFns.push(t.onHide),t.initialFocus&&t.sourceEvent){const e=jk(t.sourceEvent);void 0!==e&&(this.lastFocus=e,this.initialFocus=t.initialFocus)}return n}getPopoverElement(){return this.element.firstElementChild}updatePosition(e){const t=this.getPopoverElement();t&&(t.style.setProperty("right","unset"),t.style.setProperty("bottom","unset"),null!=e.x&&t.style.setProperty("left",`${Math.floor(e.x)}px`),null!=e.y&&t.style.setProperty("top",`${Math.floor(e.y)}px`),this.initialFocus?.focus(),this.initialFocus=void 0)}},UW=class extends HW{setAnchor(e,t){this.anchor=e,this.fallbackAnchor=t,this.updatePosition(e),this.repositionWithinBounds()}showWithChildren(e,t){const n=t.anchor??this.anchor,i=t.fallbackAnchor??this.fallbackAnchor,r=super.showWithChildren(e,t);return n&&this.setAnchor(n,i),yy().requestAnimationFrame(()=>{this.repositionWithinBounds()}),r}repositionWithinBounds(){const{anchor:e,ctx:t,fallbackAnchor:n}=this,i=this.getPopoverElement();if(!e||!i)return;const r=t.domManager.getBoundingClientRect(),{offsetWidth:o,offsetHeight:a}=i;let s=Ev(0,e.x,r.width-o),l=Ev(0,e.y,r.height-a);s!==e.x&&null!=n?.x&&(s=Ev(0,n.x-o,r.width-o)),l!==e.y&&null!=n?.y&&(l=Ev(0,n.y-a,r.height-a)),this.updatePosition({x:s,y:l})}},YW=class extends UW{show(e){const t=e.items.map(t=>this.createRow(e,t)),n=this.showWithChildren(t,e);n.classList.add("ag-charts-menu"),n.setAttribute("role","menu"),this.menuCloser=Ok({orientation:"vertical",menu:n,buttons:t,sourceEvent:e.sourceEvent,closeCallback:()=>this.hide()}),this.hideFns.push(()=>{this.menuCloser?.finishClosing(),this.menuCloser=void 0})}createRow(e,t){const{menuItemRole:n="menuitem"}=e,i=t.value===e.value,r=by("div","ag-charts-menu__row");if(r.setAttribute("role",n),"menuitemradio"===n&&r.setAttribute("aria-checked",(e.value===t.value).toString()),"string"===typeof t.value&&(r.dataset.popoverId=t.value),r.classList.toggle("ag-charts-menu__row--active",i),null!=t.icon){const e=by("span",`ag-charts-menu__icon ${YM(t.icon)}`);r.appendChild(e)}const o=null!=t.strokeWidth;if(o&&(r.classList.toggle("ag-charts-menu__row--stroke-width-visible",o),r.style.setProperty("--strokeWidth",o?`${t.strokeWidth}px`:null)),null!=t.label){const e=by("span","ag-charts-menu__label");e.textContent=this.ctx.localeManager.t(t.label),r.appendChild(e)}"altText"in t&&(r.ariaLabel=this.ctx.localeManager.t(t.altText));const a=n=>{Pk(n)&&(e.onPress?.(t),n.preventDefault(),n.stopPropagation())};return r.addEventListener("keydown",a),r.addEventListener("click",a),r.addEventListener("mousemove",()=>{r.focus({preventScroll:!0})}),r}},KW=class extends HW{constructor(){super(...arguments),this.dragged=!1}setDragHandle(e){e.addListener("drag-start",t=>{e.addClass(this.dragHandleDraggingClass),this.onDragStart(t)}),e.addListener("drag-move",this.onDragMove.bind(this)),e.addListener("drag-end",()=>{e.removeClass(this.dragHandleDraggingClass),this.onDragEnd.bind(this)})}onDragStart(e){const t=this.getPopoverElement();t&&(e.sourceEvent.preventDefault(),this.dragged=!0,this.dragStartState={client:gW.from(e.clientX,e.clientY),position:gW.from(Number(t.style.getPropertyValue("left").replace("px","")),Number(t.style.getPropertyValue("top").replace("px","")))})}onDragMove(e){const{dragStartState:t}=this,n=this.getPopoverElement();if(!t||!n)return;const i=gW.sub(gW.from(e.clientX,e.clientY),t.client),r=gW.add(t.position,i),o=this.ctx.domManager.getBoundingClientRect(),a={};r.x>=0&&r.x+n.offsetWidth<=o.width&&(a.x=r.x),r.y>=0&&r.y+n.offsetHeight<=o.height&&(a.y=r.y),this.updatePosition(a)}onDragEnd(){this.dragStartState=void 0}},ZW=class extends _S{};px([zS],ZW.prototype,"icon",2),px([zS],ZW.prototype,"label",2),px([zS],ZW.prototype,"ariaLabel",2),px([zS],ZW.prototype,"tooltip",2);var XW=class extends Qk{constructor(e){super(),this.localeManager=e}update(e){const{localeManager:t}=this;e.tooltip&&(this.elem.title=t.t(e.tooltip));let n="";if(null!=e.icon&&(n=`<span class="${YM(e.icon)} ag-charts-toolbar__icon"></span>`),null!=e.label){n=`${n}<span class="ag-charts-toolbar__label">${t.t(e.label)}</span>`}this.elem.innerHTML=n}setChecked(e){Sv(this.elem,"aria-checked",e)}},qW="ag-charts-toolbar__button--active",QW=class extends dI{constructor(e,t,n){let{eventsHub:i,localeManager:r}=e;super(n),this.ariaLabelId=t,this.horizontalSpacing=10,this.verticalSpacing=10,this.events=new TI,this.hasPrefix=!1,this.buttonWidgets=[],this.updateAriaLabel=()=>this.setAriaLabel(this.localeManager.t(this.ariaLabelId)),this.eventsHub=i,this.localeManager=r,this.addClass("ag-charts-toolbar"),this.toggleClass("ag-charts-toolbar--horizontal","horizontal"===n),this.toggleClass("ag-charts-toolbar--vertical","vertical"===n),this.eventsHub.on("locale:change",this.updateAriaLabel),this.updateAriaLabel()}setAriaLabelId(e){this.ariaLabelId=e,this.updateAriaLabel()}addToolbarListener(e,t){return this.events.addListener(e,t)}clearButtons(){for(const e of this.buttonWidgets)e.destroy();this.buttonWidgets.splice(0)}updateButtons(e){const{buttonWidgets:t}=this;for(const[n,i]of e.entries()){(this.buttonWidgets.at(n)??this.createButton(n,i)).update(i)}for(let n=e.length;n<t.length;n++){const e=this.buttonWidgets.at(n);e?.destroy()}this.buttonWidgets.splice(e.length),this.refreshButtonClasses()}updateButtonByIndex(e,t){this.buttonWidgets.at(e)?.update(t)}clearActiveButton(){for(const e of this.buttonWidgets)e.toggleClass(qW,!1)}toggleActiveButtonByIndex(e){if(-1!==e)for(const[t,n]of this.buttonWidgets.entries())n.toggleClass(qW,null!=e&&e===t)}toggleButtonEnabledByIndex(e,t){-1!==e&&this.buttonWidgets.at(e)?.setEnabled(t)}toggleSwitchCheckedByIndex(e,t){-1!==e&&this.buttonWidgets.at(e)?.setChecked(t)}getButtonBounds(){return this.buttonWidgets.map(e=>this.getButtonWidgetBounds(e))}setButtonHiddenByIndex(e,t){this.buttonWidgets.at(e)?.setHidden(t)}getButtonWidgetBounds(e){const t=this.getBounds(),n=e.getBounds();return new Sx(n.x+t.x,n.y+t.y,n.width,n.height)}refreshButtonClasses(){const{buttonWidgets:e,hasPrefix:t}=this;let n,i,r;for(const[o,a]of e.entries())n=!t&&0===o||r!=a.section,i=o===e.length-1||a.section!=e.at(o+1)?.section,a.toggleClass("ag-charts-toolbar__button--first",n),a.toggleClass("ag-charts-toolbar__button--last",i),a.toggleClass("ag-charts-toolbar__button--gap",o>0&&n),r=a.section}createButton(e,t){const n=this.createButtonWidget();return n.addClass("ag-charts-toolbar__button"),n.addListener("click",i=>{const r={index:e,...t instanceof _S?t.toJson():t},o=this.getButtonWidgetBounds(n);this.events.dispatch("button-pressed",{event:i,button:r,buttonBounds:o})}),n.addListener("focus",()=>{this.events.dispatch("button-focused",{button:{index:e}})}),t.section&&(n.section=t.section),this.buttonWidgets.push(n),this.addChild(n),n}},JW=class extends QW{createButtonWidget(){return new XW(this.localeManager)}},eH=class extends KW{constructor(e,t,n){super(e,t),this.onPopoverMoved=n,this.dragHandleDraggingClass="ag-charts-floating-toolbar__drag-handle--dragging"}show(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.showWithChildren(e,{...t,class:"ag-charts-floating-toolbar"})}hide(){this.dragged=!1,super.hide()}getBounds(){const e=this.getPopoverElement();return new Sx(e?.offsetLeft??0,e?.offsetTop??0,e?.offsetWidth??0,e?.offsetHeight??0)}hasBeenDragged(){return this.dragged}setAnchor(e,t,n){const i=this.getPopoverElement();if(!i)return;const r=e.position??"above",{offsetWidth:o,offsetHeight:a}=i;let s=e.y-a-n,l=e.x-o/2;"below"===r?s=e.y+n:"right"===r?(s=e.y-a/2,l=e.x+t):"above-left"===r&&(l=e.x),this.updatePosition({x:l,y:s})}ignorePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="none")}capturePointerEvents(){const e=this.getPopoverElement();e&&(e.style.pointerEvents="unset")}updatePosition(e){const t=this.getBounds(),n=this.ctx.domManager.getBoundingClientRect();e.x=Math.floor(Ev(0,e.x,n.width-t.width)),e.y=Math.floor(Ev(0,e.y,n.height-t.height)),super.updatePosition(e),this.onPopoverMoved()}},tH=class extends QW{constructor(e,t,n){super(e,t,"horizontal"),this.hasPrefix=!0,this.popover=new eH(e,n,this.onPopoverMoved.bind(this)),this.dragHandle=new nH(e.localeManager.t("toolbarAnnotationsDragHandle")),this.popover.setDragHandle(this.dragHandle)}destroy(){super.destroy(),this.popover.destroy()}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.popover.show([this.dragHandle.getElement(),this.getElement()],e)}hide(){this.popover.hide()}setAnchor(e){this.popover.setAnchor(e,this.horizontalSpacing,this.verticalSpacing)}hasBeenDragged(){return this.popover.hasBeenDragged()}ignorePointerEvents(){this.popover.ignorePointerEvents()}capturePointerEvents(){this.popover.capturePointerEvents()}onPopoverMoved(){const e=this.popover.getBounds();if(this.popoverBounds?.equals(e))return;this.popoverBounds=e.clone();const t=this.getButtonBounds();this.events.dispatch("toolbar-moved",{popoverBounds:e,buttonBounds:t})}getButtonWidgetBounds(e){const t=this.popover.getBounds(),n=super.getButtonWidgetBounds(e),i=this.dragHandle.getBounds();return new Sx(n.x+t.x-i.width,n.y+t.y,n.width,n.height)}},nH=class extends nI{constructor(e){super(by("div","ag-charts-floating-toolbar__drag-handle"));const t=new nI(by("span",`${YM("drag-handle")} ag-charts-toolbar__icon`));t.setAriaHidden(!0),this.addChild(t),this.elem.title=e}},iH={...nA,...sA};JG.create.bind(JG),JG.__createSparkline.bind(JG);function rH(e,t){return{...e,container:t.current}}function oH(e,t){const n=(0,i.forwardRef)(function(t,n){const{options:r,style:o,className:a}=t,s=(0,i.useRef)(null),l=(0,i.useRef)();(0,i.useLayoutEffect)(()=>{const t=e(rH(r,s));return l.current=t,()=>{t.destroy()}},[]);const c=void 0===l.current;return(0,i.useEffect)(()=>{c||l.current?.update(rH(r,s)).catch(e=>console.error(e))},[r]),(0,i.useImperativeHandle)(n,()=>l.current,[]),(0,i.useMemo)(()=>(0,i.createElement)("div",{ref:s,style:o,className:a}),[o,a])});return n.displayName=t,n}var aH=oH(e=>JG.create(e),"AgCharts");const sH=fg(e=>{var t;let{display:n}=e;const r=Dg(),{decks:o}=r.decksStore,[a,s]=(0,i.useState)(o.length>0?o[0]:void 0),l=e=>{const t=t=>{let n=[],i=[];return e.forEach(e=>{let r=new Date(e.date).toLocaleString();"minutes"===t?r=r.slice(0,-3):"hours"===t?r=r.slice(0,-6):"days"===t&&(r=r.slice(0,-10)),i.push(r),n.push({...e,date:r})}),[i,n]},n=e=>e.filter((t,n)=>e.indexOf(t)===n);let[i,r]=t("minutes");return n(i).length<=10?r:([i,r]=t("hours"),n(i).length<=10?r:([i,r]=t("days"),n(i).length<=10?r:e))};return(0,Et.jsxs)(vr,{sx:{flex:1,p:"1rem",display:n?void 0:"none"},children:[(0,Et.jsxs)(aa,{sx:{mb:"1rem"},children:[(0,Et.jsx)(ea,{id:"select-label",children:"Deck ausw\xe4hlen"}),(0,Et.jsx)(kl,{onChange:e=>s(o.find(t=>t.id===e.target.value)),value:null!==(t=null===a||void 0===a?void 0:a.id)&&void 0!==t?t:"",labelId:"select-label",label:"Deck ausw\xe4hlen",sx:{minWidth:"180px"},children:o.map(e=>(0,Et.jsx)(yf,{value:e.id,children:e.name},e.id))})]}),a&&a.cards.map(e=>{const t={data:l(e.rating),series:[{type:"line",xKey:"date",yKey:"count"}]};return l(e.rating),(0,Et.jsxs)(Fm,{container:!0,spacing:12,sx:{width:"100%"},children:[(0,Et.jsx)(Fm,{size:6,sx:{width:"300px",height:"420px"},children:(0,Et.jsx)(sf,{card:e})}),(0,Et.jsx)(Fm,{size:6,children:(0,Et.jsx)(aH,{options:{...t,theme:"ag-default-dark",height:420}})})]})})]})});function lH(e,t,n){var i;const r=function(e,t,n){const i=t.getBoundingClientRect(),r=n&&n.getBoundingClientRect(),o=Ma(t);let a;if(t.fakeTransform)a=t.fakeTransform;else{const e=o.getComputedStyle(t);a=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,l=0;if(a&&"none"!==a&&"string"===typeof a){const e=a.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?r?`translateX(${r.right+s-i.left}px)`:`translateX(${o.innerWidth+s-i.left}px)`:"right"===e?r?`translateX(-${i.right-r.left-s}px)`:`translateX(-${i.left+i.width-s}px)`:"up"===e?r?`translateY(${r.bottom+l-i.top}px)`:`translateY(${o.innerHeight+l-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-l}px)`:`translateY(-${i.top+i.height-l}px)`}(e,t,"function"===typeof(i=n)?i():i);r&&(t.style.webkitTransform=r,t.style.transform=r)}const cH=i.forwardRef(function(e,t){const n=Ka(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:l,container:c,direction:u="down",easing:d=r,in:h,onEnter:p,onEntered:g,onEntering:f,onExit:m,onExited:y,onExiting:b,style:v,timeout:x=o,TransitionComponent:S=Ya,...M}=e,w=i.useRef(null),k=eo(pa(l),w,t),I=e=>t=>{e&&(void 0===t?e(w.current):e(w.current,t))},C=I((e,t)=>{lH(u,e,c),Za(e),p&&p(e,t)}),D=I((e,t)=>{const i=Xa({timeout:x,style:v,easing:d},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",{...i}),e.style.transition=n.transitions.create("transform",{...i}),e.style.webkitTransform="none",e.style.transform="none",f&&f(e,t)}),A=I(g),T=I(b),L=I(e=>{const t=Xa({timeout:x,style:v,easing:d},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),lH(u,e,c),m&&m(e)}),N=I(e=>{e.style.webkitTransition="",e.style.transition="",y&&y(e)}),E=i.useCallback(()=>{w.current&&lH(u,w.current,c)},[u,c]);return i.useEffect(()=>{if(h||"down"===u||"right"===u)return;const e=Aa(()=>{w.current&&lH(u,w.current,c)}),t=Ma(w.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[u,h,c]),i.useEffect(()=>{h||E()},[h,E]),(0,Et.jsx)(S,{nodeRef:w,onEnter:C,onEntered:A,onEntering:D,onExit:L,onExited:N,onExiting:T,addEndListener:e=>{a&&a(w.current,e)},appear:s,in:h,timeout:x,...M,children:(e,t)=>{let{ownerState:n,...r}=t;return i.cloneElement(l,{ref:k,style:{visibility:"exited"!==e||h?void 0:"hidden",...v,...l.props.style},...r})}})}),uH=cH;const dH=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:r,open:o,resumeHideDuration:a}=e,s=Oa();i.useEffect(()=>{if(o)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"===e.key&&r?.(e,"escapeKeyDown")}},[o,r]);const l=_r((e,t)=>{r?.(e,t)}),c=_r(e=>{r&&null!=e&&s.start(e,()=>{l(null,"timeout")})});i.useEffect(()=>(o&&c(t),s.clear),[o,t,c,s]);const u=s.clear,d=i.useCallback(()=>{null!=t&&c(null!=a?a:.5*t)},[t,a,c]),h=e=>t=>{const n=e.onFocus;n?.(t),u()},p=e=>t=>{const n=e.onMouseEnter;n?.(t),u()},g=e=>t=>{const n=e.onMouseLeave;n?.(t),d()};return i.useEffect(()=>{if(!n&&o)return window.addEventListener("focus",d),window.addEventListener("blur",u),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",u)}},[n,o,d,u]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={...jo(e),...jo(t)};return{role:"presentation",...t,...n,onBlur:(i=n,e=>{const t=i.onBlur;t?.(e),d()}),onFocus:h(n),onMouseEnter:p(n),onMouseLeave:g(n)};var i},onClickAway:e=>{r?.(e,"clickaway")}}};function hH(e){return e.substring(2).toLowerCase()}function pH(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,s=i.useRef(!1),l=i.useRef(null),c=i.useRef(!1),u=i.useRef(!1);i.useEffect(()=>(setTimeout(()=>{c.current=!0},0),()=>{c.current=!1}),[]);const d=zr(pa(t),l),h=_r(e=>{const t=u.current;u.current=!1;const i=Br(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,i))return;if(s.current)return void(s.current=!1);let r;r=e.composedPath?e.composedPath().includes(l.current):!i.documentElement.contains(e.target)||l.current.contains(e.target),r||!n&&t||o(e)}),p=e=>n=>{u.current=!0;const i=t.props[e];i&&i(n)},g={ref:d};return!1!==a&&(g[a]=p(a)),i.useEffect(()=>{if(!1!==a){const e=hH(a),t=Br(l.current),n=()=>{s.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}},[h,a]),!1!==r&&(g[r]=p(r)),i.useEffect(()=>{if(!1!==r){const e=hH(r),t=Br(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}},[h,r]),i.cloneElement(t,g)}function gH(e){return gr("MuiSnackbarContent",e)}fr("MuiSnackbarContent",["root","message","action"]);const fH=Rr(Ls,{name:"MuiSnackbarContent",slot:"Root"})(Qr(e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98;return{...t.typography.body2,color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(k(t.palette.background.default,n)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:k(t.palette.background.default,n),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),mH=Rr("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),yH=Rr("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),bH=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiSnackbarContent"}),{action:i,className:r,message:o,role:a="alert",...s}=n,l=n,c=(e=>{const{classes:t}=e;return xr({root:["root"],action:["action"],message:["message"]},gH,t)})(l);return(0,Et.jsxs)(fH,{role:a,elevation:6,className:fi(c.root,r),ownerState:l,ref:t,...s,children:[(0,Et.jsx)(mH,{className:c.message,ownerState:l,children:o}),i?(0,Et.jsx)(yH,{className:c.action,ownerState:l,children:i}):null]})}),vH=bH;function xH(e){return gr("MuiSnackbar",e)}fr("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const SH=Rr("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${Jr(n.anchorOrigin.vertical)}${Jr(n.anchorOrigin.horizontal)}`]]}})(Qr(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical},style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:e=>{let{ownerState:t}=e;return"top"!==t.anchorOrigin.vertical},style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:e=>{let{ownerState:t}=e;return"center"===t.anchorOrigin.horizontal},style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}})),MH=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiSnackbar"}),r=Ka(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:u,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:g=!1,message:f,onBlur:m,onClose:y,onFocus:b,onMouseEnter:v,onMouseLeave:x,open:S,resumeHideDuration:M,slots:w={},slotProps:k={},TransitionComponent:I,transitionDuration:C=o,TransitionProps:{onEnter:D,onExited:A,...T}={},...L}=n,N={...n,anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:c,disableWindowBlurListener:g,TransitionComponent:I,transitionDuration:C},E=(e=>{const{classes:t,anchorOrigin:n}=e;return xr({root:["root",`anchorOrigin${Jr(n.vertical)}${Jr(n.horizontal)}`]},xH,t)})(N),{getRootProps:O,onClickAway:R}=dH({...N}),[P,j]=i.useState(!0),z={slots:{transition:I,...w},slotProps:{content:p,clickAwayListener:h,transition:T,...k}},[_,B]=Bo("root",{ref:t,className:[E.root,d],elementType:SH,getSlotProps:O,externalForwardedProps:{...z,...L},ownerState:N}),[F,{ownerState:$,...V}]=Bo("clickAwayListener",{elementType:pH,externalForwardedProps:z,getSlotProps:e=>({onClickAway:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const r=n[0];e.onClickAway?.(...n),r?.defaultMuiPrevented||R(...n)}}),ownerState:N}),[G,W]=Bo("content",{elementType:vH,shouldForwardComponentProp:!0,externalForwardedProps:z,additionalProps:{message:f,action:a},ownerState:N}),[H,U]=Bo("transition",{elementType:ts,externalForwardedProps:z,getSlotProps:e=>({onEnter:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.onEnter?.(...n),((e,t)=>{j(!1),D&&D(e,t)})(...n)},onExited:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.onExited?.(...n),(e=>{j(!0),A&&A(e)})(...n)}}),additionalProps:{appear:!0,in:S,timeout:C,direction:"top"===s?"down":"up"},ownerState:N});return!S&&P?null:(0,Et.jsx)(F,{...V,...w.clickAwayListener&&{ownerState:$},children:(0,Et.jsx)(_,{...B,children:(0,Et.jsx)(H,{...U,children:u||(0,Et.jsx)(G,{...W})})})})}),wH=MH;function kH(e){return gr("MuiAlert",e)}const IH=fr("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),CH=yl((0,Et.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),DH=yl((0,Et.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),AH=yl((0,Et.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),TH=yl((0,Et.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),LH=yl((0,Et.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),NH=Rr(Ls,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${Jr(n.color||n.severity)}`]]}})(Qr(e=>{let{theme:t}=e;const n="light"===t.palette.mode?x:M,i="light"===t.palette.mode?M:x;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(fo(["light"])).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${r}Color`]:n(t.palette[r].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${r}StandardBg`]:i(t.palette[r].light,.9),[`& .${IH.icon}`]:t.vars?{color:t.vars.palette.Alert[`${r}IconColor`]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(fo(["light"])).map(e=>{let[i]=e;return{props:{colorSeverity:i,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${IH.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}}),...Object.entries(t.palette).filter(fo(["dark"])).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)}}}})]}})),EH=Rr("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),OH=Rr("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),RH=Rr("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),PH={success:(0,Et.jsx)(CH,{fontSize:"inherit"}),warning:(0,Et.jsx)(DH,{fontSize:"inherit"}),error:(0,Et.jsx)(AH,{fontSize:"inherit"}),info:(0,Et.jsx)(TH,{fontSize:"inherit"})},jH=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiAlert"}),{action:i,children:r,className:o,closeText:a="Close",color:s,components:l={},componentsProps:c={},icon:u,iconMapping:d=PH,onClose:h,role:p="alert",severity:g="success",slotProps:f={},slots:m={},variant:y="standard",...b}=n,v={...n,color:s,severity:g,variant:y,colorSeverity:s||g},x=(e=>{const{variant:t,color:n,severity:i,classes:r}=e;return xr({root:["root",`color${Jr(n||i)}`,`${t}${Jr(n||i)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]},kH,r)})(v),S={slots:{closeButton:l.CloseButton,closeIcon:l.CloseIcon,...m},slotProps:{...c,...f}},[M,w]=Bo("root",{ref:t,shouldForwardComponentProp:!0,className:fi(x.root,o),elementType:NH,externalForwardedProps:{...S,...b},ownerState:v,additionalProps:{role:p,elevation:0}}),[k,I]=Bo("icon",{className:x.icon,elementType:EH,externalForwardedProps:S,ownerState:v}),[C,D]=Bo("message",{className:x.message,elementType:OH,externalForwardedProps:S,ownerState:v}),[A,T]=Bo("action",{className:x.action,elementType:RH,externalForwardedProps:S,ownerState:v}),[L,N]=Bo("closeButton",{elementType:Nf,externalForwardedProps:S,ownerState:v}),[E,O]=Bo("closeIcon",{elementType:LH,externalForwardedProps:S,ownerState:v});return(0,Et.jsxs)(M,{...w,children:[!1!==u?(0,Et.jsx)(k,{...I,children:u||d[g]||PH[g]}):null,(0,Et.jsx)(C,{...D,children:r}),null!=i?(0,Et.jsx)(A,{...T,children:i}):null,null==i&&h?(0,Et.jsx)(A,{...T,children:(0,Et.jsx)(L,{size:"small","aria-label":a,title:a,color:"inherit",onClick:h,...N,children:(0,Et.jsx)(E,{fontSize:"small",...O})})}):null]})}),zH=jH,_H=fg(()=>{const e=Dg(),{alert:t,setAlert:n}=e;return(0,i.useEffect)(()=>{void 0!==t&&setTimeout(()=>n(void 0),2e3)},[t]),(0,Et.jsx)(uH,{in:void 0!==t,direction:"up",children:(0,Et.jsx)(wH,{open:!0,children:(0,Et.jsx)(zH,{severity:null===t||void 0===t?void 0:t.type,children:null===t||void 0===t?void 0:t.message})})})});function BH(e){return gr("MuiDialog",e)}const FH=fr("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const $H=i.createContext({}),VH=Rr(ps,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),GH=Rr(Ds,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),WH=Rr("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${Jr(n.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),HH=Rr(Ls,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${Jr(n.scroll)}`],t[`paperWidth${Jr(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Qr(e=>{let{theme:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:e=>{let{ownerState:t}=e;return!t.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${FH.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>"xs"!==e).map(e=>({props:{maxWidth:e},style:{maxWidth:`${t.breakpoints.values[e]}${t.breakpoints.unit}`,[`&.${FH.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"calc(100% - 64px)"}},{props:e=>{let{ownerState:t}=e;return t.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${FH.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}})),UH=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiDialog"}),r=Ka(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:u,children:d,className:h,disableEscapeKeyDown:p=!1,fullScreen:g=!1,fullWidth:f=!1,maxWidth:m="sm",onClick:y,onClose:b,open:v,PaperComponent:x=Ls,PaperProps:S={},scroll:M="paper",slots:w={},slotProps:k={},TransitionComponent:I=us,transitionDuration:C=o,TransitionProps:D,...A}=n,T={...n,disableEscapeKeyDown:p,fullScreen:g,fullWidth:f,maxWidth:m,scroll:M},L=(e=>{const{classes:t,scroll:n,maxWidth:i,fullWidth:r,fullScreen:o}=e;return xr({root:["root"],container:["container",`scroll${Jr(n)}`],paper:["paper",`paperScroll${Jr(n)}`,`paperWidth${Jr(String(i))}`,r&&"paperFullWidth",o&&"paperFullScreen"]},BH,t)})(T),N=i.useRef(),E=wi(s),O=i.useMemo(()=>({titleId:E}),[E]),R={slots:{transition:I,...w},slotProps:{transition:D,paper:S,backdrop:u,...k}},[P,j]=Bo("root",{elementType:GH,shouldForwardComponentProp:!0,externalForwardedProps:R,ownerState:T,className:fi(L.root,h),ref:t}),[z,_]=Bo("backdrop",{elementType:VH,shouldForwardComponentProp:!0,externalForwardedProps:R,ownerState:T}),[B,F]=Bo("paper",{elementType:HH,shouldForwardComponentProp:!0,externalForwardedProps:R,ownerState:T,className:fi(L.paper,S.className)}),[$,V]=Bo("container",{elementType:WH,externalForwardedProps:R,ownerState:T,className:L.container}),[G,W]=Bo("transition",{elementType:us,externalForwardedProps:R,ownerState:T,additionalProps:{appear:!0,in:v,timeout:C,role:"presentation"}});return(0,Et.jsx)(P,{closeAfterTransition:!0,slots:{backdrop:z},slotProps:{backdrop:{transitionDuration:C,as:c,..._}},disableEscapeKeyDown:p,onClose:b,open:v,onClick:e=>{y&&y(e),N.current&&(N.current=null,b&&b(e,"backdropClick"))},...j,...A,children:(0,Et.jsx)(G,{...W,children:(0,Et.jsx)($,{onMouseDown:e=>{N.current=e.target===e.currentTarget},...V,children:(0,Et.jsx)(B,{as:x,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":E,"aria-modal":l,...F,children:(0,Et.jsx)($H.Provider,{value:O,children:d})})})})})}),YH=UH;function KH(e){return gr("MuiDialogTitle",e)}const ZH=fr("MuiDialogTitle",["root"]),XH=Rr(Pg,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),qH=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiDialogTitle"}),{className:r,id:o,...a}=n,s=n,l=(e=>{const{classes:t}=e;return xr({root:["root"]},KH,t)})(s),{titleId:c=o}=i.useContext($H);return(0,Et.jsx)(XH,{component:"h2",className:fi(l.root,r),ownerState:s,ref:t,variant:"h6",id:o??c,...a})});function QH(e){return gr("MuiDialogContent",e)}fr("MuiDialogContent",["root","dividers"]);const JH=Rr("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Qr(e=>{let{theme:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:e=>{let{ownerState:t}=e;return t.dividers},style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:e=>{let{ownerState:t}=e;return!t.dividers},style:{[`.${ZH.root} + &`]:{paddingTop:0}}}]}})),eU=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiDialogContent"}),{className:i,dividers:r=!1,...o}=n,a={...n,dividers:r},s=(e=>{const{classes:t,dividers:n}=e;return xr({root:["root",n&&"dividers"]},QH,t)})(a);return(0,Et.jsx)(JH,{className:fi(s.root,i),ownerState:a,ref:t,...o})});function tU(e){return gr("MuiListItem",e)}fr("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function nU(e){return gr("MuiListItemButton",e)}const iU=fr("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function rU(e){return gr("MuiListItemSecondaryAction",e)}fr("MuiListItemSecondaryAction",["root","disableGutters"]);const oU=Rr("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:e=>{let{ownerState:t}=e;return t.disableGutters},style:{right:0}}]}),aU=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...o}=n,a=i.useContext(ma),s={...n,disableGutters:a.disableGutters},l=(e=>{const{disableGutters:t,classes:n}=e;return xr({root:["root",t&&"disableGutters"]},rU,n)})(s);return(0,Et.jsx)(oU,{className:fi(l.root,r),ownerState:s,ref:t,...o})});aU.muiName="ListItemSecondaryAction";const sU=aU,lU=Rr("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})(Qr(e=>{let{theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&t.dense},style:{paddingTop:4,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!!t.secondaryAction},style:{paddingRight:48}},{props:e=>{let{ownerState:t}=e;return!!t.secondaryAction},style:{[`& > .${iU.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return t.button},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:e=>{let{ownerState:t}=e;return t.hasSecondaryAction},style:{paddingRight:48}}]}})),cU=Rr("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),uU=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiListItem"}),{alignItems:r="center",children:o,className:a,component:s,components:l={},componentsProps:c={},ContainerComponent:u="li",ContainerProps:{className:d,...h}={},dense:p=!1,disableGutters:g=!1,disablePadding:f=!1,divider:m=!1,secondaryAction:y,slotProps:b={},slots:v={},...x}=n,S=i.useContext(ma),M=i.useMemo(()=>({dense:p||S.dense||!1,alignItems:r,disableGutters:g}),[r,S.dense,p,g]),w=i.useRef(null),k=i.Children.toArray(o),I=k.length&&na(k[k.length-1],["ListItemSecondaryAction"]),C={...n,alignItems:r,dense:M.dense,disableGutters:g,disablePadding:f,divider:m,hasSecondaryAction:I},D=(e=>{const{alignItems:t,classes:n,dense:i,disableGutters:r,disablePadding:o,divider:a,hasSecondaryAction:s}=e;return xr({root:["root",i&&"dense",!r&&"gutters",!o&&"padding",a&&"divider","flex-start"===t&&"alignItemsFlexStart",s&&"secondaryAction"],container:["container"]},tU,n)})(C),A=eo(w,t),T=v.root||l.Root||lU,L=b.root||c.root||{},N={className:fi(D.root,L.className,a),...x};let E=s||"li";return I?(E=N.component||s?E:"div","li"===u&&("li"===E?E="div":"li"===N.component&&(N.component="div")),(0,Et.jsx)(ma.Provider,{value:M,children:(0,Et.jsxs)(cU,{as:u,className:fi(D.container,d),ref:A,ownerState:C,...h,children:[(0,Et.jsx)(T,{...L,...!Ur(T)&&{as:E,ownerState:{...C,...L.ownerState}},...N,children:k}),k.pop()]})})):(0,Et.jsx)(ma.Provider,{value:M,children:(0,Et.jsxs)(T,{...L,as:E,ref:A,...!Ur(T)&&{ownerState:{...C,...L.ownerState}},...N,children:[k,y&&(0,Et.jsx)(sU,{children:y})]})})}),dU=Rr(ec,{shouldForwardProp:e=>Or(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(Qr(e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${iU.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${iU.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:b(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${iU.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:b(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:b(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${iU.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${iU.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{paddingTop:4,paddingBottom:4}}]}})),hU=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:o=!1,component:a="div",children:s,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:p,...g}=n,f=i.useContext(ma),m=i.useMemo(()=>({dense:l||f.dense||!1,alignItems:r,disableGutters:c}),[r,f.dense,l,c]),y=i.useRef(null);to(()=>{o&&y.current&&y.current.focus()},[o]);const b={...n,alignItems:r,dense:m.dense,disableGutters:c,divider:u,selected:h},v=(e=>{const{alignItems:t,classes:n,dense:i,disabled:r,disableGutters:o,divider:a,selected:s}=e,l=xr({root:["root",i&&"dense",!o&&"gutters",a&&"divider",r&&"disabled","flex-start"===t&&"alignItemsFlexStart",s&&"selected"]},nU,n);return{...n,...l}})(b),x=eo(y,t);return(0,Et.jsx)(ma.Provider,{value:m,children:(0,Et.jsx)(dU,{ref:x,href:g.href||g.to,component:(g.href||g.to)&&"div"===a?"button":a,focusVisibleClassName:fi(v.focusVisible,d),ownerState:b,className:fi(v.root,p),...g,classes:v,children:s})})}),pU=Rr("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(Qr(e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}})),gU=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiListItemIcon"}),{className:r,...o}=n,a=i.useContext(ma),s={...n,alignItems:a.alignItems},l=(e=>{const{alignItems:t,classes:n}=e;return xr({root:["root","flex-start"===t&&"alignItemsFlexStart"]},uf,n)})(s);return(0,Et.jsx)(pU,{className:fi(l.root,r),ownerState:s,ref:t,...o})});function fU(e){return gr("PrivateSwitchBase",e)}fr("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const mU=Rr(ec,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"start"===t&&"small"!==n.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"end"===t&&"small"!==n.size},style:{marginRight:-12}}]}),yU=Rr("input",{name:"MuiSwitchBase",shouldForwardProp:Or})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),bU=i.forwardRef(function(e,t){const{autoFocus:n,checked:i,checkedIcon:r,defaultChecked:o,disabled:a,disableFocusRipple:s=!1,edge:l=!1,icon:c,id:u,inputProps:d,inputRef:h,name:p,onBlur:g,onChange:f,onFocus:m,readOnly:y,required:b=!1,tabIndex:v,type:x,value:S,slots:M={},slotProps:w={},...k}=e,[I,C]=nl({controlled:i,default:Boolean(o),name:"SwitchBase",state:"checked"}),D=Zr();let A=a;D&&"undefined"===typeof A&&(A=D.disabled);const T="checkbox"===x||"radio"===x,L={...e,checked:I,disabled:A,disableFocusRipple:s,edge:l},N=(e=>{const{classes:t,checked:n,disabled:i,edge:r}=e;return xr({root:["root",n&&"checked",i&&"disabled",r&&`edge${Jr(r)}`],input:["input"]},fU,t)})(L),E={slots:M,slotProps:{input:d,...w}},[O,R]=Bo("root",{ref:t,elementType:mU,className:N.root,shouldForwardComponentProp:!0,externalForwardedProps:{...E,component:"span",...k},getSlotProps:e=>({...e,onFocus:t=>{e.onFocus?.(t),(e=>{m&&m(e),D&&D.onFocus&&D.onFocus(e)})(t)},onBlur:t=>{e.onBlur?.(t),(e=>{g&&g(e),D&&D.onBlur&&D.onBlur(e)})(t)}}),ownerState:L,additionalProps:{centerRipple:!0,focusRipple:!s,disabled:A,role:void 0,tabIndex:null}}),[P,j]=Bo("input",{ref:h,elementType:yU,className:N.input,externalForwardedProps:E,getSlotProps:e=>({...e,onChange:t=>{e.onChange?.(t),(e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),f&&f(e,t)})(t)}}),ownerState:L,additionalProps:{autoFocus:n,checked:i,defaultChecked:o,disabled:A,id:T?u:void 0,name:p,readOnly:y,required:b,tabIndex:v,type:x,..."checkbox"===x&&void 0===S?{}:{value:S}}});return(0,Et.jsxs)(O,{...R,children:[(0,Et.jsx)(P,{...j}),I?r:c]})}),vU=bU,xU=yl((0,Et.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),SU=yl((0,Et.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),MU=yl((0,Et.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function wU(e){return gr("MuiCheckbox",e)}const kU=fr("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),IU=Rr(vU,{shouldForwardProp:e=>Or(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${Jr(n.size)}`],"default"!==n.color&&t[`color${Jr(n.color)}`]]}})(Qr(e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette.action.active,t.palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n,disableRipple:!1},style:{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:b(t.palette[n].main,t.palette.action.hoverOpacity)}}}}),...Object.entries(t.palette).filter(fo()).map(e=>{let[n]=e;return{props:{color:n},style:{[`&.${kU.checked}, &.${kU.indeterminate}`]:{color:(t.vars||t).palette[n].main},[`&.${kU.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}}),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}})),CU=(0,Et.jsx)(SU,{}),DU=(0,Et.jsx)(xU,{}),AU=(0,Et.jsx)(MU,{}),TU=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiCheckbox"}),{checkedIcon:r=CU,color:o="primary",icon:a=DU,indeterminate:s=!1,indeterminateIcon:l=AU,inputProps:c,size:u="medium",disableRipple:d=!1,className:h,slots:p={},slotProps:g={},...f}=n,m=s?l:a,y=s?l:r,b={...n,disableRipple:d,color:o,indeterminate:s,size:u},v=(e=>{const{classes:t,indeterminate:n,color:i,size:r}=e,o=xr({root:["root",n&&"indeterminate",`color${Jr(i)}`,`size${Jr(r)}`]},wU,t);return{...t,...o}})(b),x=g.input??c,[S,M]=Bo("root",{ref:t,elementType:IU,className:fi(v.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:p,slotProps:g,...f},ownerState:b,additionalProps:{type:"checkbox",icon:i.cloneElement(m,{fontSize:m.props.fontSize??u}),checkedIcon:i.cloneElement(y,{fontSize:y.props.fontSize??u}),disableRipple:d,slots:p,slotProps:{input:Es("function"===typeof x?x(b):x,{"data-indeterminate":s})}}});return(0,Et.jsx)(S,{...M,classes:v})}),LU=TU,NU=Rr("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${pf.primary}`]:t.primary},{[`& .${pf.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${Tg.root}:where(& .${pf.primary})`]:{display:"block"},[`.${Tg.root}:where(& .${pf.secondary})`]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),EU=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiListItemText"}),{children:r,className:o,disableTypography:a=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d,slots:h={},slotProps:p={},...g}=n,{dense:f}=i.useContext(ma);let m=null!=l?l:r,y=u;const b={...n,disableTypography:a,inset:s,primary:!!m,secondary:!!y,dense:f},v=(e=>{const{classes:t,inset:n,primary:i,secondary:r,dense:o}=e;return xr({root:["root",n&&"inset",o&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},hf,t)})(b),x={slots:h,slotProps:{primary:c,secondary:d,...p}},[S,M]=Bo("root",{className:fi(v.root,o),elementType:NU,externalForwardedProps:{...x,...g},ownerState:b,ref:t}),[w,k]=Bo("primary",{className:v.primary,elementType:Pg,externalForwardedProps:x,ownerState:b}),[I,C]=Bo("secondary",{className:v.secondary,elementType:Pg,externalForwardedProps:x,ownerState:b});return null==m||m.type===Pg||a||(m=(0,Et.jsx)(w,{variant:f?"body2":"body1",component:k?.variant?void 0:"span",...k,children:m})),null==y||y.type===Pg||a||(y=(0,Et.jsx)(I,{variant:"body2",color:"textSecondary",...C,children:y})),(0,Et.jsxs)(S,{...M,children:[m,y]})});function OU(e){return gr("MuiDialogActions",e)}fr("MuiDialogActions",["root","spacing"]);const RU=Rr("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),PU=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:r=!1,...o}=n,a={...n,disableSpacing:r},s=(e=>{const{classes:t,disableSpacing:n}=e;return xr({root:["root",!n&&"spacing"]},OU,t)})(a);return(0,Et.jsx)(RU,{className:fi(s.root,i),ownerState:a,ref:t,...o})}),jU=fg(e=>{const{possibleDecks:t,handleClose:n}=e,r=Dg(),{setDecks:o}=r.decksStore,a=Array.isArray(t),[s,l]=(0,i.useState)(()=>a?t.map((e,t)=>t):[]);return(0,Et.jsxs)(YH,{open:!0,onClose:n,children:[(0,Et.jsx)(qH,{children:"Decks hinzuf\xfcgen"}),(0,Et.jsxs)(eU,{children:[!a&&(0,Et.jsx)(Pg,{children:"Kein Deck gefunden"}),a&&(0,Et.jsxs)(Et.Fragment,{children:[(0,Et.jsxs)(Pg,{children:[t.length," Decks gefunden:"]}),(0,Et.jsx)(va,{dense:!0,children:t.map((e,t)=>e&&e.name?(0,Et.jsx)(uU,{disableGutters:!0,children:(0,Et.jsxs)(hU,{onClick:()=>{s.includes(t)?l(s.filter(e=>e!==t)):l([...s,t])},dense:!0,children:[(0,Et.jsx)(gU,{children:(0,Et.jsx)(LU,{edge:"start",checked:s.includes(t),disableRipple:!0})}),(0,Et.jsx)(EU,{primary:`${e.name}: ${e.cards.length} Karten`})]})},t):(0,Et.jsx)(Pg,{children:"Format ung\xfcltig"}))})]})]}),(0,Et.jsxs)(PU,{children:[(0,Et.jsxs)(wc,{onClick:n,variant:"contained",color:"error",children:["Abbrechen"," "]}),(0,Et.jsx)(wc,{variant:"contained",onClick:()=>{const e=t.filter((e,t)=>s.includes(t)).filter(e=>void 0!==e);Ig.getInstance(r).saveData(e),o(e),n()},disabled:!a||0===s.length,children:"Importieren"})]})]})}),zU=jU;function _U(e){return gr("MuiDrawer",e)}fr("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const BU=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},FU=Rr(Ds,{name:"MuiDrawer",slot:"Root",overridesResolver:BU})(Qr(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),$U=Rr("div",{shouldForwardProp:Or,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:BU})({flex:"0 0 auto"}),VU=Rr(Ls,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${Jr(n.anchor)}`],"temporary"!==n.variant&&t[`paperAnchorDocked${Jr(n.anchor)}`]]}})(Qr(e=>{let{theme:t}=e;return{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchor&&"temporary"!==t.variant},style:{borderRight:`1px solid ${(t.vars||t).palette.divider}`}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchor&&"temporary"!==t.variant},style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchor&&"temporary"!==t.variant},style:{borderLeft:`1px solid ${(t.vars||t).palette.divider}`}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchor&&"temporary"!==t.variant},style:{borderTop:`1px solid ${(t.vars||t).palette.divider}`}}]}})),GU={left:"right",right:"left",top:"down",bottom:"up"};const WU=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiDrawer"}),r=Ka(),o=hi(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:p,...g}={},onClose:f,open:m=!1,PaperProps:y={},SlideProps:b,TransitionComponent:v,transitionDuration:x=a,variant:S="temporary",slots:M={},slotProps:w={},...k}=n,I=i.useRef(!1);i.useEffect(()=>{I.current=!0},[]);const C=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return["left","right"].includes(e)}(t)?GU[t]:t}({direction:o?"rtl":"ltr"},s),D=s,A={...n,anchor:D,elevation:d,open:m,variant:S,...k},T=(e=>{const{classes:t,anchor:n,variant:i}=e;return xr({root:["root",`anchor${Jr(n)}`],docked:[("permanent"===i||"persistent"===i)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${Jr(n)}`,"temporary"!==i&&`paperAnchorDocked${Jr(n)}`]},_U,t)})(A),L={slots:{transition:v,...M},slotProps:{paper:y,transition:b,...w,backdrop:Es(w.backdrop||{...l,...p},{transitionDuration:x})}},[N,E]=Bo("root",{ref:t,elementType:FU,className:fi(T.root,T.modal,u),shouldForwardComponentProp:!0,ownerState:A,externalForwardedProps:{...L,...k,...g},additionalProps:{open:m,onClose:f,hideBackdrop:h,slots:{backdrop:L.slots.backdrop},slotProps:{backdrop:L.slotProps.backdrop}}}),[O,R]=Bo("paper",{elementType:VU,shouldForwardComponentProp:!0,className:fi(T.paper,y.className),ownerState:A,externalForwardedProps:L,additionalProps:{elevation:"temporary"===S?d:0,square:!0}}),[P,j]=Bo("docked",{elementType:$U,ref:t,className:fi(T.root,T.docked,u),ownerState:A,externalForwardedProps:L,additionalProps:k}),[z,_]=Bo("transition",{elementType:uH,ownerState:A,externalForwardedProps:L,additionalProps:{in:m,direction:GU[C],timeout:x,appear:I.current}}),B=(0,Et.jsx)(O,{...R,children:c});if("permanent"===S)return(0,Et.jsx)(P,{...j,children:B});const F=(0,Et.jsx)(z,{..._,children:B});return"persistent"===S?(0,Et.jsx)(P,{...j,children:F}):(0,Et.jsx)(N,{...E,children:F})}),HU=yl((0,Et.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),UU=yl((0,Et.jsx)("path",{d:"M17 4c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2zM2 20c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2zm19-2c.83 0 1.5-.67 1.5-1.5v-9c0-.83-.67-1.5-1.5-1.5z"})),YU=yl((0,Et.jsx)("path",{d:"m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z"})),KU=yl((0,Et.jsx)("path",{d:"M4 9h4v11H4zm12 4h4v7h-4zm-6-9h4v16h-4z"})),ZU=fg(()=>{const e=Dg(),{menuOpen:t,setMenuOpen:n,activeSite:i,setActiveSite:r}=e,o=[{value:mg.Search,text:"Suche",icon:(0,Et.jsx)(HU,{})},{value:mg.Decks,text:"Decks",icon:(0,Et.jsx)(UU,{})},{value:mg.Rating,text:"Rating",icon:(0,Et.jsx)(YU,{})},{value:mg.Statistics,text:"Statistik",icon:(0,Et.jsx)(KU,{})}];return(0,Et.jsx)(WU,{open:t,onClose:()=>n(!1),anchor:"top",children:(0,Et.jsx)(va,{children:o.map(e=>(0,Et.jsx)(uU,{secondaryAction:i===e.value?(0,Et.jsx)(Vg,{}):void 0,children:(0,Et.jsxs)(hU,{onClick:()=>{r(e.value),n(!1)},disabled:i===e.value,children:[(0,Et.jsx)(gU,{children:e.icon}),(0,Et.jsx)(EU,{primary:e.text})]})},e.text))})})}),XU=ZU;function qU(e){return gr("MuiAppBar",e)}fr("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const QU=(e,t)=>e?`${e?.replace(")","")}, ${t})`:t,JU=Rr(Ls,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${Jr(n.position)}`],t[`color${Jr(n.color)}`]]}})(Qr(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100]),...t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])})}},...Object.entries(t.palette).filter(fo(["contrastText"])).map(e=>{let[n]=e;return{props:{color:n},style:{"--AppBar-background":(t.vars??t).palette[n].main,"--AppBar-color":(t.vars??t).palette[n].contrastText}}}),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundColor:t.vars?QU(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?QU(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...t.applyStyles("dark",{backgroundImage:"none"})}}]}})),eY=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiAppBar"}),{className:i,color:r="primary",enableColorOnDark:o=!1,position:a="fixed",...s}=n,l={...n,color:r,position:a,enableColorOnDark:o},c=(e=>{const{color:t,position:n,classes:i}=e;return xr({root:["root",`color${Jr(t)}`,`position${Jr(n)}`]},qU,i)})(l);return(0,Et.jsx)(JU,{square:!0,component:"header",ownerState:l,elevation:4,className:fi(c.root,i,"fixed"===a&&"mui-fixed"),ref:t,...s})}),tY=eY;function nY(e){return gr("MuiToolbar",e)}fr("MuiToolbar",["root","gutters","regular","dense"]);const iY=Rr("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(Qr(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}})),rY=i.forwardRef(function(e,t){const n=Pr({props:e,name:"MuiToolbar"}),{className:i,component:r="div",disableGutters:o=!1,variant:a="regular",...s}=n,l={...n,component:r,disableGutters:o,variant:a},c=(e=>{const{classes:t,disableGutters:n,variant:i}=e;return xr({root:["root",!n&&"gutters",i]},nY,t)})(l);return(0,Et.jsx)(iY,{as:r,className:fi(c.root,i),ref:t,ownerState:l,...s})}),oY=yl((0,Et.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),aY=yl((0,Et.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),sY=yl((0,Et.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),lY=yl((0,Et.jsx)("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),cY=fg(()=>{const e=Dg(),{decks:t}=e.decksStore,{activeDeckId:n,setActiveDeckId:r,setMenuOpen:o,setPossibleDecksToUpload:a}=e,[s,l]=(0,i.useState)(!1),c=(0,i.useRef)(null);return(0,Et.jsx)(tY,{position:"sticky",children:(0,Et.jsxs)(rY,{children:[(0,Et.jsx)(Nf,{onClick:()=>o(!0),size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:(0,Et.jsx)(oY,{})}),(0,Et.jsx)(Pg,{variant:"h6",component:"div",sx:{flexGrow:1},children:"MTG RATER"}),(0,Et.jsxs)(aa,{variant:"filled",sx:{mr:"2rem"},children:[(0,Et.jsx)(ea,{id:"select-label",children:"Deck ausw\xe4hlen"}),(0,Et.jsx)(kl,{size:"small",onChange:e=>r(e.target.value),MenuProps:{sx:{...af.MenuStyles}},value:n,labelId:"select-label",label:"Deck ausw\xe4hlen",sx:{minWidth:"180px",...af.SelectStyles},children:t.map(e=>(0,Et.jsx)(yf,{value:e.id,children:e.name},e.id))})]}),(0,Et.jsx)(Nf,{ref:c,onClick:()=>l(!s),color:"inherit",children:(0,Et.jsx)(aY,{})}),(0,Et.jsxs)(Ys,{anchorEl:c.current,open:s,onClose:()=>l(!1),children:[(0,Et.jsxs)(yf,{onClick:()=>{const e=document.createElement("a"),n=JSON.stringify(t),i=new Blob([n],{type:"text/plain"});e.href=URL.createObjectURL(i),e.download="mtgData.mtgr",e.click()},children:[(0,Et.jsx)(sY,{}),"Download Data"]}),(0,Et.jsxs)(yf,{onClick:()=>{const t=document.createElement("input");t.type="file",t.accept=".mtgr",t.onchange=async t=>{const n=new FileReader;n.readAsText(t.target.files[0],"UTF-8"),n.onload=t=>{try{const e=JSON.parse(t.target.result);a(e)}catch(Ym){console.error(Ym),e.setAlert({type:"error",message:"Datei konnte nicht hochgeladen werden"})}}},t.click()},children:[(0,Et.jsx)(lY,{}),"Upload Data"]})]})]})})}),uY=cY,dY=fg(()=>{const e=At({palette:{mode:"dark"}}),t=Dg(),{activeSite:n,possibleDecksToUpload:r,setPossibleDecksToUpload:o}=t;return(0,i.useEffect)(()=>{const e=Ig.getInstance(t).loadData();e&&t.decksStore.setDecks(e)},[]),(0,Et.jsxs)(cr,{theme:e,children:[(0,Et.jsx)(uY,{}),(0,Et.jsxs)(vr,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[n===mg.Search&&(0,Et.jsx)(cf,{display:"search"===n}),n===mg.Decks&&(0,Et.jsx)(nm,{display:"decks"===n}),n===mg.Rating&&(0,Et.jsx)(bm,{display:"rating"===n}),n===mg.Statistics&&(0,Et.jsx)(sH,{display:"statistics"===n}),void 0!==r&&(0,Et.jsx)(zU,{handleClose:()=>o(void 0),possibleDecks:r}),(0,Et.jsx)(XU,{}),(0,Et.jsx)(_H,{})]})]})});o.createRoot(document.getElementById("root")).render((0,Et.jsx)(i.StrictMode,{children:(0,Et.jsx)(dY,{})}))})();
//# sourceMappingURL=main.251e7099.js.map